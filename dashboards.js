/*
 Highcharts Dashboards v1.1.0 (2023-09-12)

 (c) 2009-2023 Highsoft AS

 License: www.highcharts.com/license
*/
'use strict';var u=u||{};u.scope={};u.arrayIteratorImpl=function(r){var l=0;return function(){return l<r.length?{done:!1,value:r[l++]}:{done:!0}}};u.arrayIterator=function(r){return{next:u.arrayIteratorImpl(r)}};u.ASSUME_ES5=!1;u.ASSUME_NO_NATIVE_MAP=!1;u.ASSUME_NO_NATIVE_SET=!1;u.SIMPLE_FROUND_POLYFILL=!1;u.ISOLATE_POLYFILLS=!1;
u.defineProperty=u.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(r,l,g){if(r==Array.prototype||r==Object.prototype)return r;r[l]=g.value;return r};u.getGlobal=function(r){r=["object"==typeof globalThis&&globalThis,r,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var l=0;l<r.length;++l){var g=r[l];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};u.global=u.getGlobal(this);
u.SYMBOL_PREFIX="jscomp_symbol_";u.initSymbol=function(){u.initSymbol=function(){};u.global.Symbol||(u.global.Symbol=u.Symbol)};u.SymbolClass=function(r,l){this.$jscomp$symbol$id_=r;u.defineProperty(this,"description",{configurable:!0,writable:!0,value:l})};u.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
u.Symbol=function(){function r(g){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return new u.SymbolClass(u.SYMBOL_PREFIX+(g||"")+"_"+l++,g)}var l=0;return r}();
u.initSymbolIterator=function(){u.initSymbol();var r=u.global.Symbol.iterator;r||(r=u.global.Symbol.iterator=u.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[r]&&u.defineProperty(Array.prototype,r,{configurable:!0,writable:!0,value:function(){return u.iteratorPrototype(u.arrayIteratorImpl(this))}});u.initSymbolIterator=function(){}};
u.initSymbolAsyncIterator=function(){u.initSymbol();var r=u.global.Symbol.asyncIterator;r||(r=u.global.Symbol.asyncIterator=u.global.Symbol("Symbol.asyncIterator"));u.initSymbolAsyncIterator=function(){}};u.iteratorPrototype=function(r){u.initSymbolIterator();r={next:r};r[u.global.Symbol.iterator]=function(){return this};return r};
u.iteratorFromArray=function(r,l){u.initSymbolIterator();r instanceof String&&(r+="");var g=0,k={next:function(){if(g<r.length){var f=g++;return{value:l(f,r[f]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};u.polyfills={};u.propertyToPolyfillSymbol={};u.POLYFILL_PREFIX="$jscp$";u.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
u.polyfill=function(r,l,g,k){l&&(u.ISOLATE_POLYFILLS?u.polyfillIsolated(r,l,g,k):u.polyfillUnisolated(r,l,g,k))};u.polyfillUnisolated=function(r,l){var g=u.global;r=r.split(".");for(var k=0;k<r.length-1;k++){var f=r[k];f in g||(g[f]={});g=g[f]}r=r[r.length-1];k=g[r];l=l(k);l!=k&&null!=l&&u.defineProperty(g,r,{configurable:!0,writable:!0,value:l})};
u.polyfillIsolated=function(r,l,g){var k=r.split(".");r=1===k.length;var f=k[0];f=!r&&f in u.polyfills?u.polyfills:u.global;for(var w=0;w<k.length-1;w++){var p=k[w];p in f||(f[p]={});f=f[p]}k=k[k.length-1];g=u.IS_SYMBOL_NATIVE&&"es6"===g?f[k]:null;l=l(g);null!=l&&(r?u.defineProperty(u.polyfills,k,{configurable:!0,writable:!0,value:l}):l!==g&&(u.propertyToPolyfillSymbol[k]=u.IS_SYMBOL_NATIVE?u.global.Symbol(k):u.POLYFILL_PREFIX+k,k=u.propertyToPolyfillSymbol[k],u.defineProperty(f,k,{configurable:!0,
writable:!0,value:l})))};u.polyfill("Array.prototype.values",function(r){return r?r:function(){return u.iteratorFromArray(this,function(l,g){return g})}},"es8","es3");
(function(r,l){"object"===typeof module&&module.exports?(l["default"]=l,module.exports=r.document?l(r):l):"function"===typeof define&&define.amd?define("dashboards/dashboards",function(){return l(r)}):(r.Dashboards&&r.Dashboards.error(16,!0),r.Dashboards=l(r))})("undefined"!==typeof window?window:this,function(r){function l(k,f,g,p){k.hasOwnProperty(f)||(k[f]=p.apply(null,g),"function"===typeof CustomEvent&&r.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:f,module:k[f]}})))}
var g={};l(g,"Core/Globals.js",[],function(){var k;(function(f){f.SVG_NS="http://www.w3.org/2000/svg";f.product="Highcharts";f.version="1.1.0";f.win="undefined"!==typeof r?r:{};f.doc=f.win.document;f.svg=f.doc&&f.doc.createElementNS&&!!f.doc.createElementNS(f.SVG_NS,"svg").createSVGRect;f.userAgent=f.win.navigator&&f.win.navigator.userAgent||"";f.isChrome=-1!==f.userAgent.indexOf("Chrome");f.isFirefox=-1!==f.userAgent.indexOf("Firefox");f.isMS=/(edge|msie|trident)/i.test(f.userAgent)&&!f.win.opera;
f.isSafari=!f.isChrome&&-1!==f.userAgent.indexOf("Safari");f.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(f.userAgent);f.isWebKit=-1!==f.userAgent.indexOf("AppleWebKit");f.deg2rad=2*Math.PI/360;f.hasBidiBug=f.isFirefox&&4>parseInt(f.userAgent.split("Firefox/")[1],10);f.hasTouch=!!f.win.TouchEvent;f.marginNames=["plotTop","marginRight","marginBottom","plotLeft"];f.noop=function(){};f.supportsPassiveEvents=function(){let k=!1;if(!f.isMS){const p=Object.defineProperty({},"passive",{get:function(){k=
!0}});f.win.addEventListener&&f.win.removeEventListener&&(f.win.addEventListener("testPassive",f.noop,p),f.win.removeEventListener("testPassive",f.noop,p))}return k}();f.charts=[];f.dateFormats={};f.seriesTypes={};f.symbolSizes={};f.chartCount=0})(k||(k={}));"";return k});l(g,"Core/Utilities.js",[g["Core/Globals.js"]],function(k){function f(d,b,c,e){const n=b?"Highcharts error":"Highcharts warning";32===d&&(d=`${n}: Deprecated member`);const m=a(d);let q=m?`${n} #${d}: www.highcharts.com/errors/${d}/`:
d.toString();if("undefined"!==typeof e){let d="";m&&(q+="?");y(e,function(a,b){d+=`\n - ${b}: ${a}`;m&&(q+=encodeURI(b)+"="+encodeURI(a))});q+=d}C(k,"displayError",{chart:c,code:d,message:q,params:e},function(){if(b)throw Error(q);l.console&&-1===f.messages.indexOf(q)&&console.warn(q)});f.messages.push(q)}function g(d,a){return parseInt(d,a||10)}function p(d){return"string"===typeof d}function h(d){d=Object.prototype.toString.call(d);return"[object Array]"===d||"[object Array Iterator]"===d}function e(d,
a){return!!d&&"object"===typeof d&&(!a||!h(d))}function c(d){return e(d)&&"number"===typeof d.nodeType}function b(d){const a=d&&d.constructor;return!(!e(d,!0)||c(d)||!a||!a.name||"Object"===a.name)}function a(d){return"number"===typeof d&&!isNaN(d)&&Infinity>d&&-Infinity<d}function n(d){return"undefined"!==typeof d&&null!==d}function m(d,a,b){const c=p(a)&&!n(b);let e;const m=(a,b)=>{n(a)?d.setAttribute(b,a):c?(e=d.getAttribute(b))||"class"!==b||(e=d.getAttribute(b+"Name")):d.removeAttribute(b)};
p(a)?m(b,a):y(a,m);return e}function d(d){return h(d)?d:[d]}function q(d,a){let b;d||(d={});for(b in a)d[b]=a[b];return d}function z(){const d=arguments,a=d.length;for(let b=0;b<a;b++){const a=d[b];if("undefined"!==typeof a&&null!==a)return a}}function t(d,a){k.isMS&&!k.svg&&a&&n(a.opacity)&&(a.filter=`alpha(opacity=${100*a.opacity})`);q(d.style,a)}function v(d){return Math.pow(10,Math.floor(Math.log(d)/Math.LN10))}function A(d,a){return 1E14<d?d:parseFloat(d.toPrecision(a||14))}function x(d,a,b){let c;
if("width"===a)return a=Math.min(d.offsetWidth,d.scrollWidth),b=d.getBoundingClientRect&&d.getBoundingClientRect().width,b<a&&b>=a-1&&(a=Math.floor(b)),Math.max(0,a-(x(d,"padding-left",!0)||0)-(x(d,"padding-right",!0)||0));if("height"===a)return Math.max(0,Math.min(d.offsetHeight,d.scrollHeight)-(x(d,"padding-top",!0)||0)-(x(d,"padding-bottom",!0)||0));if(d=l.getComputedStyle(d,void 0))c=d.getPropertyValue(a),z(b,"opacity"!==a)&&(c=g(c));return c}function y(d,a,b){for(const c in d)Object.hasOwnProperty.call(d,
c)&&a.call(b||d[c],d[c],c,d)}function B(d,a,b){function c(a,b){const c=d.removeEventListener;c&&c.call(d,a,b,!1)}function e(b){let e,m;d.nodeName&&(a?(e={},e[a]=!0):e=b,y(e,function(d,a){if(b[a])for(m=b[a].length;m--;)c(a,b[a][m].fn)}))}var m="function"===typeof d&&d.prototype||d;if(Object.hasOwnProperty.call(m,"hcEvents")){const d=m.hcEvents;a?(m=d[a]||[],b?(d[a]=m.filter(function(d){return b!==d.fn}),c(a,b)):(e(d),d[a]=[])):(e(d),delete m.hcEvents)}}function C(d,a,b,c){b=b||{};if(E.createEvent&&
(d.dispatchEvent||d.fireEvent&&d!==k)){var e=E.createEvent("Events");e.initEvent(a,!0,!0);b=q(e,b);d.dispatchEvent?d.dispatchEvent(b):d.fireEvent(a,b)}else if(d.hcEvents){b.target||q(b,{preventDefault:function(){b.defaultPrevented=!0},target:d,type:a});e=[];let c=d,m=!1;for(;c.hcEvents;)Object.hasOwnProperty.call(c,"hcEvents")&&c.hcEvents[a]&&(e.length&&(m=!0),e.unshift.apply(e,c.hcEvents[a])),c=Object.getPrototypeOf(c);m&&e.sort((d,a)=>d.order-a.order);e.forEach(a=>{!1===a.fn.call(d,b)&&b.preventDefault()})}c&&
!b.defaultPrevented&&c.call(d,b)}const {charts:F,doc:E,win:l}=k;(f||(f={})).messages=[];Math.easeInOutSine=function(d){return-.5*(Math.cos(Math.PI*d)-1)};var H=Array.prototype.find?function(d,a){return d.find(a)}:function(d,a){let b;const c=d.length;for(b=0;b<c;b++)if(a(d[b],b))return d[b]};y({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(d,a){k[a]=function(b){f(32,!1,void 0,{[`Highcharts.${a}`]:`use Array.${d}`});return Array.prototype[d].apply(b,[].slice.call(arguments,
1))}});let I;const r=function(){const d=Math.random().toString(36).substring(2,9)+"-";let a=0;return function(){return"highcharts-"+(I?"":d)+a++}}();l.jQuery&&(l.jQuery.fn.highcharts=function(){const d=[].slice.call(arguments);if(this[0])return d[0]?(new (k[p(d[0])?d.shift():"Chart"])(this[0],d[0],d[1]),this):F[m(this[0],"data-highcharts-chart")]});H={addEvent:function(d,a,b,c={}){var e="function"===typeof d&&d.prototype||d;Object.hasOwnProperty.call(e,"hcEvents")||(e.hcEvents={});e=e.hcEvents;k.Point&&
d instanceof k.Point&&d.series&&d.series.chart&&(d.series.chart.runTrackerClick=!0);const m=d.addEventListener;m&&m.call(d,a,b,k.supportsPassiveEvents?{passive:void 0===c.passive?-1!==a.indexOf("touch"):c.passive,capture:!1}:!1);e[a]||(e[a]=[]);e[a].push({fn:b,order:"number"===typeof c.order?c.order:Infinity});e[a].sort((d,a)=>d.order-a.order);return function(){B(d,a,b)}},arrayMax:function(d){let a=d.length,b=d[0];for(;a--;)d[a]>b&&(b=d[a]);return b},arrayMin:function(d){let a=d.length,b=d[0];for(;a--;)d[a]<
b&&(b=d[a]);return b},attr:m,clamp:function(d,a,b){return d>a?d<b?d:b:a},clearTimeout:function(d){n(d)&&clearTimeout(d)},correctFloat:A,createElement:function(d,a,b,c,e){d=E.createElement(d);a&&q(d,a);e&&t(d,{padding:"0",border:"none",margin:"0"});b&&t(d,b);c&&c.appendChild(d);return d},css:t,defined:n,destroyObjectProperties:function(d,a){y(d,function(b,c){b&&b!==a&&b.destroy&&b.destroy();delete d[c]})},diffObjects:function(a,b,c,m){function n(a,b,q,f){const k=c?b:a;y(a,function(c,t){if(!f&&m&&-1<
m.indexOf(t)&&b[t]){c=d(c);q[t]=[];for(let d=0;d<Math.max(c.length,b[t].length);d++)b[t][d]&&(void 0===c[d]?q[t][d]=b[t][d]:(q[t][d]={},n(c[d],b[t][d],q[t][d],f+1)))}else if(e(c,!0)&&!c.nodeType)q[t]=h(c)?[]:{},n(c,b[t]||{},q[t],f+1),0!==Object.keys(q[t]).length||"colorAxis"===t&&0===f||delete q[t];else if(a[t]!==b[t]||t in a&&!(t in b))q[t]=k[t]})}const q={};n(a,b,q,0);return q},discardElement:function(d){d&&d.parentElement&&d.parentElement.removeChild(d)},erase:function(d,a){let b=d.length;for(;b--;)if(d[b]===
a){d.splice(b,1);break}},error:f,extend:q,extendClass:function(d,a){function b(){}b.prototype=new d;q(b.prototype,a);return b},find:H,fireEvent:C,getClosestDistance:function(d,a){const b=!a;let c,e,m,n;d.forEach(d=>{if(1<d.length)for(n=e=d.length-1;0<n;n--)m=d[n]-d[n-1],0>m&&!b?(null===a||void 0===a?void 0:a(),a=void 0):m&&("undefined"===typeof c||m<c)&&(c=m)});return c},getMagnitude:v,getNestedProperty:function(d,a){for(d=d.split(".");d.length&&n(a);){const b=d.shift();if("undefined"===typeof b||
"__proto__"===b)return;if("this"===b){let d;e(a)&&(d=a["@this"]);return null!==d&&void 0!==d?d:a}a=a[b];if(!n(a)||"function"===typeof a||"number"===typeof a.nodeType||a===l)return}return a},getStyle:x,inArray:function(d,a,b){f(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"});return a.indexOf(d,b)},insertItem:function(d,b){const c=d.options.index,e=b.length;let m;for(m=d.options.isInternal?e:0;m<e+1;m++)if(!b[m]||a(c)&&c<z(b[m].options.index,b[m]._i)||b[m].options.isInternal){b.splice(m,0,
d);break}return m},isArray:h,isClass:b,isDOMElement:c,isFunction:function(d){return"function"===typeof d},isNumber:a,isObject:e,isString:p,keys:function(d){f(32,!1,void 0,{"Highcharts.keys":"use Object.keys"});return Object.keys(d)},merge:function(){function d(a,m){"object"!==typeof a&&(a={});y(m,function(n,q){"__proto__"!==q&&"constructor"!==q&&(!e(n,!0)||b(n)||c(n)?a[q]=m[q]:a[q]=d(a[q]||{},n))});return a}let a,m=arguments,n={};!0===m[0]&&(n=m[1],m=Array.prototype.slice.call(m,2));const q=m.length;
for(a=0;a<q;a++)n=d(n,m[a]);return n},normalizeTickInterval:function(d,a,b,c,e){let m=d;b=z(b,v(d));const n=d/b;a||(a=e?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===c&&(1===b?a=a.filter(function(d){return 0===d%1}):.1>=b&&(a=[1/b])));for(c=0;c<a.length&&!(m=a[c],e&&m*b>=d||!e&&n<=(a[c]+(a[c+1]||a[c]))/2);c++);return m=A(m*b,-Math.round(Math.log(.001)/Math.LN10))},objectEach:y,offset:function(d){const a=E.documentElement;d=d.parentElement||d.parentNode?d.getBoundingClientRect():{top:0,left:0,
width:0,height:0};return{top:d.top+(l.pageYOffset||a.scrollTop)-(a.clientTop||0),left:d.left+(l.pageXOffset||a.scrollLeft)-(a.clientLeft||0),width:d.width,height:d.height}},pad:function(d,a,b){return Array((a||2)+1-String(d).replace("-","").length).join(b||"0")+d},pick:z,pInt:g,pushUnique:function(d,a){return 0>d.indexOf(a)&&!!d.push(a)},relativeLength:function(d,a,b){return/%$/.test(d)?a*parseFloat(d)/100+(b||0):parseFloat(d)},removeEvent:B,splat:d,stableSort:function(d,a){const b=d.length;let c,
e;for(e=0;e<b;e++)d[e].safeI=e;d.sort(function(d,b){c=a(d,b);return 0===c?d.safeI-b.safeI:c});for(e=0;e<b;e++)delete d[e].safeI},syncTimeout:function(d,a,b){if(0<a)return setTimeout(d,a,b);d.call(0,b);return-1},timeUnits:{millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5},uniqueKey:r,useSerialIds:function(d){return I=z(d,I)},wrap:function(d,a,b){const c=d[a];d[a]=function(){const d=arguments,a=this;return b.apply(this,[function(){return c.apply(a,arguments.length?
arguments:d)}].concat([].slice.call(arguments)))}}};"";return H});l(g,"Data/Modifiers/DataModifier.js",[g["Core/Utilities.js"]],function(k){const {addEvent:f,fireEvent:g,merge:p}=k;class h{benchmark(e,c){const b=[],a=this,n=()=>{a.modifyTable(e);a.emit({type:"afterBenchmarkIteration"})},{iterations:m}=p({iterations:1},c);a.on("afterBenchmarkIteration",()=>{b.length===m?a.emit({type:"afterBenchmark",results:b}):n()});var d=0,q=0;a.on("modify",()=>{d=r.performance.now()});a.on("afterModify",()=>{q=
r.performance.now();b.push(q-d)});n();return b}emit(e){g(this,e.type,e)}modify(e,c){const b=this;return new Promise((a,n)=>{e.modified===e&&(e.modified=e.clone(!1,c));try{a(b.modifyTable(e,c))}catch(m){b.emit({type:"error",detail:c,table:e}),n(m)}})}modifyCell(e){return this.modifyTable(e)}modifyColumns(e){return this.modifyTable(e)}modifyRows(e){return this.modifyTable(e)}on(e,c){return f(this,e,c)}}(function(e){e.types={};e.registerType=function(c,b){return!!c&&!e.types[c]&&!!(e.types[c]=b)}})(h||
(h={}));return h});l(g,"Data/DataTable.js",[g["Core/Utilities.js"]],function(k){const {addEvent:f,fireEvent:g,uniqueKey:p}=k;class h{static isNull(e){if(e===h.NULL)return!0;if(e instanceof Array){if(!e.length)return!1;for(let c=0,b=e.length;c<b;++c)if(null!==e[c])return!1}else{const c=Object.keys(e);if(!c.length)return!1;for(let b=0,a=c.length;b<a;++b)if(null!==e[c[b]])return!1}return!0}constructor(e={}){this.aliases={};this.autoId=!e.id;this.columns={};this.id=e.id||p();this.modified=this;this.rowCount=
0;this.versionTag=p();var c=e.columns||{},b=Object.keys(c);const a=this.columns;let n=0;for(let e=0,d=b.length,q,h;e<d;++e)h=b[e],q=c[h].slice(),a[h]=q,n=Math.max(n,q.length);for(let c=0,d=b.length;c<d;++c)a[b[c]].length=n;this.rowCount=n;e=e.aliases||{};c=Object.keys(e);b=this.aliases;for(let a=0,d=c.length,n;a<d;++a)n=c[a],b[n]=e[n]}clone(e,c){var b={};this.emit({type:"cloneTable",detail:c});e||(b.aliases=this.aliases,b.columns=this.columns);this.autoId||(b.id=this.id);b=new h(b);e||(b.versionTag=
this.versionTag);this.emit({type:"afterCloneTable",detail:c,tableClone:b});return b}deleteColumnAlias(e){const c=this.aliases[e],b=this.modifier;c&&(delete this.aliases[e],b&&b.modifyColumns(this,{[c]:Array(this.rowCount)},0));return c}deleteColumns(e,c){const b=this.columns,a={},n={},m=this.modifier,d=this.rowCount;e=e||Object.keys(b);if(e.length){this.emit({type:"deleteColumns",columnNames:e,detail:c});for(let c=0,m=e.length,h,f;c<m;++c){f=e[c];if(h=b[f])a[f]=h,n[f]=Array(d);delete b[f]}Object.keys(b).length||
(this.rowCount=0);m&&m.modifyColumns(this,n,0,c);this.emit({type:"afterDeleteColumns",columns:a,columnNames:e,detail:c});return a}}deleteRows(e,c=1,b){const a=[],n=[],m=this.modifier;this.emit({type:"deleteRows",detail:b,rowCount:c,rowIndex:e||0});"undefined"===typeof e&&(e=0,c=this.rowCount);if(0<c&&e<this.rowCount){const d=this.columns,b=Object.keys(d);for(let m=0,q=b.length,h,f;m<q;++m){h=d[b[m]];f=h.splice(e,c);m||(this.rowCount=h.length);for(let d=0,b=f.length;d<b;++d)a[d]=a[d]||[],a[d][m]=f[d];
n.push(Array(q))}}m&&m.modifyRows(this,n,e||0,b);this.emit({type:"afterDeleteRows",detail:b,rowCount:c,rowIndex:e||0,rows:a});return a}emit(e){switch(e.type){case "afterDeleteColumns":case "afterDeleteRows":case "afterSetCell":case "afterSetColumns":case "afterSetRows":this.versionTag=p()}g(this,e.type,e)}getCell(e,c){e=this.aliases[e]||e;if(e=this.columns[e])return e[c]}getCellAsBoolean(e,c){e=this.aliases[e]||e;e=this.columns[e];return!(!e||!e[c])}getCellAsNumber(e,c,b){e=this.aliases[e]||e;c=(e=
this.columns[e])&&e[c];switch(typeof c){case "boolean":return c?1:0;case "number":return isNaN(c)&&!b?null:c}c=parseFloat(`${c}`);return isNaN(c)&&!b?null:c}getCellAsString(e,c){e=this.aliases[e]||e;e=this.columns[e];return`${e&&e[c]}`}getColumn(e,c){return this.getColumns([e],c)[e]}getColumnAliases(){const e=this.aliases,c=Object.keys(e),b={};for(let a=0,n=c.length,m;a<n;++a)m=c[a],b[m]=e[m];return b}getColumnAsNumbers(e,c){var b=this.columns;e=this.aliases[e]||e;const a=b[e];b=[];if(a){const n=
a.length;if(c)for(c=0;c<n;++c)b.push(this.getCellAsNumber(e,c,!0));else{for(let b=0,d;b<n;++b){d=a[b];if("number"===typeof d)return a.slice();if(null!==d&&"undefined"!==typeof d)break}for(c=0;c<n;++c)b.push(this.getCellAsNumber(e,c))}}return b}getColumnNames(){return Object.keys(this.columns)}getColumns(e,c){const b=this.aliases,a=this.columns,n={};e=e||Object.keys(a);for(let m=0,d=e.length,q,h;m<d;++m)h=e[m],(q=a[b[h]||h])&&(n[h]=c?q:q.slice());return n}getModifier(){return this.modifier}getRow(e,
c){return this.getRows(e,1,c)[0]}getRowCount(){return this.rowCount}getRowIndexBy(e,c,b){e=this.aliases[e]||e;if(e=this.columns[e])if(c=e.indexOf(c,b),-1!==c)return c}getRowObject(e,c){return this.getRowObjects(e,1,c)[0]}getRowObjects(e=0,c=this.rowCount-e,b){const a=this.aliases,n=this.columns,m=Array(c);b=b||Object.keys(n);for(let d=e,q=0,h=Math.min(this.rowCount,e+c),f,k;d<h;++d,++q){k=m[q]={};for(const c of b)f=n[a[c]||c],k[c]=f?f[d]:void 0}return m}getRows(e=0,c=this.rowCount-e,b){const a=this.aliases,
n=this.columns,m=Array(c);b=b||Object.keys(n);for(let d=e,q=0,h=Math.min(this.rowCount,e+c),f,k;d<h;++d,++q){k=m[q]=[];for(const c of b)f=n[a[c]||c],k.push(f?f[d]:void 0)}return m}getVersionTag(){return this.versionTag}hasColumns(e){const c=this.aliases,b=this.columns;for(let a=0,n=e.length,m;a<n;++a)if(m=e[a],!b[m]&&!c[m])return!1;return!0}hasRowWith(e,c){e=this.aliases[e]||e;return(e=this.columns[e])?-1!==e.indexOf(c):!1}on(e,c){return f(this,e,c)}renameColumn(e,c){const b=this.columns;if(b[e]){if(e!==
c){const a=this.aliases;a[c]&&delete a[c];b[c]=b[e];delete b[e]}return!0}return!1}setCell(e,c,b,a){const n=this.columns,m=this.modifier;e=this.aliases[e]||e;let d=n[e];d&&d[c]===b||(this.emit({type:"setCell",cellValue:b,columnName:e,detail:a,rowIndex:c}),d||(d=n[e]=Array(this.rowCount)),c>=this.rowCount&&(this.rowCount=c+1),d[c]=b,m&&m.modifyCell(this,e,c,b),this.emit({type:"afterSetCell",cellValue:b,columnName:e,detail:a,rowIndex:c}))}setColumn(e,c=[],b=0,a){this.setColumns({[e]:c},b,a)}setColumnAlias(e,
c){const b=this.aliases;return b[e]?!1:(b[e]=c,!0)}setColumns(e,c,b){const a=this.columns,n=this.modifier;var m="undefined"===typeof c;const d=Object.keys(e);this.emit({type:"setColumns",columns:e,columnNames:d,detail:b,rowIndex:c});for(let b=0,n=d.length,h,f;b<n;++b)if(f=d[b],h=e[f],f=this.aliases[f]||f,m)a[f]=h.slice(),this.rowCount=h.length;else{const d=a[f]?a[f]:a[f]=Array(this.rowCount);for(let a=c||0,b=h.length;a<b;++a)d[a]=h[a];this.rowCount=Math.max(this.rowCount,d.length)}m=Object.keys(a);
for(let d=0,b=m.length;d<b;++d)a[m[d]].length=this.rowCount;n&&n.modifyColumns(this,e,c||0);this.emit({type:"afterSetColumns",columns:e,columnNames:d,detail:b,rowIndex:c})}setModifier(e,c){const b=this;b.emit({type:"setModifier",detail:c,modifier:e,modified:b.modified});b.modified=b;b.modifier=e;return(e?e.modify(b):Promise.resolve(b)).then(a=>{a.emit({type:"afterSetModifier",detail:c,modifier:e,modified:a.modified});return a})["catch"](a=>{b.emit({type:"setModifierError",error:a,modifier:e,modified:b.modified});
throw a;})}setRow(e,c,b){this.setRows([e],c,b)}setRows(e,c=this.rowCount,b){var a=this.aliases;const n=this.columns,m=Object.keys(n),d=this.modifier,q=e.length;this.emit({type:"setRows",detail:b,rowCount:q,rowIndex:c,rows:e});for(let d=0,b=c,f;d<q;++d,++b)if(f=e[d],f===h.NULL)for(let d=0,a=m.length;d<a;++d)n[m[d]][b]=null;else if(f instanceof Array)for(let d=0,a=m.length;d<a;++d)n[m[d]][b]=f[d];else{const d=Object.keys(f);for(let c=0,e=d.length,m;c<e;++c)m=d[c],m=a[m]||m,n[m]||(n[m]=Array(b+1)),n[m][b]=
f[m]}a=c+q;if(a>this.rowCount){this.rowCount=a;for(let d=0,b=m.length;d<b;++d)n[m[d]].length=a}d&&d.modifyRows(this,e,c);this.emit({type:"afterSetRows",detail:b,rowCount:q,rowIndex:c,rows:e})}}h.NULL={};"";return h});l(g,"Data/Connectors/DataConnector.js",[g["Data/Modifiers/DataModifier.js"],g["Data/DataTable.js"],g["Core/Utilities.js"]],function(k,f,g){const {addEvent:p,fireEvent:h,merge:e,pick:c}=g;class b{constructor(a={}){this.table=new f(a.dataTable);this.metadata=a.metadata||{columns:{}}}get polling(){return!!this.polling}describeColumn(a,
b){const c=this.metadata.columns;c[a]=e(c[a]||{},b)}describeColumns(a){const b=Object.keys(a);let c;for(;"string"===typeof(c=b.pop());)this.describeColumn(c,a[c])}emit(a){h(this,a.type,a)}getColumnOrder(){const a=this.metadata.columns,b=Object.keys(a||{});if(b.length)return b.sort((b,d)=>c(a[b].index,0)-c(a[d].index,0))}getSortedColumns(a){return this.table.getColumns(this.getColumnOrder(a))}load(){h(this,"afterLoad",{table:this.table});return Promise.resolve(this)}on(a,b){return p(this,a,b)}save(){h(this,
"saveError",{table:this.table});return Promise.reject(Error("Not implemented"))}setColumnOrder(a){for(let b=0,c=a.length;b<c;++b)this.describeColumn(a[b],{index:b})}setModifierOptions(a){const b=a&&k.types[a.type];return this.table.setModifier(b?new b(a):void 0).then(()=>this)}startPolling(a=1E3){const b=this;r.clearTimeout(b._polling);b._polling=r.setTimeout(()=>b.load()["catch"](a=>b.emit({type:"loadError",error:a,table:b.table})).then(()=>{b._polling&&b.startPolling(a)}),a)}stopPolling(){r.clearTimeout(this._polling);
delete this._polling}whatIs(a){return this.metadata.columns[a]}}(function(a){a.types={};a.registerType=function(b,c){return!!b&&!a.types[b]&&!!(a.types[b]=c)}})(b||(b={}));return b});l(g,"Dashboards/Components/ComponentRegistry.js",[g["Core/Utilities.js"]],function(){var k;(function(f){f.types={};f.registerComponent=function(k,g){return!!k&&!f.types[k]&&!!(f.types[k]=g)}})(k||(k={}));return k});l(g,"Dashboards/Globals.js",[],function(){var k,f=k||(k={});f.classNamePrefix="highcharts-dashboards-";
f.classNames={layout:f.classNamePrefix+"layout",cell:f.classNamePrefix+"cell",cellHover:f.classNamePrefix+"cell-state-hover",cellActive:f.classNamePrefix+"cell-state-active",cellLoading:f.classNamePrefix+"cell-state-loading",row:f.classNamePrefix+"row",layoutsWrapper:f.classNamePrefix+"layouts-wrapper",boardContainer:f.classNamePrefix+"wrapper"};f.guiElementType={row:"row",cell:"cell",layout:"layout"};f.responsiveBreakpoints={small:"small",medium:"medium",large:"large"};f.boards=[];f.win=r;return k});
l(g,"Dashboards/Actions/Bindings.js",[g["Dashboards/Components/ComponentRegistry.js"],g["Dashboards/Globals.js"],g["Core/Utilities.js"]],function(k,f,g){var p=this&&this.__awaiter||function(a,b,c,d){function e(d){return d instanceof c?d:new c(function(a){a(d)})}return new (c||(c=Promise))(function(c,m){function n(a){try{h(d.next(a))}catch(B){m(B)}}function q(a){try{h(d["throw"](a))}catch(B){m(B)}}function h(d){d.done?c(d.value):e(d.value).then(n,q)}h((d=d.apply(a,b||[])).next())})};const {addEvent:h,
fireEvent:e,error:c}=g;var b;(function(a){function b(a){a="string"===typeof a?document.getElementById(a):a;let d;null!==a&&e(a,"bindedGUIElement",{},function(a){d=a.guiElement});return d}a.addComponent=function(b,d){var m,n;return p(this,void 0,void 0,function*(){const q=b.states,g=b.events;d=d||a.getCell(b.cell||"");if(null!==d&&void 0!==d&&d.container&&b.type){var p=d.container,x=k.types[b.type];x||(c(`The component's type ${b.type} does not exist.`),x=k.types.HTML,b.title={text:null===(n=null===
(m=d.row.layout.board)||void 0===m?void 0:m.editMode)||void 0===n?void 0:n.lang.errorMessage,className:f.classNamePrefix+"component-title-error "+f.classNamePrefix+"component-title"});var z=new x(d,b);x=z.load()["catch"](a=>{var b,c;console.error(a);z.update({connector:{id:""},title:{text:null===(c=null===(b=null===d||void 0===d?void 0:d.row.layout.board)||void 0===b?void 0:b.editMode)||void 0===c?void 0:c.lang.errorMessage,className:f.classNamePrefix+"component-title-error "+f.classNamePrefix+"component-title"}})});
e(z,"mount");z.setCell(d);d.mountedComponent=z;d.row.layout.board.mountedComponents.push({options:b,component:z,cell:d});g&&g.click&&h(p,"click",()=>{g.click();d&&z&&p&&q&&q.active&&d.setActiveState()});(null===q||void 0===q?0:q.hover)&&p.classList.add(f.classNames.cellHover);e(z,"afterLoad");return x}c(`The component is misconfigured and is unable to find the
                        HTML cell element ${b.cell} to render the content.`)})};a.componentFromJSON=function(b){let d=k.types[b.$class];if(d){var c=a.getCell(b.options.cell||"");if(c)return(b=d.fromJSON(b,c))&&b.render(),b}};a.getCell=function(a){if((a=b(a))&&"cell"===a.getType())return a};a.getRow=function(a){if((a=b(a))&&"row"===a.getType())return a};a.getLayout=function(a){if((a=b(a))&&"layout"===a.getType())return a}})(b||(b={}));return b});l(g,"Dashboards/Accessibility/DashboardsAccessibility.js",
[],function(){class k{constructor(f){this.board=f;this.addTabIndexToCells()}addTabIndexToCells(){const f=this.board.mountedComponents;let k;for(let g=0,h=f.length;g<h;++g)(k=f[g].cell)&&k.container&&k.container.setAttribute("tabindex",-1)}}return k});l(g,"Data/DataCursor.js",[],function(){class k{constructor(f={}){this.emittingRegister=[];this.listenerMap={};this.stateMap=f}addListener(f,k,g){f=this.listenerMap[f]=this.listenerMap[f]||{};(f[k]=f[k]||[]).push(g);return this}buildEmittingTag(f){return("position"===
f.cursor.type?[f.table.id,f.cursor.column,f.cursor.row,f.cursor.state,f.cursor.type]:[f.table.id,f.cursor.columns,f.cursor.firstRow,f.cursor.lastRow,f.cursor.state,f.cursor.type]).join("\x00")}emitCursor(f,g,p,h,e){const c="object"===typeof g?g:p;p="object"===typeof h?h:p;const b="string"===typeof g?g:void 0;var a=f.id;g=c.state;if(g=this.listenerMap[a]&&this.listenerMap[a][g]){a=this.stateMap[a]=this.stateMap[a]||{};const n=a[c.state]||[];if(e||!0===h)n.length||(a[c.state]=n),-1===k.getIndex(c,n)&&
n.push(c);f={cursor:c,cursors:n,table:f};p&&(f.event=p);b&&(f.group=b);h=this.emittingRegister;e=this.buildEmittingTag(f);if(0<=h.indexOf(e))return this;try{this.emittingRegister.push(e);for(let a=0,d=g.length;a<d;++a)g[a].call(this,f)}finally{f=this.emittingRegister.indexOf(e),0<=f&&this.emittingRegister.splice(f,1)}}return this}remitCursor(f,g){if(f=this.stateMap[f]&&this.stateMap[f][g.state])g=k.getIndex(g,f),0<=g&&f.splice(g,1);return this}removeListener(f,k,g){(f=this.listenerMap[f]&&this.listenerMap[f][k])&&
(g=f.indexOf(g))&&f.splice(g,1);return this}}(function(f){function k(f,h){var e,c,b,a;if("range"===f.type)return f;h={type:"range",firstRow:null!==(c=null!==(e=f.row)&&void 0!==e?e:h&&h.firstRow)&&void 0!==c?c:0,lastRow:null!==(a=null!==(b=f.row)&&void 0!==b?b:h&&h.lastRow)&&void 0!==a?a:Number.MAX_VALUE,state:f.state};"undefined"!==typeof f.column&&(h.columns=[f.column]);return h}f.getIndex=function(f,h){if("position"===f.type)for(let e,c=0,b=h.length;c<b;++c){if(e=h[c],"position"===e.type&&e.state===
f.state&&e.column===f.column&&e.row===f.row)return c}else{const e=JSON.stringify(f.columns);for(let c,b=0,a=h.length;b<a;++b)if(c=h[b],"range"===c.type&&c.state===f.state&&c.firstRow===f.firstRow&&c.lastRow===f.lastRow&&JSON.stringify(c.columns)===e)return b}return-1};f.isEqual=function(f,h){return"position"===f.type&&"position"===h.type?f.column===h.column&&f.row===h.row&&f.state===h.state:"range"===f.type&&"range"===h.type?f.firstRow===h.firstRow&&f.lastRow===h.lastRow&&JSON.stringify(f.columns)===
JSON.stringify(h.columns):!1};f.isInRange=function(f,h){"position"===h.type&&(h=k(h));"position"===f.type&&(f=k(f,h));const e=f.columns,c=h.columns;return f.firstRow>=h.firstRow&&f.lastRow<=h.lastRow&&(!e||!c||e.every(b=>0<=c.indexOf(b)))};f.toPositions=function(f){if("position"===f.type)return[f];const h=f.columns||[],e=[],c=f.state;for(let b=f.firstRow,a=f.lastRow;b<a;++b)if(h.length)for(let a=0,m=h.length;a<m;++a)e.push({type:"position",column:h[a],row:b,state:c});else e.push({type:"position",
row:b,state:c});return e};f.toRange=k})(k||(k={}));"";return k});l(g,"Dashboards/Serializable.js",[],function(){var k;(function(f){const k={},g={};f.fromJSON=function(h){const e=h.$class;if("string"!==typeof e)throw Error("JSON has no $class property.");var c=k[e];if(c||(c=g[e]))return c.fromJSON(h);throw Error(`'${e}' unknown.`);};f.registerClassPrototype=function(h,e){if(k[h])throw Error("A serializer for '"+h+"' is already registered.");k[h]=e};f.registerHelper=function(h){if(g[h.$class])throw Error("A serializer for '"+
h.$class+"' is already registered.");g[h.$class]=h};f.toJSON=function(h){if("function"===typeof h.fromJSON&&"function"===typeof h.toJSON)return h.toJSON();const e=Object.keys(g),c=e.length;for(let a=0;a<c;++a){var b=e[a];b=g[b];if(b.jsonSupportFor(h))return b.toJSON(h)}throw Error("Object is not supported.");}})(k||(k={}));return k});l(g,"Dashboards/SerializeHelper/DataCursorHelper.js",[g["Data/DataCursor.js"],g["Dashboards/Serializable.js"]],function(k,f){const g={$class:"Data.DataCursor",fromJSON:function(f){return new k(f.stateMap)},
jsonSupportFor:function(f){return f instanceof k},toJSON:function(f){const h=f.stateMap,e={};f=Object.keys(f.stateMap);let c;let b,a;for(let m=0,d=f.length;m<d;++m){b=f[m];a=Object.keys(h[b]);e[b]={};for(let d=0,m=a.length;d<m;++d){var n=a[d];c=h[b][n];e[b][n]=n=[];for(let d=0,a=c.length;d<a;++d)n.push(Object.assign({},c[d]))}}return{$class:"Data.DataCursor",stateMap:e}}};f.registerHelper(g);return g});l(g,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}});l(g,"Data/DataPool.js",[g["Data/Connectors/DataConnector.js"],
g["Data/DataPoolDefaults.js"],g["Core/Utilities.js"]],function(k,f,g){class p{constructor(h=f){h.connectors=h.connectors||[];this.connectors={};this.options=h;this.waiting={}}emit(h){g.fireEvent(this,h.type,h)}getConnector(h){var e=this.connectors[h];if(e)return Promise.resolve(e);let c=this.waiting[h];if(!c){c=this.waiting[h]=[];e=this.getConnectorOptions(h);if(!e)throw Error(`Connector not found. (${h})`);this.loadConnector(e).then(b=>{delete this.waiting[h];for(let a=0,e=c.length;a<e;++a)c[a][0](b)})["catch"](b=>
{delete this.waiting[h];for(let a=0,e=c.length;a<e;++a)c[a][1](b)})}return new Promise((b,a)=>{c.push([b,a])})}getConnectorIds(){const h=this.options.connectors,e=[];for(let c=0,b=h.length;c<b;++c)e.push(h[c].id);return e}getConnectorOptions(h){const e=this.options.connectors;for(let c=0,b=e.length;c<b;++c)if(e[c].id===h)return e[c]}getConnectorTable(h){return this.getConnector(h).then(e=>e.table)}loadConnector(h){return new Promise((e,c)=>{this.emit({type:"load",options:h});const b=k.types[h.type];
if(!b)throw Error(`Connector type not found. (${h.type})`);(new b(h.options)).load().then(a=>{this.connectors[h.id]=a;this.emit({type:"afterLoad",options:h});e(a)})["catch"](c)})}on(h,e){return g.addEvent(this,h,e)}setConnectorOptions(h){const e=this.options.connectors;this.emit({type:"setConnectorOptions",options:h});for(let c=0,b=e.length;c<b;++c)if(e[c].id===h.id){e.splice(c,1);break}e.push(h);this.emit({type:"afterSetConnectorOptions",options:h})}}return p});l(g,"Dashboards/EditMode/EditGlobals.js",
[g["Dashboards/Globals.js"]],function(k){k=k.classNamePrefix+"edit-";return{classNames:{resizeSnap:k+"resize-snap",resizeSnapX:k+"resize-snap-x",resizeSnapY:k+"resize-snap-y",separator:k+"separator",contextMenuBtn:k+"context-menu-btn",contextMenu:k+"context-menu",contextMenuItem:k+"context-menu-item",editModeEnabled:k+"enabled",editToolbar:k+"toolbar",editToolbarCellOutline:k+"toolbar-cell-outline",editToolbarRowOutline:k+"toolbar-row-outline",editToolbarItem:k+"toolbar-item",editToolbarRow:k+"toolbar-row",
editToolbarCell:k+"toolbar-cell",editSidebar:k+"sidebar",editSidebarShow:k+"sidebar-show",editSidebarHide:k+"sidebar-hide",editSidebarTitle:k+"sidebar-title",editSidebarMenuItem:k+"sidebar-item",rowContextHighlight:k+"row-context-highlight",cellEditHighlight:k+"cell-highlight",dashboardCellEditHighlightActive:k+"cell-highlight-active",dragMock:k+"drag-mock",dropPointer:k+"drop-pointer",contextDetectionPointer:k+"ctx-detection-pointer",resizePointer:k+"resize-pointer",currentEditedElement:k+"unmask",
maskElement:k+"mask",menuItem:k+"menu-item",menu:k+"menu",menuVerticalSeparator:k+"menu-vertical-separator",menuHorizontalSeparator:k+"menu-horizontal-separator",menuDestroy:k+"menu-destroy",editSidebarWrapper:k+"sidebar-wrapper",customSelect:k+"custom-select",customSelectButton:k+"custom-option-button",toggleContainer:k+"toggle-container",toggleWrapper:k+"toggle-wrapper",toggleSlider:k+"toggle-slider",toggleWrapperColored:k+"toggle-wrapper-colored",toggleLabels:k+"toggle-labels",button:k+"button",
sidebarNavButton:k+"sidebar-button-nav",labelText:k+"label-text",editSidebarTabBtn:k+"sidebar-tab-btn",editToolsBtn:k+"tools-btn",editTools:k+"tools",editGridItems:k+"grid-items",confirmationPopup:k+"confirmation-popup",popupButtonContainer:k+"confirmation-popup-button-container",popupContentContainer:k+"confirmation-popup-content",popupCancelBtn:k+"confirmation-popup-cancel-btn",popupConfirmBtn:k+"confirmation-popup-confirm-btn",popupCloseButton:k+"popup-close",editOverlay:k+"overlay",editOverlayActive:k+
"overlay-active",resizerMenuBtnActive:k+"resizer-menu-btn-active",sidebarCloseButton:k+"close-btn",editSidebarTabBtnWrapper:k+"tabs-buttons-wrapper",editSidebarRight:k+"sidebar-right",editSidebarRightShow:k+"sidebar-right-show",viewFullscreen:k+"view-fullscreen",accordionMenu:k+"accordion-menu",accordionContainer:k+"accordion",accordionHeader:k+"accordion-header",accordionHeaderBtn:k+"accordion-header-btn",accordionHeaderIcon:k+"accordion-header-icon",accordionContent:k+"accordion-content",accordionNestedWrapper:k+
"accordion-nested",accordionMenuButtonsContainer:k+"accordion-menu-buttons-container",accordionMenuButton:k+"accordion-menu-button",hiddenElement:k+"hidden-element",collapsableContentHeader:k+"collapsable-content-header",collapsedElement:k+"collapsed-element",dropdown:k+"dropdown",dropdownContent:k+"dropdown-content",dropdownButton:k+"dropdown-button",dropdownButtonContent:k+"dropdown-button-content",dropdownIcon:k+"pointer",icon:k+"icon"},lang:{addComponent:"Add component",cancelButton:"Cancel",
caption:"Caption",chartClassName:"Chart class name",chartConfig:"Chart configuration",chartID:"Chart ID",chartOptions:"Chart options",chartType:"Chart type",connectorName:"Connector name",confirmButton:"Confirm",confirmDestroyCell:"Do you really want to destroy the cell?",confirmDestroyRow:"Do you really want to destroy the row?",dataLabels:"Data labels",editMode:"Edit mode",errorMessage:"Something went wrong",exitFullscreen:"Exit full screen",id:"Id",large:"Large",medium:"Medium",off:"off",on:"on",
pointFormat:"Point format",settings:"Settings",small:"Small",style:"Styles",title:"Title",viewFullscreen:"View in full screen"}}});l(g,"Dashboards/EditMode/EditRenderer.js",[g["Dashboards/EditMode/EditGlobals.js"],g["Core/Utilities.js"]],function(k,f){function g(d,a){let b;a.options.contextMenu&&(b=t("button",{className:k.classNames.contextMenuBtn,onclick:function(){a.onContextBtnClick()}},{"background-image":"url("+a.options.contextMenu.icon+")"},d));return b}function p(d,a){const {name:b,showToggle:e,
onchange:m,isEnabled:n,isNested:q,lang:h}=a;d=t("div",{className:k.classNames[q?"accordionNestedWrapper":"accordionContainer"]+" "+k.classNames.collapsableContentHeader},{},d);a=t("div",{className:k.classNames.accordionHeader},{},d);const f=t("button",{className:k.classNames.accordionHeaderBtn},{},a);t("span",{textContent:h[b]||b},{},f);e&&c(a,{enabledOnOffLabels:!0,id:b,name:"",onchange:m,value:n||!1,lang:h});const g=t("span",{className:k.classNames.accordionHeaderIcon+" "+k.classNames.collapsedElement},
{},f),x=t("div",{className:k.classNames.accordionContent+" "+k.classNames.hiddenElement},{},d);f.addEventListener("click",function(){x.classList.toggle(k.classNames.hiddenElement);g.classList.toggle(k.classNames.collapsedElement)});return{outerElement:d,content:x}}function h(d,a){if(d){a.name&&b(d,{title:a.name,isLabel:!0});var c=a.iconsURLPrefix||"";d=t("div",{className:k.classNames.dropdown+" "+k.classNames.collapsableContentHeader},{},d);var m=t("button",{className:k.classNames.dropdownButton},
{},d),n=t("div",{className:k.classNames.dropdownButtonContent},{},m),q=(f.find(a.selectOptions,d=>d.name===a.value)||{}).iconURL,h;q&&(h=t("img",{src:c+q,className:k.classNames.icon},{},n));n=t("span",{textContent:a.value,id:a.id||""},{},n);var g=t("img",{className:k.classNames.dropdownIcon+" "+k.classNames.collapsedElement,src:c+"dropdown-pointer.svg"},{},m),x=t("ul",{className:k.classNames.dropdownContent+" "+k.classNames.hiddenElement},{},d);m.addEventListener("click",function(){x.classList.toggle(k.classNames.hiddenElement);
g.classList.toggle(k.classNames.collapsedElement)});for(let d=0,b=a.selectOptions.length;d<b;++d)e(z(a.selectOptions[d]||{},{iconsURLPrefix:c}),x,n,a.id,g,h,a.onchange);return d}}function e(d,a,b,c,e,m,n){const q=d.iconsURLPrefix+d.iconURL;c=t("li",{},{},a);c=t("button",{className:k.classNames.customSelectButton},{},c);d.iconURL&&t("img",{src:q},{},c);t("span",{textContent:d.name||""},{},c);c.addEventListener("click",function(){a.classList.add(k.classNames.hiddenElement);e.classList.toggle(k.classNames.collapsedElement);
b.textContent=d.name||"";m&&d.iconURL&&(m.src=q);if(n)return n(d.name)})}function c(a,c){if(a){var {value:e,lang:m}=c,n=c.title||c.name;a=t("div",{className:k.classNames.toggleContainer},{},a);n&&b(a,{title:n});c.enabledOnOffLabels&&A.renderText(a,{title:m.off,className:k.classNames.toggleLabels});n=t("label",{className:k.classNames.toggleWrapper+" "+(c.className||"")},{},a);var q=d(n,e),h=c.onchange;q&&h&&a.addEventListener("click",()=>{h(!q.checked);q.checked=!q.checked});n=t("span",{className:k.classNames.toggleSlider},
{},n);h&&n.addEventListener("click",d=>{d.preventDefault()});c.enabledOnOffLabels&&A.renderText(a,{title:m.on,className:k.classNames.toggleLabels});return a}}function b(d,a){let b;const {title:c,className:e,isLabel:n}=a;d&&(b=t(n?"label":"div",Object.assign({className:k.classNames.labelText+" "+(e||""),textContent:c},n?{htmlFor:c}:{}),{},d));return b}function a(d,a){const {icon:b,callback:c}=a;if(d){d=t("div",{onclick:c,className:a.className||""},{},d);d.style["background-image"]="url("+b+")";var e=
a.mousedown,n=a.click;e&&(d.onmousedown=function(){e.apply(this,arguments)});n&&d.addEventListener("click",function(){n.apply(this,arguments)});return d}}function n(d,a){if(d){a.name&&b(d,{title:a.name,isLabel:!0});d=t("input",{type:"text",onclick:a.callback,id:a.id||"",name:a.name||"",value:v(a.value)&&a.value.toString().replace(/"/g,"")||""},{},d);var c=a.onchange;c&&d.addEventListener("change",function(d){c(d.target.value)});return d}}function m(d,a){if(d){a.name&&b(d,{title:a.name,isLabel:!0});
d=t("textarea",{id:a.id,name:a.name,value:a.value||""},{},d);var c=a.onchange;c&&d.addEventListener("change",function(d){c(d.target.value)});return d}}function d(d,a){let b;d&&(b=t("input",{type:"checkbox",checked:!!a},{},d));return b}function q(d,a){if(d)return d=t("button",{className:k.classNames.button+" "+(a.className||""),onclick:a.callback,textContent:a.text},a.style||{},d),a.icon&&(d.style["background-image"]="url("+a.icon+")"),d}const {merge:z,createElement:t,defined:v}=f,A={renderSelect:h,
renderToggle:c,renderText:b,renderCollapseHeader:p,renderIcon:a,renderContextButton:g,renderInput:n,renderTextarea:m,renderCheckbox:d,renderButton:q,getRendererFunction:function(e){return{select:h,toggle:c,text:b,collapse:p,icon:a,contextButton:g,input:n,textarea:m,checkbox:d,button:q}[e]}};return A});l(g,"Dashboards/EditMode/Menu/MenuItem.js",[g["Dashboards/EditMode/EditGlobals.js"],g["Core/Utilities.js"],g["Dashboards/EditMode/EditRenderer.js"]],function(k,f,g){const {createElement:p,merge:h}=f;
class e{constructor(c,b){this.menu=c;this.isActive=!1;this.options=h(e.defaultOptions,b);this.container=this.setContainer();this.innerElement=this.setInnerElement()}setContainer(){const c=this.options;let b=k.classNames.menuItem;this.menu.options.itemsClassName&&(b+=" "+this.menu.options.itemsClassName);c.className&&(b+=" "+c.className);return p("div",{className:b||""},h(this.options.style||{},this.isActive?{display:"block"}:{}),this.menu.container)}setInnerElement(){var c,b,a,e,m,d,q,h;const f=this.options,
k=this.container,p=f.langKey;if("toggle"===f.type)return g.renderToggle(k,{id:f.id,name:f.id,title:p?this.menu.editMode.lang[p]:f.text,value:!(!f.getValue||!f.getValue(this)),lang:this.menu.editMode.lang,onchange:null===(b=null===(c=f.events)||void 0===c?void 0:c.click)||void 0===b?void 0:b.bind(this)});if("text"===f.type)return g.renderText(k,{title:p?this.menu.editMode.lang[p]:f.text||"",className:f.className||""});if("icon"===f.type)return g.renderIcon(k,{icon:f.icon||"",mousedown:null===(e=null===
(a=f.events)||void 0===a?void 0:a.onmousedown)||void 0===e?void 0:e.bind(this),click:null===(d=null===(m=f.events)||void 0===m?void 0:m.click)||void 0===d?void 0:d.bind(this)});if("button"===f.type)return g.renderButton(k,{callback:null===(h=null===(q=f.events)||void 0===q?void 0:q.click)||void 0===h?void 0:h.bind(this),className:f.className||"",style:f.style||{},text:p?this.menu.editMode.lang[p]:f.text||""})}update(){const c=this.options;c.events&&c.events.update&&c.events.update.apply(this,arguments)}activate(){this.update();
this.container&&(this.isActive=!0,this.container.style.display="block")}deactivate(){this.container&&(this.isActive=!1,this.container.style.display="none")}}e.defaultOptions={id:"",type:"text"};return e});l(g,"Dashboards/EditMode/Menu/MenuItemBindings.js",[],function(){return{viewFullscreen:{id:"viewFullscreen",type:"button",langKey:"viewFullscreen",events:{click:function(){const k=this.menu.editMode.board.fullscreen;k&&k.toggle()}}}}});l(g,"Dashboards/EditMode/Menu/Menu.js",[g["Dashboards/EditMode/EditGlobals.js"],
g["Core/Utilities.js"],g["Dashboards/EditMode/Menu/MenuItem.js"],g["Dashboards/EditMode/Menu/MenuItemBindings.js"]],function(k,f,g,p){const {createElement:h,merge:e}=f;class c{constructor(b,a,c,e){this.parentElement=b;this.isVisible=!1;this.activeItems=[];this.options=a;this.items={};this.editMode=c;e&&(this.parent=e);this.container=this.setContainer()}setContainer(){return h("div",{className:k.classNames.menu+" "+(this.options.className||"")},{},this.parentElement)}initItems(b,a){const c=this.options.items||
[];let m;for(let n=0,h=c.length;n<h;++n){m=c[n];var d="string"===typeof m?b[m]:m.id?b[m.id]:{};d="string"===typeof m?e(d,{id:m}):e(d,m);d.id&&(d=new g(this,d),this.items[d.options.id]=d,a&&(d.activate(),this.activeItems.push(d)))}}setActiveItems(b){let a;for(let a=0,c=this.activeItems.length;a<c;++a)-1===b.indexOf(this.activeItems[a].options.id)&&this.activeItems[a].deactivate();this.activeItems.length=0;for(let c=0,e=b.length;c<e;++c)if(a=this.items[b[c]])a.isActive?a.update():a.activate(),this.activeItems.push(a)}deactivateActiveItems(){for(let b=
0,a=this.activeItems.length;b<a;++b)this.activeItems[b].deactivate()}updateActiveItems(){const b=this.activeItems;for(let a=0,c=b.length;a<c;++a)b[a].update()}destroy(){this.activeItems.length=0;this.container.remove();this.items={};this.options={}}}c.items=p;return c});l(g,"Dashboards/EditMode/Toolbar/EditToolbar.js",[g["Core/Utilities.js"],g["Dashboards/EditMode/Menu/Menu.js"]],function(k,f){const {defined:g,createElement:p,css:h}=k;class e{constructor(c,b){this.container=p("div",{className:b.className},
void 0,c.board.container);this.editMode=c;this.iconURLPrefix=c.iconsURLPrefix;this.menu=new f(this.container,b.menu,c,this);this.options=b;this.isVisible=!1;this.options.outline&&(this.outline=p("div",{className:b.outlineClassName},void 0,this.container))}hide(){this.setPosition(void 0,void 0)}refreshOutline(c,b,a,e=0){a=(a||{}).container;this.outline&&a&&h(this.outline,{display:"block",left:c-e+"px",top:b-e+"px",width:a.offsetWidth+2*e+"px",height:a.offsetHeight+2*e+"px"})}hideOutline(){this.outline&&
(this.outline.style.display="none")}setPosition(c,b){this.container&&h(this.container,{left:(c||"-9999")+"px",top:(b||"-9999")+"px"});this.isVisible=g(c)&&g(b)}}return e});l(g,"Dashboards/Layout/GUIElement.js",[g["Core/Utilities.js"],g["Dashboards/Globals.js"]],function(k,f){const {addEvent:g,createElement:p,uniqueKey:h,objectEach:e,error:c}=k;class b{static getOffsets(a,b){const c={left:0,top:0,right:0,bottom:0};a.container&&(a=a.container.getBoundingClientRect(),b=b?b.getBoundingClientRect():{left:0,
top:0},c.left=a.left-b.left,c.top=a.top-b.top,c.right=a.right-b.left,c.bottom=a.bottom-b.top);return c}static getDimFromOffsets(a){return{width:a.right-a.left,height:a.bottom-a.top}}static createElementId(a){return f.classNamePrefix+a+"-"+h().slice(11)}static getPercentageWidth(a){const b=/^([0-9]{1})[\-\/\.]([0-9]{1,2})$/;let c;b.test(a)?(a=a.match(b)||[],c=100*+a[1]/+a[2],c=(100>=c?c:100)+"%"):-1!==a.indexOf("%")&&(a=parseFloat(a),c=(100>=a?0<=a?a:0:100)+"%");return c}getElementContainer(a){const b=
this;let e=p("div",a.attribs||{},a.style||{},a.parentContainer);if(a.render)a.attribs&&!a.attribs.id&&delete a.attribs.id;else if(a.element instanceof HTMLElement)e=a.element;else if("string"===typeof a.elementId){const d=document.getElementById(a.elementId);d?b.container=d:c("Element "+a.elementId+" does not exist")}b.removeBindedEventFn=g(e,"bindedGUIElement",function(d){d.guiElement=b;d.stopImmediatePropagation()});return e}destroy(){const a=this;a.removeBindedEventFn&&a.removeBindedEventFn();
a.container&&a.container.parentNode&&a.container.parentNode.removeChild(a.container);e(a,function(b,c){delete a[c]})}getType(){return this.type}changeVisibility(a=!0,b){const c=this.isVisible&&!a||!this.isVisible&&a;this.container&&c&&(this.container.style.display=a?b||"block":"none",this.isVisible=a)}hide(){this.changeVisibility(!1)}show(){this.changeVisibility()}}return b});l(g,"Dashboards/EditMode/Toolbar/CellEditToolbar.js",[g["Core/Utilities.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/EditMode/Toolbar/EditToolbar.js"],
g["Dashboards/Layout/GUIElement.js"]],function(k,f,g,p){const {merge:h,fireEvent:e,objectEach:c}=k;class b extends g{static getItemsConfig(a,b){var c;return[...(null===(c=a.dragDrop)||void 0===c?0:c.enabled)?[{id:"drag",type:"icon",icon:b+"drag.svg",events:{onmousedown:function(d){const a=this.menu.parent,b=a.editMode.dragDrop;if(b&&a.cell)b.onDragStart(d,a.cell)}}}]:[],{id:"settings",type:"icon",icon:b+"settings.svg",events:{click:function(){this.menu.parent.editMode.setEditOverlay();this.menu.parent.onCellOptions()}}},
{id:"destroy",type:"icon",className:f.classNames.menuDestroy,icon:b+"destroy.svg",events:{click:function(){const d=this.menu.parent,a=this.menu.parent.editMode,b=a.confirmationPopup;b.show({confirmButton:{value:a.lang.confirmButton,callback:d.onCellDestroy,context:d},cancelButton:{value:a.lang.cancelButton,callback:()=>{b.closePopup()}},text:a.lang.confirmDestroyCell})}}}]}constructor(a){super(a,h(b.defaultOptions,(a.options.toolbars||{}).cell,{menu:{items:b.getItemsConfig(a.options,a.iconsURLPrefix)}}));
this.menu.initItems({})}showToolbar(a){let b;if(a.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){var e=p.getOffsets(a,this.editMode.board.container);b=e.right-30-10;e=e.top+10;c(this.menu.items,d=>{d.activate()});this.setPosition(b,e);this.cell=a;this.refreshOutline()}else this.isVisible&&this.hide()}refreshOutline(){this.cell&&this.cell.container&&this.outline&&super.refreshOutline(-this.cell.container.offsetWidth,0,this.cell,-1)}onCellOptions(){this.editMode.sidebar&&
(this.editMode.sidebar.show(this.cell),this.cell&&this.cell.setHighlight())}onCellDestroy(){if(this.cell){const a=this.cell.row;this.resetEditedCell();this.cell.destroy();this.cell=void 0;this.editMode.hideToolbars(["cell","row"]);a&&a.cells&&a.cells.length&&(e(this.editMode.board,"cellResize",{cell:a.cells[0]}),e(a,"cellChange",{cell:a.cells[0],row:a}))}}resetEditedCell(){this.editedCell=void 0}}b.defaultOptions={enabled:!0,className:f.classNames.editToolbar,outline:!1,outlineClassName:f.classNames.editToolbarCellOutline,
menu:{className:f.classNames.editToolbarCell,itemsClassName:f.classNames.editToolbarItem,items:[]}};return b});l(g,"Dashboards/EditMode/Toolbar/RowEditToolbar.js",[g["Core/Utilities.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/EditMode/Toolbar/EditToolbar.js"],g["Dashboards/Layout/GUIElement.js"]],function(k,f,g,p){const {merge:h,objectEach:e}=k;class c extends g{static getMenuItemsConfig(b,a){var c;b=(null===(c=b.dragDrop)||void 0===c?0:c.enabled)?[{id:"drag",type:"icon",icon:a+"drag.svg",
events:{onmousedown:function(a){const d=this.menu.parent,b=d.editMode.dragDrop;if(b&&d.row)b.onDragStart(a,d.row)}}}]:[];c={id:"settings",type:"icon",icon:a+"settings.svg",events:{click:function(a){this.menu.parent.editMode.setEditOverlay();this.menu.parent.onRowOptions(a)}}};a={id:"destroy",type:"icon",className:f.classNames.menuDestroy,icon:a+"destroy.svg",events:{click:function(){const a=this.menu.parent,d=this.menu.parent.editMode,b=d.confirmationPopup;b.show({confirmButton:{value:d.lang.confirmButton,
callback:a.onRowDestroy,context:a},cancelButton:{value:d.lang.cancelButton,callback:()=>{b.closePopup()}},text:d.lang.confirmDestroyRow})}}};return[...b,c,a]}constructor(b){super(b,h(c.defaultOptions,(b.options.toolbars||{}).row,{menu:{items:c.getMenuItemsConfig(b.options,b.iconsURLPrefix)}}));this.menu.initItems({})}refreshOutline(b,a){this.row&&this.row.container&&super.refreshOutline(b,a,this.row,2)}showToolbar(b){let a;if(b.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){var c=
p.getOffsets(b,this.editMode.board.container);var m=c.right-c.left;e(this.menu.items,d=>{d.activate()});a=m/2-this.container.clientWidth/2;m=c.left+a;c=c.top-this.container.clientHeight;this.setPosition(m,c);this.row=b;this.refreshOutline(-a,this.container.clientHeight)}else this.isVisible&&this.hide()}onRowOptions(){this.editMode.sidebar&&this.editMode.sidebar.show(this.row)}onRowDestroy(){this.row&&(this.resetEditedRow(),this.row.destroy(),this.row=void 0,this.editMode.hideToolbars(["cell","row"]))}resetEditedRow(){this.editedRow=
void 0}}c.defaultOptions={enabled:!0,className:f.classNames.editToolbar,outline:!0,outlineClassName:f.classNames.editToolbarRowOutline,menu:{className:f.classNames.editToolbarRow,itemsClassName:f.classNames.editToolbarItem,items:[]}};return c});l(g,"Dashboards/EditMode/AccordionMenu.js",[g["Dashboards/EditMode/EditRenderer.js"],g["Core/Utilities.js"],g["Dashboards/EditMode/EditGlobals.js"]],function(k,f,g){const {createElement:p,merge:h,error:e}=f;class c{constructor(b,a){this.changedOptions={};this.chartOptionsJSON=
{};this.iconsURLPrefix=b;this.closeSidebar=a}renderContent(b,a){var c,e,d;const q=this,f=a.editableOptions.getOptions();let t;const v=p("div",{className:g.classNames.accordionMenu},{},b);for(let d=0,e=f.length;d<e;d++)b=f[d],t=k.renderCollapseHeader(v,{name:b.name,iconsURLPrefix:q.iconsURLPrefix,lang:((null===(c=a.board)||void 0===c?void 0:c.editMode)||g).lang}).content,this.renderAccordion(b,t,a);c=p("div",{className:g.classNames.accordionMenuButtonsContainer},{},v);k.renderButton(c,{text:((null===
(e=a.board)||void 0===e?void 0:e.editMode)||g).lang.confirmButton,className:g.classNames.popupConfirmBtn,callback:()=>{a.update(h(this.changedOptions,{chartOptions:this.chartOptionsJSON}));q.changedOptions={};q.chartOptionsJSON={};q.closeSidebar()}});k.renderButton(c,{text:((null===(d=a.board)||void 0===d?void 0:d.editMode)||g).lang.cancelButton,className:g.classNames.popupCancelBtn,callback:()=>{q.changedOptions={};q.chartOptionsJSON={};q.closeSidebar()}})}updateOptions(b,a){const c=b.length-1;let m=
this.changedOptions;if(0===c&&"chartOptions"===b[0])try{this.chartOptionsJSON=JSON.parse(a)}catch(d){e("Dashboards Error: Wrong JSON config structure passed as a chart options.")}for(let d=0;d<c;d++){const a=b[d];m[a]||(m[a]={});m=m[a]}m[b[c]]=a}renderAccordion(b,a,c){if("nested"===b.type)return this.renderNested(a,b,c);const e=k.getRendererFunction(b.type);e&&e(a,Object.assign(Object.assign({},b),{iconsURLPrefix:this.iconsURLPrefix,value:c.getEditableOptionValue(b.propertyPath),onchange:d=>this.updateOptions(b.propertyPath||
[],d)}))}renderNested(b,a,c){var e;if(b&&a.nestedOptions){a=a.nestedOptions;for(let m=0,n=a.length;m<n;++m){const q=a[m].options;var d=!!a[m].showToggle;const n=a[m].propertyPath||[];d=k.renderCollapseHeader(b,{name:a[m].name,isEnabled:!!c.getEditableOptionValue(n),iconsURLPrefix:this.iconsURLPrefix,showToggle:d,onchange:d=>this.updateOptions(n,d),isNested:!0,lang:((null===(e=c.board)||void 0===e?void 0:e.editMode)||g).lang});for(let a=0,b=q.length;a<b;++a)this.renderAccordion(q[a],d.content,c)}}}}
return c});l(g,"Core/Renderer/HTML/AST.js",[g["Core/Globals.js"],g["Core/Utilities.js"]],function(k,f){const {SVG_NS:g,win:p}=k,{attr:h,createElement:e,css:c,error:b,isFunction:a,isString:n,objectEach:m,splat:d}=f;({trustedTypes:f}=p);const q=f&&a(f.createPolicy)&&f.createPolicy("highcharts",{createHTML:d=>d});f=q?q.createHTML(""):"";try{var z=!!(new DOMParser).parseFromString(f,"text/html")}catch(A){z=!1}const t=z;class v{static filterUserAttributes(d){m(d,(a,c)=>{let e=!0;-1===v.allowedAttributes.indexOf(c)&&
(e=!1);-1!==["background","dynsrc","href","lowsrc","src"].indexOf(c)&&(e=n(a)&&v.allowedReferences.some(d=>0===a.indexOf(d)));e||(b(33,!1,void 0,{"Invalid attribute in config":`${c}`}),delete d[c]);n(a)&&d[c]&&(d[c]=a.replace(/</g,"&lt;"))});return d}static parseStyle(d){return d.split(";").reduce((d,a)=>{a=a.split(":").map(d=>d.trim());const b=a.shift();b&&a.length&&(d[b.replace(/-([a-z])/g,d=>d[1].toUpperCase())]=a.join(":"));return d},{})}static setElementHTML(d,a){d.innerHTML=v.emptyHTML;a&&(new v(a)).addToDOM(d)}constructor(d){this.nodes=
"string"===typeof d?this.parseMarkup(d):d}addToDOM(a){function e(a,q){let n;d(a).forEach(function(d){var a=d.tagName;const f=d.textContent?k.doc.createTextNode(d.textContent):void 0,t=v.bypassHTMLFiltering;let z;if(a)if("#text"===a)z=f;else if(-1!==v.allowedTags.indexOf(a)||t){a=k.doc.createElementNS("svg"===a?g:q.namespaceURI||g,a);const b=d.attributes||{};m(d,function(d,a){"tagName"!==a&&"attributes"!==a&&"children"!==a&&"style"!==a&&"textContent"!==a&&(b[a]=d)});h(a,t?b:v.filterUserAttributes(b));
d.style&&c(a,d.style);f&&a.appendChild(f);e(d.children||[],a);z=a}else b(33,!1,void 0,{"Invalid tagName in config":a});z&&q.appendChild(z);n=z});return n}return e(this.nodes,a)}parseMarkup(d){const a=[];d=d.trim().replace(/ style=(["'])/g," data-style=$1");if(t)d=(new DOMParser).parseFromString(q?q.createHTML(d):d,"text/html");else{const a=e("div");a.innerHTML=d;d={body:a}}const b=(d,a)=>{var c=d.nodeName.toLowerCase();const e={tagName:c};"#text"===c&&(e.textContent=d.textContent||"");if(c=d.attributes){const d=
{};[].forEach.call(c,a=>{"data-style"===a.name?e.style=v.parseStyle(a.value):d[a.name]=a.value});e.attributes=d}if(d.childNodes.length){const a=[];[].forEach.call(d.childNodes,d=>{b(d,a)});a.length&&(e.children=a)}a.push(e)};[].forEach.call(d.body.childNodes,d=>b(d,a));return a}}v.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill filterUnits flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" ");
v.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" ");v.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" ");v.emptyHTML=f;v.bypassHTMLFiltering=
!1;"";return v});l(g,"Shared/BaseForm.js",[g["Core/Renderer/HTML/AST.js"],g["Core/Utilities.js"]],function(k,f){const {addEvent:g,createElement:p}=f;class h{constructor(e,c){this.iconsURL=c;this.container=this.createPopupContainer(e);this.closeButton=this.addCloseButton()}createPopupContainer(e,c="highcharts-popup highcharts-no-tooltip"){return p("div",{className:c},void 0,e)}addCloseButton(e="highcharts-popup-close"){const c=this,b=this.iconsURL,a=p("div",{className:e},void 0,this.container);a.style["background-image"]=
"url("+(b.match(/png|svg|jpeg|jpg|gif/ig)?b:b+"close.svg")+")";["click","touchstart"].forEach(b=>{g(a,b,c.closeButtonEvents.bind(c))});return a}closeButtonEvents(){this.closePopup()}showPopup(e="highcharts-annotation-toolbar"){const c=this.container,b=this.closeButton;this.type=void 0;c.innerHTML=k.emptyHTML;0<=c.className.indexOf(e)&&(c.classList.remove(e),c.removeAttribute("style"));c.appendChild(b);c.style.display="block";c.style.height=""}closePopup(){this.container.style.display="none"}}return h});
l(g,"Dashboards/Utilities.js",[g["Core/Utilities.js"]],function(k){const {isClass:f,isDOMElement:g,isObject:p,objectEach:h,uniqueKey:e}=k;return{merge:function(){let c,b=arguments,a=0,e={};const m=Error("Recursive copy depth > 100"),d=(b,c)=>{"object"!==typeof b&&(b={});if(100<++a)throw m;h(c,(a,e)=>{"__proto__"!==e&&"constructor"!==e&&(!p(a,!0)||f(a)||g(a)?b[e]=c[e]:b[e]=d(b[e]||{},a))});--a;return b};!0===b[0]&&(e=b[1],b=Array.prototype.slice.call(b,2));const q=b.length;for(c=0;c<q;c++)e=d(e,b[c]);
return e},uniqueKey:function(){return`dashboard-${e().replace("highcharts-","")}`}}});l(g,"Dashboards/Layout/Cell.js",[g["Dashboards/Actions/Bindings.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/Globals.js"],g["Dashboards/Layout/GUIElement.js"],g["Core/Utilities.js"]],function(k,f,g,p,h){const {componentFromJSON:e}=k,{merge:c,fireEvent:b}=h;class a extends p{static fromJSON(b,c){if(c){b=b.options;let d=b.containerId;c.layout.copyId&&(d=d+"_"+c.layout.copyId);return new a(c,{id:d,parentContainerId:c.container&&
c.container.id||b.parentContainerId,mountedComponentJSON:b.mountedComponentJSON,style:b.style,layoutJSON:b.layoutJSON,width:b.width,height:b.height})}}constructor(a,b,d){super();this.type=g.guiElementType.cell;this.id=b.id;this.options=b;this.row=a;this.isVisible=!0;const e=document.getElementById(b.parentContainerId||"")||a.container,m=a.layout.options||{},h=a.options||{},n=m.cellClassName||"";let f;b.height&&(f="number"===typeof b.height?b.height+"px":b.height);this.container=this.getElementContainer({render:a.layout.board.guiEnabled,
parentContainer:e,attribs:{id:b.id,className:g.classNames.cell+" "+n},element:d,elementId:b.id,style:c(m.style,h.style,b.style,{height:f})});this.reflow();this.options.mountedComponentJSON&&this.mountComponentFromJSON(this.options.mountedComponentJSON,this.container);this.options.layout&&this.setNestedLayout();this.options.layoutJSON&&(b=this.row.layout,a=b.board,b=b.constructor.fromJSON,this.nestedLayout=b(c(this.options.layoutJSON,{parentContainerId:this.options.id}),a,this))}setNestedLayout(){const a=
this.row.layout.board,b=a.options.gui;this.nestedLayout=new this.row.layout.constructor(a,c({},b&&b.layoutOptions,this.options.layout,{parentContainerId:this.options.id}),this)}mountComponentFromJSON(a,b){this.id!==a.options.parentElement&&(a.options.parentElement=this.id);return(a=e(a,b))?(this.mountedComponent=a,!0):!1}destroy(){const {row:a}=this;this.mountedComponent&&this.mountedComponent.destroy();a.unmountCell(this);const b=0===a.cells.length;super.destroy();b&&a.destroy()}toJSON(){return{$class:"Dashboards.Layout.Cell",
options:{containerId:this.container.id,parentContainerId:(this.row.container||{}).id||"",width:this.options.width,height:this.options.height,mountedComponentJSON:this.mountedComponent&&this.mountedComponent.toJSON(),style:this.options.style,layoutJSON:this.nestedLayout&&this.nestedLayout.toJSON()}}}getOptions(){return this.options}changeVisibility(a=!0){super.changeVisibility(a);const c=this,d=c.row;c.row.getVisibleCells().length?c.isVisible&&!d.isVisible&&c.row.show():c.row.hide();setTimeout(()=>
{b(d,"cellChange",{row:d,cell:c})},0)}getParentCell(a){let b;if(a<=this.row.layout.level){if(this.row.layout.level===a)return this;if(0<=this.row.layout.level-1&&(b=this.row.layout.parentCell))return b.getParentCell(a)}}getOverlappingLevels(a,b,d){const c=this.row.layout.parentCell;let e=[this.row.layout.level];if(c){d=d||p.getOffsets(this)[a];const q=p.getOffsets(c)[a];Math.abs(d-q)<b&&(e=[...e,...c.getOverlappingLevels(a,b,q)])}return e}reflow(a){a=a||this.row.layout.board.getLayoutContainerSize();
const b=this.options.responsive,d=this.options.width;if(this.container){let c="";b&&b[a]&&b[a].width?c=this.convertWidthToValue(b[a].width):d&&(c=this.convertWidthToValue(d));this.setSize(c||"auto")}}setSize(a,c){const d=this.row.layout.board.editMode;this.container&&(a&&("auto"===a&&"1 1 0%"!==this.container.style.flex?this.container.style.flex="1 1 0%":((a=this.convertWidthToValue(a))&&this.container.style.flex!=="0 0 "+a&&(this.container.style.flex="0 0 "+a),this.options.width=a)),c&&(this.options.height=
this.container.style.height=c+"px"),d&&(d.hideContextPointer(),d.cellToolbar&&d.cellToolbar.isVisible&&(d.cellToolbar.cell===this?d.cellToolbar.showToolbar(this):d.cellToolbar.hide())),b(this.row.layout.board,"cellResize",{cell:this}),b(this.row,"cellChange",{cell:this,row:this.row}))}updateSize(a,b){b=b||this.row.layout.board.getLayoutContainerSize();this.options.responsive||(this.options.responsive={});this.options.responsive[b]={width:a}}setHighlight(a){var b=this.row.layout.board.editMode;if(this.container&&
b){b=this.container;const d=b.classList.contains(f.classNames.cellEditHighlight);a||d?a&&d&&(b.classList.remove(f.classNames.cellEditHighlight),this.row.layout.board.container.classList.remove(f.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!1):(b.classList.add(f.classNames.cellEditHighlight),this.row.layout.board.container.classList.add(f.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!0)}}setActiveState(){this.row.layout.board.mountedComponents.forEach(a=>{a.cell.container&&
a.cell.container.classList.remove(g.classNames.cellActive)});this.container&&this.container.classList.add(g.classNames.cellActive)}setLoadingState(a=!0){var b,d;null===(d=null===(b=this.container)||void 0===b?void 0:b.classList)||void 0===d?void 0:d.toggle(g.classNames.cellLoading,a)}convertWidthToValue(a){return"number"===typeof a?a+"px":/px/.test(a)?a:p.getPercentageWidth(a)||""}}return a});l(g,"Dashboards/Layout/Row.js",[g["Dashboards/Globals.js"],g["Dashboards/Layout/Cell.js"],g["Dashboards/Layout/GUIElement.js"],
g["Core/Utilities.js"],g["Dashboards/EditMode/EditGlobals.js"]],function(k,f,g,p,h){const {pick:e,defined:c,merge:b,objectEach:a,fireEvent:n}=p;class m extends g{static fromJSON(a,b){if(b){a=a.options;let d=a.containerId||"";d&&b.copyId&&(d=d+"_"+b.copyId);return new m(b,{id:d,parentContainerId:b.container&&b.container.id||a.parentContainerId,cellsJSON:a.cells,style:a.style})}}static setContainerHeight(a,b){b&&(a.style.height=b+"px")}constructor(a,c,e){super();this.type=k.guiElementType.row;this.layout=
a;this.cells=[];this.options=c;this.isVisible=!0;const d=document.getElementById(c.parentContainerId||"")||a.container,h=a.options||{};this.container=this.getElementContainer({render:a.board.guiEnabled,parentContainer:d,attribs:{id:c.id,className:k.classNames.row+" "+(h.rowClassName||"")},element:e,elementId:c.id,style:b(h.style,c.style)});this.options.cells&&this.setCells();c.cellsJSON&&!this.cells.length&&this.setCellsFromJSON(c.cellsJSON)}setCells(){var a=(this.layout.options||{}).cellClassName||
"";a=e(this.options.cells,this.container&&this.container.getElementsByClassName(a))||[];let b,c,h;c=0;for(h=a.length;c<h;++c)b=a[c],this.addCell(this.layout.board.guiEnabled?b:{id:""},b instanceof HTMLElement?b:void 0)}setCellsFromJSON(a){const d=[];let b,c;for(let e=0,h=a.length;e<h;++e)if(c=a[e],b=f.fromJSON({$class:c.$class,options:{containerId:c.options.containerId,parentContainerId:c.options.parentContainerId,width:c.options.width,height:c.options.height,style:c.options.style,layoutJSON:c.options.layoutJSON,
mountedComponentJSON:void 0}},this))this.cells.push(b),c.options.mountedComponentJSON&&d.push({cell:b,mountedComponentJSON:c.options.mountedComponentJSON});for(let a=0,c=d.length;a<c;++a)d[a].cell.mountComponentFromJSON(d[a].mountedComponentJSON,(b||{}).container)}addCell(a,b,e){a=new f(this,a,b);c(e)?this.mountCell(a,e):this.cells.push(a);this.layout.board.editMode&&this.layout.board.editMode.setCellEvents(a);return a}destroy(){const {layout:a}=this;for(let a=0,d=this.cells.length;a<d;++a)this.cells[a]&&
this.cells[a].destroy();this.layout&&(this.layout.unmountRow(this),super.destroy(),0===a.rows.length&&a.destroy())}toJSON(){const a=(this.layout.container||{}).id||"",b=[];for(let a=0,d=this.cells.length;a<d;++a)b.push(this.cells[a].toJSON());return{$class:"Dashboards.Layout.Row",options:{containerId:this.container.id,parentContainerId:a,cells:b,style:this.options.style}}}getOptions(){const a=[];for(let d=0,b=this.cells.length;d<b;++d)a.push(this.cells[d].getOptions());return{id:this.options.id,style:this.options.style,
cells:a}}setSize(a){m.setContainerHeight(this.container,a)}getCellIndex(a){for(let d=0,b=this.cells.length;d<b;++d)if(this.cells[d].id===a.id)return d}mountCell(a,b=0){const d=this,c=d.cells[b],e=d.cells[b-1];a.container&&(c&&c.container?c.container.parentNode.insertBefore(a.container,c.container):e&&e.container?e.container.parentNode.insertBefore(a.container,e.container.nextSibling):e||c||!d.container||d.container.appendChild(a.container),d.cells.splice(b,0,a),a.row=d,setTimeout(()=>{n(d,"cellChange",
{row:d,cell:a})},0))}unmountCell(a){const d=this.getCellIndex(a);c(d)&&this.cells.splice(d,1);setTimeout(()=>{n(this,"cellChange",{row:this,cell:a})},0)}getVisibleCells(){const a=[];for(let d=0,b=this.cells.length;d<b;++d)this.cells[d].isVisible&&a.push(this.cells[d]);return a}changeVisibility(a=!0,b){super.changeVisibility(a,b);this.layout.getVisibleRows().length?this.isVisible&&!this.layout.isVisible&&this.layout.show():this.layout.hide()}show(){this.changeVisibility(!0,"flex")}setHighlight(a){if(this.container){const d=
this.container,b=d.classList.contains(h.classNames.rowContextHighlight);a||b?a&&b&&d.classList.remove(h.classNames.rowContextHighlight):d.classList.add(h.classNames.rowContextHighlight)}}getRowLevels(){const d={},b=[];let c,e;for(let a=0,b=this.cells.length;a<b;++a)c=this.cells[a],c.isVisible&&(e=g.getOffsets(c),d[e.top]||(d[e.top]={top:e.top,bottom:e.bottom,cells:[]}),d[e.top].bottom<e.bottom&&(d[e.top].bottom=e.bottom),d[e.top].cells.push(c));a(d,a=>{b.push(a)});return b}getRowLevelInfo(a){const d=
this.getRowLevels();let b;for(let c=0,e=d.length;c<e;++c)d[c].top<=a&&d[c].bottom>a&&(b={index:c,rowLevels:d,rowLevel:d[c]});return b}}return m});l(g,"Dashboards/Layout/Layout.js",[g["Dashboards/Utilities.js"],g["Core/Utilities.js"],g["Dashboards/Layout/Row.js"],g["Dashboards/Layout/GUIElement.js"],g["Dashboards/Globals.js"]],function(k,f,g,p,h){const {uniqueKey:e}=k,{pick:c,defined:b}=f;class a extends p{static fromJSON(b,c,d){var h=b.options;b=document.getElementById(b.options.containerId);(h=new a(c,
{id:h.containerId,copyId:b?e():"",parentContainerId:h.parentContainerId||c.container.id,rowsJSON:h.rows,style:h.style},d),!d)&&c.layouts.push(h);return h}static importLocal(b,c){b=localStorage.getItem(h.classNamePrefix+b);let d;b&&(d=a.fromJSON(JSON.parse(b),c));return d}constructor(a,b,d){super();this.type=h.guiElementType.layout;this.board=a;this.rows=[];this.options=b;this.isVisible=!0;const c=d?d.container:document.getElementById(b.parentContainerId||"")||a.layoutsWrapper;d?(this.parentCell=d,
this.level=d.row.layout.level+1):this.level=0;b.copyId&&(this.copyId=b.copyId);this.container=this.getElementContainer({render:a.guiEnabled,parentContainer:c,attribs:{id:b.id+(this.copyId?"_"+this.copyId:""),className:h.classNames.layout+" "+((this.options||{}).rowClassName||"")},elementId:b.id,style:this.options.style});this.options.rows&&this.setRows();b.rowsJSON&&!this.rows.length&&this.setRowsFromJSON(b.rowsJSON)}setRows(){const a=c(this.options.rows,this.container&&this.container.getElementsByClassName(this.options.rowClassName||
""))||[];let b,d,e;d=0;for(e=a.length;d<e;++d)b=a[d],this.addRow(this.board.guiEnabled?b:{},b instanceof HTMLElement?b:void 0)}setRowsFromJSON(a){let b;for(let d=0,c=a.length;d<c;++d)(b=g.fromJSON(a[d],this))&&this.rows.push(b)}addRow(a,c,d){a=new g(this,a,c);b(d)?this.mountRow(a,d):this.rows.push(a);this.board.editMode&&this.board.editMode.setRowEvents(a);return a}destroy(){for(var a=this.board.layouts.length-1;0<=a;a--)this.board.layouts[a]===this&&this.board.layouts.splice(a,1);for(a=this.rows.length-
1;0<=a;a--)this.rows[a].destroy();this.parentCell&&this.parentCell.destroy();super.destroy()}exportLocal(){localStorage.setItem(h.classNamePrefix+this.options.id,JSON.stringify(this.toJSON()))}getRowIndex(a){for(let b=0,d=this.rows.length;b<d;++b)if(this.rows[b]===a)return b}mountRow(a,b){const d=this.rows[b],c=this.rows[b-1];a.container&&(d&&d.container?d.container.parentNode.insertBefore(a.container,d.container):c&&c.container&&c.container.parentNode.insertBefore(a.container,c.container.nextSibling),
this.rows.splice(b,0,a),a.layout=this)}unmountRow(a){a=this.getRowIndex(a);b(a)&&this.rows.splice(a,1)}getVisibleRows(){const a=[];for(let b=0,d=this.rows.length;b<d;++b)this.rows[b].isVisible&&a.push(this.rows[b]);return a}changeVisibility(a=!0){super.changeVisibility(a);this.parentCell&&(this.isVisible&&!this.parentCell.isVisible?this.parentCell.show():!this.isVisible&&this.parentCell.isVisible&&this.parentCell.hide())}toJSON(){const a=(this.board.container||{}).id||"",b=[];for(let a=0,c=this.rows.length;a<
c;++a)b.push(this.rows[a].toJSON());return{$class:"Dashboards.Layout",options:{containerId:this.container.id,parentContainerId:a,rows:b,style:this.options.style}}}getOptions(){const a=[];for(let b=0,d=this.rows.length;b<d;++b)a.push(this.rows[b].getOptions());return{id:this.options.id,layoutClassName:this.options.layoutClassName,rowClassName:this.options.rowClassName,cellClassName:this.options.cellClassName,style:this.options.style,rows:a}}}return a});l(g,"Dashboards/EditMode/SidebarPopup.js",[g["Dashboards/EditMode/AccordionMenu.js"],
g["Shared/BaseForm.js"],g["Dashboards/Actions/Bindings.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/EditMode/EditRenderer.js"],g["Dashboards/Layout/GUIElement.js"],g["Dashboards/Layout/Layout.js"],g["Core/Utilities.js"]],function(g,f,w,p,h,e,c,b){const {createElement:a,merge:n}=b;class m extends f{constructor(a,b,c){super(a,b);this.isVisible=!1;this.editMode=c;this.accordionMenu=new g(this.iconsURL,this.hide.bind(this))}detectRightSidebar(a){const b=this.editMode.board.layoutsWrapper;
return e.getOffsets(a,b).left<b.offsetWidth/2-10}removeClassNames(){const a=p.classNames,b=this.container.classList;b.remove(a.editSidebarShow);b.remove(a.editSidebarRightShow)}addClassNames(a){const b=this.container.classList;a?b.add(p.classNames.editSidebarRight):b.remove(p.classNames.editSidebarRight);setTimeout(()=>{b.add(p.classNames[a?"editSidebarRightShow":"editSidebarShow"])})}show(a){const b=this.editMode,d=!(!a||!this.detectRightSidebar(a));this.showPopup(p.classNames.editSidebarShow);this.addClassNames(d);
b.resizer&&b.resizer.disableResizer();b.editCellContext&&b.editCellContext.row&&b.editCellContext.row.setHighlight(!0);b.hideToolbars(["cell","row"]);b.stopContextDetection();this.isVisible=!0;this.generateContent(a)}generateContent(a){this.renderHeader(a?this.editMode.lang.settings:this.editMode.lang.addComponent,"");a?"cell"===a.getType()&&(a=a.mountedComponent)&&this.accordionMenu.renderContent(this.container,a):this.renderAddComponentsList()}renderAddComponentsList(){const b=this,h=m.components;
let f;const n=a("div",{className:p.classNames.editGridItems},{},b.container);for(let d=0,m=h.length;d<m;++d)f=a("div",{},{},n),f.addEventListener("mousedown",a=>{if(b.editMode.dragDrop){const f=()=>{b.hide()};b.container.addEventListener("mouseleave",f);b.editMode.dragDrop.onDragStart(a,void 0,a=>{var m,q;if(0===this.editMode.board.layouts.length){a=this.editMode.board;var n=e.createElementId("layout");n=new c(a,{id:n,copyId:"",parentContainerId:a.container.id,rows:[{}],style:{}});a.layouts.push(n);
a=n.rows[0]}if(a=h[d].onDrop(b,a))n=a.mountedComponent,(null===(q=null===(m=n.options)||void 0===m?void 0:m.connector)||void 0===q?0:q.id)&&n.initConnector(),b.editMode.setEditCellContext(a),b.show(a),a.setHighlight();b.container.removeEventListener("mouseleave",f)})}}),f.innerHTML=h[d].text}onDropNewComponent(a,b){const d=this.editMode.dragDrop;if(d)return a=("cell"===a.getType()?a.row:a).addCell({id:e.createElementId("col")}),d.onCellDragEnd(a),b=n(b,{cell:a.id}),w.addComponent(b,a),this.editMode.setEditOverlay(),
a}hide(){const a=this.editMode,b=a.editCellContext;this.removeClassNames();a.isEditOverlayActive&&a.setEditOverlay(!0);b&&b.row&&(a.showToolbars(["cell","row"],b),b.row.setHighlight(),b.isHighlighted&&b.setHighlight(!0));a.isContextDetectionActive=!0;this.isVisible=!1}closeButtonEvents(){this.hide()}renderHeader(a,b){if(b=h.renderIcon(this.container,{icon:b,className:p.classNames.editSidebarTitle}))b.textContent=a}addCloseButton(a=p.classNames.popupCloseButton){return super.addCloseButton.call(this,
a)}createPopupContainer(a,b=p.classNames.editSidebar){return super.createPopupContainer.call(this,a,b)}}m.components=[{text:"HTML",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"HTML",elements:[{tagName:"img",attributes:{src:"https://www.highcharts.com/samples/graphics/stock-dark.svg"}}]})}},{text:"layout",onDrop:function(a,b){if(b){a=("cell"===b.getType()?b.row:b).layout.board;var d=e.createElementId("layout");b=e.createElementId("cell");d=new c(a,{id:d,copyId:"",parentContainerId:a.container.id,
rows:[{cells:[{id:b}]}],style:{}});a.layouts.push(d);w.addComponent({type:"HTML",cell:b,elements:[{tagName:"div",style:{"text-align":"center"},textContent:"Placeholder text"}]})}}},{text:"chart",onDrop:function(a,b){if(a&&b){const d=a.editMode.board.dataPool.getConnectorIds();let c={cell:"",type:"Highcharts",chartOptions:{chart:{animation:!1,type:"column",zooming:{}}}};d.length&&(c=Object.assign(Object.assign({},c),{connector:{id:d[0]}}));return a.onDropNewComponent(b,c)}}},{text:"datagrid",onDrop:function(a,
b){if(a&&b){const d=a.editMode.board.dataPool.getConnectorIds();let c={cell:"",type:"DataGrid"};d.length&&(c=Object.assign(Object.assign({},c),{connector:{id:d[0]}}));return a.onDropNewComponent(b,c)}}},{text:"KPI",onDrop:function(a,b){if(a&&b){const d=a.editMode.board.dataPool.getConnectorIds();let c={cell:"",type:"KPI"};d.length&&(c=Object.assign(Object.assign({},c),{connector:{id:d[0]}}));return a.onDropNewComponent(b,c)}}}];return m});l(g,"Dashboards/EditMode/EditContextMenu.js",[g["Dashboards/EditMode/EditGlobals.js"],
g["Core/Utilities.js"],g["Dashboards/EditMode/Menu/Menu.js"]],function(g,f,w){const {addEvent:k,merge:h}=f;class e extends w{constructor(c,b,a){super(a.board.container,h(e.defaultOptions,b||{}),a);this.editMode=a;this.options=h(e.defaultOptions,b||{});this.container.style.width=this.options.width+"px";super.initItems(e.items);if(this.options.items){c=[];for(let a=0,b=this.options.items.length;a<b;++a)"string"===typeof this.options.items[a]?c.push(this.options.items[a]):this.options.items[a].id&&c.push(this.options.items[a].id);
this.setActiveItems(c)}this.initEvents()}initEvents(){const c=this;k(document,"click",b=>{b.target!==this.container&&b.target!==c.editMode.tools.contextButtonElement&&!b.target.classList.contains(g.classNames.toggleSlider)&&"INPUT"!==b.target.tagName&&this.isVisible&&this.setVisible(!1)})}setVisible(c){this.container&&(c?(this.container.style.display="block",this.isVisible=!0):(this.container.style.display="none",this.isVisible=!1))}updatePosition(c,b,a){const e=this.options.width||0;b=c?c.offsetLeft-
e+c.offsetWidth:b;c=c?c.offsetTop+c.offsetHeight:a;b&&c&&(this.container.style.left=b+"px",this.container.style.top=c+"px")}}e.defaultOptions={enabled:!0,width:150,className:g.classNames.contextMenu,itemsClassName:g.classNames.contextMenuItem,items:["editMode"]};e.items=h(w.items,{editMode:{id:"editMode",type:"toggle",getValue:function(c){return c.menu.editMode.isActive()},langKey:"editMode",events:{click:function(){this.menu.editMode.onEditModeToggle()}}}});return e});l(g,"Dashboards/Actions/ContextDetection.js",
[g["Core/Utilities.js"],g["Dashboards/Layout/GUIElement.js"]],function(g,f){const {defined:k}=g;class p{static isGUIElementOnParentEdge(h,e){const c="top"===e||"bottom"===e?h.row.layout.getVisibleRows():"left"===e||"right"===e?h.row.getVisibleCells():[],b=c.length-1;return c[b]===h&&"right"===e||c[b]===h.row&&"bottom"===e||c[0]===h&&"left"===e||c[0]===h.row&&"top"===e}static getContextLevel(h,e,c,b){const a=h.getOverlappingLevels(b,e/2);b=a[a.length-1];e=h.row.layout.level-Math.floor(c/(e/a.length));
return e=e<b?b:e>h.row.layout.level?h.row.layout.level:e}static getContext(h,e,c){let b;var a=f.getOffsets(h);const {width:n,height:m}=f.getDimFromOffsets(a);n<2*c&&(c=n/2);var d=e.clientX-a.left;e=e.clientY-a.top;a=(a=d>=-c&&d<=c?"left":d-n>=-c&&d-n<=c?"right":"")?a:e>=-c&&e<=c?"top":e-m>=-c&&e-m<=c?"bottom":"";switch(a){case "right":b=d-n+c;break;case "left":b=c-d;break;case "top":b=c-e;break;case "bottom":b=e-m+c}d={cell:h,side:a};0!==h.row.layout.level&&a&&p.isGUIElementOnParentEdge(h,a)&&k(b)&&
(c=p.getContextLevel(h,c,b,a),h=h.getParentCell(c))&&(d.cell=h);return d}}return p});l(g,"Dashboards/Actions/DragDrop.js",[g["Core/Utilities.js"],g["Dashboards/Globals.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/Layout/GUIElement.js"],g["Dashboards/Actions/ContextDetection.js"]],function(g,f,w,p,h){const {addEvent:e,merge:c,css:b,fireEvent:a,createElement:n}=g;class m{constructor(a,b){this.editMode=a;this.options=c(m.defaultOptions,b);this.mockElement=n("div",{className:w.classNames.dragMock},
{},a.board.container);this.dropPointer={isVisible:!1,align:"",element:n("div",{className:w.classNames.dropPointer},{},a.board.container)};this.isActive=!1;this.initEvents()}showDropPointer(a,c,e,h){this.dropPointer.isVisible=!0;b(this.dropPointer.element,{display:"block",left:a+"px",top:c+"px",height:h+"px",width:e+"px"})}hideDropPointer(){this.dropPointer.isVisible&&(this.dropPointer.isVisible=!1,this.dropPointer.align="",this.dropPointer.element.style.display="none")}setMockElementPosition(a){const d=
this.editMode.board.container.getBoundingClientRect(),c=this.mockElement.clientWidth/2;b(this.mockElement,{left:a.clientX-d.left-c+"px",top:a.clientY-d.top-c+"px"})}initEvents(){e(document,"mousemove",this.onDrag.bind(this));e(document,"mouseup",this.onDragEnd.bind(this))}onDragStart(d,c,e){this.isActive=!0;this.editMode.hideToolbars(["cell","row"]);this.editMode.resizer&&this.editMode.resizer.disableResizer();this.setMockElementPosition(d);c?(this.context=c,c.hide(),c.getType()===f.guiElementType.cell&&
(a(this.editMode.board,"cellResize",{cell:c}),a(c.row,"cellChange",{cell:c,row:c.row}))):e&&(this.dragEndCallback=e);b(this.mockElement,{cursor:"grabbing",display:"block"})}onDrag(a){if(this.isActive)if(a.preventDefault(),this.setMockElementPosition(a),this.context)if(this.context.getType()===f.guiElementType.cell)this.onCellDrag(a);else{if(this.context.getType()===f.guiElementType.row)this.onRowDrag(a)}else if(this.dragEndCallback)this.onCellDrag(a)}onDragEnd(){if(this.isActive)if(this.isActive=
!1,b(this.mockElement,{cursor:"grab",display:"none"}),this.context){if(this.context.getType()===f.guiElementType.cell)this.onCellDragEnd();else if(this.context.getType()===f.guiElementType.row)this.onRowDragEnd();this.context=void 0;this.editMode.editCellContext&&(this.editMode.showToolbars(["row","cell"],this.editMode.editCellContext),this.editMode.resizer&&this.editMode.resizer.setSnapPositions(this.editMode.editCellContext))}else this.dragEndCallback&&(this.dragEndCallback(this.dropContext),this.dragEndCallback=
void 0,this.hideDropPointer())}onRowDrag(a,b){const d=this.mouseCellContext,c=this.options.dropPointerSize,e=this.options.rowDropOffset;let f=!1;if(d){a=b||h.getContext(d,a,e);b=a.side;if(this.dropPointer.align!==b||this.dropContext!==a.cell.row)f=!0,this.dropPointer.align=b,this.dropContext=a.cell.row;if(b){a=p.getOffsets(this.dropContext,this.editMode.board.container);const {width:b,height:d}=p.getDimFromOffsets(a);this.dropPointer.isVisible&&!f||this.showDropPointer(a.left,a.top+("bottom"===this.dropPointer.align?
d:0)-c/2,b,c)}else this.dropContext=void 0,this.hideDropPointer()}}onRowDragEnd(){const b=this.context,c=this.dropContext;this.dropPointer.align&&(b.layout.unmountRow(b),0===b.layout.rows.length&&b.layout.destroy(),c.layout.mountRow(b,(c.layout.getRowIndex(c)||0)+("bottom"===this.dropPointer.align?1:0)),b.cells[0]&&(a(this.editMode.board,"cellResize",{cell:b.cells[0]}),a(b,"cellChange",{cell:b.cells[0],row:b})));this.hideDropPointer();b.show()}onCellDrag(a,b){const d=this.mouseCellContext,c=this.options.cellDropOffset;
if(d||b)this.onCellDragCellCtx(a,b||h.getContext(d,a,c));else if(this.mouseRowContext)this.onCellDragRowCtx(a,this.mouseRowContext)}onCellDragCellCtx(a,b){var d=this.options.dropPointerSize;const c=b.side;let e=!1;if(this.dropPointer.align!==c||this.dropContext!==b.cell)e=!0,this.dropPointer.align=c,this.dropContext=b.cell;if("right"===c||"left"===c){b=p.getOffsets(this.dropContext,this.editMode.board.container);const {width:h,height:f}=p.getDimFromOffsets(b);if(!this.dropPointer.isVisible||e)a=this.dropContext.row.getRowLevelInfo(a.clientY),
this.showDropPointer(b.left+("right"===c?h:0)-d/2,b.top,d,a?a.rowLevel.bottom-a.rowLevel.top:f)}else if("top"===c||"bottom"===c){if(d=p.getOffsets(this.dropContext),(d=this.dropContext.row.getRowLevelInfo(d.top))&&(0===d.index&&"top"===c||d.index===d.rowLevels.length-1&&"bottom"===c))this.onRowDrag(a,b)}else this.dropContext=void 0,this.hideDropPointer()}onCellDragRowCtx(a,b){const d=this.options.dropPointerSize,c=p.getOffsets(b);b=b.getRowLevelInfo(a.clientY);let e,h;if(b)for(let f=0,m=b.rowLevel.cells.length;f<
m;++f){e=b.rowLevel.cells[f];h=p.getOffsets(e);const {width:n,height:g}=p.getDimFromOffsets(h),k=this.editMode.board.container.getBoundingClientRect(),q=b.rowLevel.bottom-b.rowLevel.top;if(e.isVisible)if(g<.8*q&&h.left<=a.clientX&&h.right>=a.clientX)!(h.top>a.clientY)&&h.bottom<a.clientY&&(this.showDropPointer(h.left-k.left,h.top-k.top+g,n,q-g),this.dropPointer.align="nestedBottom",this.dropContext=e),f=m;else{if(0===f&&h.left>a.clientX||f===m-1&&h.right<a.clientX){if(!(h.left>a.clientX)&&h.right<
a.clientX){const b=c.right-h.right;this.showDropPointer(h.left+(0===f&&h.left>a.clientX?0:n)-d/2-k.left,h.top-k.top,b>d?b:d,q||g);this.dropPointer.align="right";this.dropContext=e}f=m}}else e.isVisible||e!==this.context||(this.dropContext=void 0,this.hideDropPointer())}}onCellDragEnd(b){b=b||this.context;let d=this.dropContext;if(this.dropPointer.align&&d&&b)if(b.row.unmountCell(b),0===b.row.cells.length&&b.row.destroy(),"top"!==this.dropPointer.align&&"bottom"!==this.dropPointer.align||d.getType()!==
f.guiElementType.row)if("nestedBottom"===this.dropPointer.align&&d.getType()===f.guiElementType.cell){var c=d.row;const a=c.getCellIndex(d);c.unmountCell(d);c=c.addCell({id:p.createElementId("col-nested-"),layout:{rows:[{},{}]}},void 0,a);c.nestedLayout&&(c.nestedLayout.rows[0].mountCell(d),c.nestedLayout.rows[1].mountCell(b))}else d.getType()===f.guiElementType.cell&&d.row.mountCell(b,(d.row.getCellIndex(d)||0)+("right"===this.dropPointer.align?1:0));else d.layout.addRow({},void 0,(d.layout.getRowIndex(d)||
0)+("bottom"===this.dropPointer.align?1:0)).mountCell(b,0);a(this.editMode.board,"cellResize",{cell:b});a(b.row,"cellChange",{cell:b,row:b.row});this.hideDropPointer();b.show()}}m.defaultOptions={enabled:!0,rowDropOffset:30,cellDropOffset:30,dropPointerSize:16};return m});l(g,"Dashboards/Actions/Resizer.js",[g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/Layout/GUIElement.js"],g["Core/Utilities.js"]],function(g,f,w){const {merge:k,addEvent:h,createElement:e,fireEvent:c,removeEvent:b,pick:a}=
w;class n{static fromJSON(a,b){return new n(a,b.options)}constructor(a,b){this.editMode=a;this.options=k({},n.defaultOptions,a.options.resize,b);this.currentCell=void 0;this.isX=-1<this.options.type.indexOf("x");this.isY=-1<this.options.type.indexOf("y");this.isActive=!1;this.startX=0;this.tempSiblingsWidth=[];this.addSnaps()}addSnaps(){const a=this.options.snap.width||0,b=this.options.snap.height||0,c=this.editMode.board.container;this.snapRight=e("img",{className:g.classNames.resizeSnap+" "+g.classNames.resizeSnapX,
src:"https://cdn.jsdelivr.net/gh/highcharts/highcharts@b2d3673cfd596a9615e57233914836c78544884c/gfx/dashboards-icons/resize-handle.svg"},{width:a+"px",height:b+"px",left:"-9999px"},c);this.snapBottom=e("img",{className:g.classNames.resizeSnap+" "+g.classNames.resizeSnapY,src:"https://cdn.jsdelivr.net/gh/highcharts/highcharts@b2d3673cfd596a9615e57233914836c78544884c/gfx/dashboards-icons/resize-handle.svg"},{width:a+"px",height:b+"px",top:"-9999px",left:"0px"},c);this.addResizeEvents()}disableResizer(){this.isActive=
!1;this.currentCell=this.currentDimension=void 0;this.snapRight&&(this.snapRight.style.left="-9999px");this.snapBottom&&(this.snapBottom.style.left="-9999px")}setSnapPositions(a){this.currentCell=a;var b=f.getOffsets(a,this.editMode.board.container);a=b.left||0;const c=b.top||0,{width:e,height:h}=f.getDimFromOffsets(b);b=this.options.snap.width||0;const m=this.options.snap.height||0;this.snapRight&&(this.snapRight.style.left=a+e-b+"px",this.snapRight.style.top=c+h/2-m/2+"px");this.snapBottom&&(this.snapBottom.style.top=
c+h-m+"px",this.snapBottom.style.left=a+e/2-b/2+"px")}setTempWidthSiblings(){const b=this.currentCell;if(b){const c=this.editMode.rwdMode;var d=f.getOffsets(b);d=(d=b.row.getRowLevelInfo(d.top))&&d.rowLevel.cells||[];let e,h,m;for(let f=0,g=d.length;f<g;++f){h=d[f];e=h.container;m=a(((h.options.responsive||{})[c]||{}).width,h.options.width);if(h===b)break;!e||m&&"auto"!==m||(e.style.flex="0 0 "+e.offsetWidth+"px",this.tempSiblingsWidth.push(h))}}}revertSiblingsAutoWidth(){const a=this.tempSiblingsWidth;
let b,e;for(let c=0,d=a.length;c<d;++c)if(b=a[c].container)b.style.flex="1 1 0%",e=a[c];this.tempSiblingsWidth=[];e&&(c(this.editMode.board,"cellResize",{cell:e}),c(e.row,"cellChange",{cell:e,row:e.row}))}addResizeEvents(){const a=this;var b;let c,e,f;a.mouseDownSnapX=b=function(b){a.isActive=!0;a.currentDimension="x";a.editMode.hideToolbars(["row","cell"]);a.setTempWidthSiblings();a.startX=b.clientX};a.mouseDownSnapY=c=function(){a.isActive=!0;a.currentDimension="y";a.editMode.hideToolbars(["row",
"cell"])};a.mouseMoveSnap=e=function(b){if(a.isActive)a.onMouseMove(b)};a.mouseUpSnap=f=function(){a.isActive&&(a.isActive=!1,a.currentDimension=void 0,a.revertSiblingsAutoWidth(),a.editMode.showToolbars(["row","cell"],a.currentCell),a.currentCell&&a.setSnapPositions(a.currentCell))};h(this.snapRight,"mousedown",b);h(this.snapBottom,"mousedown",c);h(document,"mousemove",e);h(document,"mouseup",f);b=()=>{a.currentCell&&a.setSnapPositions(a.currentCell)};"function"===typeof ResizeObserver?(this.resizeObserver=
new ResizeObserver(b),this.resizeObserver.observe(a.editMode.board.container)):(b=h(r,"resize",b),h(this,"destroy",b))}onMouseMove(a){const b=this.currentCell;var e=b&&b.container;const h=this.currentDimension;var g=this.editMode.sidebar;g=g&&g.editMode.rwdMode;if(b&&e&&!((b.row.layout.board.editMode||{}).dragDrop||{}).isActive){e=f.getOffsets(b);var {width:n}=f.getDimFromOffsets(f.getOffsets(b.row));"x"===h&&(n=Math.min(a.clientX-e.left,n)/n*100+"%",b.setSize(n),b.updateSize(n,g),this.startX=a.clientX);
"y"===h&&b.setSize(void 0,a.clientY-e.top);c(this.editMode.board,"cellResize",{cell:b});c(b.row,"cellChange",{cell:b,row:b.row});this.setSnapPositions(b)}}destroy(){var a;const c=["snapRight","snapBottom"];b(document,"mousemove");b(document,"mouseup");null===(a=this.resizeObserver)||void 0===a?void 0:a.unobserve(this.editMode.board.container);for(let d=0,e=c.length;d<e;++d)a=this[c[d]],b(a,"mousedown"),a.remove()}toJSON(){const a=this.options;return{$class:"Dashboards.Action.Resizer",options:{enabled:a.enabled,
styles:{minWidth:a.styles.minWidth,minHeight:a.styles.minHeight},type:a.type,snap:{width:a.snap.width,height:a.snap.height}}}}}n.defaultOptions={enabled:!0,styles:{minWidth:20,minHeight:50},type:"xy",snap:{width:9,height:17}};return n});l(g,"Dashboards/EditMode/ConfirmationPopup.js",[g["Core/Utilities.js"],g["Shared/BaseForm.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/EditMode/EditRenderer.js"]],function(g,f,w,p){const {createElement:h}=g;class e extends f{constructor(c,b,a,e){super(c,
b);this.editMode=a;this.options=e}createPopupContainer(c,b=w.classNames.confirmationPopup){return super.createPopupContainer(c,b)}addCloseButton(c=w.classNames.popupCloseButton){return super.addCloseButton(c)}renderContent(c){this.contentContainer=h("div",{className:w.classNames.popupContentContainer},{},this.container);const b=this.contentContainer.parentNode;b.style.marginTop="0px";const a=b.getBoundingClientRect().top;b.style.marginTop=(0>a?Math.abs(a-200):200)+"px";p.renderText(this.contentContainer,
{title:c.text||""});this.buttonContainer=h("div",{className:w.classNames.popupButtonContainer},{},this.container);p.renderButton(this.buttonContainer,{text:c.cancelButton.value,className:w.classNames.popupCancelBtn,callback:c.cancelButton.callback});p.renderButton(this.buttonContainer,{text:c.confirmButton.value,className:w.classNames.popupConfirmBtn,callback:()=>{c.confirmButton.callback.call(c.confirmButton.context);this.closePopup()}})}show(c){this.showPopup();this.renderContent(c);this.editMode.setEditOverlay()}closePopup(){super.closePopup();
this.editMode.setEditOverlay(!0)}}return e});l(g,"Dashboards/EditMode/EditMode.js",[g["Core/Utilities.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/EditMode/EditRenderer.js"],g["Dashboards/EditMode/Toolbar/CellEditToolbar.js"],g["Dashboards/EditMode/Toolbar/RowEditToolbar.js"],g["Dashboards/EditMode/SidebarPopup.js"],g["Dashboards/EditMode/EditContextMenu.js"],g["Dashboards/Actions/DragDrop.js"],g["Dashboards/Actions/Resizer.js"],g["Dashboards/EditMode/ConfirmationPopup.js"],g["Dashboards/Actions/ContextDetection.js"],
g["Dashboards/Layout/GUIElement.js"]],function(g,f,w,p,h,e,c,b,a,n,m,d){const {addEvent:k,createElement:z,css:t,merge:v}=g;class l{constructor(a,b){this.active=!1;this.iconsURLPrefix="https://code.highcharts.com/dashboards/1.1.0/gfx/dashboards-icons/";this.iconsURLPrefix=b&&b.iconsURLPrefix||this.iconsURLPrefix;this.options=v({dragDrop:{enabled:!0},resize:{enabled:!0},enabled:!0,contextMenu:{icon:this.iconsURLPrefix+"menu.svg"},tools:{addComponentBtn:{icon:this.iconsURLPrefix+"add.svg"},rwdIcons:{small:this.iconsURLPrefix+
"smartphone.svg",medium:this.iconsURLPrefix+"tablet.svg",large:this.iconsURLPrefix+"computer.svg"}},confirmationPopup:{close:{icon:this.iconsURLPrefix+"close.svg"}},toolbars:{cell:{enabled:!0},row:{enabled:!0}}},b||{});this.board=a;this.lang=v({},f.lang,this.options.lang);this.contextPointer={isVisible:!1,element:z("div",{className:f.classNames.contextDetectionPointer},{},this.board.container)};this.isContextDetectionActive=this.isInitialized=!1;this.tools={};this.rwdMenu=[];this.rwdMode=this.board.getLayoutContainerSize();
this.createTools();this.confirmationPopup=new n(a.container,this.iconsURLPrefix,this,this.options.confirmationPopup);this.editOverlay=z("div",{className:f.classNames.editOverlay},{},a.container);this.isEditOverlayActive=!1}onContextBtnClick(){this.tools.contextMenu||(this.tools.contextMenu=new c(this.board.container,this.options.contextMenu||{},this));this.tools.contextMenu&&(this.tools.contextMenu.isVisible||this.tools.contextMenu.updatePosition(this.tools.contextButtonElement),this.tools.contextMenu.setVisible(!this.tools.contextMenu.isVisible))}onEditModeToggle(){this.active?
this.deactivate():this.activate()}init(){var c,d,f,g,n;if(null===(c=this.options.resize)||void 0===c?0:c.enabled)this.resizer=new a(this,this.options.resize);this.dragDrop=new b(this,this.options.dragDrop);(null===(f=null===(d=this.options.toolbars)||void 0===d?void 0:d.row)||void 0===f?0:f.enabled)&&!this.rowToolbar&&(this.rowToolbar=new h(this));(null===(n=null===(g=this.options.toolbars)||void 0===g?void 0:g.cell)||void 0===n?0:n.enabled)&&!this.cellToolbar&&(this.cellToolbar=new p(this));this.sidebar||
(this.sidebar=new e(this.board.container,this.iconsURLPrefix,this));this.isInitialized=!0}initEvents(){const a=this,b=a.board;for(let c=0,d=b.layouts.length;c<d;++c)a.setLayoutEvents(b.layouts[c]);a.cellToolbar&&(k(a.cellToolbar.container,"mouseenter",function(){a.stopContextDetection()}),k(a.cellToolbar.container,"mouseleave",function(){a.isContextDetectionActive=!0}));a.rowToolbar&&(k(a.rowToolbar.container,"mouseenter",function(){a.stopContextDetection()}),k(a.rowToolbar.container,"mouseleave",
function(){a.isContextDetectionActive=!0}));k(b.layoutsWrapper,"mousemove",a.onDetectContext.bind(a));k(b.layoutsWrapper,"click",a.onContextConfirm.bind(a));k(b.layoutsWrapper,"mouseleave",()=>{a.hideContextPointer()})}setLayoutEvents(a){for(let b=0,c=a.rows.length;b<c;++b){const c=a.rows[b];this.setRowEvents(c);for(let a=0,b=c.cells.length;a<b;++a)this.setCellEvents(c.cells[a])}}setRowEvents(a){const b=this;if(b.dragDrop){const c=b.dragDrop;k(a.container,"mouseenter",function(){b.isContextDetectionActive&&
(b.mouseRowContext=a)});k(a.container,"mousemove",function(b){c.isActive&&b.target===a.container&&(c.mouseRowContext=a)});k(a.container,"mouseleave",function(){c.isActive&&c.mouseRowContext===a&&(c.mouseRowContext=void 0);b.isContextDetectionActive&&(b.mouseRowContext=void 0)})}}setCellEvents(a){const b=this;if(a.nestedLayout)b.setLayoutEvents(a.nestedLayout);else if(b.cellToolbar&&a.container&&(b.dragDrop||b.resizer)){const c=b.dragDrop;k(a.container,"mouseenter",function(){b.isContextDetectionActive&&
(b.mouseCellContext=a)});k(a.container,"mousemove",function(b){c&&c.isActive&&b.target===a.container&&(c.mouseCellContext=a,c.mouseRowContext=void 0)});k(a.container,"mouseleave",function(){c&&c.isActive&&c.mouseCellContext===a&&(c.mouseCellContext=void 0);b.isContextDetectionActive&&(b.mouseCellContext=void 0)})}}activate(){this.isInitialized||(this.init(),this.initEvents());this.board.container.classList.add(f.classNames.editModeEnabled);this.addComponentBtn&&(this.addComponentBtn.style.display=
"block");this.rwdMode=this.board.getLayoutContainerSize();this.showRwdButtons();this.isContextDetectionActive=this.active=!0}deactivate(){this.board.container.classList.remove(f.classNames.editModeEnabled);this.hideToolbars();this.editCellContext&&this.editCellContext.row.setHighlight(!0);this.addComponentBtn&&(this.addComponentBtn.style.display="none");this.resizer&&this.resizer.disableResizer();this.hideRwdButtons();this.board.layoutsWrapper.style.width="100%";this.board.reflow();this.active=!1;
this.stopContextDetection();this.potentialCellContext=this.editCellContext=void 0}isActive(){return this.active}hideToolbars(a){a=a||["cell","row","sidebar"];for(let b=0,c=a.length;b<c;++b)switch(a[b]){case "cell":this.cellToolbar&&this.cellToolbar.isVisible&&this.cellToolbar.hide();break;case "row":this.rowToolbar&&this.rowToolbar.isVisible&&this.rowToolbar.hide();break;case "sidebar":this.sidebar&&this.sidebar.isVisible&&this.sidebar.hide()}}showToolbars(a,b){a=a||["cell","row","sidebar"];for(let c=
0,d=a.length;c<d;++c)switch(a[c]){case "cell":b&&this.cellToolbar&&(this.cellToolbar.isVisible=!0,this.cellToolbar.showToolbar(b));break;case "row":b&&b.row&&this.rowToolbar&&(this.rowToolbar.isVisible=!0,this.rowToolbar.showToolbar(b.row));break;case "sidebar":this.sidebar&&!this.sidebar.isVisible&&this.sidebar.show()}}createTools(){var a,b;const c=this;var d=this.options;this.tools.container=document.createElement("div");this.tools.container.classList.add(f.classNames.editTools);this.board.layoutsWrapper.parentNode.insertBefore(this.tools.container,
this.board.layoutsWrapper);d.contextMenu&&d.contextMenu.enabled&&(this.tools.contextButtonElement=w.renderContextButton(this.tools.container,c));this.createRwdMenu();d=null===(b=null===(a=null===d||void 0===d?void 0:d.tools)||void 0===a?void 0:a.addComponentBtn)||void 0===b?void 0:b.icon;this.addComponentBtn=w.renderButton(this.tools.container,{className:f.classNames.editToolsBtn,icon:d,text:this.lang.addComponent,callback:()=>{c.sidebar&&(c.sidebar.show(),c.setEditOverlay())},style:{display:"none"}})}createRwdMenu(){const a=
this.board.options.responsiveBreakpoints,b=this.tools.container;var c=this.options;c=c&&c.tools&&c.tools.rwdIcons||{};for(const d in a)if(b){const e=w.renderButton(b,{className:f.classNames.editToolsBtn,icon:c[d]||"",text:this.lang[d],callback:b=>{b=b.target;b.classList.contains("selected")?(b.classList.remove("selected"),this.rwdMode=this.board.layoutsWrapper.style.width=""):(this.rwdMenu.forEach(a=>{a.classList.remove("selected")}),b.classList.add("selected"),this.board.layoutsWrapper.style.width=
a[d]+"px",this.rwdMode=d);this.board.reflow()},style:{display:"none"}});e&&this.rwdMenu.push(e)}}showRwdButtons(){for(let a=0,b=this.rwdMenu.length;a<b;++a)this.rwdMenu[a].style.display="block"}hideRwdButtons(){for(let a=0,b=this.rwdMenu.length;a<b;++a)this.rwdMenu[a].style.display="none"}onDetectContext(a){if(this.isActive()&&this.isContextDetectionActive&&(this.mouseCellContext||this.mouseRowContext)&&!(this.dragDrop||{}).isActive){let b;this.mouseCellContext?b=m.getContext(this.mouseCellContext,
a,50).cell:this.mouseRowContext&&(a=this.mouseRowContext,b=a.layout.parentCell);if(this.potentialCellContext=b){a=d.getOffsets(b,this.board.container);const {width:c,height:e}=d.getDimFromOffsets(a);this.showContextPointer(a.left,a.top,c,e)}}}stopContextDetection(){this.isContextDetectionActive=!1;this.dragDrop&&(this.dragDrop.mouseCellContext=void 0);this.mouseCellContext=void 0;this.hideContextPointer()}onContextConfirm(){this.isContextDetectionActive&&this.potentialCellContext&&this.editCellContext!==
this.potentialCellContext&&this.setEditCellContext(this.potentialCellContext,this.editCellContext)}setEditCellContext(a,b){b=b&&b.row;this.editCellContext=a;this.showToolbars(["row","cell"],a);b&&b===a.row||(b&&b.setHighlight(!0),a.row.setHighlight());this.resizer&&this.resizer.setSnapPositions(a)}showContextPointer(a,b,c,d){this.contextPointer.isVisible=!0;t(this.contextPointer.element,{display:"block",left:a+"px",top:b+"px",height:d+"px",width:c+"px"})}hideContextPointer(){this.contextPointer.isVisible&&
(this.contextPointer.isVisible=!1,this.contextPointer.element.style.display="none")}setEditOverlay(a){const b=this.editOverlay,c=b.classList.contains(f.classNames.editOverlayActive);a||c?a&&c&&(b.classList.remove(f.classNames.editOverlayActive),this.isEditOverlayActive=!1):(b.classList.add(f.classNames.editOverlayActive),this.isEditOverlayActive=!0)}}return l});l(g,"Dashboards/EditMode/Fullscreen.js",[g["Core/Utilities.js"],g["Dashboards/Globals.js"]],function(g,f){const {addEvent:k}=g;class p{constructor(h){this.isOpen=
!1;this.board=h;this.board.boardWrapper.classList.add(f.classNamePrefix+"-fullscreen")}toggle(){this[this.isOpen?"close":"open"]()}open(){if(!this.isOpen){var h=this,e=h.board,c=k(e.boardWrapper.ownerDocument,"fullscreenchange",function(){h.isOpen?(h.isOpen=!1,h.close()):(h.isOpen=!0,h.setButtonText())});h.unbindFullscreenEvent=()=>{c()};e.boardWrapper.requestFullscreen().catch(()=>{throw Error("Full screen is not supported.");})}}close(){const h=this.board;this.isOpen&&h.boardWrapper.ownerDocument instanceof
Document&&void h.boardWrapper.ownerDocument.exitFullscreen();this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent());this.isOpen=!1;this.setButtonText()}setButtonText(){var h=this.board.editMode,e=h&&h.tools.contextMenu;(e=e&&e.items.viewFullscreen)&&e.innerElement&&(h=h.lang,e.innerElement.innerHTML=(this.isOpen?h.exitFullscreen:h.viewFullscreen)||"")}}return p});l(g,"Dashboards/CallbackRegistry.js",[],function(){class g{constructor(){this.registry={}}addCallback(f,
g){this.registry[f]=g}getCallback(f){return this.registry[f]}toJSON(){const f={};Object.keys(this.registry).forEach(g=>{const k=this.getCallback(g),{func:h,type:e}=k;f[g]={func:h.toString(),type:e}});return f}}return g});l(g,"Dashboards/Components/EditableOptions.js",[],function(){class g{constructor(f,k=g.defaultBindings){this.component=f;this.bindings=k}getOptions(){const f=this.component.options.editableOptions;for(let k=0,h=f.length;k<h;k++){const e=f[k];if("connectorName"===e.name){var g=this.component.board;
g=g?g.dataPool.getConnectorIds().map(c=>({name:c})):[];e.selectOptions=g}}return f}}g.defaultBindings={keyMap:{color:"colorPicker",title:"text",caption:"text",style:"textarea"},typeMap:{string:"text",number:"input","boolean":"toggle"},skipRedraw:[]};g.defaultTypeMap={string:"text",number:"input","boolean":"toggle"};return g});l(g,"Dashboards/Components/ComponentUtilities.js",[],function(){var g;(function(f){function g(h,e){const c=r.getComputedStyle(h);return e.map(b=>c[b])}function k(h,e){e&&(h+=
"number"===typeof e?e:parseFloat(e));return h}f.getMargins=function(h,e=!0){var c=["borderLeft","borderRight"],b=["borderTop","borderBottom"];return{y:g(h,["marginTop","marginBottom",...e?b:[]]).reduce(k,0),x:g(h,["marginLeft","marginTop",...e?c:[]]).reduce(k,0)}};f.getPaddings=function(h){return{x:g(h,["paddingLeft","paddingRight"]).reduce(k,0),y:g(h,["paddingTop","paddingBottom"]).reduce(k,0)}};f.getStyles=g;f.sumPixels=k})(g||(g={}));return g});l(g,"Dashboards/Components/SharedComponentState.js",
[g["Dashboards/Serializable.js"],g["Core/Utilities.js"]],function(g,f){const {addEvent:k,fireEvent:p,merge:h}=f;class e{constructor(){this.columnVisibilityMap={};this.hiddenRowIndexes=[];this.selection={}}emit(c){p(this,c.type,c)}getColumnOrder(){return(this.columnOrder||[]).slice()}getColumnVisibility(c){return this.columnVisibilityMap[c]}getColumnSorter(){const c=(this.columnOrder||[]).slice();return c.length?(b,a)=>{b=c.indexOf(b);a=c.indexOf(a);return-1<b&&-1<a?b-a:-1<a?1:-1<b?-1:0}:()=>0}isSet(){return!0===
this.isModified}on(c,b){return k(this,c,b)}setColumnOrder(c,b){const a=(this.columnOrder||[]).slice();c=c.slice();this.emit({type:"columnOrderChange",detail:b,newColumnOrder:c,oldColumnOrder:a});this.columnOrder=c;this.isModified=!0;this.emit({type:"afterColumnOrderChange",detail:b,newColumnOrder:c,oldColumnOrder:a})}setColumnVisibility(c,b){this.columnVisibilityMap=h(this.columnVisibilityMap,c);this.emit({type:"afterColumnVisibilityChange",visibilityMap:this.columnVisibilityMap,detail:b})}setHiddenRows(c,
b=!0){c.forEach(a=>{-1===this.hiddenRowIndexes.indexOf(a)&&b&&this.hiddenRowIndexes.push(a);-1<this.hiddenRowIndexes.indexOf(a)&&!b&&this.hiddenRowIndexes.splice(this.hiddenRowIndexes.indexOf(a),1)});this.emit({type:"afterSetHiddenRows",hiddenRows:this.hiddenRowIndexes})}getHiddenRows(){return this.hiddenRowIndexes}setHoverPoint(c,b){const a=b&&b.isDataGrid;this.hoverPoint=a?void 0:c;c instanceof HTMLElement&&(this.hoverRow=a?c:void 0);this.emit({type:"afterHoverPointChange",hoverPoint:a?void 0:this.hoverPoint,
hoverRow:a?this.hoverRow:void 0,detail:b})}getHoverPoint(){return this.hoverPoint}getSelection(){return this.selection}setSelection(c,b=!1,a){Object.keys(c).forEach(a=>{this.selection[a]=c[a]});this.emit({type:"afterSelectionChange",selection:this.selection,reset:b,detail:a})}fromJSON(c){const b=new e,{columnOrder:a,visibilityMap:h,selection:f,hoverpoint:d}=c;a&&b.setColumnOrder(a);h&&b.setColumnVisibility(h);f&&b.setSelection(f);d&&b.setHoverPoint(d);return b}toJSON(){const c={$class:"Dashboards.SharedComponentState"};
this.columnOrder&&(c.columnOrder=this.columnOrder.slice());if(this.hoverPoint){const {x:b,y:a,id:e}=this.hoverPoint;c.hoverPoint={x:b,y:a,id:e}}this.selection&&(c.selection=this.selection);this.columnVisibilityMap&&(c.columnVisibility=this.columnVisibilityMap);return c}}g.registerClassPrototype("Dashboards.SharedComponentState",e.prototype);return e});l(g,"Dashboards/Components/ComponentGroup.js",[g["Dashboards/Components/SharedComponentState.js"]],function(g){class f{static getComponentGroup(f){if(this.componentGroups[f])return this.componentGroups[f]}static addComponentGroup(f){const {id:g}=
f;this.componentGroups[g]||(this.componentGroups[g]=f)}static getGroupsFromComponent(f){return Object.keys(this.componentGroups).reduce((g,h)=>{(h=this.getComponentGroup(h))&&-1<h.components.indexOf(f)&&g.push(h);return g},[])}constructor(k){this.state=new g;this.components=[];this.id=k;f.addComponentGroup(this)}addComponents(f){for(;f.length;){const g=f.pop();if(!g)break;-1===this.components.indexOf(g)&&this.components.push(g)}}removeComponents(f){for(;f.length;){var g=f.pop();if(!g)break;g=this.components.indexOf(g);
-1<g&&this.components.splice(g,1)}}getSharedState(){return this.state}on(){throw Error("Method not implemented.");}emit(){throw Error("Method not implemented.");}}f.componentGroups={};return f});l(g,"Dashboards/Components/Sync/Emitter.js",[],function(){class g{static register(f){const {id:g}=f;this.registry[g]=f}static get(f){return this.registry[f]}constructor(f,k){this.id=f;this.func=k;g.register(this)}create(f){this.callback=this.func.call(f)}remove(){this.callback&&this.callback()}}g.registry=
{};return g});l(g,"Dashboards/Components/Sync/Handler.js",[],function(){class g{static register(f){const {id:g}=f;this.registry[g]=f}static get(f){return this.registry[f]}constructor(f,k,p){this.id=f;this.presentationStateTrigger=k;this.func=p;g.register(this)}create(f){const {activeGroup:g}=f,{func:k}=this;g&&this.presentationStateTrigger&&(this.callback=g.getSharedState().on(this.presentationStateTrigger,function(h){f.id!==(h.detail?h.detail.sender:void 0)&&k.call(f,h)}))}register(f){const {func:g}=
this;this.callback=g.call(f)}remove(){this.callback&&this.callback()}}g.registry={};return g});l(g,"Dashboards/Components/Sync/Sync.js",[g["Dashboards/Components/Sync/Emitter.js"],g["Dashboards/Components/Sync/Handler.js"]],function(g,f){class k{constructor(f,h=k.defaultHandlers){this.component=f;this.syncConfig=h;this.registeredSyncHandlers={};this.registeredSyncEmitters={};this.isSyncing=!1;this.listeners=[]}registerSyncEmitter(f){const {id:h}=f;this.registeredSyncEmitters[h]=f}isRegisteredEmitter(f){return!!this.registeredSyncEmitters[f]}registerSyncHandler(f){const {id:h}=
f;this.registeredSyncHandlers[h]=f}isRegisteredHandler(f){return!!this.registeredSyncHandlers[f]}start(){const {syncConfig:p,component:h}=this;for(const c of Object.keys(p)){if(!p[c])continue;let {emitter:b,handler:a}=p[c];if(a){"boolean"===typeof a&&(a=k.defaultHandlers[c].handler);"function"===typeof a&&(a=[c,void 0,a]);var e=new f(...a);this.isRegisteredHandler(e.id)||(this.registerSyncHandler(e),void 0!==a[1]?e.create(h):e.register(h))}b&&("boolean"===typeof b&&(b=k.defaultHandlers[c].emitter),
"function"===typeof b&&(b=[c,b]),e=new g(...b),this.isRegisteredEmitter(e.id)||(this.registerSyncEmitter(e),e.create(h)))}this.isSyncing=!0;this.listeners.push(h.on("update",()=>this.stop()))}stop(){const {component:f,listeners:h,registeredSyncHandlers:e,registeredSyncEmitters:c}=this;Object.keys(e).forEach(b=>{e[b].remove();delete e[b]});Object.keys(c).forEach(b=>{c[b].remove();delete c[b]});this.isSyncing=!1;for(let b=0,a=h.length;b<a;++b)h[b]();this.listeners.length=0;this.listeners.push(f.on("afterUpdate",
()=>{this.start()}))}}k.defaultHandlers={};return k});l(g,"Dashboards/Components/Component.js",[g["Dashboards/CallbackRegistry.js"],g["Dashboards/Components/EditableOptions.js"],g["Dashboards/Globals.js"],g["Core/Utilities.js"],g["Dashboards/Components/ComponentUtilities.js"],g["Dashboards/Components/ComponentGroup.js"],g["Dashboards/Utilities.js"],g["Dashboards/Components/Sync/Sync.js"]],function(g,f,l,p,h,e,c,b){var a=this&&this.__awaiter||function(a,b,c,d){function e(a){return a instanceof c?a:
new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,h){function f(a){try{n(d.next(a))}catch(G){h(G)}}function g(a){try{n(d["throw"](a))}catch(G){h(G)}}function n(a){a.done?c(a.value):e(a.value).then(f,g)}n((d=d.apply(a,b||[])).next())})};const {classNamePrefix:n}=l,{createElement:k,isArray:d,merge:q,fireEvent:z,addEvent:t,objectEach:v,isFunction:A,getStyle:x,relativeLength:y,diffObjects:w}=p,{getMargins:C,getPaddings:F}=h,{uniqueKey:E}=c;class D{static createTextElement(a,b,c){if("object"===
typeof c){const {className:d,text:e,style:h}=c;return k(a,{className:d||`${n}component-${b}`,textContent:e},h)}if("string"===typeof c)return k(a,{className:`${n}component-${b}`,textContent:c},{})}constructor(a,b){this.callbackRegistry=new g;this.tableEvents=[];this.cellListeners=[];this.activeGroup=void 0;this.resizeTimeouts=[];this.innerResizeTimeouts=[];this.board=a.row.layout.board;this.parentElement=a.container;this.cell=a;this.options=q(D.defaultOptions,b);this.id=this.options.id&&this.options.id.length?
this.options.id:E();this.editableOptions=new f(this,b.editableOptionsBindings);this.presentationModifier=this.options.presentationModifier;this.dimensions={width:null,height:null};this.element=k("div",{className:this.options.className},{},this.parentElement);this.contentElement=k("div",{className:`${this.options.className}-content`},{height:"100%"},this.element,!0);this.filterAndAssignSyncOptions();this.setupEventListeners();this.attachCellListeneres();this.on("tableChanged",()=>{this.onTableChanged()});
this.on("update",()=>{this.cell.setLoadingState()});this.on("afterRender",()=>{this.cell.setLoadingState(!1)})}initConnector(){var b;return a(this,void 0,void 0,function*(){if((null===(b=this.options.connector)||void 0===b?0:b.id)&&this.connectorId!==this.options.connector.id){this.cell.setLoadingState();const a=yield this.board.dataPool.getConnector(this.options.connector.id);this.setConnector(a)}return this})}filterAndAssignSyncOptions(a=this.constructor.syncHandlers){const b=this.options.sync||
{},c=Object.keys(b).reduce((c,d)=>{if(d){const e=b[d];e&&"object"===typeof e&&(c[d]=e);e&&"boolean"===typeof e&&(c[d]=a[d])}return c},{});this.sync?this.sync.syncConfig=c:void 0;this.syncHandlers=c}attachCellListeneres(){for(;this.cellListeners.length;){const a=this.cellListeners.pop();a&&a()}this.cell&&Object.keys(this.cell).length&&this.cellListeners.push(t(this.cell.row.layout.board,"cellResize",()=>{this.resizeTo(this.parentElement)}),t(this.cell.row,"cellChange",a=>{({row:a}=a);a&&this.cell&&
void 0===a.getCellIndex(this.cell)&&this.cell&&this.setCell(this.cell)}))}setCell(a,b=!1){this.cell=a;a.container&&(this.parentElement=a.container);this.attachCellListeneres();b&&this.resizeTo(this.parentElement)}setupTableListeners(a){const b=this.connector;b&&(a&&"afterDeleteColumns afterDeleteRows afterSetCell afterSetConnector afterSetColumns afterSetRows".split(" ").forEach(b=>{this.tableEvents.push(a.on(b,a=>{clearInterval(this.tableEventTimeout);this.tableEventTimeout=l.win.setTimeout(()=>
{this.emit(Object.assign(Object.assign({},a),{type:"tableChanged"}));this.tableEventTimeout=void 0},0)}))}),this.tableEvents.push(b.on("afterLoad",()=>{this.emit({target:this,type:"tableChanged"})})))}clearTableListeners(){const a=this.connector,b=this.tableEvents;b.length&&b.forEach(a=>a());a&&b.push(a.table.on("afterSetModifier",a=>{"afterSetModifier"===a.type&&this.emit(Object.assign(Object.assign({},a),{type:"tableChanged"}))}))}setConnector(a){for(z(this,"setConnector",{connector:a});this.tableEvents.length;){var b=
this.tableEvents.pop();"function"===typeof b&&b()}if(this.connector=a)if(this.clearTableListeners(),this.setupTableListeners(a.table),a.table.on("setModifier",()=>this.clearTableListeners()),a.table.on("afterSetModifier",a=>{"afterSetModifier"===a.type&&a.modified&&this.setupTableListeners(a.modified)}),b=a.table.id,e.getComponentGroup(b)||e.addComponentGroup(new e(b)),b=e.getComponentGroup(b))b.addComponents([this.id]),this.activeGroup=b;z(this,"afterSetConnector",{connector:a});return this}setActiveGroup(a){"string"===
typeof a&&(a=e.getComponentGroup(a)||null);a instanceof e&&(this.activeGroup=a);null===a&&(this.activeGroup=void 0);this.activeGroup&&this.activeGroup.addComponents([this.id])}getContentHeight(){const a=this.dimensions.height||Number(x(this.element,"height")),b=this.titleElement?this.titleElement.clientHeight+C(this.titleElement).y:0,c=this.captionElement?this.captionElement.clientHeight+C(this.captionElement).y:0;return a-b-c}resize(a,b){if(b){var c=F(this.element).y+C(this.element).y;this.dimensions.height=
y(b,Number(x(this.parentElement,"height")))-c;this.element.style.height=this.dimensions.height+"px";this.contentElement.style.height=this.getContentHeight()+"px"}a&&(c=F(this.element).x+C(this.element).x,this.dimensions.width=y(a,Number(x(this.parentElement,"width")))-c,this.element.style.width=this.dimensions.width+"px");null===b&&(this.dimensions.height=null,this.element.style.removeProperty("height"));null===a&&(this.dimensions.width=null,this.element.style.removeProperty("width"));z(this,"resize",
{width:a,height:b})}resizeTo(a){for(;this.resizeTimeouts.length;){var b=this.resizeTimeouts.pop();b&&cancelAnimationFrame(b)}b=requestAnimationFrame(()=>{const {width:b,height:c}=a.getBoundingClientRect(),d=F(a),e=C(a);this.resize(b-d.x-e.x,c-d.y-e.y)});this.resizeTimeouts.push(b)}update(b,c=!0){var d;return a(this,void 0,void 0,function*(){const a={options:b,shouldForceRerender:!1};z(this,"update",a);this.options=q(this.options,b);if((null===(d=this.options.connector)||void 0===d?0:d.id)&&this.connectorId!==
this.options.connector.id){const a=yield this.board.dataPool.getConnector(this.options.connector.id);this.setConnector(a)}this.options=q(this.options,b);(c||a.shouldForceRerender)&&this.render()})}setupEventListeners(){const a=this.options.events;a&&(Object.keys(a).forEach(b=>{const c=a[b];c&&this.callbackRegistry.addCallback(b,{type:"component",func:c})}),v(a,(a,b)=>{if(A(a))this.on(b,a)}));r.addEventListener("resize",()=>this.resizeTo(this.parentElement))}setTitle(a){const b=this.titleElement;if(a&&
("string"===typeof a||a.text)){if(a=D.createTextElement("h1","title",a))b?b.replaceWith(a):this.element.insertBefore(a,this.element.firstChild),this.titleElement=a}else b&&(b.remove(),delete this.titleElement)}setCaption(a){const b=this.captionElement;if(a&&("string"===typeof a||a.text)){if(a=D.createTextElement("div","caption",a))b?b.replaceWith(a):this.element.appendChild(a),this.titleElement=a}else b&&(b.remove(),delete this.captionElement)}load(){return a(this,void 0,void 0,function*(){yield this.initConnector();
this.render();return this})}render(){this.emit({type:"render"});this.resizeTo(this.parentElement);this.setTitle(this.options.title);this.setCaption(this.options.caption);return this}destroy(){for(;this.element.firstChild;)this.element.firstChild.remove();this.tableEvents.forEach(a=>a());this.element.remove()}on(a,b){return t(this,a,b)}emit(a){a.target||(a.target=this);z(this,a.type,a)}toJSON(){const a={width:0,height:0};v(this.dimensions,function(b,c){null!==b&&(a[c]=b)});return{$class:this.options.type,
options:{cell:this.options.cell,parentElement:this.parentElement.id,dimensions:a,id:this.id,type:this.type}}}getOptions(){return w(this.options,D.defaultOptions)}getEditableOptions(){return q(this.options)}getEditableOptionValue(a){if(a){var b=this.getEditableOptions();for(let c=0,e=a.length;c<e;c++){if(!b)return;d(b)&&(b=b[0]);b=b[a[c]]}return b}}}D.Sync=b;D.defaultOptions={className:`${n}component`,id:"",title:!1,caption:!1,sync:b.defaultHandlers,editableOptions:[{name:"connectorName",propertyPath:["connector",
"id"],type:"select"},{name:"title",propertyPath:["title"],type:"input"},{name:"caption",propertyPath:["caption"],type:"input"}]};D.syncHandlers={};return D});l(g,"Dashboards/Components/HTMLComponent.js",[g["Core/Renderer/HTML/AST.js"],g["Dashboards/Components/Component.js"],g["Core/Utilities.js"]],function(g,f,l){var k=this&&this.__awaiter||function(b,a,c,e){function d(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,h){function f(a){try{n(e.next(a))}catch(y){h(y)}}
function g(a){try{n(e["throw"](a))}catch(y){h(y)}}function n(a){a.done?c(a.value):d(a.value).then(f,g)}n((e=e.apply(b,a||[])).next())})};const {merge:h,diffObjects:e}=l;g.allowedTags=[...g.allowedTags,"option","select","label","input","textarea"];g.allowedAttributes=[...g.allowedAttributes,"for","value","checked","src","name","selected"];g.allowedReferences=[...g.allowedReferences,"data:image/"];class c extends f{static fromJSON(b,a){const e=b.options,f=b.elements?b.elements.map(a=>JSON.parse(a)):
[];a=new c(a,h(e,{elements:f}));a.emit({type:"fromJSON",json:b});return a}constructor(b,a){a=h(c.defaultOptions,a);super(b,a);this.options=a;this.type="HTML";this.elements=[];this.sync=new f.Sync(this,this.syncHandlers)}load(){const b=Object.create(null,{load:{get:()=>super.load}});return k(this,void 0,void 0,function*(){this.emit({type:"load"});yield b.load.call(this);const a=this.options;let c=!1;a.elements&&(this.elements=a.elements.map(function(a){if("string"===typeof a)return(new g(a)).nodes[0];
a.textContent||a.tagName||!a.attributes||(c=!0);return a}));this.constructTree();this.emit({type:"afterLoad"});if(c)throw Error("Missing tagName param in component: "+a.cell);return this})}render(){super.render();this.constructTree();this.emit({type:"afterRender"});return this}resize(b,a){super.resize(b,a);return this}update(b){const a=Object.create(null,{update:{get:()=>super.update}});return k(this,void 0,void 0,function*(){yield a.update.call(this,b);this.emit({type:"afterUpdate"})})}constructTree(){for(;this.contentElement.firstChild;)this.contentElement.firstChild.remove();
(new g(this.elements)).addToDOM(this.contentElement)}toJSON(){var b=(this.options.elements||[]).map(a=>JSON.stringify(a));b=h(super.toJSON(),{elements:b,options:this.options});this.emit({type:"toJSON",json:b});return b}getOptions(){return Object.assign(Object.assign({},e(this.options,c.defaultOptions)),{type:"HTML"})}onTableChanged(b){var a;(null===(a=b.detail)||void 0===a?void 0:a.sender)!==this.id&&this.render()}}c.defaultOptions=h(f.defaultOptions,{type:"HTML",elements:[]});return c});l(g,"Dashboards/Board.js",
[g["Dashboards/Actions/Bindings.js"],g["Dashboards/Components/ComponentRegistry.js"],g["Dashboards/Accessibility/DashboardsAccessibility.js"],g["Data/DataCursor.js"],g["Dashboards/SerializeHelper/DataCursorHelper.js"],g["Data/DataPool.js"],g["Dashboards/EditMode/EditMode.js"],g["Dashboards/EditMode/Fullscreen.js"],g["Dashboards/Globals.js"],g["Dashboards/Layout/Layout.js"],g["Dashboards/Serializable.js"],g["Core/Utilities.js"],g["Dashboards/Components/HTMLComponent.js"]],function(g,f,l,p,h,e,c,b,
a,n,m,d,q){const {merge:k,addEvent:t,error:v,objectEach:A,uniqueKey:x,createElement:y}=d;class w{static board(a,b,c){return(new w(a,b)).init(c)}constructor(d,h){this.container=this.boardWrapper=void 0;this.options=k(w.defaultOptions,h);this.dataPool=new e(h.dataPool);this.id=x();this.guiEnabled=(this.options.gui||{}).enabled;this.layouts=[];this.mountedComponents=[];this.initContainer(d);this.layoutsWrapper=y("div",{className:a.classNames.layoutsWrapper},{},this.container);!c||this.options.editMode&&
!this.options.editMode.enabled||(this.editMode=new c(this,this.options.editMode));this.dataCursor=new p;this.fullscreen=new b(this);this.index=a.boards.length;a.boards.push(this);this.a11y=new l(this)}init(a){var b=this.options;b.gui&&this.options.gui&&this.setLayouts(this.options.gui);b.layoutsJSON&&!this.layouts.length&&this.setLayoutsFromJSON(b.layoutsJSON);b=b.components?this.setComponents(b.components):[];this.initEvents();return a?Promise.all(b).then(()=>this):this}initEvents(){const a=this;
var b=()=>{a.reflow()};"function"===typeof ResizeObserver?(this.resizeObserver=new ResizeObserver(b),this.resizeObserver.observe(a.container)):(b=t(r,"resize",b),t(this,"destroy",b))}initContainer(b){"string"===typeof b&&(b=r.document.getElementById(b));b||v(13,!0);b.innerHTML="";this.boardWrapper=b;this.container=y("div",{className:a.classNames.boardContainer},{},this.boardWrapper)}setLayouts(a){const b=a.layouts;for(let c=0,d=b.length;c<d;++c)this.layouts.push(new n(this,k({},a.layoutOptions,b[c])))}setLayoutsFromJSON(a){let b;
for(let c=0,d=a.length;c<d;++c)(b=n.fromJSON(a[c],this))&&this.layouts.push(b)}setComponents(a){const b=[];for(let c=0,d=a.length;c<d;++c)b.push(g.addComponent(a[c]));return b}getLayoutContainerSize(){const b=this.options.responsiveBreakpoints,c=(this.layoutsWrapper||{}).clientWidth;let d=a.responsiveBreakpoints.large;b&&(c<=b.small?d=a.responsiveBreakpoints.small:c>b.small&&c<=b.medium&&(d=a.responsiveBreakpoints.medium));return d}destroy(){var b;const c=this;for(let a=0,b=c.layouts.length;a<b;++a)c.layouts[a].destroy();
null===(b=this.resizeObserver)||void 0===b?void 0:b.unobserve(c.container);c.container.remove();A(c,function(a,b){delete c[b]});a.boards[this.index]=void 0}exportLocal(){localStorage.setItem(a.classNamePrefix+"1",JSON.stringify(this.toJSON()))}importLayoutLocal(a){return n.importLocal(a,this)}reflow(){const a=this.getLayoutContainerSize();this.editMode&&(this.editMode.hideToolbars(["cell","row"]),this.editMode.hideContextPointer());for(let b=0,c=this.layouts.length;b<c;++b)this.reflowLayout(this.layouts[b],
a)}reflowLayout(a,b){let c,d;for(let e=0,h=a.rows.length;e<h;++e){c=a.rows[e];for(let a=0,e=c.cells.length;a<e;++a)d=c.cells[a],d.reflow(b),d.nestedLayout&&this.reflowLayout(d.nestedLayout,b)}}fromJSON(a){var b=a.options;b=new w(b.containerId,{componentOptions:b.componentOptions,responsiveBreakpoints:b.responsiveBreakpoints,dataPool:b.dataPool,layoutsJSON:b.layouts});b.dataCursor=h.fromJSON(a.dataCursor);return b}toJSON(){const a=[];for(let b=0,c=this.layouts.length;b<c;++b)a.push(this.layouts[b].toJSON());
return{$class:"Board",dataCursor:h.toJSON(this.dataCursor),options:{containerId:this.container.id,dataPool:this.options.dataPool,guiEnabled:this.guiEnabled,layouts:a,componentOptions:this.options.componentOptions,responsiveBreakpoints:this.options.responsiveBreakpoints}}}getOptions(){const a=[],b=[];for(let b=0,c=this.layouts.length;b<c;++b)a.push(this.layouts[b].getOptions());for(let a=0,c=this.mountedComponents.length;a<c;++a)this.mountedComponents[a].cell&&this.mountedComponents[a].cell.mountedComponent&&
b.push(this.mountedComponents[a].component.getOptions());return Object.assign(Object.assign({},this.options),{gui:{layouts:a},components:b})}}(function(b){b.defaultOptions={gui:{enabled:!0,layoutOptions:{rowClassName:void 0,cellClassName:void 0},layouts:[]},components:[],responsiveBreakpoints:{small:576,medium:992,large:1200}};b.componentTypes=f.types;b.importLocal=function(){const b=localStorage.getItem(a.classNamePrefix+"1");if(b)try{return m.fromJSON(JSON.parse(b))}catch(E){}}})(w||(w={}));m.registerClassPrototype("Board",
w.prototype);f.registerComponent("HTML",q);return w});l(g,"Dashboards/PluginHandler.js",[g["Dashboards/Board.js"],g["Dashboards/Components/Sync/Sync.js"],g["Dashboards/Components/ComponentRegistry.js"]],function(g,f,l){var k;(function(h){h.registry={};h.revision=0;h.addPlugin=function(e,c=e.name){const {maxRevision:b,minRevision:a,onRegister:n}=e;if(h.registry[c]){if(c!==e.name)throw Error(`Plugin '${c}' already registered.`);}else{if("number"===typeof a&&a>h.revision||"number"===typeof b&&b<h.revision)throw Error(`Plugin '${c}' does not support revision ${h.revision}.`);
n({Board:g,ComponentRegistry:l,Sync:f,revision:h.revision});h.registry[c]=e}};h.removePlugin=function(e){h.registry[e]&&(h.registry[e].onUnregister({ComponentRegistry:l,Board:g,Sync:f,revision:h.revision}),delete h.registry[e])}})(k||(k={}));return k});l(g,"Data/Converters/DataConverter.js",[g["Data/DataTable.js"],g["Core/Utilities.js"]],function(g,f){const {addEvent:k,fireEvent:p,isNumber:h,merge:e}=f;class c{constructor(b){this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})([\-\.\/])([0-9]{1,2})\2([0-9]{1,2})$/,
parser:function(a){return a?Date.UTC(+a[1],a[3]-1,+a[4]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[4],a[3]-1,+a[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[4],a[1]-1,+a[3]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(a){if(!a)return NaN;let b=+a[4];b=b>(new Date).getFullYear()-
2E3?b+1900:b+2E3;return Date.UTC(b,a[3]-1,+a[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(a){return a?Date.UTC(+a[4]+2E3,a[1]-1,+a[3]):NaN}}};b=e(c.defaultOptions,b);let a=b.decimalPoint;if("."===a||","===a)this.decimalRegExp=new RegExp("^(-?[0-9]+)"+("."===a?"\\.":",")+"([0-9]+)$");this.options=b}asBoolean(b){return"boolean"===typeof b?b:"string"===typeof b?""!==b&&"0"!==b&&"false"!==b:!!this.asNumber(b)}asDate(b){if("string"===
typeof b)b=this.parseDate(b);else if("number"!==typeof b){if(b instanceof Date)return b;b=this.parseDate(this.asString(b))}return new Date(b)}asGuessedType(b){return{number:this.asNumber,Date:this.asDate,string:this.asString}[this.guessType(b)].call(this,b)}asNumber(b){if("number"===typeof b)return b;if("boolean"===typeof b)return b?1:0;if("string"===typeof b){const a=this.decimalRegExp;-1<b.indexOf(" ")&&(b=b.replace(/\s+/g,""));if(a){if(!a.test(b))return NaN;b=b.replace(a,"$1.$2")}return parseFloat(b)}return b instanceof
Date?b.getDate():b?b.getRowCount():NaN}asString(b){return""+b}deduceDateFormat(b,a,c){const e=[],d=[];let h="YYYY/mm/dd",f,g=[],k=0,n=!1,p,l;if(!a||a>b.length)a=b.length;for(;k<a;k++)if("undefined"!==typeof b[k]&&b[k]&&b[k].length)for(f=b[k].trim().replace(/[-\.\/]/g," ").split(" "),g=["","",""],l=0;l<f.length;l++)l<g.length&&(p=parseInt(f[l],10))&&(d[l]=!d[l]||d[l]<p?p:d[l],"undefined"!==typeof e[l]?e[l]!==p&&(e[l]=!1):e[l]=p,31<p?g[l]=100>p?"YY":"YYYY":12<p&&31>=p?(g[l]="dd",n=!0):g[l].length||
(g[l]="mm"));if(n){for(l=0;l<e.length;l++)!1!==e[l]?12<d[l]&&"YY"!==g[l]&&"YYYY"!==g[l]&&(g[l]="YY"):12<d[l]&&"mm"===g[l]&&(g[l]="dd");3===g.length&&"dd"===g[1]&&"dd"===g[2]&&(g[2]="YY");h=g.join("/")}c&&(this.options.dateFormat=h);return h}emit(b){p(this,b.type,b)}export(){this.emit({type:"exportError",columns:[],headers:[]});throw Error("Not implemented");}getTable(){throw Error("Not implemented");}guessType(b){var a="string";if("string"===typeof b){var c=this.trim(`${b}`),e=this.decimalRegExp;
c=this.trim(c,!0);e&&(c=e.test(c)?c.replace(e,"$1.$2"):"");e=parseFloat(c);+c===e?b=e:(a=this.parseDate(b),a=h(a)?"Date":"string")}"number"===typeof b&&(a=31536E6<b?"Date":"number");return a}on(b,a){return k(this,b,a)}parse(){this.emit({type:"parseError",columns:[],headers:[]});throw Error("Not implemented");}parseDate(b,a){var c=this.options;let e=a||c.dateFormat;a=NaN;let d,f;if(c.parseDate)a=c.parseDate(b);else{if(e)(c=this.dateFormats[e])||(c=this.dateFormats["YYYY/mm/dd"]),(f=b.match(c.regex))&&
(a=c.parser(f));else for(d in this.dateFormats)if(c=this.dateFormats[d],f=b.match(c.regex)){a=c.parser(f);break}f||(f=Date.parse(b),"object"===typeof f&&null!==f&&f.getTime?a=f.getTime()-6E4*f.getTimezoneOffset():h(f)&&(a=f-6E4*(new Date(f)).getTimezoneOffset(),-1===b.indexOf("2001")&&2001===(new Date(a)).getFullYear()&&(a=NaN)))}return a}trim(b,a){"string"===typeof b&&(b=b.replace(/^\s+|\s+$/g,""),a&&/^[0-9\s]+$/.test(b)&&(b=b.replace(/\s/g,"")));return b}}c.defaultOptions={dateFormat:"",alternativeFormat:"",
startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1};(function(b){b.getTableFromColumns=function(a=[],b=[]){const c=new g;for(let d=0,e=Math.max(b.length,a.length);d<e;++d)c.setColumn(b[d]||`${d}`,a[d]);return c}})(c||(c={}));return c});l(g,"Data/Converters/CSVConverter.js",[g["Data/Converters/DataConverter.js"],g["Core/Utilities.js"]],function(g,f){const {merge:k}=f;class p extends g{constructor(h){h=k(p.defaultOptions,h);super(h);
this.columns=[];this.headers=[];this.dataTypes=[];this.options=h}export(h,e=this.options){const {useLocalDecimalPoint:c,lineDelimiter:b}=e;var a=!1!==this.options.firstRowAsNames;let {decimalPoint:f,itemDelimiter:g}=e;f||(f=","!==g&&c?(1.1).toLocaleString()[1]:".");g||(g=","===f?";":",");e=h.getSortedColumns(e.usePresentationOrder);const d=Object.keys(e),k=[],p=d.length,t=[];a&&k.push(d.map(a=>`"${a}"`).join(g));for(a=0;a<p;a++){var l=d[a];const b=e[l],c=b.length;l=h.whatIs(l);let n;l&&(n=l.dataType);
for(l=0;l<c;l++){var r=b[l];t[l]||(t[l]=[]);"string"===n?r='"'+r+'"':"number"===typeof r?r=String(r).replace(".",f):"string"===typeof r&&(r=`"${r}"`);t[l][a]=r;if(a===p-1){for(r=a;2<t[l].length&&void 0===t[l][r];)t[l].pop(),r--;k.push(t[l].join(g))}}}return k.join(b)}parse(h,e){var c=this.dataTypes;h=k(this.options,h);const {beforeParse:b,lineDelimiter:a,firstRowAsNames:f,itemDelimiter:g}=h;let {csv:d,startRow:q,endRow:p}=h;this.columns=[];this.emit({type:"parse",columns:this.columns,detail:e,headers:this.headers});
d&&b&&(d=b(d));if(d){h=d.replace(/\r\n|\r/g,"\n").split(a||"\n");if(!q||0>q)q=0;if(!p||p>=h.length)p=h.length-1;g||(this.guessedItemDelimiter=this.guessDelimiter(h));if(f){var l=h[0].split(g||this.guessedItemDelimiter||",");for(var v=0;v<l.length;v++)l[v]=l[v].trim().replace(/^["']|["']$/g,"");this.headers=l;q++}v=0;for(l=q;l<=p;l++)"#"===h[l][0]?v++:this.parseCSVRow(h[l],l-q-v);c.length&&c[0].length&&"date"===c[0][1]&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0);for(let a=
0,b=this.columns.length;a<b;++a){c=this.columns[a];for(let b=0,d=c.length;b<d;++b)c[b]&&"string"===typeof c[b]&&(h=this.asGuessedType(c[b]),h instanceof Date&&(h=h.getTime()),this.columns[a][b]=h)}}this.emit({type:"afterParse",columns:this.columns,detail:e,headers:this.headers})}parseCSVRow(h,e){const c=this,b=c.columns||[],a=c.dataTypes,{startColumn:f,endColumn:g}=c.options,d=c.options.itemDelimiter||c.guessedItemDelimiter;let {decimalPoint:k}=c.options;k&&k!==d||(k=c.guessedDecimalPoint||".");let l=
0,p="",v="",r=0,x=0;const w=b=>{a.length<x+1&&a.push([b]);a[x][a[x].length-1]!==b&&a[x].push(b)},B=()=>{if(f>r||r>g)++r,v="";else{"string"===typeof v?!isNaN(parseFloat(v))&&isFinite(v)?(v=parseFloat(v),w("number")):isNaN(Date.parse(v))?w("string"):(v=v.replace(/\//g,"-"),w("date")):w("number");b.length<x+1&&b.push([]);if("number"!==typeof v&&"number"!==c.guessType(v)&&k){const a=v;v=v.replace(k,".");"number"!==c.guessType(v)&&(v=a)}b[x][e]=v;v="";++x;++r}};if(h.trim().length&&"#"!==h.trim()[0]){for(;l<
h.length;l++){p=h[l];if("#"===p&&!/^#[0-F]{3,3}|[0-F]{6,6}/i.test(h.substring(l))){B();return}if('"'===p)for(p=h[++l];l<h.length&&'"'!==p;)v+=p,p=h[++l];else p===d?B():v+=p}B()}}guessDelimiter(h){let e=0,c=0;const b={",":0,";":0,"\t":0},a=h.length;for(let f=0;f<a;f++){let a=!1,d,g,k,n="";if(13<f)break;const p=h[f];for(let h=0;h<p.length;h++){d=p[h];g=p[h+1];k=p[h-1];if("#"===d)break;if('"'===d)if(a){if('"'!==k&&'"'!==g){for(;" "===g&&h<p.length;)g=p[++h];"undefined"!==typeof b[g]&&b[g]++;a=!1}}else a=
!0;else"undefined"!==typeof b[d]?(n=n.trim(),isNaN(Date.parse(n))?!isNaN(Number(n))&&isFinite(Number(n))||b[d]++:b[d]++,n=""):n+=d;","===d&&c++;"."===d&&e++}}h=b[";"]>b[","]?";":",";this.guessedDecimalPoint=e>c?".":",";return h}getTable(){return g.getTableFromColumns(this.columns,this.headers)}}p.defaultOptions=Object.assign(Object.assign({},g.defaultOptions),{lineDelimiter:"\n"});return p});l(g,"Data/Connectors/CSVConnector.js",[g["Data/Converters/CSVConverter.js"],g["Data/Connectors/DataConnector.js"],
g["Core/Utilities.js"]],function(g,f,l){const {merge:k}=l;class h extends f{constructor(e){e=k(h.defaultOptions,e);super(e);this.converter=new g(e);this.options=e;e.enablePolling&&this.startPolling(1E3*Math.max(e.dataRefreshRate||0,1))}load(e){const c=this,b=c.converter,a=c.table,{csv:h,csvURL:f,dataModifier:d}=c.options;c.emit({type:"load",csv:h,detail:e,table:a});a.deleteRows();return Promise.resolve(h?h:f?fetch(f||"").then(a=>a.text()):"").then(e=>{e&&(b.parse({csv:e}),a.setColumns(b.getTable().getColumns()));
return c.setModifierOptions(d).then(()=>e)}).then(b=>{c.emit({type:"afterLoad",csv:b,detail:e,table:a});return c})["catch"](b=>{c.emit({type:"loadError",detail:e,error:b,table:a});throw b;})}}h.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1,firstRowAsNames:!0};f.registerType("CSV",h);return h});l(g,"Data/Converters/JSONConverter.js",[g["Data/Converters/DataConverter.js"],g["Data/DataTable.js"],g["Core/Utilities.js"]],function(g,f,l){const {merge:k,isArray:h}=l;class e extends g{constructor(c){c=
k(e.defaultOptions,c);super(c);this.columns=[];this.headers=[];this.dataTypes=[];this.options=c;this.table=new f}parse(c){c=k(this.options,c);const {beforeParse:b,orientation:a,firstRowAsNames:e,columnNames:f}=c;if(c=c.data)if(b&&(c=b(c)),c=c.slice(),"columns"===a)for(let a=0,b=c.length;a<b;a++){var d=c[a];if(!(d instanceof Array))break;e?this.headers.push(`${d.shift()}`):f&&this.headers.push(f[a]);this.table.setColumn(this.headers[a]||a.toString(),d)}else if("rows"===a){e?this.headers=c.shift():
f&&(this.headers=f);for(let a=0,b=c.length;a<b;a++)if(d=c[a],h(d))for(let b=0,c=d.length;b<c;b++)this.columns.length<b+1&&this.columns.push([]),this.columns[b].push(d[b]),this.table.setCell(this.headers[b]||a.toString(),a,d[b]);else this.table.setRows([d],a)}}getTable(){return this.table}}e.defaultOptions=Object.assign(Object.assign({},g.defaultOptions),{data:[],orientation:"columns"});return e});l(g,"Data/Connectors/JSONConnector.js",[g["Data/Connectors/DataConnector.js"],g["Core/Utilities.js"],
g["Data/Converters/JSONConverter.js"]],function(g,f,l){const {merge:k}=f;class h extends g{constructor(e){e=k(h.defaultOptions,e);super(e);this.converter=new l(e);this.options=e;e.enablePolling&&this.startPolling(1E3*Math.max(e.dataRefreshRate||0,1))}load(e){const c=this,b=c.converter,a=c.table,{data:h,dataUrl:f,dataModifier:d}=c.options;c.emit({type:"load",data:h,detail:e,table:a});a.deleteRows();return Promise.resolve(f?fetch(f).then(a=>a.json()):h?h:[]).then(e=>{e&&(b.parse({data:e}),a.setColumns(b.getTable().getColumns()));
return c.setModifierOptions(d).then(()=>e)}).then(b=>{c.emit({type:"afterLoad",data:b,detail:e,table:a});return c})["catch"](b=>{c.emit({type:"loadError",detail:e,error:b,table:a});throw b;})}}h.defaultOptions={data:[],enablePolling:!1,dataRefreshRate:0,firstRowAsNames:!0,orientation:"rows"};g.registerType("JSON",h);return h});l(g,"Data/Converters/HTMLTableConverter.js",[g["Data/Converters/DataConverter.js"],g["Core/Utilities.js"]],function(g,f){const {merge:k}=f;class l extends g{constructor(h){h=
k(l.defaultOptions,h);super(h);this.columns=[];this.headers=[];this.options=h;h.tableElement&&(this.tableElement=h.tableElement,this.tableElementID=h.tableElement.id)}export(h,e=this.options){var c=!1!==e.firstRowAsNames,b=e.useMultiLevelHeaders,a=h.getSortedColumns(e.usePresentationOrder);const f=Object.keys(a);h=[];const g=f.length,d=[];var k="";if(c)if(k=[],b){for(var l of f)b=(a[l].shift()||"").toString(),k.push(b);k=this.getTableHeaderHTML(f,k,e)}else k=this.getTableHeaderHTML(void 0,f,e);for(l=
0;l<g;l++){b=a[f[l]];c=b.length;for(let a=0;a<c;a++){let c=b[a];d[a]||(d[a]=[]);"string"!==typeof c&&"number"!==typeof c&&"undefined"!==typeof c&&(c=(c||"").toString());d[a][l]=this.getCellHTMLFromValue(l?"td":"th",null,l?"":'scope="row"',c);l===g-1&&h.push("<tr>"+d[a].join("")+"</tr>")}}a="";e.tableCaption&&(a='<caption class="highcharts-table-caption">'+e.tableCaption+"</caption>");return"<table>"+a+k+"<tbody>"+h.join("")+"</tbody></table>"}getCellHTMLFromValue(h,e,c,b,a){let f=b;e="text"+(e?" "+
e:"");"number"===typeof f?(f=f.toString(),","===a&&(f=f.replace(".",a)),e="number"):b||(f="",e="empty");return"<"+h+(c?" "+c:"")+' class="'+e+'">'+f+"</"+h+">"}getTableHeaderHTML(h=[],e=[],c=this.options){const {useMultiLevelHeaders:b,useRowspanHeaders:a}=c;c.useLocalDecimalPoint&&(1.1).toLocaleString();c="<thead>";let f=0,g=e&&e.length;var d;let k=0;if(d=b&&h&&e){a:if(d=h.length,e.length===d){for(;--d;)if(h[d]!==e[d]){d=!1;break a}d=!0}else d=!1;d=!d}if(d){for(c+="<tr>";f<g;++f){d=h[f];var l=h[f+
1];d===l?++k:k?(c+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(k+1)+'"',d),k=0):(d===e[f]?a?(l=2,delete e[f]):(l=1,e[f]=""):l=1,c+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(1<l?' valign="top" rowspan="'+l+'"':""),d))}c+="</tr>"}if(e){c+="<tr>";f=0;for(g=e.length;f<g;++f)"undefined"!==typeof e[f]&&(c+=this.getCellHTMLFromValue("th",null,'scope="col"',e[f]));c+="</tr>"}return c+"</thead>"}parse(f,e){const c=[],b=[];var a=k(this.options,
f);const {endRow:h,startColumn:g,endColumn:d,firstRowAsNames:l}=a;f=a.tableElement||this.tableElement;if(f instanceof HTMLElement){this.tableElement=f;this.tableElementID=f.id;this.emit({type:"parse",columns:this.columns,detail:e,headers:this.headers});f=f.getElementsByTagName("tr");var p=f.length,t=0;({startRow:a}=a);if(l&&p){var r=f[0].children,w=r.length;for(var x=g;x<w&&!(x>d);x++){var y=r[x];"TD"!==y.tagName&&"TH"!==y.tagName||b.push(y.innerHTML)}a++}for(;t<p;){if(t>=a&&t<=h)for(r=f[t].children,
w=r.length,x=0;x<w;){const b=x-g,e=c[b];y=r[x];if(("TD"===y.tagName||"TH"===y.tagName)&&x>=g&&x<=d)for(c[b]||(c[b]=[]),y=this.asGuessedType(y.innerHTML),y instanceof Date&&(y=y.getTime()),c[b][t-a]=y,y=1;t-a>=y&&void 0===e[t-a-y];)e[t-a-y]=null,y++;x++}t++}this.columns=c;this.headers=b;this.emit({type:"afterParse",columns:c,detail:e,headers:b})}else this.emit({type:"parseError",columns:c,detail:e,headers:b,error:"Not a valid HTML Table"})}getTable(){return g.getTableFromColumns(this.columns,this.headers)}}
l.defaultOptions=Object.assign(Object.assign({},g.defaultOptions),{useRowspanHeaders:!0,useMultiLevelHeaders:!0});return l});l(g,"Data/Connectors/HTMLTableConnector.js",[g["Data/Connectors/DataConnector.js"],g["Core/Globals.js"],g["Data/Converters/HTMLTableConverter.js"],g["Core/Utilities.js"]],function(g,f,l,p){const {win:h}=f,{merge:e}=p;class c extends g{constructor(b){b=e(c.defaultOptions,b);super(b);this.converter=new l(b);this.options=b}load(b){const a=this,c=a.converter,f=a.table,{dataModifier:d,
table:g}=a.options;a.emit({type:"load",detail:b,table:f,tableElement:a.tableElement});f.deleteColumns();let k;"string"===typeof g?(a.tableID=g,k=h.document.getElementById(g)):(k=g,a.tableID=k.id);a.tableElement=k||void 0;if(!a.tableElement)return a.emit({type:"loadError",detail:b,error:"HTML table not provided, or element with ID not found",table:f}),Promise.reject(Error("HTML table not provided, or element with ID not found"));c.parse(e({tableElement:a.tableElement},a.options),b);f.setColumns(c.getTable().getColumns());
return a.setModifierOptions(d).then(()=>{a.emit({type:"afterLoad",detail:b,table:f,tableElement:a.tableElement});return a})}}c.defaultOptions={table:""};g.registerType("HTMLTable",c);return c});l(g,"Data/Converters/GoogleSheetsConverter.js",[g["Data/Converters/DataConverter.js"],g["Core/Utilities.js"]],function(g,f){const {merge:k,uniqueKey:l}=f;class h extends g{constructor(e){e=k(h.defaultOptions,e);super(e);this.columns=[];this.header=[];this.options=e}parse(e,c){e=k(this.options,e);const b=(e.json&&
e.json.values||[]).map(a=>a.slice());if(0===b.length)return!1;this.header=[];this.columns=[];this.emit({type:"parse",columns:this.columns,detail:c,headers:this.header});this.columns=b;let a;for(let c=0,f=b.length;c<f;c++){a=b[c];this.header[c]=e.firstRowAsNames?`${a.shift()}`:l();for(let b=0,e=a.length;b<e;++b)if(a[b]&&"string"===typeof a[b]){let d=this.asGuessedType(a[b]);d instanceof Date&&(d=d.getTime());this.columns[c][b]=d}}this.emit({type:"afterParse",columns:this.columns,detail:c,headers:this.header})}getTable(){return g.getTableFromColumns(this.columns,
this.header)}}h.defaultOptions=Object.assign({},g.defaultOptions);return h});l(g,"Data/Connectors/GoogleSheetsConnector.js",[g["Data/Connectors/DataConnector.js"],g["Data/Converters/GoogleSheetsConverter.js"],g["Core/Utilities.js"]],function(g,f,l){const {merge:k,pick:h}=l;class e extends g{constructor(c){c=k(e.defaultOptions,c);super(c);this.converter=new f(c);this.options=c}load(c){const b=this,a=b.converter,f=b.table,{dataModifier:h,dataRefreshRate:d,enablePolling:g,firstRowAsNames:k,googleAPIKey:l,
googleSpreadsheetKey:p}=b.options,r=e.buildFetchURL(l,p,b.options);b.emit({type:"load",detail:c,table:f,url:r});f.deleteColumns();return fetch(r).then(a=>a.json()).then(c=>{if("object"===typeof c&&c&&"object"===typeof c.error&&c.error&&"number"===typeof c.error.code&&"string"===typeof c.error.message&&"string"===typeof c.error.status)throw Error(c.error.message);a.parse({firstRowAsNames:k,json:c});f.setColumns(a.getTable().getColumns());return b.setModifierOptions(h)}).then(()=>{b.emit({type:"afterLoad",
detail:c,table:f,url:r});g&&setTimeout(()=>b.load(),1E3*Math.max(d||0,1));return b})["catch"](a=>{b.emit({type:"loadError",detail:c,error:a,table:f});throw a;})}}e.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",worksheet:1,enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0};(function(c){function b(a={}){const {endColumn:b,endRow:c,googleSpreadsheetRange:d,startColumn:e,startRow:f}=a;return d||("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e||0]||"A")+(Math.max(f||0,0)+1)+":"+("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[h(b,
25)]||"Z")+(c?Math.max(c,0):"Z")}c.buildFetchURL=function(a,c,e={}){return`https://sheets.googleapis.com/v4/spreadsheets/${c}/values/`+(e.onlyColumnNames?"A1:Z1":b(e))+"?alt=json"+(e.onlyColumnNames?"":"&dateTimeRenderOption=FORMATTED_STRING&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE")+"&prettyPrint=false"+`&key=${a}`};c.buildQueryRange=b})(e||(e={}));g.registerType("GoogleSheets",e);return e});l(g,"Data/Modifiers/ChainModifier.js",[g["Data/Modifiers/DataModifier.js"],g["Core/Utilities.js"]],
function(g,f){const {merge:k}=f;class l extends g{constructor(f,...e){super();this.chain=e;this.options=k(l.defaultOptions,f);f=this.options.chain||[];for(let c=0,b=f.length,a,h;c<b;++c)a=f[c],a.type&&(h=g.types[a.type])&&e.push(new h(a))}add(f,e){this.emit({type:"addModifier",detail:e,modifier:f});this.chain.push(f);this.emit({type:"addModifier",detail:e,modifier:f})}clear(f){this.emit({type:"clearChain",detail:f});this.chain.length=0;this.emit({type:"afterClearChain",detail:f})}modify(f,e){const c=
this.options.reverse?this.chain.slice().reverse():this.chain.slice();f.modified===f&&(f.modified=f.clone(!1,e));let b=Promise.resolve(f);for(let a=0,f=c.length;a<f;++a){const f=c[a];b=b.then(a=>f.modify(a.modified,e))}b=b.then(a=>{f.modified.deleteColumns();f.modified.setColumns(a.modified.getColumns());return f});return b=b["catch"](a=>{this.emit({type:"error",detail:e,table:f});throw a;})}modifyCell(f,e,c,b,a){const g=this.options.reverse?this.chain.reverse():this.chain;if(g.length){let h=f.clone();
for(let d=0,f=g.length;d<f;++d)g[d].modifyCell(h,e,c,b,a),h=h.modified;f.modified=h}return f}modifyColumns(f,e,c,b){const a=this.options.reverse?this.chain.reverse():this.chain.slice();if(a.length){let g=f.clone();for(let f=0,d=a.length;f<d;++f)a[f].modifyColumns(g,e,c,b),g=g.modified;f.modified=g}return f}modifyRows(f,e,c,b){const a=this.options.reverse?this.chain.reverse():this.chain.slice();if(a.length){let g=f.clone();for(let f=0,d=a.length;f<d;++f)a[f].modifyRows(g,e,c,b),g=g.modified;f.modified=
g}return f}modifyTable(f,e){this.emit({type:"modify",detail:e,table:f});const c=this.options.reverse?this.chain.reverse():this.chain.slice();let b=f.modified;for(let a=0,f=c.length,g;a<f;++a)g=c[a],b=g.modifyTable(b,e).modified;f.modified=b;this.emit({type:"afterModify",detail:e,table:f});return f}remove(f,e){const c=this.chain;this.emit({type:"removeModifier",detail:e,modifier:f});c.splice(c.indexOf(f),1);this.emit({type:"afterRemoveModifier",detail:e,modifier:f})}}l.defaultOptions={type:"Chain"};
g.registerType("Chain",l);return l});l(g,"Data/Modifiers/InvertModifier.js",[g["Data/Modifiers/DataModifier.js"],g["Core/Utilities.js"]],function(g,f){const {merge:k}=f;class l extends g{constructor(f){super();this.options=k(l.defaultOptions,f)}modifyCell(f,e,c,b,a){const g=f.modified;e=g.getRowIndexBy("columnNames",e);"undefined"===typeof e?g.setColumns(this.modifyTable(f.clone()).getColumns(),void 0,a):g.setCell(`${c}`,e,b,a);return f}modifyColumns(f,e,c,b){const a=f.modified,g=a.getColumn("columnNames")||
[];let h=f.getColumnNames(),d=f.getRowCount()!==g.length;if(!d)for(let a=0,b=h.length;a<b;++a)if(h[a]!==g[a]){d=!0;break}if(d)return this.modifyTable(f,b);h=Object.keys(e);for(let d=0,f=h.length,g,k,n;d<f;++d){k=h[d];g=e[k];n=a.getRowIndexBy("columnNames",k)||a.getRowCount();for(let d=0,e=c,f=g.length;d<f;++d,++e)a.setCell(`${e}`,n,g[d],b)}return f}modifyRows(f,e,c,b){const a=f.getColumnNames(),g=f.modified,h=g.getColumn("columnNames")||[];let d=f.getRowCount()!==h.length;if(!d)for(let b=0,c=a.length;b<
c;++b)if(a[b]!==h[b]){d=!0;break}if(d)return this.modifyTable(f,b);for(let d=0,f=c,h=e.length,k;d<h;++d,++f)if(k=e[d],k instanceof Array)g.setColumn(`${f}`,k);else for(let c=0,d=a.length;c<d;++c)g.setCell(`${f}`,c,k[a[c]],b);return f}modifyTable(f,e){this.emit({type:"modify",detail:e,table:f});const c=f.modified;if(f.hasColumns(["columnNames"])){var b=((f.deleteColumns(["columnNames"])||{}).columnNames||[]).map(a=>`${a}`);const a={};for(let c=0,e=f.getRowCount(),d;c<e;++c)(d=f.getRow(c))&&(a[b[c]]=
d);c.deleteColumns();c.setColumns(a)}else{b={};for(let a=0,c=f.getRowCount(),e;a<c;++a)(e=f.getRow(a))&&(b[`${a}`]=e);b.columnNames=f.getColumnNames();c.deleteColumns();c.setColumns(b)}this.emit({type:"afterModify",detail:e,table:f});return f}}l.defaultOptions={type:"Invert"};g.registerType("Invert",l);return l});l(g,"Data/Modifiers/RangeModifier.js",[g["Data/Modifiers/DataModifier.js"],g["Core/Utilities.js"]],function(g,f){const {merge:k}=f;class l extends g{constructor(f){super();this.options=k(l.defaultOptions,
f)}modifyTable(f,e){this.emit({type:"modify",detail:e,table:f});const {additive:c,ranges:b,strict:a}=this.options;if(b.length){const e=f.modified;let g=f.getColumns(),d=[];for(let h=0,k=b.length,m,l;h<k;++h)if(m=b[h],!a||typeof m.minValue===typeof m.maxValue){0<h&&!c&&(e.deleteRows(),e.setRows(d),g=e.getColumns(),d=[]);l=g[m.column]||[];for(let b=0,g=l.length,h,k;b<g;++b){h=l[b];switch(typeof h){default:continue;case "boolean":case "number":case "string":}(!a||typeof h===typeof m.minValue)&&h>=m.minValue&&
h<=m.maxValue&&(k=c?f.getRow(b):e.getRow(b))&&d.push(k)}}e.deleteRows();e.setRows(d)}this.emit({type:"afterModify",detail:e,table:f});return f}}l.defaultOptions={type:"Range",ranges:[]};g.registerType("Range",l);return l});l(g,"Data/Modifiers/SortModifier.js",[g["Data/Modifiers/DataModifier.js"],g["Data/DataTable.js"],g["Core/Utilities.js"]],function(g,f,l){const {merge:k}=l;class h extends g{static ascending(e,c){return(e||0)<(c||0)?-1:(e||0)>(c||0)?1:0}static descending(e,c){return(c||0)<(e||0)?
-1:(c||0)>(e||0)?1:0}constructor(e){super();this.options=k(h.defaultOptions,e)}getRowReferences(e){e=e.getRows();const c=[];for(let b=0,a=e.length;b<a;++b)c.push({index:b,row:e[b]});return c}modifyCell(e,c,b,a,g){const {orderByColumn:h,orderInColumn:d}=this.options;c===h&&(d?(e.modified.setCell(c,b,a),e.modified.setColumn(d,this.modifyTable(new f({columns:e.getColumns([h,d])})).modified.getColumn(d))):this.modifyTable(e,g));return e}modifyColumns(e,c,b,a){const {orderByColumn:g,orderInColumn:h}=this.options,
d=Object.keys(c);-1<d.indexOf(g)&&(h&&c[d[0]].length?(e.modified.setColumns(c,b),e.modified.setColumn(h,this.modifyTable(new f({columns:e.getColumns([g,h])})).modified.getColumn(h))):this.modifyTable(e,a));return e}modifyRows(e,c,b,a){const {orderByColumn:g,orderInColumn:h}=this.options;h&&c.length?(e.modified.setRows(c,b),e.modified.setColumn(h,this.modifyTable(new f({columns:e.getColumns([g,h])})).modified.getColumn(h))):this.modifyTable(e,a);return e}modifyTable(e,c){this.emit({type:"modify",detail:c,
table:e});var b=e.getColumnNames();const a=e.getRowCount(),f=this.getRowReferences(e),{direction:g,orderByColumn:d,orderInColumn:k}=this.options,l="asc"===g?h.ascending:h.descending,p=b.indexOf(d);b=e.modified;-1!==p&&f.sort((a,b)=>l(a.row[p],b.row[p]));if(k){var r=[];for(var w=0;w<a;++w)r[f[w].index]=w;b.setColumns({[k]:r})}else{r=[];for(w=0;w<a;++w)r.push(f[w].row);b.setRows(r,0)}this.emit({type:"afterModify",detail:c,table:e});return e}}h.defaultOptions={type:"Sort",direction:"desc",orderByColumn:"y"};
g.registerType("Sort",h);return h});l(g,"masters/dashboards.src.js",[g["Data/Connectors/DataConnector.js"],g["Dashboards/Board.js"],g["Dashboards/Components/Component.js"],g["Dashboards/Components/ComponentRegistry.js"],g["Data/DataPool.js"],g["Data/DataCursor.js"],g["Data/Modifiers/DataModifier.js"],g["Data/DataTable.js"],g["Dashboards/Globals.js"],g["Dashboards/PluginHandler.js"],g["Dashboards/Components/Sync/Sync.js"],g["Dashboards/Utilities.js"]],function(g,f,l,p,h,e,c,b,a,n,m,d){a.board=f.board;
a.merge=d.merge;a.uniqueKey=d.uniqueKey;a.Board=f;a.Component=l;a.ComponentRegistry=p;a.DataConnector=g;a.DataCursor=e;a.DataModifier=c;a.DataPool=h;a.DataTable=b;a.PluginHandler=n;a.Sync=m;a.win.Dashboards||(a.win.Dashboards=a);return a});g["masters/dashboards.src.js"]._modules=g;return g["masters/dashboards.src.js"]});
//# sourceMappingURL=dashboards.js.map