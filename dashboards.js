/*
 Highcharts Dashboards v1.0.2 (2023-08-10)

 (c) 2009-2023 Highsoft AS

 License: www.highcharts.com/license
*/
'use strict';var t=t||{};t.scope={};t.arrayIteratorImpl=function(r){var m=0;return function(){return m<r.length?{done:!1,value:r[m++]}:{done:!0}}};t.arrayIterator=function(r){return{next:t.arrayIteratorImpl(r)}};t.ASSUME_ES5=!1;t.ASSUME_NO_NATIVE_MAP=!1;t.ASSUME_NO_NATIVE_SET=!1;t.SIMPLE_FROUND_POLYFILL=!1;t.ISOLATE_POLYFILLS=!1;
t.defineProperty=t.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(r,m,h){if(r==Array.prototype||r==Object.prototype)return r;r[m]=h.value;return r};t.getGlobal=function(r){r=["object"==typeof globalThis&&globalThis,r,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var m=0;m<r.length;++m){var h=r[m];if(h&&h.Math==Math)return h}throw Error("Cannot find global object");};t.global=t.getGlobal(this);
t.SYMBOL_PREFIX="jscomp_symbol_";t.initSymbol=function(){t.initSymbol=function(){};t.global.Symbol||(t.global.Symbol=t.Symbol)};t.SymbolClass=function(r,m){this.$jscomp$symbol$id_=r;t.defineProperty(this,"description",{configurable:!0,writable:!0,value:m})};t.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
t.Symbol=function(){function r(h){if(this instanceof r)throw new TypeError("Symbol is not a constructor");return new t.SymbolClass(t.SYMBOL_PREFIX+(h||"")+"_"+m++,h)}var m=0;return r}();
t.initSymbolIterator=function(){t.initSymbol();var r=t.global.Symbol.iterator;r||(r=t.global.Symbol.iterator=t.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[r]&&t.defineProperty(Array.prototype,r,{configurable:!0,writable:!0,value:function(){return t.iteratorPrototype(t.arrayIteratorImpl(this))}});t.initSymbolIterator=function(){}};
t.initSymbolAsyncIterator=function(){t.initSymbol();var r=t.global.Symbol.asyncIterator;r||(r=t.global.Symbol.asyncIterator=t.global.Symbol("Symbol.asyncIterator"));t.initSymbolAsyncIterator=function(){}};t.iteratorPrototype=function(r){t.initSymbolIterator();r={next:r};r[t.global.Symbol.iterator]=function(){return this};return r};
t.iteratorFromArray=function(r,m){t.initSymbolIterator();r instanceof String&&(r+="");var h=0,k={next:function(){if(h<r.length){var f=h++;return{value:m(f,r[f]),done:!1}}k.next=function(){return{done:!0,value:void 0}};return k.next()}};k[Symbol.iterator]=function(){return k};return k};t.polyfills={};t.propertyToPolyfillSymbol={};t.POLYFILL_PREFIX="$jscp$";t.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
t.polyfill=function(r,m,h,k){m&&(t.ISOLATE_POLYFILLS?t.polyfillIsolated(r,m,h,k):t.polyfillUnisolated(r,m,h,k))};t.polyfillUnisolated=function(r,m){var h=t.global;r=r.split(".");for(var k=0;k<r.length-1;k++){var f=r[k];f in h||(h[f]={});h=h[f]}r=r[r.length-1];k=h[r];m=m(k);m!=k&&null!=m&&t.defineProperty(h,r,{configurable:!0,writable:!0,value:m})};
t.polyfillIsolated=function(r,m,h){var k=r.split(".");r=1===k.length;var f=k[0];f=!r&&f in t.polyfills?t.polyfills:t.global;for(var y=0;y<k.length-1;y++){var n=k[y];n in f||(f[n]={});f=f[n]}k=k[k.length-1];h=t.IS_SYMBOL_NATIVE&&"es6"===h?f[k]:null;m=m(h);null!=m&&(r?t.defineProperty(t.polyfills,k,{configurable:!0,writable:!0,value:m}):m!==h&&(t.propertyToPolyfillSymbol[k]=t.IS_SYMBOL_NATIVE?t.global.Symbol(k):t.POLYFILL_PREFIX+k,k=t.propertyToPolyfillSymbol[k],t.defineProperty(f,k,{configurable:!0,
writable:!0,value:m})))};t.polyfill("Array.prototype.values",function(r){return r?r:function(){return t.iteratorFromArray(this,function(m,h){return h})}},"es8","es3");
(function(r,m){"object"===typeof module&&module.exports?(m["default"]=m,module.exports=r.document?m(r):m):"function"===typeof define&&define.amd?define("dashboards/dashboards",function(){return m(r)}):(r.Dashboards&&r.Dashboards.error(16,!0),r.Dashboards=m(r))})("undefined"!==typeof window?window:this,function(r){function m(k,f,h,n){k.hasOwnProperty(f)||(k[f]=n.apply(null,h),"function"===typeof CustomEvent&&r.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:f,module:k[f]}})))}
var h={};m(h,"Core/Globals.js",[],function(){var k;(function(f){f.SVG_NS="http://www.w3.org/2000/svg";f.product="Highcharts";f.version="1.0.2";f.win="undefined"!==typeof r?r:{};f.doc=f.win.document;f.svg=f.doc&&f.doc.createElementNS&&!!f.doc.createElementNS(f.SVG_NS,"svg").createSVGRect;f.userAgent=f.win.navigator&&f.win.navigator.userAgent||"";f.isChrome=-1!==f.userAgent.indexOf("Chrome");f.isFirefox=-1!==f.userAgent.indexOf("Firefox");f.isMS=/(edge|msie|trident)/i.test(f.userAgent)&&!f.win.opera;
f.isSafari=!f.isChrome&&-1!==f.userAgent.indexOf("Safari");f.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(f.userAgent);f.isWebKit=-1!==f.userAgent.indexOf("AppleWebKit");f.deg2rad=2*Math.PI/360;f.hasBidiBug=f.isFirefox&&4>parseInt(f.userAgent.split("Firefox/")[1],10);f.hasTouch=!!f.win.TouchEvent;f.marginNames=["plotTop","marginRight","marginBottom","plotLeft"];f.noop=function(){};f.supportsPassiveEvents=function(){let k=!1;if(!f.isMS){const n=Object.defineProperty({},"passive",{get:function(){k=
!0}});f.win.addEventListener&&f.win.removeEventListener&&(f.win.addEventListener("testPassive",f.noop,n),f.win.removeEventListener("testPassive",f.noop,n))}return k}();f.charts=[];f.dateFormats={};f.seriesTypes={};f.symbolSizes={};f.chartCount=0})(k||(k={}));"";return k});m(h,"Core/Utilities.js",[h["Core/Globals.js"]],function(k){function f(a,c,g,b){const d=c?"Highcharts error":"Highcharts warning";32===a&&(a=`${d}: Deprecated member`);const q=l(a);let p=q?`${d} #${a}: www.highcharts.com/errors/${a}/`:
a.toString();if("undefined"!==typeof b){let a="";q&&(p+="?");x(b,function(c,g){a+=`\n - ${g}: ${c}`;q&&(p+=encodeURI(g)+"="+encodeURI(c))});p+=a}C(k,"displayError",{chart:g,code:a,message:p,params:b},function(){if(c)throw Error(p);r.console&&-1===f.messages.indexOf(p)&&console.warn(p)});f.messages.push(p)}function h(a,c){return parseInt(a,c||10)}function n(a){return"string"===typeof a}function e(a){a=Object.prototype.toString.call(a);return"[object Array]"===a||"[object Array Iterator]"===a}function b(a,
c){return!!a&&"object"===typeof a&&(!c||!e(a))}function d(a){return b(a)&&"number"===typeof a.nodeType}function a(a){const c=a&&a.constructor;return!(!b(a,!0)||d(a)||!c||!c.name||"Object"===c.name)}function l(a){return"number"===typeof a&&!isNaN(a)&&Infinity>a&&-Infinity<a}function c(a){return"undefined"!==typeof a&&null!==a}function q(a,g,b){const l=n(g)&&!c(b);let d;const q=(g,b)=>{c(g)?a.setAttribute(b,g):l?(d=a.getAttribute(b))||"class"!==b||(d=a.getAttribute(b+"Name")):a.removeAttribute(b)};
n(g)?q(b,g):x(g,q);return d}function g(a){return e(a)?a:[a]}function p(a,c){let g;a||(a={});for(g in c)a[g]=c[g];return a}function z(){const a=arguments,c=a.length;for(let g=0;g<c;g++){const c=a[g];if("undefined"!==typeof c&&null!==c)return c}}function v(a,g){k.isMS&&!k.svg&&g&&c(g.opacity)&&(g.filter=`alpha(opacity=${100*g.opacity})`);p(a.style,g)}function w(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))}function B(a,c){return 1E14<a?a:parseFloat(a.toPrecision(c||14))}function u(a,c,g){let b;
if("width"===c)return c=Math.min(a.offsetWidth,a.scrollWidth),g=a.getBoundingClientRect&&a.getBoundingClientRect().width,g<c&&g>=c-1&&(c=Math.floor(g)),Math.max(0,c-(u(a,"padding-left",!0)||0)-(u(a,"padding-right",!0)||0));if("height"===c)return Math.max(0,Math.min(a.offsetHeight,a.scrollHeight)-(u(a,"padding-top",!0)||0)-(u(a,"padding-bottom",!0)||0));if(a=r.getComputedStyle(a,void 0))b=a.getPropertyValue(c),z(g,"opacity"!==c)&&(b=h(b));return b}function x(a,c,g){for(const b in a)Object.hasOwnProperty.call(a,
b)&&c.call(g||a[b],a[b],b,a)}function H(a,c,g){function b(c,g){const b=a.removeEventListener;b&&b.call(a,c,g,!1)}function l(g){let d,l;a.nodeName&&(c?(d={},d[c]=!0):d=g,x(d,function(a,c){if(g[c])for(l=g[c].length;l--;)b(c,g[c][l].fn)}))}var d="function"===typeof a&&a.prototype||a;if(Object.hasOwnProperty.call(d,"hcEvents")){const a=d.hcEvents;c?(d=a[c]||[],g?(a[c]=d.filter(function(a){return g!==a.fn}),b(c,g)):(l(a),a[c]=[])):(l(a),delete d.hcEvents)}}function C(a,c,g,b){g=g||{};if(m.createEvent&&
(a.dispatchEvent||a.fireEvent&&a!==k)){var d=m.createEvent("Events");d.initEvent(c,!0,!0);g=p(d,g);a.dispatchEvent?a.dispatchEvent(g):a.fireEvent(c,g)}else if(a.hcEvents){g.target||p(g,{preventDefault:function(){g.defaultPrevented=!0},target:a,type:c});d=[];let b=a,l=!1;for(;b.hcEvents;)Object.hasOwnProperty.call(b,"hcEvents")&&b.hcEvents[c]&&(d.length&&(l=!0),d.unshift.apply(d,b.hcEvents[c])),b=Object.getPrototypeOf(b);l&&d.sort((a,c)=>a.order-c.order);d.forEach(c=>{!1===c.fn.call(a,g)&&g.preventDefault()})}b&&
!g.defaultPrevented&&b.call(a,g)}const {charts:D,doc:m,win:r}=k;(f||(f={})).messages=[];Math.easeInOutSine=function(a){return-.5*(Math.cos(Math.PI*a)-1)};var F=Array.prototype.find?function(a,c){return a.find(c)}:function(a,c){let g;const b=a.length;for(g=0;g<b;g++)if(c(a[g],g))return a[g]};x({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(a,c){k[c]=function(g){f(32,!1,void 0,{[`Highcharts.${c}`]:`use Array.${a}`});return Array.prototype[a].apply(g,[].slice.call(arguments,
1))}});let G;const J=function(){const a=Math.random().toString(36).substring(2,9)+"-";let c=0;return function(){return"highcharts-"+(G?"":a)+c++}}();r.jQuery&&(r.jQuery.fn.highcharts=function(){const a=[].slice.call(arguments);if(this[0])return a[0]?(new (k[n(a[0])?a.shift():"Chart"])(this[0],a[0],a[1]),this):D[q(this[0],"data-highcharts-chart")]});F={addEvent:function(a,c,g,b={}){var d="function"===typeof a&&a.prototype||a;Object.hasOwnProperty.call(d,"hcEvents")||(d.hcEvents={});d=d.hcEvents;k.Point&&
a instanceof k.Point&&a.series&&a.series.chart&&(a.series.chart.runTrackerClick=!0);const l=a.addEventListener;l&&l.call(a,c,g,k.supportsPassiveEvents?{passive:void 0===b.passive?-1!==c.indexOf("touch"):b.passive,capture:!1}:!1);d[c]||(d[c]=[]);d[c].push({fn:g,order:"number"===typeof b.order?b.order:Infinity});d[c].sort((a,c)=>a.order-c.order);return function(){H(a,c,g)}},arrayMax:function(a){let c=a.length,g=a[0];for(;c--;)a[c]>g&&(g=a[c]);return g},arrayMin:function(a){let c=a.length,g=a[0];for(;c--;)a[c]<
g&&(g=a[c]);return g},attr:q,clamp:function(a,c,g){return a>c?a<g?a:g:c},clearTimeout:function(a){c(a)&&clearTimeout(a)},correctFloat:B,createElement:function(a,c,g,b,d){a=m.createElement(a);c&&p(a,c);d&&v(a,{padding:"0",border:"none",margin:"0"});g&&v(a,g);b&&b.appendChild(a);return a},css:v,defined:c,destroyObjectProperties:function(a,c){x(a,function(g,b){g&&g!==c&&g.destroy&&g.destroy();delete a[b]})},diffObjects:function(a,c,d,l){function q(a,c,p,f){const k=d?c:a;x(a,function(d,u){if(!f&&l&&-1<
l.indexOf(u)&&c[u]){d=g(d);p[u]=[];for(let a=0;a<Math.max(d.length,c[u].length);a++)c[u][a]&&(void 0===d[a]?p[u][a]=c[u][a]:(p[u][a]={},q(d[a],c[u][a],p[u][a],f+1)))}else if(b(d,!0)&&!d.nodeType)p[u]=e(d)?[]:{},q(d,c[u]||{},p[u],f+1),0!==Object.keys(p[u]).length||"colorAxis"===u&&0===f||delete p[u];else if(a[u]!==c[u]||u in a&&!(u in c))p[u]=k[u]})}const p={};q(a,c,p,0);return p},discardElement:function(a){a&&a.parentElement&&a.parentElement.removeChild(a)},erase:function(a,c){let g=a.length;for(;g--;)if(a[g]===
c){a.splice(g,1);break}},error:f,extend:p,extendClass:function(a,c){function g(){}g.prototype=new a;p(g.prototype,c);return g},find:F,fireEvent:C,getClosestDistance:function(a,c){const g=!c;let b,d,l,p;a.forEach(a=>{if(1<a.length)for(p=d=a.length-1;0<p;p--)l=a[p]-a[p-1],0>l&&!g?(null===c||void 0===c?void 0:c(),c=void 0):l&&("undefined"===typeof b||l<b)&&(b=l)});return b},getMagnitude:w,getNestedProperty:function(a,g){for(a=a.split(".");a.length&&c(g);){const d=a.shift();if("undefined"===typeof d||
"__proto__"===d)return;if("this"===d){let a;b(g)&&(a=g["@this"]);return null!==a&&void 0!==a?a:g}g=g[d];if(!c(g)||"function"===typeof g||"number"===typeof g.nodeType||g===r)return}return g},getStyle:u,inArray:function(a,c,g){f(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"});return c.indexOf(a,g)},insertItem:function(a,c){const g=a.options.index,b=c.length;let d;for(d=a.options.isInternal?b:0;d<b+1;d++)if(!c[d]||l(g)&&g<z(c[d].options.index,c[d]._i)||c[d].options.isInternal){c.splice(d,0,
a);break}return d},isArray:e,isClass:a,isDOMElement:d,isFunction:function(a){return"function"===typeof a},isNumber:l,isObject:b,isString:n,keys:function(a){f(32,!1,void 0,{"Highcharts.keys":"use Object.keys"});return Object.keys(a)},merge:function(){function c(g,l){"object"!==typeof g&&(g={});x(l,function(p,q){"__proto__"!==q&&"constructor"!==q&&(!b(p,!0)||a(p)||d(p)?g[q]=l[q]:g[q]=c(g[q]||{},p))});return g}let g,l=arguments,p={};!0===l[0]&&(p=l[1],l=Array.prototype.slice.call(l,2));const q=l.length;
for(g=0;g<q;g++)p=c(p,l[g]);return p},normalizeTickInterval:function(a,c,g,b,d){let l=a;g=z(g,w(a));const p=a/g;c||(c=d?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===b&&(1===g?c=c.filter(function(a){return 0===a%1}):.1>=g&&(c=[1/g])));for(b=0;b<c.length&&!(l=c[b],d&&l*g>=a||!d&&p<=(c[b]+(c[b+1]||c[b]))/2);b++);return l=B(l*g,-Math.round(Math.log(.001)/Math.LN10))},objectEach:x,offset:function(a){const c=m.documentElement;a=a.parentElement||a.parentNode?a.getBoundingClientRect():{top:0,left:0,
width:0,height:0};return{top:a.top+(r.pageYOffset||c.scrollTop)-(c.clientTop||0),left:a.left+(r.pageXOffset||c.scrollLeft)-(c.clientLeft||0),width:a.width,height:a.height}},pad:function(a,c,g){return Array((c||2)+1-String(a).replace("-","").length).join(g||"0")+a},pick:z,pInt:h,pushUnique:function(a,c){return 0>a.indexOf(c)&&!!a.push(c)},relativeLength:function(a,c,g){return/%$/.test(a)?c*parseFloat(a)/100+(g||0):parseFloat(a)},removeEvent:H,splat:g,stableSort:function(a,c){const g=a.length;let b,
d;for(d=0;d<g;d++)a[d].safeI=d;a.sort(function(a,g){b=c(a,g);return 0===b?a.safeI-g.safeI:b});for(d=0;d<g;d++)delete a[d].safeI},syncTimeout:function(a,c,g){if(0<c)return setTimeout(a,c,g);a.call(0,g);return-1},timeUnits:{millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5},uniqueKey:J,useSerialIds:function(a){return G=z(a,G)},wrap:function(a,c,g){const b=a[c];a[c]=function(){const a=arguments,c=this;return g.apply(this,[function(){return b.apply(c,arguments.length?
arguments:a)}].concat([].slice.call(arguments)))}}};"";return F});m(h,"Data/Modifiers/DataModifier.js",[h["Core/Utilities.js"]],function(k){const {addEvent:f,fireEvent:h,merge:n}=k;class e{benchmark(b,d){const a=[],l=this,c=()=>{l.modifyTable(b);l.emit({type:"afterBenchmarkIteration"})},{iterations:q}=n({iterations:1},d);l.on("afterBenchmarkIteration",()=>{a.length===q?l.emit({type:"afterBenchmark",results:a}):c()});var g=0,p=0;l.on("modify",()=>{g=r.performance.now()});l.on("afterModify",()=>{p=
r.performance.now();a.push(p-g)});c();return a}emit(b){h(this,b.type,b)}modify(b,d){const a=this;return new Promise((l,c)=>{b.modified===b&&(b.modified=b.clone(!1,d));try{l(a.modifyTable(b,d))}catch(q){a.emit({type:"error",detail:d,table:b}),c(q)}})}modifyCell(b){return this.modifyTable(b)}modifyColumns(b){return this.modifyTable(b)}modifyRows(b){return this.modifyTable(b)}on(b,d){return f(this,b,d)}}(function(b){b.types={};b.registerType=function(d,a){return!!d&&!b.types[d]&&!!(b.types[d]=a)}})(e||
(e={}));return e});m(h,"Data/DataTable.js",[h["Core/Utilities.js"]],function(k){const {addEvent:f,fireEvent:h,uniqueKey:n}=k;class e{static isNull(b){if(b===e.NULL)return!0;if(b instanceof Array){if(!b.length)return!1;for(let d=0,a=b.length;d<a;++d)if(null!==b[d])return!1}else{const d=Object.keys(b);if(!d.length)return!1;for(let a=0,l=d.length;a<l;++a)if(null!==b[d[a]])return!1}return!0}constructor(b={}){this.aliases={};this.autoId=!b.id;this.columns={};this.id=b.id||n();this.modified=this;this.rowCount=
0;this.versionTag=n();var d=b.columns||{},a=Object.keys(d);const l=this.columns;let c=0;for(let b=0,g=a.length,p,e;b<g;++b)e=a[b],p=d[e].slice(),l[e]=p,c=Math.max(c,p.length);for(let b=0,g=a.length;b<g;++b)l[a[b]].length=c;this.rowCount=c;b=b.aliases||{};d=Object.keys(b);a=this.aliases;for(let c=0,g=d.length,l;c<g;++c)l=d[c],a[l]=b[l]}clone(b,d){var a={};this.emit({type:"cloneTable",detail:d});b||(a.aliases=this.aliases,a.columns=this.columns);this.autoId||(a.id=this.id);a=new e(a);b||(a.versionTag=
this.versionTag);this.emit({type:"afterCloneTable",detail:d,tableClone:a});return a}deleteColumnAlias(b){const d=this.aliases[b],a=this.modifier;d&&(delete this.aliases[b],a&&a.modifyColumns(this,{[d]:Array(this.rowCount)},0));return d}deleteColumns(b,d){const a=this.columns,l={},c={},q=this.modifier,g=this.rowCount;b=b||Object.keys(a);if(b.length){this.emit({type:"deleteColumns",columnNames:b,detail:d});for(let d=0,q=b.length,e,f;d<q;++d){f=b[d];if(e=a[f])l[f]=e,c[f]=Array(g);delete a[f]}Object.keys(a).length||
(this.rowCount=0);q&&q.modifyColumns(this,c,0,d);this.emit({type:"afterDeleteColumns",columns:l,columnNames:b,detail:d});return l}}deleteRows(b,d=1,a){const l=[],c=[],q=this.modifier;this.emit({type:"deleteRows",detail:a,rowCount:d,rowIndex:b||0});"undefined"===typeof b&&(b=0,d=this.rowCount);if(0<d&&b<this.rowCount){const a=this.columns,p=Object.keys(a);for(let g=0,q=p.length,e,f;g<q;++g){e=a[p[g]];f=e.splice(b,d);g||(this.rowCount=e.length);for(let a=0,c=f.length;a<c;++a)l[a]=l[a]||[],l[a][g]=f[a];
c.push(Array(q))}}q&&q.modifyRows(this,c,b||0,a);this.emit({type:"afterDeleteRows",detail:a,rowCount:d,rowIndex:b||0,rows:l});return l}emit(b){switch(b.type){case "afterDeleteColumns":case "afterDeleteRows":case "afterSetCell":case "afterSetColumns":case "afterSetRows":this.versionTag=n()}h(this,b.type,b)}getCell(b,d){b=this.aliases[b]||b;if(b=this.columns[b])return b[d]}getCellAsBoolean(b,d){b=this.aliases[b]||b;b=this.columns[b];return!(!b||!b[d])}getCellAsNumber(b,d,a){b=this.aliases[b]||b;d=(b=
this.columns[b])&&b[d];switch(typeof d){case "boolean":return d?1:0;case "number":return isNaN(d)&&!a?null:d}d=parseFloat(`${d}`);return isNaN(d)&&!a?null:d}getCellAsString(b,d){b=this.aliases[b]||b;b=this.columns[b];return`${b&&b[d]}`}getColumn(b,d){return this.getColumns([b],d)[b]}getColumnAliases(){const b=this.aliases,d=Object.keys(b),a={};for(let l=0,c=d.length,q;l<c;++l)q=d[l],a[q]=b[q];return a}getColumnAsNumbers(b,d){var a=this.columns;b=this.aliases[b]||b;const l=a[b];a=[];if(l){const c=
l.length;if(d)for(d=0;d<c;++d)a.push(this.getCellAsNumber(b,d,!0));else{for(let a=0,g;a<c;++a){g=l[a];if("number"===typeof g)return l.slice();if(null!==g&&"undefined"!==typeof g)break}for(d=0;d<c;++d)a.push(this.getCellAsNumber(b,d))}}return a}getColumnNames(){return Object.keys(this.columns)}getColumns(b,d){const a=this.aliases,l=this.columns,c={};b=b||Object.keys(l);for(let q=0,g=b.length,p,e;q<g;++q)e=b[q],(p=l[a[e]||e])&&(c[e]=d?p:p.slice());return c}getModifier(){return this.modifier}getRow(b,
d){return this.getRows(b,1,d)[0]}getRowCount(){return this.rowCount}getRowIndexBy(b,d,a){b=this.aliases[b]||b;if(b=this.columns[b])if(d=b.indexOf(d,a),-1!==d)return d}getRowObject(b,d){return this.getRowObjects(b,1,d)[0]}getRowObjects(b=0,d=this.rowCount-b,a){const l=this.aliases,c=this.columns,q=Array(d);a=a||Object.keys(c);for(let g=b,p=0,e=Math.min(this.rowCount,b+d),f,k;g<e;++g,++p){k=q[p]={};for(const b of a)f=c[l[b]||b],k[b]=f?f[g]:void 0}return q}getRows(b=0,d=this.rowCount-b,a){const l=this.aliases,
c=this.columns,q=Array(d);a=a||Object.keys(c);for(let g=b,p=0,e=Math.min(this.rowCount,b+d),f,k;g<e;++g,++p){k=q[p]=[];for(const b of a)f=c[l[b]||b],k.push(f?f[g]:void 0)}return q}getVersionTag(){return this.versionTag}hasColumns(b){const d=this.aliases,a=this.columns;for(let l=0,c=b.length,q;l<c;++l)if(q=b[l],!a[q]&&!d[q])return!1;return!0}hasRowWith(b,d){b=this.aliases[b]||b;return(b=this.columns[b])?-1!==b.indexOf(d):!1}on(b,d){return f(this,b,d)}renameColumn(b,d){const a=this.columns;if(a[b]){if(b!==
d){const l=this.aliases;l[d]&&delete l[d];a[d]=a[b];delete a[b]}return!0}return!1}setCell(b,d,a,l){const c=this.columns,q=this.modifier;b=this.aliases[b]||b;let g=c[b];g&&g[d]===a||(this.emit({type:"setCell",cellValue:a,columnName:b,detail:l,rowIndex:d}),g||(g=c[b]=Array(this.rowCount)),d>=this.rowCount&&(this.rowCount=d+1),g[d]=a,q&&q.modifyCell(this,b,d,a),this.emit({type:"afterSetCell",cellValue:a,columnName:b,detail:l,rowIndex:d}))}setColumn(b,d=[],a=0,l){this.setColumns({[b]:d},a,l)}setColumnAlias(b,
d){const a=this.aliases;return a[b]?!1:(a[b]=d,!0)}setColumns(b,d,a){const l=this.columns,c=this.modifier;var q="undefined"===typeof d;const g=Object.keys(b);this.emit({type:"setColumns",columns:b,columnNames:g,detail:a,rowIndex:d});for(let a=0,c=g.length,e,f;a<c;++a)if(f=g[a],e=b[f],f=this.aliases[f]||f,q)l[f]=e.slice(),this.rowCount=e.length;else{const a=l[f]?l[f]:l[f]=Array(this.rowCount);for(let c=d||0,g=e.length;c<g;++c)a[c]=e[c];this.rowCount=Math.max(this.rowCount,a.length)}q=Object.keys(l);
for(let a=0,c=q.length;a<c;++a)l[q[a]].length=this.rowCount;c&&c.modifyColumns(this,b,d||0);this.emit({type:"afterSetColumns",columns:b,columnNames:g,detail:a,rowIndex:d})}setModifier(b,d){const a=this;a.emit({type:"setModifier",detail:d,modifier:b,modified:a.modified});a.modified=a;a.modifier=b;return(b?b.modify(a):Promise.resolve(a)).then(a=>{a.emit({type:"afterSetModifier",detail:d,modifier:b,modified:a.modified});return a})["catch"](d=>{a.emit({type:"setModifierError",error:d,modifier:b,modified:a.modified});
throw d;})}setRow(b,d,a){this.setRows([b],d,a)}setRows(b,d=this.rowCount,a){var l=this.aliases;const c=this.columns,q=Object.keys(c),g=this.modifier,p=b.length;this.emit({type:"setRows",detail:a,rowCount:p,rowIndex:d,rows:b});for(let a=0,g=d,f;a<p;++a,++g)if(f=b[a],f===e.NULL)for(let a=0,b=q.length;a<b;++a)c[q[a]][g]=null;else if(f instanceof Array)for(let a=0,b=q.length;a<b;++a)c[q[a]][g]=f[a];else{const a=Object.keys(f);for(let b=0,d=a.length,p;b<d;++b)p=a[b],p=l[p]||p,c[p]||(c[p]=Array(g+1)),c[p][g]=
f[p]}l=d+p;if(l>this.rowCount){this.rowCount=l;for(let a=0,g=q.length;a<g;++a)c[q[a]].length=l}g&&g.modifyRows(this,b,d);this.emit({type:"afterSetRows",detail:a,rowCount:p,rowIndex:d,rows:b})}}e.NULL={};"";return e});m(h,"Data/Connectors/DataConnector.js",[h["Data/Modifiers/DataModifier.js"],h["Data/DataTable.js"],h["Core/Utilities.js"]],function(k,f,h){const {addEvent:n,fireEvent:e,merge:b,pick:d}=h;class a{constructor(a={}){this.table=new f(a.dataTable);this.metadata=a.metadata||{columns:{}}}get polling(){return!!this.polling}describeColumn(a,
c){const d=this.metadata.columns;d[a]=b(d[a]||{},c)}describeColumns(a){const c=Object.keys(a);let b;for(;"string"===typeof(b=c.pop());)this.describeColumn(b,a[b])}emit(a){e(this,a.type,a)}getColumnOrder(){const a=this.metadata.columns,c=Object.keys(a||{});if(c.length)return c.sort((c,g)=>d(a[c].index,0)-d(a[g].index,0))}getSortedColumns(a){return this.table.getColumns(this.getColumnOrder(a))}load(){e(this,"afterLoad",{table:this.table});return Promise.resolve(this)}on(a,c){return n(this,a,c)}save(){e(this,
"saveError",{table:this.table});return Promise.reject(Error("Not implemented"))}setColumnOrder(a){for(let c=0,b=a.length;c<b;++c)this.describeColumn(a[c],{index:c})}setModifierOptions(a){const c=a&&k.types[a.type];return this.table.setModifier(c?new c(a):void 0).then(()=>this)}startPolling(a=1E3){const c=this;r.clearTimeout(c._polling);c._polling=r.setTimeout(()=>c.load()["catch"](a=>c.emit({type:"loadError",error:a,table:c.table})).then(()=>{c._polling&&c.startPolling(a)}),a)}stopPolling(){r.clearTimeout(this._polling);
delete this._polling}whatIs(a){return this.metadata.columns[a]}}(function(a){a.types={};a.registerType=function(c,b){return!!c&&!a.types[c]&&!!(a.types[c]=b)}})(a||(a={}));return a});m(h,"Dashboards/Components/ComponentRegistry.js",[h["Core/Utilities.js"]],function(){var k;(function(f){f.types={};f.registerComponent=function(k,h){return!!k&&!f.types[k]&&!!(f.types[k]=h)}})(k||(k={}));return k});m(h,"Dashboards/Globals.js",[],function(){var k,f=k||(k={});f.classNamePrefix="highcharts-dashboards-";
f.classNames={layout:f.classNamePrefix+"layout",cell:f.classNamePrefix+"cell",cellHover:f.classNamePrefix+"cell-state-hover",cellActive:f.classNamePrefix+"cell-state-active",row:f.classNamePrefix+"row",layoutsWrapper:f.classNamePrefix+"layouts-wrapper",boardContainer:f.classNamePrefix+"wrapper"};f.guiElementType={row:"row",cell:"cell",layout:"layout"};f.responsiveBreakpoints={small:"small",medium:"medium",large:"large"};f.boards=[];f.win=r;return k});m(h,"Dashboards/Actions/Bindings.js",[h["Dashboards/Components/ComponentRegistry.js"],
h["Dashboards/Globals.js"],h["Core/Utilities.js"]],function(k,f,h){const {addEvent:n,fireEvent:e,error:b}=h;var d;(function(a){function d(a){a="string"===typeof a?document.getElementById(a):a;let c;null!==a&&e(a,"bindedGUIElement",{},function(a){c=a.guiElement});return c}a.addComponent=function(c,d){var g,l,q,h;const w=c.states,B=c.events;if((d=d||a.getCell(c.cell||""))&&d.container&&c.type){var u=d.container,x=k.types[c.type];x||(b("The component's type `"+c.type+"` does not exist."),x=k.types.HTML,
c.title={text:null===(l=null===(g=d.row.layout.board)||void 0===g?void 0:g.editMode)||void 0===l?void 0:l.lang.errorMessage,className:f.classNamePrefix+"component-title-error "+f.classNamePrefix+"component-title"});var y=new x(d,c);try{y.render()}catch(C){y.update({title:{text:null===(h=null===(q=d.row.layout.board)||void 0===q?void 0:q.editMode)||void 0===h?void 0:h.lang.errorMessage,className:f.classNamePrefix+"component-title-error "+f.classNamePrefix+"component-title"}})}e(y,"mount");y.setCell(d);
d.mountedComponent=y;d.row.layout.board.mountedComponents.push({options:c,component:y,cell:d});B&&B.click&&n(u,"click",()=>{B.click();d&&y&&u&&w&&w.active&&d.setActiveState()});w&&w.hover&&u.classList.add(f.classNames.cellHover);e(y,"afterLoad");return y}b("The component is misconfigured and is unable to find the HTML cell element `"+c.cell+"` to render the content.")};a.componentFromJSON=function(c){let b=k.types[c.$class];if(b){var g=a.getCell(c.options.cell||"");if(g)return(c=b.fromJSON(c,g))&&
c.render(),c}};a.getCell=function(a){if((a=d(a))&&"cell"===a.getType())return a};a.getRow=function(a){if((a=d(a))&&"row"===a.getType())return a};a.getLayout=function(a){if((a=d(a))&&"layout"===a.getType())return a}})(d||(d={}));return d});m(h,"Dashboards/Accessibility/DashboardsAccessibility.js",[],function(){class k{constructor(f){this.board=f;this.addTabIndexToCells()}addTabIndexToCells(){const f=this.board.mountedComponents;let k;for(let h=0,e=f.length;h<e;++h)(k=f[h].cell)&&k.container&&k.container.setAttribute("tabindex",
-1)}}return k});m(h,"Data/DataCursor.js",[],function(){class k{constructor(f={}){this.emittingRegister=[];this.listenerMap={};this.stateMap=f}addListener(f,k,h){f=this.listenerMap[f]=this.listenerMap[f]||{};(f[k]=f[k]||[]).push(h);return this}buildEmittingTag(f){return("position"===f.cursor.type?[f.table.id,f.cursor.column,f.cursor.row,f.cursor.state,f.cursor.type]:[f.table.id,f.cursor.columns,f.cursor.firstRow,f.cursor.lastRow,f.cursor.state,f.cursor.type]).join("\x00")}emitCursor(f,h,n,e,b){const d=
"object"===typeof h?h:n;n="object"===typeof e?e:n;const a="string"===typeof h?h:void 0;var l=f.id;h=d.state;if(h=this.listenerMap[l]&&this.listenerMap[l][h]){l=this.stateMap[l]=this.stateMap[l]||{};const c=l[d.state]||[];if(b||!0===e)c.length||(l[d.state]=c),-1===k.getIndex(d,c)&&c.push(d);f={cursor:d,cursors:c,table:f};n&&(f.event=n);a&&(f.group=a);e=this.emittingRegister;b=this.buildEmittingTag(f);if(0<=e.indexOf(b))return this;try{this.emittingRegister.push(b);for(let a=0,c=h.length;a<c;++a)h[a].call(this,
f)}finally{f=this.emittingRegister.indexOf(b),0<=f&&this.emittingRegister.splice(f,1)}}return this}remitCursor(f,h){if(f=this.stateMap[f]&&this.stateMap[f][h.state])h=k.getIndex(h,f),0<=h&&f.splice(h,1);return this}removeListener(f,k,h){(f=this.listenerMap[f]&&this.listenerMap[f][k])&&(h=f.indexOf(h))&&f.splice(h,1);return this}}(function(f){function k(f,e){var b,d,a,l;if("range"===f.type)return f;e={type:"range",firstRow:null!==(d=null!==(b=f.row)&&void 0!==b?b:e&&e.firstRow)&&void 0!==d?d:0,lastRow:null!==
(l=null!==(a=f.row)&&void 0!==a?a:e&&e.lastRow)&&void 0!==l?l:Number.MAX_VALUE,state:f.state};"undefined"!==typeof f.column&&(e.columns=[f.column]);return e}f.getIndex=function(f,e){if("position"===f.type)for(let b,d=0,a=e.length;d<a;++d){if(b=e[d],"position"===b.type&&b.state===f.state&&b.column===f.column&&b.row===f.row)return d}else{const b=JSON.stringify(f.columns);for(let d,a=0,l=e.length;a<l;++a)if(d=e[a],"range"===d.type&&d.state===f.state&&d.firstRow===f.firstRow&&d.lastRow===f.lastRow&&JSON.stringify(d.columns)===
b)return a}return-1};f.isEqual=function(f,e){return"position"===f.type&&"position"===e.type?f.column===e.column&&f.row===e.row&&f.state===e.state:"range"===f.type&&"range"===e.type?f.firstRow===e.firstRow&&f.lastRow===e.lastRow&&JSON.stringify(f.columns)===JSON.stringify(e.columns):!1};f.isInRange=function(f,e){"position"===e.type&&(e=k(e));"position"===f.type&&(f=k(f,e));const b=f.columns,d=e.columns;return f.firstRow>=e.firstRow&&f.lastRow<=e.lastRow&&(!b||!d||b.every(a=>0<=d.indexOf(a)))};f.toPositions=
function(f){if("position"===f.type)return[f];const e=f.columns||[],b=[],d=f.state;for(let a=f.firstRow,l=f.lastRow;a<l;++a)if(e.length)for(let c=0,l=e.length;c<l;++c)b.push({type:"position",column:e[c],row:a,state:d});else b.push({type:"position",row:a,state:d});return b};f.toRange=k})(k||(k={}));"";return k});m(h,"Dashboards/Serializable.js",[],function(){var k;(function(f){const k={},h={};f.fromJSON=function(e){const b=e.$class;if("string"!==typeof b)throw Error("JSON has no $class property.");
var d=k[b];if(d||(d=h[b]))return d.fromJSON(e);throw Error(`'${b}' unknown.`);};f.registerClassPrototype=function(e,b){if(k[e])throw Error("A serializer for '"+e+"' is already registered.");k[e]=b};f.registerHelper=function(e){if(h[e.$class])throw Error("A serializer for '"+e.$class+"' is already registered.");h[e.$class]=e};f.toJSON=function(e){if("function"===typeof e.fromJSON&&"function"===typeof e.toJSON)return e.toJSON();const b=Object.keys(h),d=b.length;for(let l=0;l<d;++l){var a=b[l];a=h[a];
if(a.jsonSupportFor(e))return a.toJSON(e)}throw Error("Object is not supported.");}})(k||(k={}));return k});m(h,"Dashboards/SerializeHelper/DataCursorHelper.js",[h["Data/DataCursor.js"],h["Dashboards/Serializable.js"]],function(k,f){const h={$class:"Data.DataCursor",fromJSON:function(f){return new k(f.stateMap)},jsonSupportFor:function(f){return f instanceof k},toJSON:function(f){const e=f.stateMap,b={};f=Object.keys(f.stateMap);let d;let a,l;for(let q=0,g=f.length;q<g;++q){a=f[q];l=Object.keys(e[a]);
b[a]={};for(let g=0,q=l.length;g<q;++g){var c=l[g];d=e[a][c];b[a][c]=c=[];for(let a=0,g=d.length;a<g;++a)c.push(Object.assign({},d[a]))}}return{$class:"Data.DataCursor",stateMap:b}}};f.registerHelper(h);return h});m(h,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}});m(h,"Data/DataPool.js",[h["Data/Connectors/DataConnector.js"],h["Data/DataPoolDefaults.js"],h["Core/Utilities.js"]],function(k,f,h){class n{constructor(e=f){e.connectors=e.connectors||[];this.connectors={};this.options=
e;this.waiting={}}emit(e){h.fireEvent(this,e.type,e)}getConnector(e){var b=this.connectors[e];if(b)return Promise.resolve(b);let d=this.waiting[e];if(d)return new Promise(a=>{d.push(a)});this.waiting[e]=d=[];if(b=this.getConnectorOptions(e))return this.loadConnector(b).then(a=>{delete this.waiting[e];r.setTimeout(()=>{for(let b=0,c=d.length;b<c;++b)d[b](a)},1);return a});throw Error(`Connector not found. (${e})`);}getConnectorIds(){const e=this.options.connectors,b=[];for(let d=0,a=e.length;d<a;++d)b.push(e[d].id);
return b}getConnectorOptions(e){const b=this.options.connectors;for(let d=0,a=b.length;d<a;++d)if(b[d].id===e)return b[d]}getConnectorTable(e){return this.getConnector(e).then(b=>b.table)}loadConnector(e){return new Promise((b,d)=>{this.emit({type:"load",options:e});const a=k.types[e.type];if(!a)throw Error(`Connector type not found. (${e.type})`);(new a(e.options)).load().then(a=>{this.emit({type:"afterLoad",options:e});this.connectors[e.id]=a;b(a)})["catch"](d)})}on(e,b){return h.addEvent(this,
e,b)}setConnectorOptions(e){const b=this.options.connectors;this.emit({type:"setConnectorOptions",options:e});for(let d=0,a=b.length;d<a;++d)if(b[d].id===e.id){b.splice(d,1);break}b.push(e);this.emit({type:"afterSetConnectorOptions",options:e})}}return n});m(h,"Dashboards/EditMode/EditGlobals.js",[h["Dashboards/Globals.js"]],function(k){k=k.classNamePrefix+"edit-";return{classNames:{resizeSnap:k+"resize-snap",resizeSnapX:k+"resize-snap-x",resizeSnapY:k+"resize-snap-y",separator:k+"separator",contextMenuBtn:k+
"context-menu-btn",contextMenu:k+"context-menu",contextMenuItem:k+"context-menu-item",editModeEnabled:k+"enabled",editToolbar:k+"toolbar",editToolbarCellOutline:k+"toolbar-cell-outline",editToolbarRowOutline:k+"toolbar-row-outline",editToolbarItem:k+"toolbar-item",editToolbarRow:k+"toolbar-row",editToolbarCell:k+"toolbar-cell",editSidebar:k+"sidebar",editSidebarShow:k+"sidebar-show",editSidebarHide:k+"sidebar-hide",editSidebarTitle:k+"sidebar-title",editSidebarMenuItem:k+"sidebar-item",rowContextHighlight:k+
"row-context-highlight",cellEditHighlight:k+"cell-highlight",dashboardCellEditHighlightActive:k+"cell-highlight-active",dragMock:k+"drag-mock",dropPointer:k+"drop-pointer",contextDetectionPointer:k+"ctx-detection-pointer",resizePointer:k+"resize-pointer",currentEditedElement:k+"unmask",maskElement:k+"mask",menuItem:k+"menu-item",menu:k+"menu",menuVerticalSeparator:k+"menu-vertical-separator",menuHorizontalSeparator:k+"menu-horizontal-separator",menuDestroy:k+"menu-destroy",editSidebarWrapper:k+"sidebar-wrapper",
customSelect:k+"custom-select",customSelectButton:k+"custom-option-button",toggleContainer:k+"toggle-container",toggleWrapper:k+"toggle-wrapper",toggleSlider:k+"toggle-slider",toggleWrapperColored:k+"toggle-wrapper-colored",toggleLabels:k+"toggle-labels",button:k+"button",sidebarNavButton:k+"sidebar-button-nav",labelText:k+"label-text",editSidebarTabBtn:k+"sidebar-tab-btn",editToolsBtn:k+"tools-btn",editTools:k+"tools",editGridItems:k+"grid-items",confirmationPopup:k+"confirmation-popup",popupContentContainer:k+
"confirmation-popup-content",popupConfirmBtn:k+"confirmation-popup-confirm-btn",popupCloseButton:k+"popup-close",editOverlay:k+"overlay",editOverlayActive:k+"overlay-active",resizerMenuBtnActive:k+"resizer-menu-btn-active",sidebarCloseButton:k+"close-btn",editSidebarTabBtnWrapper:k+"tabs-buttons-wrapper",editSidebarRight:k+"sidebar-right",editSidebarRightShow:k+"sidebar-right-show",viewFullscreen:k+"view-fullscreen",accordionMenu:k+"accordion-menu",accordionContainer:k+"accordion",accordionHeader:k+
"accordion-header",accordionHeaderBtn:k+"accordion-header-btn",accordionHeaderIcon:k+"accordion-header-icon",accordionContent:k+"accordion-content",accordionNestedWrapper:k+"accordion-nested",accordionMenuButtonsContainer:k+"accordion-menu-buttons-container",accordionMenuButton:k+"accordion-menu-button",hiddenElement:k+"hidden-element",collapsableContentHeader:k+"collapsable-content-header",dropdown:k+"dropdown",dropdownContent:k+"dropdown-content",dropdownButton:k+"dropdown-button",dropdownButtonContent:k+
"dropdown-button-content",dropdownIcon:k+"pointer",rotateElement:k+"rotate-element",icon:k+"icon"},lang:{addComponent:"Add component",cancelButton:"Cancel",caption:"Caption",chartClassName:"Chart class name",chartConfig:"Chart configuration",chartID:"Chart ID",chartOptions:"Chart options",chartType:"Chart type",connectorName:"Connector name",confirmButton:"Confirm",confirmDestroyCell:"Do you want to destroy the cell?",confirmDestroyRow:"Do you want to destroy the row?",dataLabels:"Data labels",editMode:"Edit mode",
errorMessage:"Something went wrong",exitFullscreen:"Exit full screen",id:"Id",large:"Large",medium:"Medium",off:"off",on:"on",pointFormat:"Point format",scaleElements:"Scale elements",settings:"Settings",small:"Small",style:"Styles",title:"Title",viewFullscreen:"View in full screen"}}});m(h,"Dashboards/EditMode/EditRenderer.js",[h["Dashboards/EditMode/EditGlobals.js"],h["Core/Utilities.js"]],function(k,f){function h(a,c){let g;c.options.contextMenu&&(g=v("button",{className:k.classNames.contextMenuBtn,
onclick:function(){c.onContextBtnClick()}},{"background-image":"url("+c.options.contextMenu.icon+")"},a));return g}function n(a,c){const {name:g,showToggle:b,onchange:l,isEnabled:p,isNested:e,iconsURLPrefix:q,lang:f}=c;a=v("div",{className:k.classNames[e?"accordionNestedWrapper":"accordionContainer"]+" "+k.classNames.collapsableContentHeader},{},a);c=v("div",{className:k.classNames.accordionHeader},{},a);const h=v("button",{className:k.classNames.accordionHeaderBtn},{},c);v("span",{textContent:f[g]||
g},{},h);b&&d(c,{enabledOnOffLabels:!0,id:g,name:g,onchange:l,value:p||!1,lang:f});const u=v("img",{className:k.classNames.accordionHeaderIcon+" "+k.classNames.rotateElement,src:q+"dropdown-pointer.svg"},{},h),z=v("div",{className:k.classNames.accordionContent+" "+k.classNames.hiddenElement},{},a);h.addEventListener("click",function(){z.classList.toggle(k.classNames.hiddenElement);u.classList.toggle(k.classNames.rotateElement)});return{outerElement:a,content:z}}function e(c,g){if(c){g.name&&a(c,{title:g.name,
isLabel:!0});var d=g.iconsURLPrefix||"";c=v("div",{className:k.classNames.dropdown+" "+k.classNames.collapsableContentHeader},{},c);var l=v("button",{className:k.classNames.dropdownButton},{},c),p=v("div",{className:k.classNames.dropdownButtonContent},{},l),e=(f.find(g.selectOptions,a=>a.name===g.value)||{}).iconURL,q;e&&(q=v("img",{src:d+e,className:k.classNames.icon},{},p));p=v("span",{textContent:g.value,id:g.id||""},{},p);var h=v("img",{className:k.classNames.dropdownIcon+" "+k.classNames.rotateElement,
src:d+"dropdown-pointer.svg"},{},l),u=v("ul",{className:k.classNames.dropdownContent+" "+k.classNames.hiddenElement},{},c);l.addEventListener("click",function(){u.classList.toggle(k.classNames.hiddenElement);h.classList.toggle(k.classNames.rotateElement)});for(let a=0,c=g.selectOptions.length;a<c;++a)b(z(g.selectOptions[a]||{},{iconsURLPrefix:d}),u,p,g.id,h,q,g.onchange);return c}}function b(a,c,g,b,d,l,p){const e=a.iconsURLPrefix+a.iconURL;b=v("li",{},{},c);b=v("button",{className:k.classNames.customSelectButton},
{},b);a.iconURL&&v("img",{src:e},{},b);v("span",{textContent:a.name||""},{},b);b.addEventListener("click",function(){c.classList.add(k.classNames.hiddenElement);d.classList.toggle(k.classNames.rotateElement);g.textContent=a.name||"";l&&a.iconURL&&(l.src=e);if(p)return p(a.name)})}function d(c,b){if(c){var {value:d,title:l,lang:p}=b;c=v("div",{className:k.classNames.toggleContainer},{},c);l&&a(c,{title:l});b.enabledOnOffLabels&&w.renderText(c,{title:p.off,className:k.classNames.toggleLabels});var e=
v("label",{className:k.classNames.toggleWrapper+" "+(b.className||"")},{},c),q=g(e,d),f=b.onchange;q&&f&&c.addEventListener("click",()=>{f(!q.checked);q.checked=!q.checked});e=v("span",{className:k.classNames.toggleSlider},{},e);f&&e.addEventListener("click",a=>{a.preventDefault()});b.enabledOnOffLabels&&w.renderText(c,{title:p.on,className:k.classNames.toggleLabels});return c}}function a(a,c){let g;const {title:b,className:d,isLabel:l}=c;a&&(g=v(l?"label":"div",Object.assign({className:k.classNames.labelText+
" "+(d||""),textContent:b},l?{htmlFor:b}:{}),{},a));return g}function l(a,c){const {icon:g,callback:b}=c;if(a){a=v("div",{onclick:b,className:c.className||""},{},a);a.style["background-image"]="url("+g+")";var d=c.mousedown,l=c.click;d&&(a.onmousedown=function(){d.apply(this,arguments)});l&&a.addEventListener("click",function(){l.apply(this,arguments)});return a}}function c(c,g){if(c){g.name&&a(c,{title:g.name,isLabel:!0});c=v("input",{type:"text",onclick:g.callback,id:g.id||"",name:g.name||"",value:g.value&&
g.value.replace(/"/g,"")||""},{},c);var b=g.onchange;b&&c.addEventListener("change",function(a){b(a.target.value)});return c}}function q(c,g){if(c){g.name&&a(c,{title:g.name,isLabel:!0});c=v("textarea",{id:g.id,name:g.name,value:g.value||""},{},c);var b=g.onchange;b&&c.addEventListener("change",function(a){b(a.target.value)});return c}}function g(a,c){let g;a&&(g=v("input",{type:"checkbox",checked:!!c},{},a));return g}function p(a,c){if(a)return a=v("button",{className:k.classNames.button+" "+(c.className||
""),onclick:c.callback,textContent:c.text},c.style||{},a),c.icon&&(a.style["background-image"]="url("+c.icon+")"),a}const {merge:z,createElement:v}=f,w={renderSelect:e,renderToggle:d,renderText:a,renderCollapseHeader:n,renderIcon:l,renderContextButton:h,renderInput:c,renderTextarea:q,renderCheckbox:g,renderButton:p,getRendererFunction:function(b){return{select:e,toggle:d,text:a,collapse:n,icon:l,contextButton:h,input:c,textarea:q,checkbox:g,button:p}[b]}};return w});m(h,"Dashboards/EditMode/Menu/MenuItem.js",
[h["Dashboards/EditMode/EditGlobals.js"],h["Core/Utilities.js"],h["Dashboards/EditMode/EditRenderer.js"]],function(k,f,h){const {createElement:n,merge:e}=f;class b{constructor(d,a){this.menu=d;this.isActive=!1;this.options=e(b.defaultOptions,a);this.container=this.setContainer();this.innerElement=this.setInnerElement()}setContainer(){const b=this.options;let a=k.classNames.menuItem;this.menu.options.itemsClassName&&(a+=" "+this.menu.options.itemsClassName);b.className&&(a+=" "+b.className);return n("div",
{className:a||""},e(this.options.style||{},this.isActive?{display:"block"}:{}),this.menu.container)}setInnerElement(){var b,a,l,c,e,g,p,f;const k=this.options,w=this.container,n=k.langKey;if("toggle"===k.type)return h.renderToggle(w,{id:k.id,name:k.id,title:n?this.menu.editMode.lang[n]:k.text,value:!(!k.getValue||!k.getValue(this)),lang:this.menu.editMode.lang,onchange:null===(a=null===(b=k.events)||void 0===b?void 0:b.click)||void 0===a?void 0:a.bind(this)});if("text"===k.type)return h.renderText(w,
{title:n?this.menu.editMode.lang[n]:k.text||"",className:k.className||""});if("icon"===k.type)return h.renderIcon(w,{icon:k.icon||"",mousedown:null===(c=null===(l=k.events)||void 0===l?void 0:l.onmousedown)||void 0===c?void 0:c.bind(this),click:null===(g=null===(e=k.events)||void 0===e?void 0:e.click)||void 0===g?void 0:g.bind(this)});if("button"===k.type)return h.renderButton(w,{callback:null===(f=null===(p=k.events)||void 0===p?void 0:p.click)||void 0===f?void 0:f.bind(this),className:k.className||
"",style:k.style||{},text:n?this.menu.editMode.lang[n]:k.text||""})}update(){const b=this.options;b.events&&b.events.update&&b.events.update.apply(this,arguments)}activate(){this.update();this.container&&(this.isActive=!0,this.container.style.display="block")}deactivate(){this.container&&(this.isActive=!1,this.container.style.display="none")}}b.defaultOptions={id:"",type:"text"};return b});m(h,"Dashboards/EditMode/Menu/MenuItemBindings.js",[],function(){return{viewFullscreen:{id:"viewFullscreen",
type:"button",langKey:"viewFullscreen",events:{click:function(){const k=this.menu.editMode.board.fullscreen;k&&k.toggle()}}}}});m(h,"Dashboards/EditMode/Menu/Menu.js",[h["Dashboards/EditMode/EditGlobals.js"],h["Core/Utilities.js"],h["Dashboards/EditMode/Menu/MenuItem.js"],h["Dashboards/EditMode/Menu/MenuItemBindings.js"]],function(k,f,h,n){const {createElement:e,merge:b}=f;class d{constructor(a,b,c,d){this.parentElement=a;this.isVisible=!1;this.activeItems=[];this.options=b;this.items={};this.editMode=
c;d&&(this.parent=d);this.container=this.setContainer()}setContainer(){return e("div",{className:k.classNames.menu+" "+(this.options.className||"")},{},this.parentElement)}initItems(a,d){const c=this.options.items||[];let l;for(let p=0,e=c.length;p<e;++p){l=c[p];var g="string"===typeof l?a[l]:l.id?a[l.id]:{};g="string"===typeof l?b(g,{id:l}):b(g,l);g.id&&(g=new h(this,g),this.items[g.options.id]=g,d&&(g.activate(),this.activeItems.push(g)))}}setActiveItems(a){let b;for(let c=0,b=this.activeItems.length;c<
b;++c)-1===a.indexOf(this.activeItems[c].options.id)&&this.activeItems[c].deactivate();this.activeItems.length=0;for(let c=0,d=a.length;c<d;++c)if(b=this.items[a[c]])b.isActive?b.update():b.activate(),this.activeItems.push(b)}deactivateActiveItems(){for(let a=0,b=this.activeItems.length;a<b;++a)this.activeItems[a].deactivate()}updateActiveItems(){const a=this.activeItems;for(let b=0,c=a.length;b<c;++b)a[b].update()}destroy(){this.activeItems.length=0;this.container.remove();this.items={};this.options=
{}}}d.items=n;return d});m(h,"Dashboards/EditMode/Toolbar/EditToolbar.js",[h["Core/Utilities.js"],h["Dashboards/EditMode/Menu/Menu.js"]],function(k,f){const {defined:h,createElement:n,css:e}=k;class b{constructor(b,a){this.container=n("div",{className:a.className},void 0,b.board.container);this.editMode=b;this.iconURLPrefix=b.iconsURLPrefix;this.menu=new f(this.container,a.menu,b,this);this.options=a;this.isVisible=!1;this.options.outline&&(this.outline=n("div",{className:a.outlineClassName},void 0,
this.container))}hide(){this.setPosition(void 0,void 0)}refreshOutline(b,a,l,c=0){l=(l||{}).container;this.outline&&l&&e(this.outline,{display:"block",left:b-c+"px",top:a-c+"px",width:l.offsetWidth+2*c+"px",height:l.offsetHeight+2*c+"px"})}hideOutline(){this.outline&&(this.outline.style.display="none")}setPosition(b,a){this.container&&e(this.container,{left:(b||"-9999")+"px",top:(a||"-9999")+"px"});this.isVisible=h(b)&&h(a)}}return b});m(h,"Dashboards/Layout/GUIElement.js",[h["Core/Utilities.js"],
h["Dashboards/Globals.js"]],function(k,f){const {addEvent:h,createElement:n,uniqueKey:e,objectEach:b}=k;class d{static getOffsets(a,b){const c={left:0,top:0,right:0,bottom:0};a.container&&(a=a.container.getBoundingClientRect(),b=b?b.getBoundingClientRect():{left:0,top:0},c.left=a.left-b.left,c.top=a.top-b.top,c.right=a.right-b.left,c.bottom=a.bottom-b.top);return c}static getDimFromOffsets(a){return{width:a.right-a.left,height:a.bottom-a.top}}static createElementId(a){return f.classNamePrefix+a+"-"+
e().slice(11)}static getPercentageWidth(a){const b=/^([0-9]{1})[\-\/\.]([0-9]{1,2})$/;let c;b.test(a)?(a=a.match(b)||[],c=100*+a[1]/+a[2],c=(100>=c?c:100)+"%"):-1!==a.indexOf("%")&&(a=parseFloat(a),c=(100>=a?0<=a?a:0:100)+"%");return c}setElementContainer(a){const b=this;a.render&&a.parentContainer?(a.attribs&&!a.attribs.id&&delete a.attribs.id,b.container=n("div",a.attribs||{},a.style||{},a.parentContainer)):a.element instanceof HTMLElement?b.container=a.element:"string"===typeof a.elementId&&(a=
document.getElementById(a.elementId))&&(b.container=a);b.container&&(b.removeBindedEventFn=h(b.container,"bindedGUIElement",function(a){a.guiElement=b;a.stopImmediatePropagation()}))}destroy(){const a=this;a.removeBindedEventFn&&a.removeBindedEventFn();a.container&&a.container.parentNode&&a.container.parentNode.removeChild(a.container);b(a,function(b,c){delete a[c]})}getType(){return this.type}changeVisibility(a=!0,b){const c=this.isVisible&&!a||!this.isVisible&&a;this.container&&c&&(this.container.style.display=
a?b||"block":"none",this.isVisible=a)}hide(){this.changeVisibility(!1)}show(){this.changeVisibility()}}return d});m(h,"Dashboards/EditMode/Toolbar/CellEditToolbar.js",[h["Core/Utilities.js"],h["Dashboards/EditMode/EditGlobals.js"],h["Dashboards/EditMode/Toolbar/EditToolbar.js"],h["Dashboards/Layout/GUIElement.js"]],function(k,f,h,n){const {merge:e,fireEvent:b,objectEach:d}=k;class a extends h{static getItemsConfig(a,c){var b;return[...(null===(b=a.dragDrop)||void 0===b?0:b.enabled)?[{id:"drag",type:"icon",
icon:c+"drag.svg",events:{onmousedown:function(a){const c=this.menu.parent,g=c.editMode.dragDrop;if(g&&c.cell)g.onDragStart(a,c.cell)}}}]:[],{id:"settings",type:"icon",icon:c+"settings.svg",events:{click:function(){this.menu.parent.onCellOptions()}}},{id:"destroy",type:"icon",className:f.classNames.menuDestroy,icon:c+"destroy.svg",events:{click:function(){const a=this.menu.parent,c=this.menu.parent.editMode,b=c.confirmationPopup;b.show({confirmButton:{value:c.lang.confirmButton,callback:a.onCellDestroy,
context:a},cancelButton:{value:c.lang.cancelButton,callback:()=>{b.closePopup()}},text:c.lang.confirmDestroyCell})}}}]}constructor(b){super(b,e(a.defaultOptions,(b.options.toolbars||{}).cell,{menu:{items:a.getItemsConfig(b.options,b.iconsURLPrefix)}}));this.menu.initItems({})}showToolbar(a){let c;if(a.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){var b=n.getOffsets(a,this.editMode.board.container);c=b.right;b=b.top;d(this.menu.items,a=>{a.activate()});this.setPosition(c,
b);this.cell=a;this.refreshOutline()}else this.isVisible&&this.hide()}refreshOutline(){this.cell&&this.cell.container&&this.outline&&super.refreshOutline(-this.cell.container.offsetWidth,0,this.cell,-1)}onCellOptions(){this.editMode.sidebar&&(this.editMode.sidebar.show(this.cell),this.cell&&this.cell.setHighlight())}onCellDestroy(){if(this.cell){const a=this.cell.row;this.resetEditedCell();this.cell.destroy();this.cell=void 0;this.editMode.hideToolbars(["cell","row"]);a&&a.cells&&a.cells.length&&
(b(this.editMode.board,"cellResize",{cell:a.cells[0]}),b(a,"cellChange",{cell:a.cells[0],row:a}))}}resetEditedCell(){this.editedCell=void 0}}a.defaultOptions={enabled:!0,className:f.classNames.editToolbar,outline:!0,outlineClassName:f.classNames.editToolbarCellOutline,menu:{className:f.classNames.editToolbarCell,itemsClassName:f.classNames.editToolbarItem,items:[]}};return a});m(h,"Dashboards/EditMode/Toolbar/RowEditToolbar.js",[h["Core/Utilities.js"],h["Dashboards/EditMode/EditGlobals.js"],h["Dashboards/EditMode/Toolbar/EditToolbar.js"],
h["Dashboards/Layout/GUIElement.js"]],function(k,f,h,n){const {merge:e,objectEach:b}=k;class d extends h{static getMenuItemsConfig(a,b){var c;a=(null===(c=a.dragDrop)||void 0===c?0:c.enabled)?[{id:"drag",type:"icon",icon:b+"drag.svg",events:{onmousedown:function(a){const c=this.menu.parent,b=c.editMode.dragDrop;if(b&&c.row)b.onDragStart(a,c.row)}}}]:[];c={id:"settings",type:"icon",icon:b+"settings.svg",events:{click:function(a){this.menu.parent.onRowOptions(a)}}};b={id:"destroy",type:"icon",className:f.classNames.menuDestroy,
icon:b+"destroy.svg",events:{click:function(){const a=this.menu.parent,c=this.menu.parent.editMode,b=c.confirmationPopup;b.show({confirmButton:{value:c.lang.confirmButton,callback:a.onRowDestroy,context:a},cancelButton:{value:c.lang.cancelButton,callback:()=>{b.closePopup()}},text:c.lang.confirmDestroyRow})}}};return[...a,c,b]}constructor(a){super(a,e(d.defaultOptions,(a.options.toolbars||{}).row,{menu:{items:d.getMenuItemsConfig(a.options,a.iconsURLPrefix)}}));this.menu.initItems({})}refreshOutline(a,
b){this.row&&this.row.container&&super.refreshOutline(a,b,this.row,2)}showToolbar(a){let d;if(a.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){var c=n.getOffsets(a,this.editMode.board.container);var e=c.right-c.left;b(this.menu.items,a=>{a.activate()});d=e/2-this.container.clientWidth/2;e=c.left+d;c=c.top-this.container.clientHeight;this.setPosition(e,c);this.row=a;this.refreshOutline(-d,this.container.clientHeight)}else this.isVisible&&this.hide()}onRowOptions(){this.editMode.sidebar&&
this.editMode.sidebar.show(this.row)}onRowDestroy(){this.row&&(this.resetEditedRow(),this.row.destroy(),this.row=void 0,this.editMode.hideToolbars(["cell","row"]))}resetEditedRow(){this.editedRow=void 0}}d.defaultOptions={enabled:!0,className:f.classNames.editToolbar,outline:!0,outlineClassName:f.classNames.editToolbarRowOutline,menu:{className:f.classNames.editToolbarRow,itemsClassName:f.classNames.editToolbarItem,items:[]}};return d});m(h,"Dashboards/EditMode/AccordionMenu.js",[h["Dashboards/EditMode/EditRenderer.js"],
h["Core/Utilities.js"],h["Dashboards/EditMode/EditGlobals.js"]],function(k,f,h){const {createElement:n,merge:e,error:b}=f;class d{constructor(a,b){this.changedOptions={};this.chartOptionsJSON={};this.iconsURLPrefix=a;this.closeSidebar=b}renderContent(a,b){var c,d,g;const l=this,f=b.editableOptions.getOptions();let v;const w=n("div",{className:h.classNames.accordionMenu},{},a);for(let g=0,d=f.length;g<d;g++)a=f[g],v=k.renderCollapseHeader(w,{name:a.name,iconsURLPrefix:l.iconsURLPrefix,lang:((null===
(c=b.board)||void 0===c?void 0:c.editMode)||h).lang}).content,this.renderAccordion(a,v,b);c=n("div",{className:h.classNames.accordionMenuButtonsContainer},{},w);k.renderButton(c,{text:((null===(d=b.board)||void 0===d?void 0:d.editMode)||h).lang.confirmButton,callback:()=>{b.update(e(this.changedOptions,{chartOptions:this.chartOptionsJSON}));l.changedOptions={};l.chartOptionsJSON={};l.closeSidebar()}});k.renderButton(c,{text:((null===(g=b.board)||void 0===g?void 0:g.editMode)||h).lang.cancelButton,
callback:()=>{l.changedOptions={};l.chartOptionsJSON={};l.closeSidebar()}})}updateOptions(a,d){const c=a.length-1;let l=this.changedOptions;if(0===c&&"chartOptions"===a[0])try{this.chartOptionsJSON=JSON.parse(d)}catch(g){b("Dashboards Error: Wrong JSON config structure passed as a chart options.")}for(let b=0;b<c;b++){const c=a[b];l[c]||(l[c]={});l=l[c]}l[a[c]]=d}renderAccordion(a,b,c){if("nested"===a.type)return this.renderNested(b,a,c);const d=k.getRendererFunction(a.type);d&&d(b,Object.assign(Object.assign({},
a),{iconsURLPrefix:this.iconsURLPrefix,value:c.getEditableOptionValue(a.propertyPath),onchange:c=>this.updateOptions(a.propertyPath||[],c)}))}renderNested(a,b,c){var d;if(a&&b.nestedOptions){b=b.nestedOptions;for(let l=0,e=b.length;l<e;++l){const e=b[l].options;var g=!!b[l].showToggle;const p=b[l].propertyPath||[];g=k.renderCollapseHeader(a,{name:b[l].name,isEnabled:!!c.getEditableOptionValue(p),iconsURLPrefix:this.iconsURLPrefix,showToggle:g,onchange:a=>this.updateOptions(p,a),isNested:!0,lang:((null===
(d=c.board)||void 0===d?void 0:d.editMode)||h).lang});for(let a=0,b=e.length;a<b;++a)this.renderAccordion(e[a],g.content,c)}}}}return d});m(h,"Core/Renderer/HTML/AST.js",[h["Core/Globals.js"],h["Core/Utilities.js"]],function(k,f){const {SVG_NS:h,win:n}=k,{attr:e,createElement:b,css:d,error:a,isFunction:l,isString:c,objectEach:q,splat:g}=f;({trustedTypes:f}=n);const p=f&&l(f.createPolicy)&&f.createPolicy("highcharts",{createHTML:a=>a});f=p?p.createHTML(""):"";try{var z=!!(new DOMParser).parseFromString(f,
"text/html")}catch(B){z=!1}const v=z;class w{static filterUserAttributes(b){q(b,(g,d)=>{let l=!0;-1===w.allowedAttributes.indexOf(d)&&(l=!1);-1!==["background","dynsrc","href","lowsrc","src"].indexOf(d)&&(l=c(g)&&w.allowedReferences.some(a=>0===g.indexOf(a)));l||(a(33,!1,void 0,{"Invalid attribute in config":`${d}`}),delete b[d]);c(g)&&b[d]&&(b[d]=g.replace(/</g,"&lt;"))});return b}static parseStyle(a){return a.split(";").reduce((a,c)=>{c=c.split(":").map(a=>a.trim());const b=c.shift();b&&c.length&&
(a[b.replace(/-([a-z])/g,a=>a[1].toUpperCase())]=c.join(":"));return a},{})}static setElementHTML(a,c){a.innerHTML=w.emptyHTML;c&&(new w(c)).addToDOM(a)}constructor(a){this.nodes="string"===typeof a?this.parseMarkup(a):a}addToDOM(c){function b(c,l){let p;g(c).forEach(function(c){var g=c.tagName;const f=c.textContent?k.doc.createTextNode(c.textContent):void 0,z=w.bypassHTMLFiltering;let v;if(g)if("#text"===g)v=f;else if(-1!==w.allowedTags.indexOf(g)||z){g=k.doc.createElementNS("svg"===g?h:l.namespaceURI||
h,g);const a=c.attributes||{};q(c,function(c,b){"tagName"!==b&&"attributes"!==b&&"children"!==b&&"style"!==b&&"textContent"!==b&&(a[b]=c)});e(g,z?a:w.filterUserAttributes(a));c.style&&d(g,c.style);f&&g.appendChild(f);b(c.children||[],g);v=g}else a(33,!1,void 0,{"Invalid tagName in config":g});v&&l.appendChild(v);p=v});return p}return b(this.nodes,c)}parseMarkup(a){const c=[];a=a.trim().replace(/ style=(["'])/g," data-style=$1");if(v)a=(new DOMParser).parseFromString(p?p.createHTML(a):a,"text/html");
else{const c=b("div");c.innerHTML=a;a={body:c}}const g=(a,c)=>{var b=a.nodeName.toLowerCase();const d={tagName:b};"#text"===b&&(d.textContent=a.textContent||"");if(b=a.attributes){const a={};[].forEach.call(b,c=>{"data-style"===c.name?d.style=w.parseStyle(c.value):a[c.name]=c.value});d.attributes=a}if(a.childNodes.length){const c=[];[].forEach.call(a.childNodes,a=>{g(a,c)});c.length&&(d.children=c)}c.push(d)};[].forEach.call(a.body.childNodes,a=>g(a,c));return c}}w.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill filterUnits flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" ");
w.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" ");w.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" ");w.emptyHTML=f;w.bypassHTMLFiltering=
!1;"";return w});m(h,"Shared/BaseForm.js",[h["Core/Renderer/HTML/AST.js"],h["Core/Utilities.js"]],function(k,f){const {addEvent:h,createElement:n}=f;class e{constructor(b,d){this.iconsURL=d;this.container=this.createPopupContainer(b);this.closeButton=this.addCloseButton()}createPopupContainer(b,d="highcharts-popup highcharts-no-tooltip"){return n("div",{className:d},void 0,b)}addCloseButton(b="highcharts-popup-close"){const d=this,a=this.iconsURL,l=n("div",{className:b},void 0,this.container);l.style["background-image"]=
"url("+(a.match(/png|svg|jpeg|jpg|gif/ig)?a:a+"close.svg")+")";["click","touchstart"].forEach(a=>{h(l,a,d.closeButtonEvents.bind(d))});return l}closeButtonEvents(){this.closePopup()}showPopup(b="highcharts-annotation-toolbar"){const d=this.container,a=this.closeButton;this.type=void 0;d.innerHTML=k.emptyHTML;0<=d.className.indexOf(b)&&(d.classList.remove(b),d.removeAttribute("style"));d.appendChild(a);d.style.display="block";d.style.height=""}closePopup(){this.container.style.display="none"}}return e});
m(h,"Dashboards/Utilities.js",[h["Core/Utilities.js"]],function(k){const {isClass:f,isDOMElement:h,isObject:n,objectEach:e,uniqueKey:b}=k;return{merge:function(){let b,a=arguments,l=0,c={};const q=Error("Recursive copy depth > 100"),g=(a,c)=>{"object"!==typeof a&&(a={});if(100<++l)throw q;e(c,(b,d)=>{"__proto__"!==d&&"constructor"!==d&&(!n(b,!0)||f(b)||h(b)?a[d]=c[d]:a[d]=g(a[d]||{},b))});--l;return a};!0===a[0]&&(c=a[1],a=Array.prototype.slice.call(a,2));const p=a.length;for(b=0;b<p;b++)c=g(c,a[b]);
return c},uniqueKey:function(){return`dashboard-${b().replace("highcharts-","")}`}}});m(h,"Dashboards/Layout/Cell.js",[h["Dashboards/Actions/Bindings.js"],h["Dashboards/EditMode/EditGlobals.js"],h["Dashboards/Globals.js"],h["Dashboards/Layout/GUIElement.js"],h["Core/Utilities.js"]],function(k,f,h,n,e){const {componentFromJSON:b}=k,{merge:d,fireEvent:a}=e;class l extends n{static fromJSON(a,b){if(b){a=a.options;let c=a.containerId;b.layout.copyId&&(c=c+"_"+b.layout.copyId);return new l(b,{id:c,parentContainerId:b.container&&
b.container.id||a.parentContainerId,mountedComponentJSON:a.mountedComponentJSON,style:a.style,layoutJSON:a.layoutJSON,width:a.width,height:a.height})}}constructor(a,b,g){super();this.type=h.guiElementType.cell;this.id=b.id;this.options=b;this.row=a;this.isVisible=!0;const c=document.getElementById(b.parentContainerId||"")||a.container;if(c){const l=a.layout.options||{},e=a.options||{},p=l.cellClassName||"";let f;b.height&&(f="number"===typeof b.height?b.height+"px":b.height);this.setElementContainer({render:a.layout.board.guiEnabled,
parentContainer:c,attribs:{id:b.id,className:h.classNames.cell+" "+p},element:g,elementId:b.id,style:d(l.style,e.style,b.style,{height:f})});this.reflow();this.options.mountedComponentJSON&&this.mountComponentFromJSON(this.options.mountedComponentJSON,this.container);this.options.layout&&this.setNestedLayout();this.options.layoutJSON&&(b=this.row.layout,a=b.board,b=b.constructor.fromJSON,this.nestedLayout=b(d(this.options.layoutJSON,{parentContainerId:this.options.id}),a,this))}}setNestedLayout(){const a=
this.row.layout.board,b=a.options.gui;this.nestedLayout=new this.row.layout.constructor(a,d({},b&&b.layoutOptions,this.options.layout,{parentContainerId:this.options.id}),this)}mountComponentFromJSON(a,d){this.id!==a.options.parentElement&&(a.options.parentElement=this.id);return(a=b(a,d))?(this.mountedComponent=a,!0):!1}destroy(){const {row:a}=this;this.mountedComponent&&this.mountedComponent.destroy();a.unmountCell(this);const b=0===a.cells.length;super.destroy();b&&a.destroy()}toJSON(){return{$class:"Dashboards.Layout.Cell",
options:{containerId:this.container.id,parentContainerId:(this.row.container||{}).id||"",width:this.options.width,height:this.options.height,mountedComponentJSON:this.mountedComponent&&this.mountedComponent.toJSON(),style:this.options.style,layoutJSON:this.nestedLayout&&this.nestedLayout.toJSON()}}}getOptions(){return this.options}changeVisibility(b=!0){super.changeVisibility(b);const c=this,g=c.row;c.row.getVisibleCells().length?c.isVisible&&!g.isVisible&&c.row.show():c.row.hide();setTimeout(()=>
{a(g,"cellChange",{row:g,cell:c})},0)}getParentCell(a){let b;if(a<=this.row.layout.level){if(this.row.layout.level===a)return this;if(0<=this.row.layout.level-1&&(b=this.row.layout.parentCell))return b.getParentCell(a)}}getOverlappingLevels(a,b,g){const c=this.row.layout.parentCell;let d=[this.row.layout.level];if(c){g=g||n.getOffsets(this)[a];const l=n.getOffsets(c)[a];Math.abs(g-l)<b&&(d=[...d,...c.getOverlappingLevels(a,b,l)])}return d}reflow(a){a=a||this.row.layout.board.getLayoutContainerSize();
const b=this.options.responsive,c=this.options.width;if(this.container){let g="";b&&b[a]&&b[a].width?g=this.convertWidthToValue(b[a].width):c&&(g=this.convertWidthToValue(c));this.setSize(g||"auto")}}setSize(b,d){const c=this.row.layout.board.editMode;this.container&&(b&&("auto"===b&&"1 1 0%"!==this.container.style.flex?this.container.style.flex="1 1 0%":((b=this.convertWidthToValue(b))&&this.container.style.flex!=="0 0 "+b&&(this.container.style.flex="0 0 "+b),this.options.width=b)),d&&(this.options.height=
this.container.style.height=d+"px"),c&&(c.hideContextPointer(),c.cellToolbar&&c.cellToolbar.isVisible&&(c.cellToolbar.cell===this?c.cellToolbar.showToolbar(this):c.cellToolbar.hide())),a(this.row.layout.board,"cellResize",{cell:this}),a(this.row,"cellChange",{cell:this,row:this.row}))}updateSize(a,b){b=b||this.row.layout.board.getLayoutContainerSize();this.options.responsive||(this.options.responsive={});this.options.responsive[b]={width:a}}setHighlight(a){var b=this.row.layout.board.editMode;if(this.container&&
b){b=this.container;const c=b.classList.contains(f.classNames.cellEditHighlight);a||c?a&&c&&(b.classList.remove(f.classNames.cellEditHighlight),this.row.layout.board.container.classList.remove(f.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!1):(b.classList.add(f.classNames.cellEditHighlight),this.row.layout.board.container.classList.add(f.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!0)}}setActiveState(){this.row.layout.board.mountedComponents.forEach(a=>{a.cell.container&&
a.cell.container.classList.remove(h.classNames.cellActive)});this.container&&this.container.classList.add(h.classNames.cellActive)}convertWidthToValue(a){return"number"===typeof a?a+"px":/px/.test(a)?a:n.getPercentageWidth(a)||""}}return l});m(h,"Dashboards/Layout/Row.js",[h["Dashboards/Globals.js"],h["Dashboards/Layout/Cell.js"],h["Dashboards/Layout/GUIElement.js"],h["Core/Utilities.js"],h["Dashboards/EditMode/EditGlobals.js"]],function(k,f,h,n,e){const {pick:b,defined:d,merge:a,objectEach:l,fireEvent:c}=
n;class q extends h{static fromJSON(a,b){if(b){a=a.options;let c=a.containerId||"";c&&b.copyId&&(c=c+"_"+b.copyId);return new q(b,{id:c,parentContainerId:b.container&&b.container.id||a.parentContainerId,cellsJSON:a.cells,style:a.style})}}static setContainerHeight(a,b){b&&(a.style.height=b+"px")}constructor(b,c,d){super();this.type=k.guiElementType.row;this.layout=b;this.cells=[];this.options=c;this.isVisible=!0;const g=document.getElementById(c.parentContainerId||"")||b.container;if(g){const l=b.options||
{};this.setElementContainer({render:b.board.guiEnabled,parentContainer:g,attribs:{id:c.id,className:k.classNames.row+" "+(l.rowClassName||"")},element:d,elementId:c.id,style:a(l.style,c.style)});this.options.cells&&this.setCells();c.cellsJSON&&!this.cells.length&&this.setCellsFromJSON(c.cellsJSON)}}setCells(){var a=(this.layout.options||{}).cellClassName||"";a=b(this.options.cells,this.container&&this.container.getElementsByClassName(a))||[];let c,d,l;d=0;for(l=a.length;d<l;++d)c=a[d],this.addCell(this.layout.board.guiEnabled?
c:{id:""},c instanceof HTMLElement?c:void 0)}setCellsFromJSON(a){const b=[];let c,g;for(let d=0,l=a.length;d<l;++d)if(g=a[d],c=f.fromJSON({$class:g.$class,options:{containerId:g.options.containerId,parentContainerId:g.options.parentContainerId,width:g.options.width,height:g.options.height,style:g.options.style,layoutJSON:g.options.layoutJSON,mountedComponentJSON:void 0}},this))this.cells.push(c),g.options.mountedComponentJSON&&b.push({cell:c,mountedComponentJSON:g.options.mountedComponentJSON});for(let a=
0,g=b.length;a<g;++a)b[a].cell.mountComponentFromJSON(b[a].mountedComponentJSON,(c||{}).container)}addCell(a,b,c){a=new f(this,a,b);d(c)?this.mountCell(a,c):this.cells.push(a);this.layout.board.editMode&&this.layout.board.editMode.setCellEvents(a);return a}destroy(){const {layout:a}=this;for(let a=0,b=this.cells.length;a<b;++a)this.cells[a]&&this.cells[a].destroy();this.layout&&(this.layout.unmountRow(this),super.destroy(),0===a.rows.length&&a.destroy())}toJSON(){const a=(this.layout.container||{}).id||
"",b=[];for(let a=0,c=this.cells.length;a<c;++a)b.push(this.cells[a].toJSON());return{$class:"Dashboards.Layout.Row",options:{containerId:this.container.id,parentContainerId:a,cells:b,style:this.options.style}}}getOptions(){const a=[];for(let b=0,c=this.cells.length;b<c;++b)a.push(this.cells[b].getOptions());return{id:this.options.id,style:this.options.style,cells:a}}setSize(a){q.setContainerHeight(this.container,a)}getCellIndex(a){for(let b=0,c=this.cells.length;b<c;++b)if(this.cells[b].id===a.id)return b}mountCell(a,
b=0){const g=this,d=g.cells[b],l=g.cells[b-1];a.container&&(d&&d.container?d.container.parentNode.insertBefore(a.container,d.container):l&&l.container?l.container.parentNode.insertBefore(a.container,l.container.nextSibling):l||d||!g.container||g.container.appendChild(a.container),g.cells.splice(b,0,a),a.row=g,setTimeout(()=>{c(g,"cellChange",{row:g,cell:a})},0))}unmountCell(a){const b=this.getCellIndex(a);d(b)&&this.cells.splice(b,1);setTimeout(()=>{c(this,"cellChange",{row:this,cell:a})},0)}getVisibleCells(){const a=
[];for(let b=0,c=this.cells.length;b<c;++b)this.cells[b].isVisible&&a.push(this.cells[b]);return a}changeVisibility(a=!0,b){super.changeVisibility(a,b);this.layout.getVisibleRows().length?this.isVisible&&!this.layout.isVisible&&this.layout.show():this.layout.hide()}show(){this.changeVisibility(!0,"flex")}setHighlight(a){if(this.container){const b=this.container,c=b.classList.contains(e.classNames.rowContextHighlight);a||c?a&&c&&b.classList.remove(e.classNames.rowContextHighlight):b.classList.add(e.classNames.rowContextHighlight)}}getRowLevels(){const a=
{},b=[];let c,d;for(let b=0,g=this.cells.length;b<g;++b)c=this.cells[b],c.isVisible&&(d=h.getOffsets(c),a[d.top]||(a[d.top]={top:d.top,bottom:d.bottom,cells:[]}),a[d.top].bottom<d.bottom&&(a[d.top].bottom=d.bottom),a[d.top].cells.push(c));l(a,a=>{b.push(a)});return b}getRowLevelInfo(a){const b=this.getRowLevels();let c;for(let d=0,g=b.length;d<g;++d)b[d].top<=a&&b[d].bottom>a&&(c={index:d,rowLevels:b,rowLevel:b[d]});return c}}return q});m(h,"Dashboards/Layout/Layout.js",[h["Dashboards/Utilities.js"],
h["Core/Utilities.js"],h["Dashboards/Layout/Row.js"],h["Dashboards/Layout/GUIElement.js"],h["Dashboards/Globals.js"]],function(k,f,h,n,e){const {uniqueKey:b}=k,{pick:d,defined:a}=f;class l extends n{static fromJSON(a,d,g){var c=a.options;a=document.getElementById(a.options.containerId);(c=new l(d,{id:c.containerId,copyId:a?b():"",parentContainerId:c.parentContainerId||d.container.id,rowsJSON:c.rows,style:c.style},g),!g)&&d.layouts.push(c);return c}static importLocal(a,b){a=localStorage.getItem(e.classNamePrefix+
a);let c;a&&(c=l.fromJSON(JSON.parse(a),b));return c}constructor(a,b,d){super();this.type=e.guiElementType.layout;this.board=a;this.rows=[];this.options=b;this.isVisible=!0;const c=d?d.container:document.getElementById(b.parentContainerId||"")||a.layoutsWrapper;d?(this.parentCell=d,this.level=d.row.layout.level+1):this.level=0;c&&(b.copyId&&(this.copyId=b.copyId),this.setElementContainer({render:a.guiEnabled,parentContainer:c,attribs:{id:b.id+(this.copyId?"_"+this.copyId:""),className:e.classNames.layout+
" "+((this.options||{}).rowClassName||"")},elementId:b.id,style:this.options.style}),this.options.rows&&this.setRows(),b.rowsJSON&&!this.rows.length&&this.setRowsFromJSON(b.rowsJSON))}setRows(){const a=d(this.options.rows,this.container&&this.container.getElementsByClassName(this.options.rowClassName||""))||[];let b,g,l;g=0;for(l=a.length;g<l;++g)b=a[g],this.addRow(this.board.guiEnabled?b:{},b instanceof HTMLElement?b:void 0)}setRowsFromJSON(a){let b;for(let c=0,d=a.length;c<d;++c)(b=h.fromJSON(a[c],
this))&&this.rows.push(b)}addRow(b,d,g){b=new h(this,b,d);a(g)?this.mountRow(b,g):this.rows.push(b);this.board.editMode&&this.board.editMode.setRowEvents(b);return b}destroy(){for(var a=this.board.layouts.length-1;0<=a;a--)this.board.layouts[a]===this&&this.board.layouts.splice(a,1);for(a=this.rows.length-1;0<=a;a--)this.rows[a].destroy();this.parentCell&&this.parentCell.destroy();super.destroy()}exportLocal(){localStorage.setItem(e.classNamePrefix+this.options.id,JSON.stringify(this.toJSON()))}getRowIndex(a){for(let b=
0,c=this.rows.length;b<c;++b)if(this.rows[b]===a)return b}mountRow(a,b){const c=this.rows[b],d=this.rows[b-1];a.container&&(c&&c.container?c.container.parentNode.insertBefore(a.container,c.container):d&&d.container&&d.container.parentNode.insertBefore(a.container,d.container.nextSibling),this.rows.splice(b,0,a),a.layout=this)}unmountRow(b){b=this.getRowIndex(b);a(b)&&this.rows.splice(b,1)}getVisibleRows(){const a=[];for(let b=0,c=this.rows.length;b<c;++b)this.rows[b].isVisible&&a.push(this.rows[b]);
return a}changeVisibility(a=!0){super.changeVisibility(a);this.parentCell&&(this.isVisible&&!this.parentCell.isVisible?this.parentCell.show():!this.isVisible&&this.parentCell.isVisible&&this.parentCell.hide())}toJSON(){const a=(this.board.container||{}).id||"",b=[];for(let a=0,c=this.rows.length;a<c;++a)b.push(this.rows[a].toJSON());return{$class:"Dashboards.Layout",options:{containerId:this.container.id,parentContainerId:a,rows:b,style:this.options.style}}}getOptions(){const a=[];for(let b=0,c=this.rows.length;b<
c;++b)a.push(this.rows[b].getOptions());return{id:this.options.id,layoutClassName:this.options.layoutClassName,rowClassName:this.options.rowClassName,cellClassName:this.options.cellClassName,style:this.options.style,rows:a}}}return l});m(h,"Dashboards/EditMode/SidebarPopup.js",[h["Dashboards/EditMode/AccordionMenu.js"],h["Shared/BaseForm.js"],h["Dashboards/Actions/Bindings.js"],h["Dashboards/EditMode/EditGlobals.js"],h["Dashboards/EditMode/EditRenderer.js"],h["Dashboards/Layout/GUIElement.js"],h["Dashboards/Layout/Layout.js"],
h["Core/Utilities.js"]],function(k,f,h,n,e,b,d,a){const {createElement:l,merge:c}=a;class q extends f{constructor(a,b,c){super(a,b);this.isVisible=!1;this.editMode=c;this.accordionMenu=new k(this.iconsURL,this.hide.bind(this))}detectRightSidebar(a){const c=this.editMode.board.layoutsWrapper;return b.getOffsets(a,c).left<c.offsetWidth/2-10}removeClassNames(){const a=n.classNames,b=this.container.classList;b.remove(a.editSidebarShow);b.remove(a.editSidebarRight);b.remove(a.editSidebarRightShow)}addClassNames(a){const b=
this.container.classList;a&&b.add(n.classNames.editSidebarRight);setTimeout(()=>{b.add(n.classNames[a?"editSidebarRightShow":"editSidebarShow"])})}show(a){const b=this.editMode,c=!(!a||!this.detectRightSidebar(a));this.showPopup(n.classNames.editSidebarShow);this.addClassNames(c);b.resizer&&b.resizer.disableResizer();b.editCellContext&&b.editCellContext.row&&b.editCellContext.row.setHighlight(!0);b.hideToolbars(["cell","row"]);b.stopContextDetection();this.isVisible=!0;this.generateContent(a)}generateContent(a){this.renderHeader(a?
this.editMode.lang.settings:this.editMode.lang.addComponent,this.iconsURL+"settings.svg");a?"cell"===a.getType()&&(a=a.mountedComponent)&&this.accordionMenu.renderContent(this.container,a):this.renderAddComponentsList()}renderAddComponentsList(){const a=this,c=q.components;let e;const f=l("div",{className:n.classNames.editGridItems},{},a.container);for(let g=0,k=c.length;g<k;++g)e=l("div",{},{},f),e.addEventListener("mousedown",l=>{a.editMode.dragDrop&&(a.hide(),a.editMode.dragDrop.onDragStart(l,
void 0,l=>{if(0===this.editMode.board.layouts.length){l=this.editMode.board;var e=b.createElementId("layout");e=new d(l,{id:e,copyId:"",parentContainerId:l.container.id,rows:[{}],style:{}});l.layouts.push(e);l=e.rows[0]}if(l=c[g].onDrop(a,l))a.editMode.setEditCellContext(l),a.show(l),l.setHighlight()}))}),e.innerHTML=c[g].text}onDropNewComponent(a,d){const g=this.editMode.dragDrop;if(g)return a=("cell"===a.getType()?a.row:a).addCell({id:b.createElementId("col")}),g.onCellDragEnd(a),d=c(d,{cell:a.id}),
h.addComponent(d,a),a}hide(){const a=this.editMode,b=a.editCellContext;this.closePopup();this.removeClassNames();a.isEditOverlayActive&&a.setEditOverlay(!0);b&&b.row&&(a.showToolbars(["cell","row"],b),b.row.setHighlight(),b.isHighlighted&&b.setHighlight(!0));a.isContextDetectionActive=!0;this.isVisible=!1}closeButtonEvents(){this.hide()}renderHeader(a,b){if(b=e.renderIcon(this.container,{icon:b,className:n.classNames.editSidebarTitle}))b.textContent=a}addCloseButton(a=n.classNames.popupCloseButton){return super.addCloseButton.call(this,
a)}createPopupContainer(a,b=n.classNames.editSidebar){return super.createPopupContainer.call(this,a,b)}}q.components=[{text:"layout",onDrop:function(a,c){if(c){a=("cell"===c.getType()?c.row:c).layout.board;var g=b.createElementId("layout");c=b.createElementId("cell");g=new d(a,{id:g,copyId:"",parentContainerId:a.container.id,rows:[{cells:[{id:c}]}],style:{}});a.layouts.push(g);h.addComponent({type:"HTML",cell:c,elements:[{tagName:"div",style:{"text-align":"center"},textContent:"Placeholder text"}]})}}},
{text:"chart",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"Highcharts",chartOptions:{series:[{name:"Series from options",data:[1,2,1,4]}],chart:{animation:!1,type:"pie"}}})}},{text:"HTML",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"HTML",elements:[{tagName:"img",attributes:{src:"https://www.highcharts.com/samples/graphics/stock-dark.svg"}}]})}},{text:"datagrid",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"DataGrid"})}},
{text:"KPI",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"KPI",title:"Example KPI",value:70})}}];return q});m(h,"Dashboards/EditMode/EditContextMenu.js",[h["Dashboards/EditMode/EditGlobals.js"],h["Core/Utilities.js"],h["Dashboards/EditMode/Menu/Menu.js"]],function(k,f,h){const {addEvent:n,merge:e}=f;class b extends h{constructor(d,a,l){super(l.board.container,e(b.defaultOptions,a||{}),l);this.editMode=l;this.options=e(b.defaultOptions,a||{});this.container.style.width=
this.options.width+"px";super.initItems(b.items);if(this.options.items){d=[];for(let a=0,b=this.options.items.length;a<b;++a)"string"===typeof this.options.items[a]?d.push(this.options.items[a]):this.options.items[a].id&&d.push(this.options.items[a].id);this.setActiveItems(d)}this.initEvents()}initEvents(){const b=this;n(document,"click",a=>{a.target!==this.container&&a.target!==b.editMode.tools.contextButtonElement&&!a.target.classList.contains(k.classNames.toggleSlider)&&"INPUT"!==a.target.tagName&&
this.isVisible&&this.setVisible(!1)});n(r,"resize",()=>{b.setVisible(!1)})}setVisible(b){this.container&&(b?(this.container.style.display="block",this.isVisible=!0):(this.container.style.display="none",this.isVisible=!1))}updatePosition(b,a,l){const c=this.options.width||0;a=b?b.offsetLeft-c+b.offsetWidth:a;b=b?b.offsetTop+b.offsetHeight:l;a&&b&&(this.container.style.left=a+"px",this.container.style.top=b+"px")}}b.defaultOptions={enabled:!0,width:150,className:k.classNames.contextMenu,itemsClassName:k.classNames.contextMenuItem,
items:["editMode"]};b.items=e(h.items,{editMode:{id:"editMode",type:"toggle",getValue:function(b){return b.menu.editMode.isActive()},langKey:"editMode",events:{click:function(){this.menu.editMode.onEditModeToggle()}}}});return b});m(h,"Dashboards/Actions/ContextDetection.js",[h["Core/Utilities.js"],h["Dashboards/Layout/GUIElement.js"]],function(k,f){const {defined:h}=k;class n{static isGUIElementOnParentEdge(e,b){const d="top"===b||"bottom"===b?e.row.layout.getVisibleRows():"left"===b||"right"===
b?e.row.getVisibleCells():[],a=d.length-1;return d[a]===e&&"right"===b||d[a]===e.row&&"bottom"===b||d[0]===e&&"left"===b||d[0]===e.row&&"top"===b}static getContextLevel(e,b,d,a){const l=e.getOverlappingLevels(a,b/2);a=l[l.length-1];b=e.row.layout.level-Math.floor(d/(b/l.length));return b=b<a?a:b>e.row.layout.level?e.row.layout.level:b}static getContext(e,b,d){let a;var l=f.getOffsets(e);const {width:c,height:k}=f.getDimFromOffsets(l);c<2*d&&(d=c/2);var g=b.clientX-l.left;b=b.clientY-l.top;l=(l=g>=
-d&&g<=d?"left":g-c>=-d&&g-c<=d?"right":"")?l:b>=-d&&b<=d?"top":b-k>=-d&&b-k<=d?"bottom":"";switch(l){case "right":a=g-c+d;break;case "left":a=d-g;break;case "top":a=d-b;break;case "bottom":a=b-k+d}g={cell:e,side:l};0!==e.row.layout.level&&l&&n.isGUIElementOnParentEdge(e,l)&&h(a)&&(d=n.getContextLevel(e,d,a,l),e=e.getParentCell(d))&&(g.cell=e);return g}}return n});m(h,"Dashboards/Actions/DragDrop.js",[h["Core/Utilities.js"],h["Dashboards/Globals.js"],h["Dashboards/EditMode/EditGlobals.js"],h["Dashboards/Layout/GUIElement.js"],
h["Dashboards/Actions/ContextDetection.js"]],function(k,f,h,n,e){const {addEvent:b,merge:d,css:a,fireEvent:l,createElement:c}=k;class q{constructor(a,b){this.editMode=a;this.options=d(q.defaultOptions,b);this.mockElement=c("div",{className:h.classNames.dragMock},{},a.board.container);this.dropPointer={isVisible:!1,align:"",element:c("div",{className:h.classNames.dropPointer},{},a.board.container)};this.isActive=!1;this.initEvents()}showDropPointer(b,c,d,l){this.dropPointer.isVisible=!0;a(this.dropPointer.element,
{display:"block",left:b+"px",top:c+"px",height:l+"px",width:d+"px"})}hideDropPointer(){this.dropPointer.isVisible&&(this.dropPointer.isVisible=!1,this.dropPointer.align="",this.dropPointer.element.style.display="none")}setMockElementPosition(b){const c=this.editMode.board.container.getBoundingClientRect(),d=this.mockElement.clientWidth/2;a(this.mockElement,{left:b.clientX-c.left-d+"px",top:b.clientY-c.top-d+"px"})}initEvents(){b(document,"mousemove",this.onDrag.bind(this));b(document,"mouseup",this.onDragEnd.bind(this))}onDragStart(b,
c,d){this.isActive=!0;this.editMode.hideToolbars(["cell","row"]);this.editMode.resizer&&this.editMode.resizer.disableResizer();this.setMockElementPosition(b);c?(this.context=c,c.hide(),c.getType()===f.guiElementType.cell&&(l(this.editMode.board,"cellResize",{cell:c}),l(c.row,"cellChange",{cell:c,row:c.row}))):d&&(this.dragEndCallback=d);a(this.mockElement,{cursor:"grabbing",display:"block"})}onDrag(a){if(this.isActive)if(this.setMockElementPosition(a),this.context)if(this.context.getType()===f.guiElementType.cell)this.onCellDrag(a);
else{if(this.context.getType()===f.guiElementType.row)this.onRowDrag(a)}else if(this.dragEndCallback)this.onCellDrag(a)}onDragEnd(){if(this.isActive)if(this.isActive=!1,a(this.mockElement,{cursor:"grab",display:"none"}),this.context){if(this.context.getType()===f.guiElementType.cell)this.onCellDragEnd();else if(this.context.getType()===f.guiElementType.row)this.onRowDragEnd();this.context=void 0;this.editMode.editCellContext&&(this.editMode.showToolbars(["row","cell"],this.editMode.editCellContext),
this.editMode.resizer&&this.editMode.resizer.setSnapPositions(this.editMode.editCellContext))}else this.dragEndCallback&&(this.dragEndCallback(this.dropContext),this.dragEndCallback=void 0,this.hideDropPointer())}onRowDrag(a,b){const c=this.mouseCellContext,d=this.options.dropPointerSize,g=this.options.rowDropOffset;let l=!1;if(c){a=b||e.getContext(c,a,g);b=a.side;if(this.dropPointer.align!==b||this.dropContext!==a.cell.row)l=!0,this.dropPointer.align=b,this.dropContext=a.cell.row;if(b){a=n.getOffsets(this.dropContext,
this.editMode.board.container);const {width:b,height:c}=n.getDimFromOffsets(a);this.dropPointer.isVisible&&!l||this.showDropPointer(a.left,a.top+("bottom"===this.dropPointer.align?c:0)-d/2,b,d)}else this.dropContext=void 0,this.hideDropPointer()}}onRowDragEnd(){const a=this.context,b=this.dropContext;this.dropPointer.align&&(a.layout.unmountRow(a),0===a.layout.rows.length&&a.layout.destroy(),b.layout.mountRow(a,(b.layout.getRowIndex(b)||0)+("bottom"===this.dropPointer.align?1:0)),a.cells[0]&&(l(this.editMode.board,
"cellResize",{cell:a.cells[0]}),l(a,"cellChange",{cell:a.cells[0],row:a})));this.hideDropPointer();a.show()}onCellDrag(a,b){const c=this.mouseCellContext,d=this.options.cellDropOffset;if(c||b)this.onCellDragCellCtx(a,b||e.getContext(c,a,d));else if(this.mouseRowContext)this.onCellDragRowCtx(a,this.mouseRowContext)}onCellDragCellCtx(a,b){var c=this.options.dropPointerSize;const d=b.side;let g=!1;if(this.dropPointer.align!==d||this.dropContext!==b.cell)g=!0,this.dropPointer.align=d,this.dropContext=
b.cell;if("right"===d||"left"===d){b=n.getOffsets(this.dropContext,this.editMode.board.container);const {width:l,height:e}=n.getDimFromOffsets(b);if(!this.dropPointer.isVisible||g)a=this.dropContext.row.getRowLevelInfo(a.clientY),this.showDropPointer(b.left+("right"===d?l:0)-c/2,b.top,c,a?a.rowLevel.bottom-a.rowLevel.top:e)}else if("top"===d||"bottom"===d){if(c=n.getOffsets(this.dropContext),(c=this.dropContext.row.getRowLevelInfo(c.top))&&(0===c.index&&"top"===d||c.index===c.rowLevels.length-1&&
"bottom"===d))this.onRowDrag(a,b)}else this.dropContext=void 0,this.hideDropPointer()}onCellDragRowCtx(a,b){const c=this.options.dropPointerSize,d=n.getOffsets(b);b=b.getRowLevelInfo(a.clientY);let g,l;if(b)for(let e=0,f=b.rowLevel.cells.length;e<f;++e){g=b.rowLevel.cells[e];l=n.getOffsets(g);const {width:k,height:h}=n.getDimFromOffsets(l),q=this.editMode.board.container.getBoundingClientRect(),p=b.rowLevel.bottom-b.rowLevel.top;if(g.isVisible)if(h<.8*p&&l.left<=a.clientX&&l.right>=a.clientX)!(l.top>
a.clientY)&&l.bottom<a.clientY&&(this.showDropPointer(l.left-q.left,l.top-q.top+h,k,p-h),this.dropPointer.align="nestedBottom",this.dropContext=g),e=f;else{if(0===e&&l.left>a.clientX||e===f-1&&l.right<a.clientX){if(!(l.left>a.clientX)&&l.right<a.clientX){const b=d.right-l.right;this.showDropPointer(l.left+(0===e&&l.left>a.clientX?0:k)-c/2-q.left,l.top-q.top,b>c?b:c,p||h);this.dropPointer.align="right";this.dropContext=g}e=f}}else g.isVisible||g!==this.context||(this.dropContext=void 0,this.hideDropPointer())}}onCellDragEnd(a){a=
a||this.context;let b=this.dropContext;if(this.dropPointer.align&&b&&a)if(a.row.unmountCell(a),0===a.row.cells.length&&a.row.destroy(),"top"!==this.dropPointer.align&&"bottom"!==this.dropPointer.align||b.getType()!==f.guiElementType.row)if("nestedBottom"===this.dropPointer.align&&b.getType()===f.guiElementType.cell){var c=b.row;const d=c.getCellIndex(b);c.unmountCell(b);c=c.addCell({id:n.createElementId("col-nested-"),layout:{rows:[{},{}]}},void 0,d);c.nestedLayout&&(c.nestedLayout.rows[0].mountCell(b),
c.nestedLayout.rows[1].mountCell(a))}else b.getType()===f.guiElementType.cell&&b.row.mountCell(a,(b.row.getCellIndex(b)||0)+("right"===this.dropPointer.align?1:0));else b.layout.addRow({},void 0,(b.layout.getRowIndex(b)||0)+("bottom"===this.dropPointer.align?1:0)).mountCell(a,0);l(this.editMode.board,"cellResize",{cell:a});l(a.row,"cellChange",{cell:a,row:a.row});this.hideDropPointer();a.show()}}q.defaultOptions={enabled:!0,rowDropOffset:30,cellDropOffset:30,dropPointerSize:16};return q});m(h,"Dashboards/Actions/Resizer.js",
[h["Dashboards/EditMode/EditGlobals.js"],h["Dashboards/Layout/GUIElement.js"],h["Core/Utilities.js"]],function(k,f,h){const {merge:n,addEvent:e,createElement:b,fireEvent:d,removeEvent:a,pick:l}=h;class c{static fromJSON(a,b){return new c(a,b.options)}constructor(a,b){this.editMode=a;this.options=n({},c.defaultOptions,a.options.resize,b);this.currentCell=void 0;this.isX=-1<this.options.type.indexOf("x");this.isY=-1<this.options.type.indexOf("y");this.isActive=!1;this.startX=0;this.tempSiblingsWidth=
[];this.addSnaps(this.options)}addSnaps(){const a=this.options.snap.height||0,c=this.editMode.board.container;this.snapRight=b("div",{className:k.classNames.resizeSnap+" "+k.classNames.resizeSnapX},{width:(this.options.snap.width||0)+"px",left:"-9999px"},c);this.snapBottom=b("div",{className:k.classNames.resizeSnap+" "+k.classNames.resizeSnapY},{height:a+"px",top:"-9999px",left:"0px"},c);this.addResizeEvents()}disableResizer(){this.isActive=!1;this.currentCell=this.currentDimension=void 0;this.snapRight&&
(this.snapRight.style.left="-9999px");this.snapBottom&&(this.snapBottom.style.left="-9999px")}setSnapPositions(a){this.currentCell=a;var b=f.getOffsets(a,this.editMode.board.container);a=b.left||0;const c=b.top||0,{width:d,height:l}=f.getDimFromOffsets(b);b=this.options.snap.width||0;const e=this.options.snap.height||0;this.snapRight&&(this.snapRight.style.left=a+d-b+"px",this.snapRight.style.top=c+l/2-e/2+"px");this.snapBottom&&(this.snapBottom.style.top=c+l-e+"px",this.snapBottom.style.left=a+d/
2-b/2+"px")}setTempWidthSiblings(){const a=this.currentCell;if(a){const c=this.editMode.rwdMode;var b=f.getOffsets(a);b=(b=a.row.getRowLevelInfo(b.top))&&b.rowLevel.cells||[];let d,g,e;for(let f=0,k=b.length;f<k;++f){g=b[f];d=g.container;e=l(((g.options.responsive||{})[c]||{}).width,g.options.width);if(g===a)break;!d||e&&"auto"!==e||(d.style.flex="0 0 "+d.offsetWidth+"px",this.tempSiblingsWidth.push(g))}}}revertSiblingsAutoWidth(){const a=this.tempSiblingsWidth;let b,c;for(let d=0,l=a.length;d<l;++d)if(b=
a[d].container)b.style.flex="1 1 0%",c=a[d];this.tempSiblingsWidth=[];c&&(d(this.editMode.board,"cellResize",{cell:c}),d(c.row,"cellChange",{cell:c,row:c.row}))}addResizeEvents(){const a=this;let b,c,d,l;a.mouseDownSnapX=b=function(b){a.isActive=!0;a.currentDimension="x";a.editMode.hideToolbars(["row","cell"]);a.setTempWidthSiblings();a.startX=b.clientX};a.mouseDownSnapY=c=function(){a.isActive=!0;a.currentDimension="y";a.editMode.hideToolbars(["row","cell"])};a.mouseMoveSnap=d=function(b){if(a.isActive)a.onMouseMove(b)};
a.mouseUpSnap=l=function(){a.isActive&&(a.isActive=!1,a.currentDimension=void 0,a.revertSiblingsAutoWidth(),a.editMode.showToolbars(["row","cell"],a.currentCell),a.currentCell&&a.setSnapPositions(a.currentCell))};e(this.snapRight,"mousedown",b);e(this.snapBottom,"mousedown",c);e(document,"mousemove",d);e(document,"mouseup",l);e(r,"resize",()=>{a.currentCell&&a.setSnapPositions(a.currentCell)})}onMouseMove(a){const b=this.currentCell;var c=b&&b.container;const l=this.currentDimension;var e=this.editMode.sidebar;
e=e&&e.editMode.rwdMode;if(b&&c&&!((b.row.layout.board.editMode||{}).dragDrop||{}).isActive){c=f.getOffsets(b);var {width:k}=f.getDimFromOffsets(f.getOffsets(b.row));"x"===l&&(k=Math.min(a.clientX-c.left,k)/k*100+"%",b.setSize(k),b.updateSize(k,e),this.startX=a.clientX);"y"===l&&b.setSize(void 0,a.clientY-c.top);d(this.editMode.board,"cellResize",{cell:b});d(b.row,"cellChange",{cell:b,row:b.row});this.setSnapPositions(b)}}destroy(){const b=["snapRight","snapBottom"];let c;a(document,"mousemove");
a(document,"mouseup");for(let d=0,l=b.length;d<l;++d)c=this[b[d]],a(c,"mousedown"),c.remove()}toJSON(){const a=this.options;return{$class:"Dashboards.Action.Resizer",options:{enabled:a.enabled,styles:{minWidth:a.styles.minWidth,minHeight:a.styles.minHeight},type:a.type,snap:{width:a.snap.width,height:a.snap.height}}}}}c.defaultOptions={enabled:!0,styles:{minWidth:20,minHeight:50},type:"xy",snap:{width:20,height:20}};return c});m(h,"Dashboards/EditMode/ConfirmationPopup.js",[h["Core/Utilities.js"],
h["Shared/BaseForm.js"],h["Dashboards/EditMode/EditGlobals.js"],h["Dashboards/EditMode/EditRenderer.js"]],function(k,f,h,n){const {createElement:e}=k;class b extends f{constructor(b,a,l,c){super(b,a);this.editMode=l;this.options=c}createPopupContainer(b,a=h.classNames.confirmationPopup){return super.createPopupContainer(b,a)}addCloseButton(b=h.classNames.popupCloseButton){return super.addCloseButton(b)}renderContent(b){this.contentContainer=e("div",{className:h.classNames.popupContentContainer},{},
this.container);const a=this.contentContainer.parentNode;a.style.marginTop="0px";const d=a.getBoundingClientRect().top;a.style.marginTop=(0>d?Math.abs(d-200):200)+"px";n.renderText(this.contentContainer,{title:b.text||""});n.renderButton(this.contentContainer,{text:b.cancelButton.value,callback:b.cancelButton.callback});n.renderButton(this.contentContainer,{text:b.confirmButton.value,className:h.classNames.popupConfirmBtn,callback:()=>{b.confirmButton.callback.call(b.confirmButton.context);this.closePopup()}})}show(b){this.showPopup();
this.renderContent(b);this.editMode.setEditOverlay()}closePopup(){super.closePopup();this.editMode.setEditOverlay(!0)}}return b});m(h,"Dashboards/EditMode/EditMode.js",[h["Core/Utilities.js"],h["Dashboards/EditMode/EditGlobals.js"],h["Dashboards/EditMode/EditRenderer.js"],h["Dashboards/EditMode/Toolbar/CellEditToolbar.js"],h["Dashboards/EditMode/Toolbar/RowEditToolbar.js"],h["Dashboards/EditMode/SidebarPopup.js"],h["Dashboards/EditMode/EditContextMenu.js"],h["Dashboards/Actions/DragDrop.js"],h["Dashboards/Actions/Resizer.js"],
h["Dashboards/EditMode/ConfirmationPopup.js"],h["Dashboards/Actions/ContextDetection.js"],h["Dashboards/Layout/GUIElement.js"]],function(k,f,h,n,e,b,d,a,l,c,q,g){const {addEvent:p,createElement:m,css:v,merge:w}=k;class y{constructor(a,b){this.active=!1;this.iconsURLPrefix="https://code.highcharts.com/dashboards/1.0.2/gfx/dashboards-icons/";this.iconsURLPrefix=b&&b.iconsURLPrefix||this.iconsURLPrefix;this.options=w({dragDrop:{enabled:!0},resize:{enabled:!0},enabled:!0,contextMenu:{icon:this.iconsURLPrefix+
"menu.svg"},tools:{addComponentBtn:{icon:this.iconsURLPrefix+"add.svg"},rwdIcons:{small:this.iconsURLPrefix+"smartphone.svg",medium:this.iconsURLPrefix+"tablet.svg",large:this.iconsURLPrefix+"computer.svg"}},confirmationPopup:{close:{icon:this.iconsURLPrefix+"close.svg"}},toolbars:{cell:{enabled:!0},row:{enabled:!0}}},b||{});this.board=a;this.lang=w({},f.lang,this.options.lang);this.contextPointer={isVisible:!1,element:m("div",{className:f.classNames.contextDetectionPointer},{},this.board.container)};
this.isContextDetectionActive=this.isInitialized=!1;this.tools={};this.rwdMenu=[];this.rwdMode=this.board.getLayoutContainerSize();this.createTools();this.confirmationPopup=new c(a.container,this.iconsURLPrefix,this,this.options.confirmationPopup);this.editOverlay=m("div",{className:f.classNames.editOverlay},{},a.container);this.isEditOverlayActive=!1}onContextBtnClick(){this.tools.contextMenu||(this.tools.contextMenu=new d(this.board.container,this.options.contextMenu||{},this));this.tools.contextMenu&&
(this.tools.contextMenu.isVisible||this.tools.contextMenu.updatePosition(this.tools.contextButtonElement),this.tools.contextMenu.setVisible(!this.tools.contextMenu.isVisible))}onEditModeToggle(){this.active?this.deactivate():this.activate()}init(){var c,d,g,f,k;if(null===(c=this.options.resize)||void 0===c?0:c.enabled)this.resizer=new l(this,this.options.resize);this.dragDrop=new a(this,this.options.dragDrop);(null===(g=null===(d=this.options.toolbars)||void 0===d?void 0:d.row)||void 0===g?0:g.enabled)&&
!this.rowToolbar&&(this.rowToolbar=new e(this));(null===(k=null===(f=this.options.toolbars)||void 0===f?void 0:f.cell)||void 0===k?0:k.enabled)&&!this.cellToolbar&&(this.cellToolbar=new n(this));this.sidebar||(this.sidebar=new b(this.board.container,this.iconsURLPrefix,this));this.isInitialized=!0}initEvents(){const a=this,b=a.board;for(let c=0,d=b.layouts.length;c<d;++c)a.setLayoutEvents(b.layouts[c]);a.cellToolbar&&(p(a.cellToolbar.container,"mouseenter",function(){a.stopContextDetection()}),p(a.cellToolbar.container,
"mouseleave",function(){a.isContextDetectionActive=!0}));a.rowToolbar&&(p(a.rowToolbar.container,"mouseenter",function(){a.stopContextDetection()}),p(a.rowToolbar.container,"mouseleave",function(){a.isContextDetectionActive=!0}));p(b.layoutsWrapper,"mousemove",a.onDetectContext.bind(a));p(b.layoutsWrapper,"click",a.onContextConfirm.bind(a));p(b.layoutsWrapper,"mouseleave",()=>{a.hideContextPointer()})}setLayoutEvents(a){for(let b=0,c=a.rows.length;b<c;++b){const c=a.rows[b];this.setRowEvents(c);for(let a=
0,b=c.cells.length;a<b;++a)this.setCellEvents(c.cells[a])}}setRowEvents(a){const b=this;if(b.dragDrop){const c=b.dragDrop;p(a.container,"mouseenter",function(){b.isContextDetectionActive&&(b.mouseRowContext=a)});p(a.container,"mousemove",function(b){c.isActive&&b.target===a.container&&(c.mouseRowContext=a)});p(a.container,"mouseleave",function(){c.isActive&&c.mouseRowContext===a&&(c.mouseRowContext=void 0);b.isContextDetectionActive&&(b.mouseRowContext=void 0)})}}setCellEvents(a){const b=this;if(a.nestedLayout)b.setLayoutEvents(a.nestedLayout);
else if(b.cellToolbar&&a.container&&(b.dragDrop||b.resizer)){const c=b.dragDrop;p(a.container,"mouseenter",function(){b.isContextDetectionActive&&(b.mouseCellContext=a)});p(a.container,"mousemove",function(b){c&&c.isActive&&b.target===a.container&&(c.mouseCellContext=a,c.mouseRowContext=void 0)});p(a.container,"mouseleave",function(){c&&c.isActive&&c.mouseCellContext===a&&(c.mouseCellContext=void 0);b.isContextDetectionActive&&(b.mouseCellContext=void 0)})}}activate(){this.isInitialized||(this.init(),
this.initEvents());this.board.container.classList.add(f.classNames.editModeEnabled);this.addComponentBtn&&(this.addComponentBtn.style.display="block");this.rwdMode=this.board.getLayoutContainerSize();this.showRwdButtons();this.isContextDetectionActive=this.active=!0}deactivate(){this.board.container.classList.remove(f.classNames.editModeEnabled);this.hideToolbars();this.editCellContext&&this.editCellContext.row.setHighlight(!0);this.addComponentBtn&&(this.addComponentBtn.style.display="none");this.resizer&&
this.resizer.disableResizer();this.hideRwdButtons();this.board.layoutsWrapper.style.width="100%";this.board.reflow();this.active=!1;this.stopContextDetection();this.potentialCellContext=this.editCellContext=void 0}isActive(){return this.active}hideToolbars(a){a=a||["cell","row","sidebar"];for(let b=0,c=a.length;b<c;++b)switch(a[b]){case "cell":this.cellToolbar&&this.cellToolbar.isVisible&&this.cellToolbar.hide();break;case "row":this.rowToolbar&&this.rowToolbar.isVisible&&this.rowToolbar.hide();break;
case "sidebar":this.sidebar&&this.sidebar.isVisible&&this.sidebar.hide()}}showToolbars(a,b){a=a||["cell","row","sidebar"];for(let c=0,d=a.length;c<d;++c)switch(a[c]){case "cell":b&&this.cellToolbar&&(this.cellToolbar.isVisible=!0,this.cellToolbar.showToolbar(b));break;case "row":b&&b.row&&this.rowToolbar&&(this.rowToolbar.isVisible=!0,this.rowToolbar.showToolbar(b.row));break;case "sidebar":this.sidebar&&!this.sidebar.isVisible&&this.sidebar.show()}}createTools(){var a,b;const c=this;var d=this.options;
this.tools.container=document.createElement("div");this.tools.container.classList.add(f.classNames.editTools);this.board.layoutsWrapper.parentNode.insertBefore(this.tools.container,this.board.layoutsWrapper);d.contextMenu&&d.contextMenu.enabled&&(this.tools.contextButtonElement=h.renderContextButton(this.tools.container,c));this.createRwdMenu();d=null===(b=null===(a=null===d||void 0===d?void 0:d.tools)||void 0===a?void 0:a.addComponentBtn)||void 0===b?void 0:b.icon;this.addComponentBtn=h.renderButton(this.tools.container,
{className:f.classNames.editToolsBtn,icon:d,text:this.lang.addComponent,callback:()=>{c.sidebar&&(c.sidebar.show(),c.setEditOverlay())},style:{display:"none"}})}createRwdMenu(){const a=this.board.options.responsiveBreakpoints,b=this.tools.container;var c=this.options;c=c&&c.tools&&c.tools.rwdIcons||{};for(const d in a)if(b){const l=h.renderButton(b,{className:f.classNames.editToolsBtn,icon:c[d]||"",text:this.lang[d],callback:b=>{b=b.target;b.classList.contains("selected")?(b.classList.remove("selected"),
this.rwdMode=this.board.layoutsWrapper.style.width=""):(this.rwdMenu.forEach(a=>{a.classList.remove("selected")}),b.classList.add("selected"),this.board.layoutsWrapper.style.width=a[d]+"px",this.rwdMode=d);this.board.reflow()},style:{display:"none"}});l&&this.rwdMenu.push(l)}}showRwdButtons(){for(let a=0,b=this.rwdMenu.length;a<b;++a)this.rwdMenu[a].style.display="block"}hideRwdButtons(){for(let a=0,b=this.rwdMenu.length;a<b;++a)this.rwdMenu[a].style.display="none"}onDetectContext(a){if(this.isActive()&&
this.isContextDetectionActive&&(this.mouseCellContext||this.mouseRowContext)&&!(this.dragDrop||{}).isActive){let b;this.mouseCellContext?b=q.getContext(this.mouseCellContext,a,50).cell:this.mouseRowContext&&(a=this.mouseRowContext,b=a.layout.parentCell);if(this.potentialCellContext=b){a=g.getOffsets(b,this.board.container);const {width:c,height:d}=g.getDimFromOffsets(a);this.showContextPointer(a.left,a.top,c,d)}}}stopContextDetection(){this.isContextDetectionActive=!1;this.hideContextPointer()}onContextConfirm(){this.isContextDetectionActive&&
this.potentialCellContext&&this.editCellContext!==this.potentialCellContext&&this.setEditCellContext(this.potentialCellContext,this.editCellContext)}setEditCellContext(a,b){b=b&&b.row;this.editCellContext=a;this.showToolbars(["row","cell"],a);b&&b===a.row||(b&&b.setHighlight(!0),a.row.setHighlight());this.resizer&&this.resizer.setSnapPositions(a)}showContextPointer(a,b,c,d){this.contextPointer.isVisible=!0;v(this.contextPointer.element,{display:"block",left:a+"px",top:b+"px",height:d+"px",width:c+
"px"})}hideContextPointer(){this.contextPointer.isVisible&&(this.contextPointer.isVisible=!1,this.contextPointer.element.style.display="none")}setEditOverlay(a){const b=this.editOverlay,c=b.classList.contains(f.classNames.editOverlayActive);a||c?a&&c&&(b.classList.remove(f.classNames.editOverlayActive),this.isEditOverlayActive=!1):(b.classList.add(f.classNames.editOverlayActive),this.isEditOverlayActive=!0)}}return y});m(h,"Dashboards/EditMode/Fullscreen.js",[h["Core/Utilities.js"],h["Dashboards/Globals.js"]],
function(k,f){const {addEvent:h}=k;class n{constructor(e){this.isOpen=!1;this.board=e;this.board.boardWrapper.classList.add(f.classNamePrefix+"-fullscreen")}toggle(){this[this.isOpen?"close":"open"]()}open(){if(!this.isOpen){var e=this,b=e.board,d=h(b.boardWrapper.ownerDocument,"fullscreenchange",function(){e.isOpen?(e.isOpen=!1,e.close()):(e.isOpen=!0,e.setButtonText())});e.unbindFullscreenEvent=()=>{d()};b.boardWrapper.requestFullscreen().catch(()=>{throw Error("Full screen is not supported.");
})}}close(){const e=this.board;this.isOpen&&e.boardWrapper.ownerDocument instanceof Document&&void e.boardWrapper.ownerDocument.exitFullscreen();this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent());this.isOpen=!1;this.setButtonText()}setButtonText(){var e=this.board.editMode,b=e&&e.tools.contextMenu;(b=b&&b.items.viewFullscreen)&&b.innerElement&&(e=e.lang,b.innerElement.innerHTML=(this.isOpen?e.exitFullscreen:e.viewFullscreen)||"")}}return n});m(h,"Dashboards/CallbackRegistry.js",
[],function(){class k{constructor(){this.registry={}}addCallback(f,k){this.registry[f]=k}getCallback(f){return this.registry[f]}toJSON(){const f={};Object.keys(this.registry).forEach(k=>{const h=this.getCallback(k),{func:e,type:b}=h;f[k]={func:e.toString(),type:b}});return f}}return k});m(h,"Dashboards/Components/EditableOptions.js",[],function(){class k{constructor(f,h=k.defaultBindings){this.component=f;this.bindings=h}getOptions(){const f=this.component.options.editableOptions;for(let h=0,e=f.length;h<
e;h++){const b=f[h];if("connectorName"===b.name){var k=this.component.board;k=k?k.dataPool.getConnectorIds().map(b=>({name:b})):[];b.selectOptions=k}}return f}}k.defaultBindings={keyMap:{color:"colorPicker",title:"text",caption:"text",style:"textarea"},typeMap:{string:"text",number:"input","boolean":"toggle"},skipRedraw:[]};k.defaultTypeMap={string:"text",number:"input","boolean":"toggle"};return k});m(h,"Dashboards/Components/ComponentUtilities.js",[],function(){var k;(function(f){function k(e,b){const d=
r.getComputedStyle(e);return b.map(a=>d[a])}function h(e,b){b&&(e+="number"===typeof b?b:parseFloat(b));return e}f.getMargins=function(e,b=!0){var d=["borderLeft","borderRight"],a=["borderTop","borderBottom"];return{y:k(e,["marginTop","marginBottom",...b?a:[]]).reduce(h,0),x:k(e,["marginLeft","marginTop",...b?d:[]]).reduce(h,0)}};f.getPaddings=function(e){return{x:k(e,["paddingLeft","paddingRight"]).reduce(h,0),y:k(e,["paddingTop","paddingBottom"]).reduce(h,0)}};f.getStyles=k;f.sumPixels=h})(k||(k=
{}));return k});m(h,"Dashboards/Components/SharedComponentState.js",[h["Dashboards/Serializable.js"],h["Core/Utilities.js"]],function(k,f){const {addEvent:h,fireEvent:n,merge:e}=f;class b{constructor(){this.columnVisibilityMap={};this.hiddenRowIndexes=[];this.selection={}}emit(b){n(this,b.type,b)}getColumnOrder(){return(this.columnOrder||[]).slice()}getColumnVisibility(b){return this.columnVisibilityMap[b]}getColumnSorter(){const b=(this.columnOrder||[]).slice();return b.length?(a,d)=>{a=b.indexOf(a);
d=b.indexOf(d);return-1<a&&-1<d?a-d:-1<d?1:-1<a?-1:0}:()=>0}isSet(){return!0===this.isModified}on(b,a){return h(this,b,a)}setColumnOrder(b,a){const d=(this.columnOrder||[]).slice();b=b.slice();this.emit({type:"columnOrderChange",detail:a,newColumnOrder:b,oldColumnOrder:d});this.columnOrder=b;this.isModified=!0;this.emit({type:"afterColumnOrderChange",detail:a,newColumnOrder:b,oldColumnOrder:d})}setColumnVisibility(b,a){this.columnVisibilityMap=e(this.columnVisibilityMap,b);this.emit({type:"afterColumnVisibilityChange",
visibilityMap:this.columnVisibilityMap,detail:a})}setHiddenRows(b,a=!0){b.forEach(b=>{-1===this.hiddenRowIndexes.indexOf(b)&&a&&this.hiddenRowIndexes.push(b);-1<this.hiddenRowIndexes.indexOf(b)&&!a&&this.hiddenRowIndexes.splice(this.hiddenRowIndexes.indexOf(b),1)});this.emit({type:"afterSetHiddenRows",hiddenRows:this.hiddenRowIndexes})}getHiddenRows(){return this.hiddenRowIndexes}setHoverPoint(b,a){const d=a&&a.isDataGrid;this.hoverPoint=d?void 0:b;b instanceof HTMLElement&&(this.hoverRow=d?b:void 0);
this.emit({type:"afterHoverPointChange",hoverPoint:d?void 0:this.hoverPoint,hoverRow:d?this.hoverRow:void 0,detail:a})}getHoverPoint(){return this.hoverPoint}getSelection(){return this.selection}setSelection(b,a=!1,l){Object.keys(b).forEach(a=>{this.selection[a]=b[a]});this.emit({type:"afterSelectionChange",selection:this.selection,reset:a,detail:l})}fromJSON(d){const a=new b,{columnOrder:l,visibilityMap:c,selection:e,hoverpoint:g}=d;l&&a.setColumnOrder(l);c&&a.setColumnVisibility(c);e&&a.setSelection(e);
g&&a.setHoverPoint(g);return a}toJSON(){const b={$class:"Dashboards.SharedComponentState"};this.columnOrder&&(b.columnOrder=this.columnOrder.slice());if(this.hoverPoint){const {x:a,y:d,id:c}=this.hoverPoint;b.hoverPoint={x:a,y:d,id:c}}this.selection&&(b.selection=this.selection);this.columnVisibilityMap&&(b.columnVisibility=this.columnVisibilityMap);return b}}k.registerClassPrototype("Dashboards.SharedComponentState",b.prototype);return b});m(h,"Dashboards/Components/ComponentGroup.js",[h["Dashboards/Components/SharedComponentState.js"]],
function(k){class f{static getComponentGroup(f){if(this.componentGroups[f])return this.componentGroups[f]}static addComponentGroup(f){const {id:k}=f;this.componentGroups[k]||(this.componentGroups[k]=f)}static getGroupsFromComponent(f){return Object.keys(this.componentGroups).reduce((k,e)=>{(e=this.getComponentGroup(e))&&-1<e.components.indexOf(f)&&k.push(e);return k},[])}constructor(h){this.state=new k;this.components=[];this.id=h;f.addComponentGroup(this)}addComponents(f){for(;f.length;){const k=
f.pop();if(!k)break;-1===this.components.indexOf(k)&&this.components.push(k)}}removeComponents(f){for(;f.length;){var k=f.pop();if(!k)break;k=this.components.indexOf(k);-1<k&&this.components.splice(k,1)}}getSharedState(){return this.state}on(){throw Error("Method not implemented.");}emit(){throw Error("Method not implemented.");}}f.componentGroups={};return f});m(h,"Dashboards/Components/Sync/Emitter.js",[],function(){class k{static register(f){const {id:k}=f;this.registry[k]=f}static get(f){return this.registry[f]}constructor(f,
h){this.id=f;this.func=h;k.register(this)}create(f){this.callback=this.func.call(f)}remove(){this.callback&&this.callback()}}k.registry={};return k});m(h,"Dashboards/Components/Sync/Handler.js",[],function(){class k{static register(f){const {id:k}=f;this.registry[k]=f}static get(f){return this.registry[f]}constructor(f,h,n){this.id=f;this.presentationStateTrigger=h;this.func=n;k.register(this)}create(f){const {activeGroup:k}=f,{func:h}=this;k&&this.presentationStateTrigger&&(this.callback=k.getSharedState().on(this.presentationStateTrigger,
function(e){f.id!==(e.detail?e.detail.sender:void 0)&&h.call(f,e)}))}register(f){const {func:k}=this;this.callback=k.call(f)}remove(){this.callback&&this.callback()}}k.registry={};return k});m(h,"Dashboards/Components/Sync/Sync.js",[h["Dashboards/Components/Sync/Emitter.js"],h["Dashboards/Components/Sync/Handler.js"]],function(k,f){class h{constructor(f,e=h.defaultHandlers){this.component=f;this.syncConfig=e;this.registeredSyncHandlers={};this.registeredSyncEmitters={};this.isSyncing=!1;this.listeners=
[]}registerSyncEmitter(f){const {id:e}=f;this.registeredSyncEmitters[e]=f}isRegisteredEmitter(f){return!!this.registeredSyncEmitters[f]}registerSyncHandler(f){const {id:e}=f;this.registeredSyncHandlers[e]=f}isRegisteredHandler(f){return!!this.registeredSyncHandlers[f]}start(){const {syncConfig:n,component:e}=this;Object.keys(n).forEach(b=>{let {emitter:d,handler:a}=n[b];if(a){"boolean"===typeof a&&(a=h.defaultHandlers[b].handler);"function"===typeof a&&(a=[b,void 0,a]);const d=new f(...a);this.isRegisteredHandler(d.id)||
(this.registerSyncHandler(d),void 0!==a[1]?d.create(e):d.register(e))}d&&("boolean"===typeof d&&(d=h.defaultHandlers[b].emitter),"function"===typeof d&&(d=[b,d]),b=new k(...d),this.isRegisteredEmitter(b.id)||(this.registerSyncEmitter(b),b.create(e)))});this.isSyncing=!0;this.listeners.push(e.on("update",()=>this.stop()))}stop(){const {component:f,listeners:e,registeredSyncHandlers:b,registeredSyncEmitters:d}=this;Object.keys(b).forEach(a=>{b[a].remove();delete b[a]});Object.keys(d).forEach(a=>{d[a].remove();
delete d[a]});this.isSyncing=!1;for(let a=0,b=e.length;a<b;++a)e[a]();this.listeners.length=0;this.listeners.push(f.on("afterUpdate",()=>{this.start()}))}}h.defaultHandlers={};return h});m(h,"Dashboards/Components/Component.js",[h["Dashboards/CallbackRegistry.js"],h["Dashboards/Globals.js"],h["Dashboards/Components/EditableOptions.js"],h["Core/Utilities.js"],h["Dashboards/Components/ComponentUtilities.js"],h["Dashboards/Components/ComponentGroup.js"],h["Dashboards/Utilities.js"],h["Dashboards/Components/Sync/Sync.js"]],
function(k,f,h,n,e,b,d,a){var l=this&&this.__awaiter||function(a,b,c,d){function l(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,g){function e(a){try{k(d.next(a))}catch(E){g(E)}}function f(a){try{k(d["throw"](a))}catch(E){g(E)}}function k(a){a.done?c(a.value):l(a.value).then(e,f)}k((d=d.apply(a,b||[])).next())})};const {classNamePrefix:c}=f,{createElement:q,isArray:g,merge:p,fireEvent:m,addEvent:v,objectEach:w,isFunction:B,getStyle:u,relativeLength:x,diffObjects:y}=
n,{getMargins:C,getPaddings:D}=e,{uniqueKey:I}=d;class A{static createTextElement(a,b,d){if("object"===typeof d){const {className:l,text:g,style:e}=d;return q(a,{className:l||`${c}component-${b}`,textContent:g},e)}if("string"===typeof d)return q(a,{className:`${c}component-${b}`,textContent:d})}constructor(a,b){this.callbackRegistry=new k;this.tableEvents=[];this.cellListeners=[];this.activeGroup=void 0;this.resizeTimeouts=[];this.innerResizeTimeouts=[];this.board=a.row.layout.board;this.cell=a;this.parentElement=
a.container;this.attachCellListeneres();this.options=p(A.defaultOptions,b);this.id=this.options.id&&this.options.id.length?this.options.id:I();this.hasLoaded=!1;this.shouldRedraw=!0;this.editableOptions=new h(this,b.editableOptionsBindings);this.presentationModifier=this.options.presentationModifier;this.dimensions={width:null,height:null};this.filterAndAssignSyncOptions();this.element=q("div",{className:this.options.className});this.contentElement=q("div",{className:`${this.options.className}-content`},
{height:"100%"},void 0,!0)}initConnector(){var a;return l(this,void 0,void 0,function*(){if((null===(a=this.options.connector)||void 0===a?0:a.id)&&this.connectorId!==this.options.connector.id){const a=yield this.board.dataPool.getConnector(this.options.connector.id);this.setConnector(a);this.shouldRedraw=!0;this.redraw()}return this})}filterAndAssignSyncOptions(b=a.defaultHandlers){const a=this.options.sync||{},c=Object.keys(a).reduce((c,d)=>{if(d){const l=a[d];l&&"object"===typeof l&&(c[d]=l);l&&
"boolean"===typeof l&&(c[d]=b[d])}return c},{});this.sync?this.sync.syncConfig=c:void 0;this.syncHandlers=c}attachCellListeneres(){for(;this.cellListeners.length;){const a=this.cellListeners.pop();a&&a()}this.cell&&Object.keys(this.cell).length&&this.cellListeners.push(v(this.cell.row.layout.board,"cellResize",()=>{this.resizeTo(this.parentElement)}),v(this.cell.row,"cellChange",a=>{({row:a}=a);a&&this.cell&&void 0===a.getCellIndex(this.cell)&&this.cell&&this.setCell(this.cell)}))}setCell(a,b=!1){this.cell=
a;a.container&&(this.parentElement=a.container);this.attachCellListeneres();b&&this.resizeTo(this.parentElement)}setupTableListeners(a){const b=this.connector;if(b){a&&["afterSetRows","afterDeleteRows","afterSetColumns","afterDeleteColumns","afterSetCell"].forEach(b=>{this.tableEvents.push(a.on(b,a=>{clearInterval(this.tableEventTimeout);this.tableEventTimeout=setTimeout(()=>{this.emit(Object.assign(Object.assign({},a),{type:"tableChanged"}));this.tableEventTimeout=void 0},0)}))});const c=this;this.tableEvents.push(b.on("afterLoad",
()=>{this.emit({target:c,type:"tableChanged"})}))}}clearTableListeners(){const a=this.connector,b=this.tableEvents;b.length&&b.forEach(a=>a());a&&b.push(a.table.on("afterSetModifier",a=>{"afterSetModifier"===a.type&&this.emit(Object.assign(Object.assign({},a),{type:"tableChanged"}))}))}setConnector(a){for(m(this,"setConnector",{connector:a});this.tableEvents.length;){var c=this.tableEvents.pop();"function"===typeof c&&c()}if(this.connector=a)if(this.clearTableListeners(),this.setupTableListeners(a.table),
a.table.on("setModifier",()=>this.clearTableListeners()),a.table.on("afterSetModifier",a=>{"afterSetModifier"===a.type&&a.modified&&this.setupTableListeners(a.modified)}),c=a.table.id,b.getComponentGroup(c)||b.addComponentGroup(new b(c)),c=b.getComponentGroup(c))c.addComponents([this.id]),this.activeGroup=c;m(this,"afterSetConnector",{connector:a});return this}setActiveGroup(a){"string"===typeof a&&(a=b.getComponentGroup(a)||null);a instanceof b&&(this.activeGroup=a);null===a&&(this.activeGroup=void 0);
this.activeGroup&&this.activeGroup.addComponents([this.id])}getContentHeight(){const a=this.dimensions.height||Number(u(this.element,"height")),b=this.titleElement?this.titleElement.clientHeight+C(this.titleElement).y:0,c=this.captionElement?this.captionElement.clientHeight+C(this.captionElement).y:0;return a-b-c}resize(a,b){if(b){var c=D(this.element).y+C(this.element).y;this.dimensions.height=x(b,Number(u(this.parentElement,"height")))-c;this.element.style.height=this.dimensions.height+"px";this.contentElement.style.height=
this.getContentHeight()+"px"}a&&(c=D(this.element).x+C(this.element).x,this.dimensions.width=x(a,Number(u(this.parentElement,"width")))-c,this.element.style.width=this.dimensions.width+"px");null===b&&(this.dimensions.height=null,this.element.style.removeProperty("height"));null===a&&(this.dimensions.width=null,this.element.style.removeProperty("width"));m(this,"resize",{width:a,height:b})}resizeTo(a){for(;this.resizeTimeouts.length;){var b=this.resizeTimeouts.pop();b&&cancelAnimationFrame(b)}b=requestAnimationFrame(()=>
{const {width:b,height:c}=a.getBoundingClientRect(),d=D(a),l=C(a);this.resize(b-d.x-l.x,c-d.y-l.y)});this.resizeTimeouts.push(b)}update(a,b=!0){var c;return l(this,void 0,void 0,function*(){const d={options:a,shouldForceRedraw:!1};m(this,"update",d);this.options=p(this.options,a);if((null===(c=this.options.connector)||void 0===c?0:c.id)&&this.connectorId!==this.options.connector.id){const a=yield this.board.dataPool.getConnector(this.options.connector.id);this.setConnector(a);this.shouldRedraw=!0}this.options=
p(this.options,a);(b||d.shouldForceRedraw)&&this.redraw()})}setTitle(a){const b=this.titleElement;if(a&&"string"!==typeof a?""===a.text:""===a)b&&b.remove();else if(a=A.createTextElement("h1","title",a))this.titleElement=a,b&&b.replaceWith(this.titleElement)}setCaption(a){const b=this.captionElement;if(a&&"string"!==typeof a?""===a.text:""===a)b&&b.remove();else if(a=A.createTextElement("div","caption",a))this.captionElement=a,b&&b.replaceWith(this.captionElement)}load(){!this.hasLoaded&&this.connector&&
this.setConnector(this.connector);this.setTitle(this.options.title);this.setCaption(this.options.caption);[this.titleElement,this.contentElement,this.captionElement].forEach(a=>{a&&this.element.appendChild(a)});const a=this.options.events;a&&(Object.keys(a).forEach(b=>{const c=a[b];c&&this.callbackRegistry.addCallback(b,{type:"component",func:c})}),w(a,(a,b)=>{if(B(a))this.on(b,a)}));this.on("message",a=>{if("message"in a)this.onMessage(a.message)});r.addEventListener("resize",()=>this.resizeTo(this.parentElement));
this.hasLoaded=!0;this.shouldRedraw=!1;return this}render(){if(this.shouldRedraw||!this.hasLoaded)this.load(),this.resizeTo(this.parentElement);return this}redraw(){m(this,"redraw",{component:this});this.shouldRedraw=!0;return this.render()}destroy(){for(;this.element.firstChild;)this.element.firstChild.remove();this.tableEvents.forEach(a=>a());this.element.remove();A.removeInstance(this)}on(a,b){return v(this,a,b)}emit(a){a.target||(a.target=this);m(this,a.type,a)}postMessage(a,b={type:"componentType",
target:"all"}){const c=A.getInstanceById(this.id);c&&A.relayMessage(c,a,b)}onMessage(a){a&&"string"===typeof a||"object"===typeof a&&"function"===typeof a.callback&&a.callback.apply(this)}toJSON(){const a={width:0,height:0};w(this.dimensions,function(b,c){null!==b&&(a[c]=b)});return{$class:this.options.type,options:{cell:this.options.cell,parentElement:this.parentElement.id,dimensions:a,id:this.id,type:this.type}}}getOptions(){return y(this.options,A.defaultOptions)}getEditableOptions(){return p(this.options)}getEditableOptionValue(a){if(a){var b=
this.getEditableOptions();for(let c=0,d=a.length;c<d;c++){if(!b)return;g(b)&&(b=b[0]);b=b[a[c]]}return b}}}A.Sync=a;A.defaultOptions={className:`${c}component`,parentElement:document.body,id:"",title:!1,caption:!1,style:{display:"flex","flex-direction":"column"},sync:a.defaultHandlers,editableOptions:[{name:"connectorName",propertyPath:["connector","id"],type:"select"},{name:"title",propertyPath:["title"],type:"input"},{name:"caption",propertyPath:["caption"],type:"input"}]};(function(a){function c(){return Object.keys(a.instanceRegistry)}
function d(b){return a.instanceRegistry[b]}a.instanceRegistry={};a.addInstance=function(b){a.instanceRegistry[b.id]=b};a.removeInstance=function(b){delete a.instanceRegistry[b.id]};a.getAllInstanceIDs=c;a.getAllInstances=function(){return c().map(b=>a.instanceRegistry[b])};a.getInstanceById=d;a.relayMessage=function(a,l,g){const e=b=>b.emit({type:"message",detail:{sender:a.id,target:g.target},message:l,target:b});({componentID:a=>{(a=d(a))&&e(a)},componentType:b=>{c().forEach(c=>{(c=d(c))&&c.id!==
a.id&&(c.type===b||"all"===b)&&e(c)})},group:c=>{(c=b.getComponentGroup(c))&&c.components.forEach(b=>{(b=d(b))&&b.id!==a.id&&e(b)})}})[g.type](g.target)}})(A||(A={}));return A});m(h,"Dashboards/Components/HTMLComponent.js",[h["Core/Renderer/HTML/AST.js"],h["Dashboards/Components/Component.js"],h["Core/Utilities.js"]],function(k,f,h){var n=this&&this.__awaiter||function(a,b,c,d){function l(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,g){function e(a){try{k(d.next(a))}catch(x){g(x)}}
function f(a){try{k(d["throw"](a))}catch(x){g(x)}}function k(a){a.done?c(a.value):l(a.value).then(e,f)}k((d=d.apply(a,b||[])).next())})};const {merge:e,diffObjects:b}=h;k.allowedTags=[...k.allowedTags,"option","select","label","input","textarea"];k.allowedAttributes=[...k.allowedAttributes,"for","value","checked","src","name","selected"];k.allowedReferences=[...k.allowedReferences,"data:image/"];class d extends f{static fromJSON(a,b){const c=a.options,l=a.elements?a.elements.map(a=>JSON.parse(a)):
[];b=new d(b,e(c,{elements:l}));b.emit({type:"fromJSON",json:a});return b}constructor(a,b){b=e(d.defaultOptions,b);super(a,b);this.options=b;this.type="HTML";this.elements=[];this.scaleElements=!!this.options.scaleElements;this.sync=new f.Sync(this,this.syncHandlers);this.on("tableChanged",a=>{"detail"in a&&a.detail&&a.detail.sender!==this.id&&this.redraw()});f.addInstance(this)}load(){this.emit({type:"load"});super.load();const a=this.options;let b=!1;a.elements&&(this.elements=a.elements.map(function(a){if("string"===
typeof a)return(new k(a)).nodes[0];a.textContent||a.tagName||!a.attributes||(b=!0);return a}));this.constructTree();this.parentElement.appendChild(this.element);this.scaleElements&&this.autoScale();this.emit({type:"afterLoad"});if(b)throw Error("Missing tagName param in component: "+a.cell);return this}autoScale(){this.element.style.display="flex";this.element.style.flexDirection="column";this.contentElement.childNodes.forEach(a=>{a&&a instanceof HTMLElement&&(a.style.width="auto",a.style.maxWidth=
"100%",a.style.maxHeight="100%",a.style.flexBasis="auto",a.style.overflow="auto")});this.options.scaleElements&&this.scaleText()}scaleText(){this.contentElement.childNodes.forEach(a=>{a instanceof HTMLElement&&(a.style.fontSize=Math.max(Math.min(a.clientWidth/10,200),20)+"px")})}render(){this.emit({type:"beforeRender"});super.render();this.emit({type:"afterRender"});return this}redraw(){super.redraw();this.constructTree();this.emit({type:"afterRedraw"});return this}resize(a,b){this.scaleElements&&
this.scaleText();super.resize(a,b);return this}update(a){const b=Object.create(null,{update:{get:()=>super.update}});return n(this,void 0,void 0,function*(){yield b.update.call(this,a);this.emit({type:"afterUpdate"})})}constructTree(){for(;this.contentElement.firstChild;)this.contentElement.firstChild.remove();(new k(this.elements)).addToDOM(this.contentElement)}toJSON(){var a=(this.options.elements||[]).map(a=>JSON.stringify(a));a=e(super.toJSON(),{elements:a,options:this.options});this.emit({type:"toJSON",
json:a});return a}getOptions(){return Object.assign(Object.assign({},b(this.options,d.defaultOptions)),{type:"HTML"})}}d.defaultOptions=e(f.defaultOptions,{type:"HTML",scaleElements:!1,elements:[],editableOptions:(f.defaultOptions.editableOptions||[]).concat([{name:"scaleElements",type:"toggle"}])});return d});m(h,"Dashboards/Board.js",[h["Dashboards/Actions/Bindings.js"],h["Dashboards/Components/ComponentRegistry.js"],h["Dashboards/Accessibility/DashboardsAccessibility.js"],h["Data/DataCursor.js"],
h["Dashboards/SerializeHelper/DataCursorHelper.js"],h["Data/DataPool.js"],h["Dashboards/EditMode/EditMode.js"],h["Dashboards/EditMode/Fullscreen.js"],h["Dashboards/Globals.js"],h["Dashboards/Layout/Layout.js"],h["Dashboards/Serializable.js"],h["Core/Utilities.js"],h["Dashboards/Components/HTMLComponent.js"]],function(k,f,h,n,e,b,d,a,l,c,q,g,p){const {merge:m,addEvent:v,error:w,objectEach:B,uniqueKey:u,createElement:x}=g;class y{static board(a,b,c){return(new y(a,b)).init(c)}constructor(c,g){this.container=
this.boardWrapper=void 0;this.options=m(y.defaultOptions,g);this.dataPool=new b(g.dataPool);this.id=u();this.guiEnabled=(this.options.gui||{}).enabled;this.layouts=[];this.mountedComponents=[];this.initContainer(c);this.layoutsWrapper=x("div",{className:l.classNames.layoutsWrapper},{},this.container);!d||this.options.editMode&&!this.options.editMode.enabled||(this.editMode=new d(this,this.options.editMode));this.dataCursor=new n;this.fullscreen=new a(this);this.index=l.boards.length;l.boards.push(this);
this.a11y=new h(this)}init(a){var b=this.options;b.gui&&this.options.gui&&this.setLayouts(this.options.gui);b.layoutsJSON&&!this.layouts.length&&this.setLayoutsFromJSON(b.layoutsJSON);b.components&&this.setComponents(b.components);this.initEvents();b=[];const c=this.mountedComponents;for(let a=0,d=c.length;a<d;++a)b.push(c[a].component.initConnector());return a?Promise.all(b).then(()=>this):this}initEvents(){const a=this;v(r,"resize",function(){a.reflow()})}initContainer(a){"string"===typeof a&&(a=
r.document.getElementById(a));a||w(13,!0);a.innerHTML="";this.boardWrapper=a;this.container=x("div",{className:l.classNames.boardContainer},{},this.boardWrapper)}setLayouts(a){const b=a.layouts;for(let d=0,g=b.length;d<g;++d)this.layouts.push(new c(this,m({},a.layoutOptions,b[d])))}setLayoutsFromJSON(a){let b;for(let d=0,g=a.length;d<g;++d)(b=c.fromJSON(a[d],this))&&this.layouts.push(b)}setComponents(a){for(let b=0,c=a.length;b<c;++b)k.addComponent(a[b])}getLayoutContainerSize(){const a=this.options.responsiveBreakpoints,
b=(this.layoutsWrapper||{}).clientWidth;let c=l.responsiveBreakpoints.large;a&&(b<=a.small?c=l.responsiveBreakpoints.small:b>a.small&&b<=a.medium&&(c=l.responsiveBreakpoints.medium));return c}destroy(){const a=this;for(let b=0,c=a.layouts.length;b<c;++b)a.layouts[b].destroy();a.container.remove();B(a,function(b,c){delete a[c]});l.boards[this.index]=void 0}exportLocal(){localStorage.setItem(l.classNamePrefix+"1",JSON.stringify(this.toJSON()))}importLayoutLocal(a){return c.importLocal(a,this)}reflow(){const a=
this.getLayoutContainerSize();let b,c,d;this.editMode&&(this.editMode.hideToolbars(["cell","row"]),this.editMode.hideContextPointer());for(let g=0,l=this.layouts.length;g<l;++g){b=this.layouts[g];for(let g=0,l=b.rows.length;g<l;++g){c=b.rows[g];for(let b=0,g=c.cells.length;b<g;++b)d=c.cells[b],d.reflow(a)}}}fromJSON(a){var b=a.options;b=new y(b.containerId,{componentOptions:b.componentOptions,responsiveBreakpoints:b.responsiveBreakpoints,dataPool:b.dataPool,layoutsJSON:b.layouts});b.dataCursor=e.fromJSON(a.dataCursor);
return b}toJSON(){const a=[];for(let b=0,c=this.layouts.length;b<c;++b)a.push(this.layouts[b].toJSON());return{$class:"Board",dataCursor:e.toJSON(this.dataCursor),options:{containerId:this.container.id,dataPool:this.options.dataPool,guiEnabled:this.guiEnabled,layouts:a,componentOptions:this.options.componentOptions,responsiveBreakpoints:this.options.responsiveBreakpoints}}}getOptions(){const a=[],b=[];for(let b=0,c=this.layouts.length;b<c;++b)a.push(this.layouts[b].getOptions());for(let a=0,c=this.mountedComponents.length;a<
c;++a)this.mountedComponents[a].cell&&this.mountedComponents[a].cell.mountedComponent&&b.push(this.mountedComponents[a].component.getOptions());return Object.assign(Object.assign({},this.options),{gui:{layouts:a},components:b})}}(function(a){a.defaultOptions={gui:{enabled:!0,layoutOptions:{rowClassName:void 0,cellClassName:void 0},layouts:[]},components:[],responsiveBreakpoints:{small:576,medium:992,large:1200}};a.componentTypes=f.types;a.importLocal=function(){const a=localStorage.getItem(l.classNamePrefix+
"1");if(a)try{return q.fromJSON(JSON.parse(a))}catch(I){}}})(y||(y={}));q.registerClassPrototype("Board",y.prototype);f.registerComponent("HTML",p);return y});m(h,"Dashboards/PluginHandler.js",[h["Dashboards/Board.js"],h["Dashboards/Components/Sync/Sync.js"],h["Dashboards/Components/ComponentRegistry.js"]],function(k,f,h){var n;(function(e){e.registry={};e.revision=0;e.addPlugin=function(b,d=b.name){const {maxRevision:a,minRevision:l,onRegister:c}=b;if(e.registry[d]){if(d!==b.name)throw Error(`Plugin '${d}' already registered.`);
}else{if("number"===typeof l&&l>e.revision||"number"===typeof a&&a<e.revision)throw Error(`Plugin '${d}' does not support revision ${e.revision}.`);c({Board:k,ComponentRegistry:h,Sync:f,revision:e.revision});e.registry[d]=b}};e.removePlugin=function(b){e.registry[b]&&(e.registry[b].onUnregister({ComponentRegistry:h,Board:k,Sync:f,revision:e.revision}),delete e.registry[b])}})(n||(n={}));return n});m(h,"Data/Converters/DataConverter.js",[h["Data/DataTable.js"],h["Core/Utilities.js"]],function(k,f){const {addEvent:h,
fireEvent:n,isNumber:e,merge:b}=f;class d{constructor(a){this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})([\-\.\/])([0-9]{1,2})\2([0-9]{1,2})$/,parser:function(a){return a?Date.UTC(+a[1],a[3]-1,+a[4]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[4],a[3]-1,+a[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[4],a[1]-1,+a[3]):NaN}},
"dd/mm/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(a){if(!a)return NaN;let b=+a[4];b=b>(new Date).getFullYear()-2E3?b+1900:b+2E3;return Date.UTC(b,a[3]-1,+a[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(a){return a?Date.UTC(+a[4]+2E3,a[1]-1,+a[3]):NaN}}};a=b(d.defaultOptions,a);let l=a.decimalPoint;if("."===l||","===l)this.decimalRegExp=new RegExp("^(-?[0-9]+)"+("."===l?"\\.":",")+"([0-9]+)$");this.options=
a}asBoolean(a){return"boolean"===typeof a?a:"string"===typeof a?""!==a&&"0"!==a&&"false"!==a:!!this.asNumber(a)}asDate(a){if("string"===typeof a)a=this.parseDate(a);else if("number"!==typeof a){if(a instanceof Date)return a;a=this.parseDate(this.asString(a))}return new Date(a)}asGuessedType(a){return{number:this.asNumber,Date:this.asDate,string:this.asString}[this.guessType(a)].call(this,a)}asNumber(a){if("number"===typeof a)return a;if("boolean"===typeof a)return a?1:0;if("string"===typeof a){const b=
this.decimalRegExp;-1<a.indexOf(" ")&&(a=a.replace(/\s+/g,""));if(b){if(!b.test(a))return NaN;a=a.replace(b,"$1.$2")}return parseFloat(a)}return a instanceof Date?a.getDate():a?a.getRowCount():NaN}asString(a){return""+a}deduceDateFormat(a,b,c){const d=[],g=[];let l="YYYY/mm/dd",e,f=[],k=0,h=!1,n,m;if(!b||b>a.length)b=a.length;for(;k<b;k++)if("undefined"!==typeof a[k]&&a[k]&&a[k].length)for(e=a[k].trim().replace(/[-\.\/]/g," ").split(" "),f=["","",""],m=0;m<e.length;m++)m<f.length&&(n=parseInt(e[m],
10))&&(g[m]=!g[m]||g[m]<n?n:g[m],"undefined"!==typeof d[m]?d[m]!==n&&(d[m]=!1):d[m]=n,31<n?f[m]=100>n?"YY":"YYYY":12<n&&31>=n?(f[m]="dd",h=!0):f[m].length||(f[m]="mm"));if(h){for(m=0;m<d.length;m++)!1!==d[m]?12<g[m]&&"YY"!==f[m]&&"YYYY"!==f[m]&&(f[m]="YY"):12<g[m]&&"mm"===f[m]&&(f[m]="dd");3===f.length&&"dd"===f[1]&&"dd"===f[2]&&(f[2]="YY");l=f.join("/")}c&&(this.options.dateFormat=l);return l}emit(a){n(this,a.type,a)}export(){this.emit({type:"exportError",columns:[],headers:[]});throw Error("Not implemented");
}getTable(){throw Error("Not implemented");}guessType(a){var b="string";if("string"===typeof a){var c=this.trim(`${a}`),d=this.decimalRegExp;c=this.trim(c,!0);d&&(c=d.test(c)?c.replace(d,"$1.$2"):"");d=parseFloat(c);+c===d?a=d:(b=this.parseDate(a),b=e(b)?"Date":"string")}"number"===typeof a&&(b=31536E6<a?"Date":"number");return b}on(a,b){return h(this,a,b)}parse(){this.emit({type:"parseError",columns:[],headers:[]});throw Error("Not implemented");}parseDate(a,b){var c=this.options;let d=b||c.dateFormat;
b=NaN;let g,l;if(c.parseDate)b=c.parseDate(a);else{if(d)(c=this.dateFormats[d])||(c=this.dateFormats["YYYY/mm/dd"]),(l=a.match(c.regex))&&(b=c.parser(l));else for(g in this.dateFormats)if(c=this.dateFormats[g],l=a.match(c.regex)){b=c.parser(l);break}l||(l=Date.parse(a),"object"===typeof l&&null!==l&&l.getTime?b=l.getTime()-6E4*l.getTimezoneOffset():e(l)&&(b=l-6E4*(new Date(l)).getTimezoneOffset(),-1===a.indexOf("2001")&&2001===(new Date(b)).getFullYear()&&(b=NaN)))}return b}trim(a,b){"string"===typeof a&&
(a=a.replace(/^\s+|\s+$/g,""),b&&/^[0-9\s]+$/.test(a)&&(a=a.replace(/\s/g,"")));return a}}d.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1};(function(a){a.getTableFromColumns=function(a=[],b=[]){const c=new k;for(let d=0,e=Math.max(b.length,a.length);d<e;++d)c.setColumn(b[d]||`${d}`,a[d]);return c}})(d||(d={}));return d});m(h,"Data/Converters/CSVConverter.js",[h["Data/Converters/DataConverter.js"],
h["Core/Utilities.js"]],function(k,f){const {merge:h}=f;class n extends k{constructor(e){e=h(n.defaultOptions,e);super(e);this.columns=[];this.headers=[];this.dataTypes=[];this.options=e}export(e,b=this.options){const {useLocalDecimalPoint:d,lineDelimiter:a}=b;var l=!1!==this.options.firstRowAsNames;let {decimalPoint:c,itemDelimiter:f}=b;c||(c=","!==f&&d?(1.1).toLocaleString()[1]:".");f||(f=","===c?";":",");b=e.getSortedColumns(b.usePresentationOrder);const g=Object.keys(b),k=[],h=g.length,n=[];l&&
k.push(g.map(a=>`"${a}"`).join(f));for(l=0;l<h;l++){var m=g[l];const a=b[m],d=a.length;m=e.whatIs(m);let p;m&&(p=m.dataType);for(m=0;m<d;m++){var r=a[m];n[m]||(n[m]=[]);"string"===p?r='"'+r+'"':"number"===typeof r?r=String(r).replace(".",c):"string"===typeof r&&(r=`"${r}"`);n[m][l]=r;if(l===h-1){for(r=l;2<n[m].length&&void 0===n[m][r];)n[m].pop(),r--;k.push(n[m].join(f))}}}return k.join(a)}parse(e,b){var d=this.dataTypes;e=h(this.options,e);const {beforeParse:a,lineDelimiter:l,firstRowAsNames:c,itemDelimiter:f}=
e;let {csv:g,startRow:k,endRow:n}=e;this.columns=[];this.emit({type:"parse",columns:this.columns,detail:b,headers:this.headers});g&&a&&(g=a(g));if(g){e=g.replace(/\r\n|\r/g,"\n").split(l||"\n");if(!k||0>k)k=0;if(!n||n>=e.length)n=e.length-1;f||(this.guessedItemDelimiter=this.guessDelimiter(e));if(c){var m=e[0].split(f||this.guessedItemDelimiter||",");for(var w=0;w<m.length;w++)m[w]=m[w].trim().replace(/^["']|["']$/g,"");this.headers=m;k++}w=0;for(m=k;m<=n;m++)"#"===e[m][0]?w++:this.parseCSVRow(e[m],
m-k-w);d.length&&d[0].length&&"date"===d[0][1]&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0);for(let a=0,b=this.columns.length;a<b;++a){d=this.columns[a];for(let b=0,c=d.length;b<c;++b)d[b]&&"string"===typeof d[b]&&(e=this.asGuessedType(d[b]),e instanceof Date&&(e=e.getTime()),this.columns[a][b]=e)}}this.emit({type:"afterParse",columns:this.columns,detail:b,headers:this.headers})}parseCSVRow(e,b){const d=this,a=d.columns||[],l=d.dataTypes,{startColumn:c,endColumn:f}=d.options,
g=d.options.itemDelimiter||d.guessedItemDelimiter;let {decimalPoint:k}=d.options;k&&k!==g||(k=d.guessedDecimalPoint||".");let h=0,n="",m="",r=0,u=0;const x=a=>{l.length<u+1&&l.push([a]);l[u][l[u].length-1]!==a&&l[u].push(a)},y=()=>{if(c>r||r>f)++r,m="";else{"string"===typeof m?!isNaN(parseFloat(m))&&isFinite(m)?(m=parseFloat(m),x("number")):isNaN(Date.parse(m))?x("string"):(m=m.replace(/\//g,"-"),x("date")):x("number");a.length<u+1&&a.push([]);if("number"!==typeof m&&"number"!==d.guessType(m)&&k){const a=
m;m=m.replace(k,".");"number"!==d.guessType(m)&&(m=a)}a[u][b]=m;m="";++u;++r}};if(e.trim().length&&"#"!==e.trim()[0]){for(;h<e.length;h++){n=e[h];if("#"===n&&!/^#[0-F]{3,3}|[0-F]{6,6}/i.test(e.substring(h))){y();return}if('"'===n)for(n=e[++h];h<e.length&&'"'!==n;)m+=n,n=e[++h];else n===g?y():m+=n}y()}}guessDelimiter(e){let b=0,d=0;const a={",":0,";":0,"\t":0},l=e.length;for(let c=0;c<l;c++){let l=!1,g,f,k,h="";if(13<c)break;const m=e[c];for(let c=0;c<m.length;c++){g=m[c];f=m[c+1];k=m[c-1];if("#"===
g)break;if('"'===g)if(l){if('"'!==k&&'"'!==f){for(;" "===f&&c<m.length;)f=m[++c];"undefined"!==typeof a[f]&&a[f]++;l=!1}}else l=!0;else"undefined"!==typeof a[g]?(h=h.trim(),isNaN(Date.parse(h))?!isNaN(Number(h))&&isFinite(Number(h))||a[g]++:a[g]++,h=""):h+=g;","===g&&d++;"."===g&&b++}}e=a[";"]>a[","]?";":",";this.guessedDecimalPoint=b>d?".":",";return e}getTable(){return k.getTableFromColumns(this.columns,this.headers)}}n.defaultOptions=Object.assign(Object.assign({},k.defaultOptions),{lineDelimiter:"\n"});
return n});m(h,"Data/Connectors/CSVConnector.js",[h["Data/Converters/CSVConverter.js"],h["Data/Connectors/DataConnector.js"],h["Core/Utilities.js"]],function(k,f,h){const {merge:m}=h;class e extends f{constructor(b){b=m(e.defaultOptions,b);super(b);this.converter=new k(b);this.options=b;b.enablePolling&&this.startPolling(1E3*Math.max(b.dataRefreshRate||0,1))}load(b){const d=this,a=d.converter,e=d.table,{csv:c,csvURL:f,dataModifier:g}=d.options;d.emit({type:"load",csv:c,detail:b,table:e});e.deleteRows();
return Promise.resolve(c?c:f?fetch(f||"").then(a=>a.text()):"").then(b=>{b&&(a.parse({csv:b}),e.setColumns(a.getTable().getColumns()));return d.setModifierOptions(g).then(()=>b)}).then(a=>{d.emit({type:"afterLoad",csv:a,detail:b,table:e});return d})["catch"](a=>{d.emit({type:"loadError",detail:b,error:a,table:e});throw a;})}}e.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1,firstRowAsNames:!0};f.registerType("CSV",e);return e});m(h,"Data/Converters/HTMLTableConverter.js",[h["Data/Converters/DataConverter.js"],
h["Core/Utilities.js"]],function(k,f){const {merge:h}=f;class m extends k{constructor(e){e=h(m.defaultOptions,e);super(e);this.columns=[];this.headers=[];this.options=e;e.tableElement&&(this.tableElement=e.tableElement,this.tableElementID=e.tableElement.id)}export(e,b=this.options){var d=!1!==b.firstRowAsNames,a=b.useMultiLevelHeaders,l=e.getSortedColumns(b.usePresentationOrder);const c=Object.keys(l);e=[];const f=c.length,g=[];var k="";if(d)if(k=[],a){for(var h of c)a=(l[h].shift()||"").toString(),
k.push(a);k=this.getTableHeaderHTML(c,k,b)}else k=this.getTableHeaderHTML(void 0,c,b);for(h=0;h<f;h++){a=l[c[h]];d=a.length;for(let b=0;b<d;b++){let c=a[b];g[b]||(g[b]=[]);"string"!==typeof c&&"number"!==typeof c&&"undefined"!==typeof c&&(c=(c||"").toString());g[b][h]=this.getCellHTMLFromValue(h?"td":"th",null,h?"":'scope="row"',c);h===f-1&&e.push("<tr>"+g[b].join("")+"</tr>")}}l="";b.tableCaption&&(l='<caption class="highcharts-table-caption">'+b.tableCaption+"</caption>");return"<table>"+l+k+"<tbody>"+
e.join("")+"</tbody></table>"}getCellHTMLFromValue(e,b,d,a,l){let c=a;b="text"+(b?" "+b:"");"number"===typeof c?(c=c.toString(),","===l&&(c=c.replace(".",l)),b="number"):a||(c="",b="empty");return"<"+e+(d?" "+d:"")+' class="'+b+'">'+c+"</"+e+">"}getTableHeaderHTML(e=[],b=[],d=this.options){const {useMultiLevelHeaders:a,useRowspanHeaders:l}=d;d.useLocalDecimalPoint&&(1.1).toLocaleString();d="<thead>";let c=0,f=b&&b.length;var g;let k=0;if(g=a&&e&&b){a:if(g=e.length,b.length===g){for(;--g;)if(e[g]!==
b[g]){g=!1;break a}g=!0}else g=!1;g=!g}if(g){for(d+="<tr>";c<f;++c){g=e[c];var h=e[c+1];g===h?++k:k?(d+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(k+1)+'"',g),k=0):(g===b[c]?l?(h=2,delete b[c]):(h=1,b[c]=""):h=1,d+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(1<h?' valign="top" rowspan="'+h+'"':""),g))}d+="</tr>"}if(b){d+="<tr>";c=0;for(f=b.length;c<f;++c)"undefined"!==typeof b[c]&&(d+=this.getCellHTMLFromValue("th",null,'scope="col"',
b[c]));d+="</tr>"}return d+"</thead>"}parse(e,b){const d=[],a=[];var l=h(this.options,e);const {endRow:c,startColumn:f,endColumn:g,firstRowAsNames:k}=l;e=l.tableElement||this.tableElement;if(e instanceof HTMLElement){this.tableElement=e;this.tableElementID=e.id;this.emit({type:"parse",columns:this.columns,detail:b,headers:this.headers});e=e.getElementsByTagName("tr");var m=e.length,n=0;({startRow:l}=l);if(k&&m){var r=e[0].children,y=r.length;for(var u=f;u<y&&!(u>g);u++){var x=r[u];"TD"!==x.tagName&&
"TH"!==x.tagName||a.push(x.innerHTML)}l++}for(;n<m;){if(n>=l&&n<=c)for(r=e[n].children,y=r.length,u=0;u<y;){const a=u-f,b=d[a];x=r[u];if(("TD"===x.tagName||"TH"===x.tagName)&&u>=f&&u<=g)for(d[a]||(d[a]=[]),x=this.asGuessedType(x.innerHTML),x instanceof Date&&(x=x.getTime()),d[a][n-l]=x,x=1;n-l>=x&&void 0===b[n-l-x];)b[n-l-x]=null,x++;u++}n++}this.columns=d;this.headers=a;this.emit({type:"afterParse",columns:d,detail:b,headers:a})}else this.emit({type:"parseError",columns:d,detail:b,headers:a,error:"Not a valid HTML Table"})}getTable(){return k.getTableFromColumns(this.columns,
this.headers)}}m.defaultOptions=Object.assign(Object.assign({},k.defaultOptions),{useRowspanHeaders:!0,useMultiLevelHeaders:!0});return m});m(h,"Data/Connectors/HTMLTableConnector.js",[h["Data/Connectors/DataConnector.js"],h["Core/Globals.js"],h["Data/Converters/HTMLTableConverter.js"],h["Core/Utilities.js"]],function(k,f,h,m){const {win:e}=f,{merge:b}=m;class d extends k{constructor(a){a=b(d.defaultOptions,a);super(a);this.converter=new h(a);this.options=a}load(a){const d=this,c=d.converter,f=d.table,
{dataModifier:g,table:k}=d.options;d.emit({type:"load",detail:a,table:f,tableElement:d.tableElement});f.deleteColumns();let h;"string"===typeof k?(d.tableID=k,h=e.document.getElementById(k)):(h=k,d.tableID=h.id);d.tableElement=h||void 0;if(!d.tableElement)return d.emit({type:"loadError",detail:a,error:"HTML table not provided, or element with ID not found",table:f}),Promise.reject(Error("HTML table not provided, or element with ID not found"));c.parse(b({tableElement:d.tableElement},d.options),a);
f.setColumns(c.getTable().getColumns());return d.setModifierOptions(g).then(()=>{d.emit({type:"afterLoad",detail:a,table:f,tableElement:d.tableElement});return d})}}d.defaultOptions={table:""};k.registerType("HTMLTable",d);return d});m(h,"Data/Converters/GoogleSheetsConverter.js",[h["Data/Converters/DataConverter.js"],h["Core/Utilities.js"]],function(k,f){const {merge:h,uniqueKey:m}=f;class e extends k{constructor(b){b=h(e.defaultOptions,b);super(b);this.columns=[];this.header=[];this.options=b}parse(b,
d){b=h(this.options,b);const a=(b.json&&b.json.values||[]).map(a=>a.slice());if(0===a.length)return!1;this.header=[];this.columns=[];this.emit({type:"parse",columns:this.columns,detail:d,headers:this.header});this.columns=a;let e;for(let c=0,d=a.length;c<d;c++){e=a[c];this.header[c]=b.firstRowAsNames?`${e.shift()}`:m();for(let a=0,b=e.length;a<b;++a)if(e[a]&&"string"===typeof e[a]){let b=this.asGuessedType(e[a]);b instanceof Date&&(b=b.getTime());this.columns[c][a]=b}}this.emit({type:"afterParse",
columns:this.columns,detail:d,headers:this.header})}getTable(){return k.getTableFromColumns(this.columns,this.header)}}e.defaultOptions=Object.assign({},k.defaultOptions);return e});m(h,"Data/Connectors/GoogleSheetsConnector.js",[h["Data/Connectors/DataConnector.js"],h["Data/Converters/GoogleSheetsConverter.js"],h["Core/Utilities.js"]],function(k,f,h){const {merge:m,pick:e}=h;class b extends k{constructor(d){d=m(b.defaultOptions,d);super(d);this.converter=new f(d);this.options=d}load(d){const a=this,
e=a.converter,c=a.table,{dataModifier:f,dataRefreshRate:g,enablePolling:k,firstRowAsNames:h,googleAPIKey:m,googleSpreadsheetKey:n}=a.options,r=b.buildFetchURL(m,n,a.options);a.emit({type:"load",detail:d,table:c,url:r});c.deleteColumns();return fetch(r).then(a=>a.json()).then(b=>{if("object"===typeof b&&b&&"object"===typeof b.error&&b.error&&"number"===typeof b.error.code&&"string"===typeof b.error.message&&"string"===typeof b.error.status)throw Error(b.error.message);e.parse({firstRowAsNames:h,json:b});
c.setColumns(e.getTable().getColumns());return a.setModifierOptions(f)}).then(()=>{a.emit({type:"afterLoad",detail:d,table:c,url:r});k&&setTimeout(()=>a.load(),1E3*Math.max(g||0,1));return a})["catch"](b=>{a.emit({type:"loadError",detail:d,error:b,table:c});throw b;})}}b.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",worksheet:1,enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0};(function(b){function a(a={}){const {endColumn:b,endRow:d,googleSpreadsheetRange:g,startColumn:f,startRow:l}=
a;return g||("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[f||0]||"A")+(Math.max(l||0,0)+1)+":"+("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e(b,25)]||"Z")+(d?Math.max(d,0):"Z")}b.buildFetchURL=function(b,c,d={}){return`https://sheets.googleapis.com/v4/spreadsheets/${c}/values/`+(d.onlyColumnNames?"A1:Z1":a(d))+"?alt=json"+(d.onlyColumnNames?"":"&dateTimeRenderOption=FORMATTED_STRING&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE")+"&prettyPrint=false"+`&key=${b}`};b.buildQueryRange=a})(b||(b={}));k.registerType("GoogleSheets",
b);return b});m(h,"Data/Modifiers/ChainModifier.js",[h["Data/Modifiers/DataModifier.js"],h["Core/Utilities.js"]],function(k,f){const {merge:h}=f;class m extends k{constructor(e,...b){super();this.chain=b;this.options=h(m.defaultOptions,e);e=this.options.chain||[];for(let d=0,a=e.length,f,c;d<a;++d)f=e[d],f.type&&(c=k.types[f.type])&&b.push(new c(f))}add(e,b){this.emit({type:"addModifier",detail:b,modifier:e});this.chain.push(e);this.emit({type:"addModifier",detail:b,modifier:e})}clear(e){this.emit({type:"clearChain",
detail:e});this.chain.length=0;this.emit({type:"afterClearChain",detail:e})}modify(e,b){const d=this.options.reverse?this.chain.slice().reverse():this.chain.slice();e.modified===e&&(e.modified=e.clone(!1,b));let a=Promise.resolve(e);for(let e=0,c=d.length;e<c;++e){const c=d[e];a=a.then(a=>c.modify(a.modified,b))}a=a.then(a=>{e.modified.deleteColumns();e.modified.setColumns(a.modified.getColumns());return e});return a=a["catch"](a=>{this.emit({type:"error",detail:b,table:e});throw a;})}modifyCell(e,
b,d,a,f){const c=this.options.reverse?this.chain.reverse():this.chain;if(c.length){let l=e.clone();for(let e=0,h=c.length;e<h;++e)c[e].modifyCell(l,b,d,a,f),l=l.modified;e.modified=l}return e}modifyColumns(e,b,d,a){const f=this.options.reverse?this.chain.reverse():this.chain.slice();if(f.length){let c=e.clone();for(let e=0,g=f.length;e<g;++e)f[e].modifyColumns(c,b,d,a),c=c.modified;e.modified=c}return e}modifyRows(e,b,d,a){const f=this.options.reverse?this.chain.reverse():this.chain.slice();if(f.length){let c=
e.clone();for(let e=0,g=f.length;e<g;++e)f[e].modifyRows(c,b,d,a),c=c.modified;e.modified=c}return e}modifyTable(e,b){this.emit({type:"modify",detail:b,table:e});const d=this.options.reverse?this.chain.reverse():this.chain.slice();let a=e.modified;for(let e=0,c=d.length,f;e<c;++e)f=d[e],a=f.modifyTable(a,b).modified;e.modified=a;this.emit({type:"afterModify",detail:b,table:e});return e}remove(e,b){const d=this.chain;this.emit({type:"removeModifier",detail:b,modifier:e});d.splice(d.indexOf(e),1);this.emit({type:"afterRemoveModifier",
detail:b,modifier:e})}}m.defaultOptions={type:"Chain"};k.registerType("Chain",m);return m});m(h,"Data/Modifiers/InvertModifier.js",[h["Data/Modifiers/DataModifier.js"],h["Core/Utilities.js"]],function(h,f){const {merge:k}=f;class m extends h{constructor(e){super();this.options=k(m.defaultOptions,e)}modifyCell(e,b,d,a,f){const c=e.modified;b=c.getRowIndexBy("columnNames",b);"undefined"===typeof b?c.setColumns(this.modifyTable(e.clone()).getColumns(),void 0,f):c.setCell(`${d}`,b,a,f);return e}modifyColumns(e,
b,d,a){const f=e.modified,c=f.getColumn("columnNames")||[];let h=e.getColumnNames(),g=e.getRowCount()!==c.length;if(!g)for(let a=0,b=h.length;a<b;++a)if(h[a]!==c[a]){g=!0;break}if(g)return this.modifyTable(e,a);h=Object.keys(b);for(let c=0,e=h.length,g,l,k;c<e;++c){l=h[c];g=b[l];k=f.getRowIndexBy("columnNames",l)||f.getRowCount();for(let b=0,c=d,e=g.length;b<e;++b,++c)f.setCell(`${c}`,k,g[b],a)}return e}modifyRows(e,b,d,a){const f=e.getColumnNames(),c=e.modified,h=c.getColumn("columnNames")||[];let g=
e.getRowCount()!==h.length;if(!g)for(let a=0,b=f.length;a<b;++a)if(f[a]!==h[a]){g=!0;break}if(g)return this.modifyTable(e,a);for(let e=0,g=d,h=b.length,k;e<h;++e,++g)if(k=b[e],k instanceof Array)c.setColumn(`${g}`,k);else for(let b=0,d=f.length;b<d;++b)c.setCell(`${g}`,b,k[f[b]],a);return e}modifyTable(e,b){this.emit({type:"modify",detail:b,table:e});const d=e.modified;if(e.hasColumns(["columnNames"])){var a=((e.deleteColumns(["columnNames"])||{}).columnNames||[]).map(a=>`${a}`);const b={};for(let c=
0,d=e.getRowCount(),f;c<d;++c)(f=e.getRow(c))&&(b[a[c]]=f);d.deleteColumns();d.setColumns(b)}else{a={};for(let b=0,c=e.getRowCount(),d;b<c;++b)(d=e.getRow(b))&&(a[`${b}`]=d);a.columnNames=e.getColumnNames();d.deleteColumns();d.setColumns(a)}this.emit({type:"afterModify",detail:b,table:e});return e}}m.defaultOptions={type:"Invert"};h.registerType("Invert",m);return m});m(h,"Data/Modifiers/RangeModifier.js",[h["Data/Modifiers/DataModifier.js"],h["Core/Utilities.js"]],function(h,f){const {merge:k}=f;
class m extends h{constructor(e){super();this.options=k(m.defaultOptions,e)}modifyTable(e,b){this.emit({type:"modify",detail:b,table:e});const {additive:d,ranges:a,strict:f}=this.options;if(a.length){const b=e.modified;let h=e.getColumns(),g=[];for(let c=0,k=a.length,l,m;c<k;++c)if(l=a[c],!f||typeof l.minValue===typeof l.maxValue){0<c&&!d&&(b.deleteRows(),b.setRows(g),h=b.getColumns(),g=[]);m=h[l.column]||[];for(let a=0,c=m.length,h,k;a<c;++a){h=m[a];switch(typeof h){default:continue;case "boolean":case "number":case "string":}(!f||
typeof h===typeof l.minValue)&&h>=l.minValue&&h<=l.maxValue&&(k=d?e.getRow(a):b.getRow(a))&&g.push(k)}}b.deleteRows();b.setRows(g)}this.emit({type:"afterModify",detail:b,table:e});return e}getModifiedTableOffset(e){var {ranges:b}=this.options;return b&&(b=b.reduce((b,a)=>{a.minValue>b.minValue&&(b=a);return b},b[0]),e=e.getRowIndexBy(b.column,b.minValue))?e:0}}m.defaultOptions={type:"Range",ranges:[]};h.registerType("Range",m);return m});m(h,"Data/Modifiers/SortModifier.js",[h["Data/Modifiers/DataModifier.js"],
h["Data/DataTable.js"],h["Core/Utilities.js"]],function(h,f,m){const {merge:k}=m;class e extends h{static ascending(b,d){return(b||0)<(d||0)?-1:(b||0)>(d||0)?1:0}static descending(b,d){return(d||0)<(b||0)?-1:(d||0)>(b||0)?1:0}constructor(b){super();this.options=k(e.defaultOptions,b)}getRowReferences(b){b=b.getRows();const d=[];for(let a=0,e=b.length;a<e;++a)d.push({index:a,row:b[a]});return d}modifyCell(b,d,a,e,c){const {orderByColumn:h,orderInColumn:g}=this.options;d===h&&(g?(b.modified.setCell(d,
a,e),b.modified.setColumn(g,this.modifyTable(new f({columns:b.getColumns([h,g])})).modified.getColumn(g))):this.modifyTable(b,c));return b}modifyColumns(b,d,a,e){const {orderByColumn:c,orderInColumn:h}=this.options,g=Object.keys(d);-1<g.indexOf(c)&&(h&&d[g[0]].length?(b.modified.setColumns(d,a),b.modified.setColumn(h,this.modifyTable(new f({columns:b.getColumns([c,h])})).modified.getColumn(h))):this.modifyTable(b,e));return b}modifyRows(b,d,a,e){const {orderByColumn:c,orderInColumn:h}=this.options;
h&&d.length?(b.modified.setRows(d,a),b.modified.setColumn(h,this.modifyTable(new f({columns:b.getColumns([c,h])})).modified.getColumn(h))):this.modifyTable(b,e);return b}modifyTable(b,d){this.emit({type:"modify",detail:d,table:b});var a=b.getColumnNames();const f=b.getRowCount(),c=this.getRowReferences(b),{direction:h,orderByColumn:g,orderInColumn:k}=this.options,m="asc"===h?e.ascending:e.descending,n=a.indexOf(g);a=b.modified;-1!==n&&c.sort((a,b)=>m(a.row[n],b.row[n]));if(k){var r=[];for(var y=0;y<
f;++y)r[c[y].index]=y;a.setColumns({[k]:r})}else{r=[];for(y=0;y<f;++y)r.push(c[y].row);a.setRows(r,0)}this.emit({type:"afterModify",detail:d,table:b});return b}}e.defaultOptions={type:"Sort",direction:"desc",orderByColumn:"y"};h.registerType("Sort",e);return e});m(h,"masters/dashboards.src.js",[h["Data/Connectors/DataConnector.js"],h["Dashboards/Board.js"],h["Dashboards/Components/Component.js"],h["Dashboards/Components/ComponentRegistry.js"],h["Data/DataPool.js"],h["Data/DataCursor.js"],h["Data/Modifiers/DataModifier.js"],
h["Data/DataTable.js"],h["Dashboards/Globals.js"],h["Dashboards/PluginHandler.js"],h["Dashboards/Components/Sync/Sync.js"],h["Dashboards/Utilities.js"]],function(h,f,m,n,e,b,d,a,l,c,q,g){l.board=f.board;l.merge=g.merge;l.uniqueKey=g.uniqueKey;l.Board=f;l.Component=m;l.ComponentRegistry=n;l.DataConnector=h;l.DataCursor=b;l.DataModifier=d;l.DataPool=e;l.DataTable=a;l.PluginHandler=c;l.Sync=q;l.win.Dashboards||(l.win.Dashboards=l);return l});h["masters/dashboards.src.js"]._modules=h;return h["masters/dashboards.src.js"]});//# sourceMappingURL=dashboards.js.map