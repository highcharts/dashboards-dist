!/**
 * Highcharts Dashboards v1.3.1 (2024-02-14)
 *
 * (c) 2009-2024 Highsoft AS
 *
 * License: www.highcharts.com/license
 */function(t,e){"object"==typeof module&&module.exports?(e.default=e,module.exports=t&&t.document?e(t):e):"function"==typeof define&&define.amd?define("dashboards/dashboards",function(){return e(t)}):(t.Dashboards&&t.Dashboards.error(16,!0),t.Dashboards=e(t))}("undefined"!=typeof window?window:this,function(t){"use strict";var e={};function s(e,s,i,o){e.hasOwnProperty(s)||(e[s]=o.apply(null,i),"function"==typeof CustomEvent&&t.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:s,module:e[s]}})))}return s(e,"Core/Globals.js",[],function(){var e,s;return(s=e||(e={})).SVG_NS="http://www.w3.org/2000/svg",s.product="Highcharts",s.version="1.3.1",s.win=void 0!==t?t:{},s.doc=s.win.document,s.svg=s.doc&&s.doc.createElementNS&&!!s.doc.createElementNS(s.SVG_NS,"svg").createSVGRect,s.userAgent=s.win.navigator&&s.win.navigator.userAgent||"",s.isChrome=-1!==s.userAgent.indexOf("Chrome"),s.isFirefox=-1!==s.userAgent.indexOf("Firefox"),s.isMS=/(edge|msie|trident)/i.test(s.userAgent)&&!s.win.opera,s.isSafari=!s.isChrome&&-1!==s.userAgent.indexOf("Safari"),s.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(s.userAgent),s.isWebKit=-1!==s.userAgent.indexOf("AppleWebKit"),s.deg2rad=2*Math.PI/360,s.hasBidiBug=s.isFirefox&&4>parseInt(s.userAgent.split("Firefox/")[1],10),s.marginNames=["plotTop","marginRight","marginBottom","plotLeft"],s.noop=function(){},s.supportsPassiveEvents=function(){let t=!1;if(!s.isMS){let e=Object.defineProperty({},"passive",{get:function(){t=!0}});s.win.addEventListener&&s.win.removeEventListener&&(s.win.addEventListener("testPassive",s.noop,e),s.win.removeEventListener("testPassive",s.noop,e))}return t}(),s.charts=[],s.composed=[],s.dateFormats={},s.seriesTypes={},s.symbolSizes={},s.chartCount=0,e}),s(e,"Core/Utilities.js",[e["Core/Globals.js"]],function(t){let e;let{charts:s,doc:i,win:o}=t;function n(e,s,i,r){let l=s?"Highcharts error":"Highcharts warning";32===e&&(e=`${l}: Deprecated member`);let a=u(e),d=a?`${l} #${e}: www.highcharts.com/errors/${e}/`:e.toString();if(void 0!==r){let t="";a&&(d+="?"),x(r,function(e,s){t+=`
 - ${s}: ${e}`,a&&(d+=encodeURI(s)+"="+encodeURI(e))}),d+=t}E(t,"displayError",{chart:i,code:e,message:d,params:r},function(){if(s)throw Error(d);o.console&&-1===n.messages.indexOf(d)&&console.warn(d)}),n.messages.push(d)}function r(t,e){return parseInt(t,e||10)}function l(t){return"string"==typeof t}function a(t){let e=Object.prototype.toString.call(t);return"[object Array]"===e||"[object Array Iterator]"===e}function d(t,e){return!!t&&"object"==typeof t&&(!e||!a(t))}function h(t){return d(t)&&"number"==typeof t.nodeType}function c(t){let e=t&&t.constructor;return!!(d(t,!0)&&!h(t)&&e&&e.name&&"Object"!==e.name)}function u(t){return"number"==typeof t&&!isNaN(t)&&t<1/0&&t>-1/0}function p(t){return null!=t}function m(t,e,s){let i;let o=l(e)&&!p(s),n=(e,s)=>{p(e)?t.setAttribute(s,e):o?(i=t.getAttribute(s))||"class"!==s||(i=t.getAttribute(s+"Name")):t.removeAttribute(s)};return l(e)?n(s,e):x(e,n),i}function f(t){return a(t)?t:[t]}function g(t,e){let s;for(s in t||(t={}),e)t[s]=e[s];return t}function b(){let t=arguments,e=t.length;for(let s=0;s<e;s++){let e=t[s];if(null!=e)return e}}function y(t,e){g(t.style,e)}function C(t){return Math.pow(10,Math.floor(Math.log(t)/Math.LN10))}function w(t,e){return t>1e14?t:parseFloat(t.toPrecision(e||14))}(n||(n={})).messages=[],Math.easeInOutSine=function(t){return -.5*(Math.cos(Math.PI*t)-1)};let v=Array.prototype.find?function(t,e){return t.find(e)}:function(t,e){let s;let i=t.length;for(s=0;s<i;s++)if(e(t[s],s))return t[s]};function x(t,e,s){for(let i in t)Object.hasOwnProperty.call(t,i)&&e.call(s||t[i],t[i],i,t)}function N(t,e,s){function i(e,s){let i=t.removeEventListener;i&&i.call(t,e,s,!1)}function o(s){let o,n;t.nodeName&&(e?(o={})[e]=!0:o=s,x(o,function(t,e){if(s[e])for(n=s[e].length;n--;)i(e,s[e][n].fn)}))}let n="function"==typeof t&&t.prototype||t;if(Object.hasOwnProperty.call(n,"hcEvents")){let t=n.hcEvents;if(e){let n=t[e]||[];s?(t[e]=n.filter(function(t){return s!==t.fn}),i(e,s)):(o(t),t[e]=[])}else o(t),delete n.hcEvents}}function E(e,s,o,n){if(o=o||{},i.createEvent&&(e.dispatchEvent||e.fireEvent&&e!==t)){let t=i.createEvent("Events");t.initEvent(s,!0,!0),o=g(t,o),e.dispatchEvent?e.dispatchEvent(o):e.fireEvent(s,o)}else if(e.hcEvents){o.target||g(o,{preventDefault:function(){o.defaultPrevented=!0},target:e,type:s});let t=[],i=e,n=!1;for(;i.hcEvents;)Object.hasOwnProperty.call(i,"hcEvents")&&i.hcEvents[s]&&(t.length&&(n=!0),t.unshift.apply(t,i.hcEvents[s])),i=Object.getPrototypeOf(i);n&&t.sort((t,e)=>t.order-e.order),t.forEach(t=>{!1===t.fn.call(e,o)&&o.preventDefault()})}n&&!o.defaultPrevented&&n.call(e,o)}x({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(e,s){t[s]=function(t){return n(32,!1,void 0,{[`Highcharts.${s}`]:`use Array.${e}`}),Array.prototype[e].apply(t,[].slice.call(arguments,1))}});let O=function(){let t=Math.random().toString(36).substring(2,9)+"-",s=0;return function(){return"highcharts-"+(e?"":t)+s++}}();return o.jQuery&&(o.jQuery.fn.highcharts=function(){let e=[].slice.call(arguments);if(this[0])return e[0]?(new t[l(e[0])?e.shift():"Chart"](this[0],e[0],e[1]),this):s[m(this[0],"data-highcharts-chart")]}),{addEvent:function(e,s,i,o={}){let n="function"==typeof e&&e.prototype||e;Object.hasOwnProperty.call(n,"hcEvents")||(n.hcEvents={});let r=n.hcEvents;t.Point&&e instanceof t.Point&&e.series&&e.series.chart&&(e.series.chart.runTrackerClick=!0);let l=e.addEventListener;l&&l.call(e,s,i,!!t.supportsPassiveEvents&&{passive:void 0===o.passive?-1!==s.indexOf("touch"):o.passive,capture:!1}),r[s]||(r[s]=[]);let a={fn:i,order:"number"==typeof o.order?o.order:1/0};return r[s].push(a),r[s].sort((t,e)=>t.order-e.order),function(){N(e,s,i)}},arrayMax:function(t){let e=t.length,s=t[0];for(;e--;)t[e]>s&&(s=t[e]);return s},arrayMin:function(t){let e=t.length,s=t[0];for(;e--;)t[e]<s&&(s=t[e]);return s},attr:m,clamp:function(t,e,s){return t>e?t<s?t:s:e},clearTimeout:function(t){p(t)&&clearTimeout(t)},correctFloat:w,createElement:function(t,e,s,o,n){let r=i.createElement(t);return e&&g(r,e),n&&y(r,{padding:"0",border:"none",margin:"0"}),s&&y(r,s),o&&o.appendChild(r),r},css:y,defined:p,destroyObjectProperties:function(t,e,s){x(t,function(i,o){i!==e&&i?.destroy&&i.destroy(),(i?.destroy||!s)&&delete t[o]})},diffObjects:function(t,e,s,i){let o={};return function t(e,o,n,r){let l=s?o:e;x(e,function(s,h){if(!r&&i&&i.indexOf(h)>-1&&o[h]){s=f(s),n[h]=[];for(let e=0;e<Math.max(s.length,o[h].length);e++)o[h][e]&&(void 0===s[e]?n[h][e]=o[h][e]:(n[h][e]={},t(s[e],o[h][e],n[h][e],r+1)))}else d(s,!0)&&!s.nodeType?(n[h]=a(s)?[]:{},t(s,o[h]||{},n[h],r+1),0!==Object.keys(n[h]).length||"colorAxis"===h&&0===r||delete n[h]):(e[h]!==o[h]||h in e&&!(h in o))&&(n[h]=l[h])})}(t,e,o,0),o},discardElement:function(t){t&&t.parentElement&&t.parentElement.removeChild(t)},erase:function(t,e){let s=t.length;for(;s--;)if(t[s]===e){t.splice(s,1);break}},error:n,extend:g,extendClass:function(t,e){let s=function(){};return s.prototype=new t,g(s.prototype,e),s},find:v,fireEvent:E,getClosestDistance:function(t,e){let s,i,o,n;let r=!e;return t.forEach(t=>{if(t.length>1)for(n=i=t.length-1;n>0;n--)(o=t[n]-t[n-1])<0&&!r?(e?.(),e=void 0):o&&(void 0===s||o<s)&&(s=o)}),s},getMagnitude:C,getNestedProperty:function(t,e){let s=t.split(".");for(;s.length&&p(e);){let t=s.shift();if(void 0===t||"__proto__"===t)return;if("this"===t){let t;return d(e)&&(t=e["@this"]),t??e}let i=e[t];if(!p(i)||"function"==typeof i||"number"==typeof i.nodeType||i===o)return;e=i}return e},getStyle:function t(e,s,i){let n;if("width"===s){let s=Math.min(e.offsetWidth,e.scrollWidth),i=e.getBoundingClientRect&&e.getBoundingClientRect().width;return i<s&&i>=s-1&&(s=Math.floor(i)),Math.max(0,s-(t(e,"padding-left",!0)||0)-(t(e,"padding-right",!0)||0))}if("height"===s)return Math.max(0,Math.min(e.offsetHeight,e.scrollHeight)-(t(e,"padding-top",!0)||0)-(t(e,"padding-bottom",!0)||0));let l=o.getComputedStyle(e,void 0);return l&&(n=l.getPropertyValue(s),b(i,"opacity"!==s)&&(n=r(n))),n},inArray:function(t,e,s){return n(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"}),e.indexOf(t,s)},insertItem:function(t,e){let s;let i=t.options.index,o=e.length;for(s=t.options.isInternal?o:0;s<o+1;s++)if(!e[s]||u(i)&&i<b(e[s].options.index,e[s]._i)||e[s].options.isInternal){e.splice(s,0,t);break}return s},isArray:a,isClass:c,isDOMElement:h,isFunction:function(t){return"function"==typeof t},isNumber:u,isObject:d,isString:l,keys:function(t){return n(32,!1,void 0,{"Highcharts.keys":"use Object.keys"}),Object.keys(t)},merge:function(){let t,e=arguments,s={},i=function(t,e){return"object"!=typeof t&&(t={}),x(e,function(s,o){"__proto__"!==o&&"constructor"!==o&&(!d(s,!0)||c(s)||h(s)?t[o]=e[o]:t[o]=i(t[o]||{},s))}),t};!0===e[0]&&(s=e[1],e=Array.prototype.slice.call(e,2));let o=e.length;for(t=0;t<o;t++)s=i(s,e[t]);return s},normalizeTickInterval:function(t,e,s,i,o){let n,r=t;s=b(s,C(t));let l=t/s;for(!e&&(e=o?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===i&&(1===s?e=e.filter(function(t){return t%1==0}):s<=.1&&(e=[1/s]))),n=0;n<e.length&&(r=e[n],(!o||!(r*s>=t))&&(o||!(l<=(e[n]+(e[n+1]||e[n]))/2)));n++);return w(r*s,-Math.round(Math.log(.001)/Math.LN10))},objectEach:x,offset:function(t){let e=i.documentElement,s=t.parentElement||t.parentNode?t.getBoundingClientRect():{top:0,left:0,width:0,height:0};return{top:s.top+(o.pageYOffset||e.scrollTop)-(e.clientTop||0),left:s.left+(o.pageXOffset||e.scrollLeft)-(e.clientLeft||0),width:s.width,height:s.height}},pad:function(t,e,s){return Array((e||2)+1-String(t).replace("-","").length).join(s||"0")+t},pick:b,pInt:r,pushUnique:function(t,e){return 0>t.indexOf(e)&&!!t.push(e)},relativeLength:function(t,e,s){return/%$/.test(t)?e*parseFloat(t)/100+(s||0):parseFloat(t)},removeEvent:N,splat:f,stableSort:function(t,e){let s,i;let o=t.length;for(i=0;i<o;i++)t[i].safeI=i;for(t.sort(function(t,i){return 0===(s=e(t,i))?t.safeI-i.safeI:s}),i=0;i<o;i++)delete t[i].safeI},syncTimeout:function(t,e,s){return e>0?setTimeout(t,e,s):(t.call(0,s),-1)},timeUnits:{millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:24192e5,year:314496e5},uniqueKey:O,useSerialIds:function(t){return e=b(t,e)},wrap:function(t,e,s){let i=t[e];t[e]=function(){let t=arguments,e=this;return s.apply(this,[function(){return i.apply(e,arguments.length?arguments:t)}].concat([].slice.call(arguments)))}}}}),s(e,"Data/Modifiers/DataModifier.js",[e["Core/Utilities.js"]],function(e){var s;let{addEvent:i,fireEvent:o,merge:n}=e;class r{benchmark(e,s){let i=[],o=this,r=()=>{o.modifyTable(e),o.emit({type:"afterBenchmarkIteration"})},{iterations:l}=n({iterations:1},s);o.on("afterBenchmarkIteration",()=>{if(i.length===l){o.emit({type:"afterBenchmark",results:i});return}r()});let a={startTime:0,endTime:0};return o.on("modify",()=>{a.startTime=t.performance.now()}),o.on("afterModify",()=>{a.endTime=t.performance.now(),i.push(a.endTime-a.startTime)}),r(),i}emit(t){o(this,t.type,t)}modify(t,e){let s=this;return new Promise((i,o)=>{t.modified===t&&(t.modified=t.clone(!1,e));try{i(s.modifyTable(t,e))}catch(i){s.emit({type:"error",detail:e,table:t}),o(i)}})}modifyCell(t,e,s,i,o){return this.modifyTable(t)}modifyColumns(t,e,s,i){return this.modifyTable(t)}modifyRows(t,e,s,i){return this.modifyTable(t)}on(t,e){return i(this,t,e)}}return(s=r||(r={})).types={},s.registerType=function(t,e){return!!t&&!s.types[t]&&!!(s.types[t]=e)},r}),s(e,"Data/DataTable.js",[e["Core/Utilities.js"]],function(t){let{addEvent:e,fireEvent:s,uniqueKey:i}=t;class o{static isNull(t){if(t===o.NULL)return!0;if(t instanceof Array){if(!t.length)return!1;for(let e=0,s=t.length;e<s;++e)if(null!==t[e])return!1}else{let e=Object.keys(t);if(!e.length)return!1;for(let s=0,i=e.length;s<i;++s)if(null!==t[e[s]])return!1}return!0}constructor(t={}){this.aliases=t.aliases?JSON.parse(JSON.stringify(t.aliases)):{},this.autoId=!t.id,this.columns={},this.id=t.id||i(),this.modified=this,this.rowCount=0,this.versionTag=i();let e=t.columns||{},s=Object.keys(e),o=this.columns,n=0;for(let t=0,i=s.length,r,l;t<i;++t)r=e[l=s[t]].slice(),o[l]=r,n=Math.max(n,r.length);for(let t=0,e=s.length;t<e;++t)o[s[t]].length=n;this.rowCount=n;let r=t.aliases||{},l=Object.keys(r),a=this.aliases;for(let t=0,e=l.length,s;t<e;++t)a[s=l[t]]=r[s]}clone(t,e){let s={};this.emit({type:"cloneTable",detail:e}),t||(s.aliases=this.aliases,s.columns=this.columns),this.autoId||(s.id=this.id);let i=new o(s);return t||(i.versionTag=this.versionTag),this.emit({type:"afterCloneTable",detail:e,tableClone:i}),i}deleteColumnAlias(t){let e=this.aliases[t],s=this.modifier;return e&&(delete this.aliases[t],s&&s.modifyColumns(this,{[e]:Array(this.rowCount)},0)),e}deleteColumns(t,e){let s=this.columns,i={},o={},n=this.modifier,r=this.rowCount;if((t=t||Object.keys(s)).length){this.emit({type:"deleteColumns",columnNames:t,detail:e});for(let e=0,n=t.length,l,a;e<n;++e)(l=s[a=t[e]])&&(i[a]=l,o[a]=Array(r)),delete s[a];return Object.keys(s).length||(this.rowCount=0),n&&n.modifyColumns(this,o,0,e),this.emit({type:"afterDeleteColumns",columns:i,columnNames:t,detail:e}),i}}deleteRows(t,e=1,s){let i=[],o=[],n=this.modifier;if(this.emit({type:"deleteRows",detail:s,rowCount:e,rowIndex:t||0}),void 0===t&&(t=0,e=this.rowCount),e>0&&t<this.rowCount){let s=this.columns,n=Object.keys(s);for(let r=0,l=n.length,a,d;r<l;++r){d=(a=s[n[r]]).splice(t,e),r||(this.rowCount=a.length);for(let t=0,e=d.length;t<e;++t)i[t]=i[t]||[],i[t][r]=d[t];o.push(Array(l))}}return n&&n.modifyRows(this,o,t||0,s),this.emit({type:"afterDeleteRows",detail:s,rowCount:e,rowIndex:t||0,rows:i}),i}emit(t){switch(t.type){case"afterDeleteColumns":case"afterDeleteRows":case"afterSetCell":case"afterSetColumns":case"afterSetRows":this.versionTag=i()}s(this,t.type,t)}getCell(t,e){t=this.aliases[t]||t;let s=this.columns[t];if(s)return s[e]}getCellAsBoolean(t,e){t=this.aliases[t]||t;let s=this.columns[t];return!!(s&&s[e])}getCellAsNumber(t,e,s){t=this.aliases[t]||t;let i=this.columns[t],o=i&&i[e];switch(typeof o){case"boolean":return o?1:0;case"number":return isNaN(o)&&!s?null:o}return isNaN(o=parseFloat(`${o}`))&&!s?null:o}getCellAsString(t,e){t=this.aliases[t]||t;let s=this.columns[t];return`${s&&s[e]}`}getColumn(t,e){return this.getColumns([t],e)[t]}getColumnAsNumbers(t,e){let s=this.columns[t=this.aliases[t]||t],i=[];if(s){let o=s.length;if(e)for(let e=0;e<o;++e)i.push(this.getCellAsNumber(t,e,!0));else{for(let t=0,e;t<o;++t){if("number"==typeof(e=s[t]))return s.slice();if(null!=e)break}for(let e=0;e<o;++e)i.push(this.getCellAsNumber(t,e))}}return i}getColumnNames(){return Object.keys(this.columns)}getColumns(t,e){let s=this.aliases,i=this.columns,o={};t=t||Object.keys(i);for(let n=0,r=t.length,l,a;n<r;++n)(l=i[s[a=t[n]]||a])&&(o[a]=e?l:l.slice());return o}getModifier(){return this.modifier}getRow(t,e){return this.getRows(t,1,e)[0]}getRowCount(){return this.rowCount}getRowIndexBy(t,e,s){t=this.aliases[t]||t;let i=this.columns[t];if(i){let t=i.indexOf(e,s);if(-1!==t)return t}}getRowObject(t,e){return this.getRowObjects(t,1,e)[0]}getRowObjects(t=0,e=this.rowCount-t,s){let i=this.aliases,o=this.columns,n=Array(e);s=s||Object.keys(o);for(let r=t,l=0,a=Math.min(this.rowCount,t+e),d,h;r<a;++r,++l)for(let t of(h=n[l]={},s))d=o[i[t]||t],h[t]=d?d[r]:void 0;return n}getRows(t=0,e=this.rowCount-t,s){let i=this.aliases,o=this.columns,n=Array(e);s=s||Object.keys(o);for(let r=t,l=0,a=Math.min(this.rowCount,t+e),d,h;r<a;++r,++l)for(let t of(h=n[l]=[],s))d=o[i[t]||t],h.push(d?d[r]:void 0);return n}getVersionTag(){return this.versionTag}hasColumns(t){let e=this.aliases,s=this.columns;for(let i=0,o=t.length,n;i<o;++i)if(!s[n=t[i]]&&!e[n])return!1;return!0}hasRowWith(t,e){t=this.aliases[t]||t;let s=this.columns[t];return!!s&&-1!==s.indexOf(e)}on(t,s){return e(this,t,s)}renameColumn(t,e){let s=this.columns;if(s[t]){if(t!==e){let i=this.aliases;i[e]&&delete i[e],s[e]=s[t],delete s[t]}return!0}return!1}setCell(t,e,s,i){let o=this.columns,n=this.modifier,r=o[t=this.aliases[t]||t];r&&r[e]===s||(this.emit({type:"setCell",cellValue:s,columnName:t,detail:i,rowIndex:e}),r||(r=o[t]=Array(this.rowCount)),e>=this.rowCount&&(this.rowCount=e+1),r[e]=s,n&&n.modifyCell(this,t,e,s),this.emit({type:"afterSetCell",cellValue:s,columnName:t,detail:i,rowIndex:e}))}setColumn(t,e=[],s=0,i){this.setColumns({[t]:e},s,i)}setColumns(t,e,s){let i=this.columns,o=this.modifier,n=void 0===e,r=Object.keys(t);this.emit({type:"setColumns",columns:t,columnNames:r,detail:s,rowIndex:e});for(let s=0,o=r.length,l,a;s<o;++s)if(l=t[a=r[s]],a=this.aliases[a]||a,n)i[a]=l.slice(),this.rowCount=l.length;else{let t=i[a]?i[a]:i[a]=Array(this.rowCount);for(let s=e||0,i=l.length;s<i;++s)t[s]=l[s];this.rowCount=Math.max(this.rowCount,t.length)}let l=Object.keys(i);for(let t=0,e=l.length;t<e;++t)i[l[t]].length=this.rowCount;o&&o.modifyColumns(this,t,e||0),this.emit({type:"afterSetColumns",columns:t,columnNames:r,detail:s,rowIndex:e})}setModifier(t,e){let s=this;return s.emit({type:"setModifier",detail:e,modifier:t,modified:s.modified}),s.modified=s,s.modifier=t,(t?t.modify(s):Promise.resolve(s)).then(s=>(s.emit({type:"afterSetModifier",detail:e,modifier:t,modified:s.modified}),s)).catch(e=>{throw s.emit({type:"setModifierError",error:e,modifier:t,modified:s.modified}),e})}setRow(t,e,s){this.setRows([t],e,s)}setRows(t,e=this.rowCount,s){let i=this.aliases,n=this.columns,r=Object.keys(n),l=this.modifier,a=t.length;this.emit({type:"setRows",detail:s,rowCount:a,rowIndex:e,rows:t});for(let s=0,l=e,d;s<a;++s,++l)if((d=t[s])===o.NULL)for(let t=0,e=r.length;t<e;++t)n[r[t]][l]=null;else if(d instanceof Array)for(let t=0,e=r.length;t<e;++t)n[r[t]][l]=d[t];else{let t=Object.keys(d);for(let e=0,s=t.length,o;e<s;++e)n[o=i[o=t[e]]||o]||(n[o]=Array(l+1)),n[o][l]=d[o]}let d=e+a;if(d>this.rowCount){this.rowCount=d;for(let t=0,e=r.length;t<e;++t)n[r[t]].length=d}l&&l.modifyRows(this,t,e),this.emit({type:"afterSetRows",detail:s,rowCount:a,rowIndex:e,rows:t})}}return o.NULL={},o.version="1.0.0",o}),s(e,"Data/Connectors/DataConnector.js",[e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],function(e,s,i){var o;let{addEvent:n,fireEvent:r,merge:l,pick:a}=i;class d{constructor(t={}){this.table=new s(t.dataTable),this.metadata=t.metadata||{columns:{}}}get polling(){return!!this.polling}describeColumn(t,e){let s=this.metadata.columns;s[t]=l(s[t]||{},e)}describeColumns(t){let e;let s=Object.keys(t);for(;"string"==typeof(e=s.pop());)this.describeColumn(e,t[e])}emit(t){r(this,t.type,t)}getColumnOrder(t){let e=this.metadata.columns,s=Object.keys(e||{});if(s.length)return s.sort((t,s)=>a(e[t].index,0)-a(e[s].index,0))}getSortedColumns(t){return this.table.getColumns(this.getColumnOrder(t))}load(){return r(this,"afterLoad",{table:this.table}),Promise.resolve(this)}on(t,e){return n(this,t,e)}save(){return r(this,"saveError",{table:this.table}),Promise.reject(Error("Not implemented"))}setColumnOrder(t){for(let e=0,s=t.length;e<s;++e)this.describeColumn(t[e],{index:e})}setModifierOptions(t){let s=t&&e.types[t.type];return this.table.setModifier(s?new s(t):void 0).then(()=>this)}startPolling(e=1e3){let s=this;t.clearTimeout(s._polling),s._polling=t.setTimeout(()=>s.load().catch(t=>s.emit({type:"loadError",error:t,table:s.table})).then(()=>{s._polling&&s.startPolling(e)}),e)}stopPolling(){t.clearTimeout(this._polling),delete this._polling}whatIs(t){return this.metadata.columns[t]}}return(o=d||(d={})).types={},o.registerType=function(t,e){return!!t&&!o.types[t]&&!!(o.types[t]=e)},d}),s(e,"Dashboards/Components/ComponentRegistry.js",[],function(){var t,e;return(e=t||(t={})).types={},e.registerComponent=function(t,s){return!!t&&!e.types[t]&&!!(e.types[t]=s)},t}),s(e,"Dashboards/Globals.js",[],function(){var e,s;return(s=e||(e={})).classNamePrefix="highcharts-dashboards-",s.classNames={layout:s.classNamePrefix+"layout",cell:s.classNamePrefix+"cell",cellHover:s.classNamePrefix+"cell-state-hover",cellActive:s.classNamePrefix+"cell-state-active",cellLoading:s.classNamePrefix+"cell-state-loading",row:s.classNamePrefix+"row",layoutsWrapper:s.classNamePrefix+"layouts-wrapper",boardContainer:s.classNamePrefix+"wrapper"},s.guiElementType={row:"row",cell:"cell",layout:"layout"},s.responsiveBreakpoints={small:"small",medium:"medium",large:"large"},s.boards=[],s.win=t,e}),s(e,"Dashboards/Actions/Bindings.js",[e["Dashboards/Components/ComponentRegistry.js"],e["Dashboards/Globals.js"],e["Core/Utilities.js"]],function(t,e,s){var i;let{addEvent:o,fireEvent:n,error:r}=s;return function(s){function i(t){let e;let s="string"==typeof t?document.getElementById(t):t;return null!==s&&n(s,"bindedGUIElement",{},function(t){e=t.guiElement}),e}async function l(i,l){let a=i.states,d=i.events;if(l=l||s.getCell(i.cell||""),!l?.container||!i.type){r(`The component is misconfigured and is unable to find the
                        HTML cell element ${i.cell} to render the content.`);return}let h=l.container,c=t.types[i.type];c||(r(`The component's type ${i.type} does not exist.`),c=t.types.HTML,i.title={text:l.row.layout.board?.editMode?.lang.errorMessage,className:e.classNamePrefix+"component-title-error "+e.classNamePrefix+"component-title"});let u=new c(l,i),p=u.load().catch(t=>{console.error(t),u.update({connector:{id:""},title:{text:l?.row.layout.board?.editMode?.lang.errorMessage,className:e.classNamePrefix+"component-title-error "+e.classNamePrefix+"component-title"}})});return n(u,"mount"),u.setCell(l),l.mountedComponent=u,l.row.layout.board.mountedComponents.push({options:i,component:u,cell:l}),d&&d.click&&o(h,"click",()=>{d.click(),l&&u&&h&&a&&a.active&&l.setActiveState()}),a?.hover&&h.classList.add(e.classNames.cellHover),n(u,"afterLoad"),p}s.addComponent=l,s.componentFromJSON=function(e){let i=t.types[e.$class];if(!i)return;let o=s.getCell(e.options.cell||"");if(!o)return;let n=i.fromJSON(e,o);return n&&n.render(),n},s.getCell=function(t){let e=i(t);if(e&&"cell"===e.getType())return e},s.getRow=function(t){let e=i(t);if(e&&"row"===e.getType())return e},s.getLayout=function(t){let e=i(t);if(e&&"layout"===e.getType())return e}}(i||(i={})),i}),s(e,"Dashboards/Accessibility/DashboardsAccessibility.js",[],function(){return class{constructor(t){this.board=t,this.addTabIndexToCells()}addTabIndexToCells(){let t;let e=this.board.mountedComponents;for(let s=0,i=e.length;s<i;++s)(t=e[s].cell)&&t.container&&t.container.setAttribute("tabindex",-1)}}}),s(e,"Data/DataCursor.js",[],function(){class t{constructor(t={}){this.emittingRegister=[],this.listenerMap={},this.stateMap=t}addListener(t,e,s){let i=this.listenerMap[t]=this.listenerMap[t]||{};return(i[e]=i[e]||[]).push(s),this}buildEmittingTag(t){return("position"===t.cursor.type?[t.table.id,t.cursor.column,t.cursor.row,t.cursor.state,t.cursor.type]:[t.table.id,t.cursor.columns,t.cursor.firstRow,t.cursor.lastRow,t.cursor.state,t.cursor.type]).join("\x00")}emitCursor(e,s,i,o,n){let r="object"==typeof s?s:i,l="object"==typeof o?o:i,a="string"==typeof s?s:void 0,d=e.id,h=r.state,c=this.listenerMap[d]&&this.listenerMap[d][h];if(n=n||!0===o,c){let s=this.stateMap[d]=this.stateMap[d]||{},i=s[r.state]||[];n&&(i.length||(s[r.state]=i),-1===t.getIndex(r,i)&&i.push(r));let o={cursor:r,cursors:i,table:e};l&&(o.event=l),a&&(o.group=a);let h=this.emittingRegister,u=this.buildEmittingTag(o);if(h.indexOf(u)>=0)return this;try{this.emittingRegister.push(u);for(let t=0,e=c.length;t<e;++t)c[t].call(this,o)}finally{let t=this.emittingRegister.indexOf(u);t>=0&&this.emittingRegister.splice(t,1)}}return this}remitCursor(e,s){let i=this.stateMap[e]&&this.stateMap[e][s.state];if(i){let e=t.getIndex(s,i);e>=0&&i.splice(e,1)}return this}removeListener(t,e,s){let i=this.listenerMap[t]&&this.listenerMap[t][e];if(i){let t=i.indexOf(s);t&&i.splice(t,1)}return this}}return t.version="1.0.0",function(t){function e(t,e){if("range"===t.type)return t;let s={type:"range",firstRow:t.row??(e&&e.firstRow)??0,lastRow:t.row??(e&&e.lastRow)??Number.MAX_VALUE,state:t.state};return void 0!==t.column&&(s.columns=[t.column]),s}t.getIndex=function(t,e){if("position"===t.type){for(let s,i=0,o=e.length;i<o;++i)if("position"===(s=e[i]).type&&s.state===t.state&&s.column===t.column&&s.row===t.row)return i}else{let s=JSON.stringify(t.columns);for(let i,o=0,n=e.length;o<n;++o)if("range"===(i=e[o]).type&&i.state===t.state&&i.firstRow===t.firstRow&&i.lastRow===t.lastRow&&JSON.stringify(i.columns)===s)return o}return -1},t.isEqual=function(t,e){return"position"===t.type&&"position"===e.type?t.column===e.column&&t.row===e.row&&t.state===e.state:"range"===t.type&&"range"===e.type&&t.firstRow===e.firstRow&&t.lastRow===e.lastRow&&JSON.stringify(t.columns)===JSON.stringify(e.columns)},t.isInRange=function(t,s){"position"===s.type&&(s=e(s)),"position"===t.type&&(t=e(t,s));let i=t.columns,o=s.columns;return t.firstRow>=s.firstRow&&t.lastRow<=s.lastRow&&(!i||!o||i.every(t=>o.indexOf(t)>=0))},t.toPositions=function(t){if("position"===t.type)return[t];let e=t.columns||[],s=[],i=t.state;for(let o=t.firstRow,n=t.lastRow;o<n;++o){if(!e.length){s.push({type:"position",row:o,state:i});continue}for(let t=0,n=e.length;t<n;++t)s.push({type:"position",column:e[t],row:o,state:i})}return s},t.toRange=e}(t||(t={})),t}),s(e,"Dashboards/Serializable.js",[],function(){var t;return function(t){let e={},s={};t.fromJSON=function(t){let i=t.$class;if("string"!=typeof i)throw Error("JSON has no $class property.");let o=e[i];if(o)return o.fromJSON(t);let n=s[i];if(n)return n.fromJSON(t);throw Error(`'${i}' unknown.`)},t.registerClassPrototype=function(t,s){if(e[t])throw Error("A serializer for '"+t+"' is already registered.");e[t]=s},t.registerHelper=function(t){if(s[t.$class])throw Error("A serializer for '"+t.$class+"' is already registered.");s[t.$class]=t},t.toJSON=function(t){let e;if("function"==typeof t.fromJSON&&"function"==typeof t.toJSON)return t.toJSON();let i=Object.keys(s),o=i.length;for(let n=0;n<o;++n)if((e=s[i[n]]).jsonSupportFor(t))return e.toJSON(t);throw Error("Object is not supported.")}}(t||(t={})),t}),s(e,"Dashboards/SerializeHelper/DataCursorHelper.js",[e["Data/DataCursor.js"],e["Dashboards/Serializable.js"]],function(t,e){let s={$class:"Data.DataCursor",fromJSON:function(e){return new t(e.stateMap)},jsonSupportFor:function(e){return e instanceof t},toJSON:function(t){let e,s,i,o,n;let r=t.stateMap,l={},a=Object.keys(t.stateMap);for(let t=0,d=a.length;t<d;++t){n=Object.keys(r[i=a[t]]),l[i]={};for(let t=0,a=n.length;t<a;++t){o=n[t],e=r[i][o],l[i][o]=s=[];for(let t=0,i=e.length;t<i;++t)s.push({...e[t]})}}return{$class:"Data.DataCursor",stateMap:l}}};return e.registerHelper(s),s}),s(e,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}}),s(e,"Data/DataPool.js",[e["Data/Connectors/DataConnector.js"],e["Data/DataPoolDefaults.js"],e["Core/Utilities.js"]],function(t,e,s){class i{constructor(t=e){t.connectors=t.connectors||[],this.connectors={},this.options=t,this.waiting={}}emit(t){s.fireEvent(this,t.type,t)}getConnector(t){let e=this.connectors[t];if(e)return Promise.resolve(e);let s=this.waiting[t];if(!s){s=this.waiting[t]=[];let e=this.getConnectorOptions(t);if(!e)throw Error(`Connector not found. (${t})`);this.loadConnector(e).then(e=>{delete this.waiting[t];for(let t=0,i=s.length;t<i;++t)s[t][0](e)}).catch(e=>{delete this.waiting[t];for(let t=0,i=s.length;t<i;++t)s[t][1](e)})}return new Promise((t,e)=>{s.push([t,e])})}getConnectorIds(){let t=this.options.connectors,e=[];for(let s=0,i=t.length;s<i;++s)e.push(t[s].id);return e}getConnectorOptions(t){let e=this.options.connectors;for(let s=0,i=e.length;s<i;++s)if(e[s].id===t)return e[s]}getConnectorTable(t){return this.getConnector(t).then(t=>t.table)}isNewConnector(t){return!this.connectors[t]}loadConnector(e){return new Promise((s,i)=>{this.emit({type:"load",options:e});let o=t.types[e.type];if(!o)throw Error(`Connector type not found. (${e.type})`);new o(e.options).load().then(t=>{this.connectors[e.id]=t,this.emit({type:"afterLoad",options:e}),s(t)}).catch(i)})}on(t,e){return s.addEvent(this,t,e)}setConnectorOptions(t){let e=this.options.connectors,s=this.connectors;this.emit({type:"setConnectorOptions",options:t});for(let s=0,i=e.length;s<i;++s)if(e[s].id===t.id){e.splice(s,1);break}s[t.id]&&(s[t.id].stopPolling(),delete s[t.id]),e.push(t),this.emit({type:"afterSetConnectorOptions",options:t})}}return i.version="1.0.0",i}),s(e,"Dashboards/EditMode/EditGlobals.js",[e["Dashboards/Globals.js"]],function(t){let e=t.classNamePrefix+"edit-";return{classNames:{resizeSnap:e+"resize-snap",resizeSnapX:e+"resize-snap-x",resizeSnapY:e+"resize-snap-y",separator:e+"separator",contextMenuBtn:e+"context-menu-btn",contextMenuBtnText:e+"context-menu-btn-text",contextMenu:e+"context-menu",contextMenuItem:e+"context-menu-item",editModeEnabled:e+"enabled",editToolbar:e+"toolbar",editToolbarCellOutline:e+"toolbar-cell-outline",editToolbarRowOutline:e+"toolbar-row-outline",editToolbarItem:e+"toolbar-item",editToolbarRow:e+"toolbar-row",editToolbarCell:e+"toolbar-cell",editSidebar:e+"sidebar",editSidebarShow:e+"sidebar-show",editSidebarHide:e+"sidebar-hide",editSidebarTitle:e+"sidebar-title",editSidebarMenuItem:e+"sidebar-item",rowContextHighlight:e+"row-context-highlight",cellEditHighlight:e+"cell-highlight",dashboardCellEditHighlightActive:e+"cell-highlight-active",dragMock:e+"drag-mock",dropPointer:e+"drop-pointer",contextDetectionPointer:e+"ctx-detection-pointer",resizePointer:e+"resize-pointer",currentEditedElement:e+"unmask",maskElement:e+"mask",menuItem:e+"menu-item",menu:e+"menu",menuVerticalSeparator:e+"menu-vertical-separator",menuHorizontalSeparator:e+"menu-horizontal-separator",menuDestroy:e+"menu-destroy",editSidebarWrapper:e+"sidebar-wrapper",customSelect:e+"custom-select",customSelectButton:e+"custom-option-button",toggleContainer:e+"toggle-container",toggleWrapper:e+"toggle-wrapper",toggleSlider:e+"toggle-slider",toggleWrapperColored:e+"toggle-wrapper-colored",toggleLabels:e+"toggle-labels",button:e+"button",sidebarNavButton:e+"sidebar-button-nav",labelText:e+"label-text",editSidebarTabBtn:e+"sidebar-tab-btn",editToolsBtn:e+"tools-btn",editTools:e+"tools",editGridItems:e+"grid-items",confirmationPopup:e+"confirmation-popup",popupButtonContainer:e+"confirmation-popup-button-container",popupContentContainer:e+"confirmation-popup-content",popupCancelBtn:e+"confirmation-popup-cancel-btn",popupConfirmBtn:e+"confirmation-popup-confirm-btn",popupCloseButton:e+"popup-close",editOverlay:e+"overlay",editOverlayActive:e+"overlay-active",resizerMenuBtnActive:e+"resizer-menu-btn-active",sidebarCloseButton:e+"close-btn",editSidebarTabBtnWrapper:e+"tabs-buttons-wrapper",editSidebarRight:e+"sidebar-right",editSidebarRightShow:e+"sidebar-right-show",viewFullscreen:e+"view-fullscreen",accordionMenu:e+"accordion-menu",accordionContainer:e+"accordion",accordionHeader:e+"accordion-header",accordionHeaderBtn:e+"accordion-header-btn",accordionHeaderIcon:e+"accordion-header-icon",accordionContent:e+"accordion-content",accordionNestedWrapper:e+"accordion-nested",accordionMenuButtonsContainer:e+"accordion-menu-buttons-container",accordionMenuButton:e+"accordion-menu-button",hiddenElement:e+"hidden-element",collapsableContentHeader:e+"collapsable-content-header",collapsedElement:e+"collapsed-element",dropdown:e+"dropdown",dropdownContent:e+"dropdown-content",dropdownButton:e+"dropdown-button",dropdownButtonContent:e+"dropdown-button-content",dropdownIcon:e+"pointer",icon:e+"icon"},lang:{accessibility:{contextMenu:{button:"Context menu"},editMode:{editMode:"Edit mode toggle button"}},addComponent:"Add component",cancelButton:"Cancel",caption:"Caption",chartClassName:"Chart class name",chartConfig:"Chart configuration",chartID:"Chart ID",chartOptions:"Chart options",chartType:"Chart type",connectorName:"Connector name",confirmButton:"Confirm",confirmDestroyCell:"Do you really want to destroy the cell?",confirmDestroyRow:"Do you really want to destroy the row?",dataLabels:"Data labels",editMode:"Edit mode",errorMessage:"Something went wrong",exitFullscreen:"Exit full screen",id:"Id",large:"Large",medium:"Medium",off:"off",on:"on",pointFormat:"Point format",settings:"Settings",small:"Small",style:"Styles",title:"Title",viewFullscreen:"View in full screen",sidebar:{HTML:"HTML",layout:"Layout",Highcharts:"Highcharts",DataGrid:"DataGrid",KPI:"KPI"}}}}),s(e,"Dashboards/EditMode/EditRenderer.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"]],function(t,e){let{merge:s,createElement:i,defined:o}=e;function n(e,s){let o;let n=s.options.contextMenu;return n&&(o=i("button",{className:t.classNames.contextMenuBtn,onclick:function(t){t.stopPropagation(),s.onContextBtnClick()}},{},e),n.icon&&i("img",{src:n.icon,className:t.classNames.icon},{},o),n.text&&i("span",{className:t.classNames.contextMenuBtnText,textContent:n.text},{},o),o.setAttribute("aria-label",s.lang.accessibility.contextMenu.button),o.setAttribute("aria-expanded","false")),o}function r(e,s){let{name:o,showToggle:n,onchange:r,isEnabled:l,isNested:d,lang:h}=s,c=i("div",{className:t.classNames[d?"accordionNestedWrapper":"accordionContainer"]+" "+t.classNames.collapsableContentHeader},{},e),u=i("div",{className:t.classNames.accordionHeader},{},c),p=i("button",{className:t.classNames.accordionHeaderBtn},{},u);i("span",{textContent:h[o]||o},{},p),n&&a(u,{enabledOnOffLabels:!0,id:o,name:"",onchange:r,value:l||!1,lang:h});let m=i("span",{className:t.classNames.accordionHeaderIcon+" "+t.classNames.collapsedElement},{},p),f=i("div",{className:t.classNames.accordionContent+" "+t.classNames.hiddenElement},{},c);return p.addEventListener("click",function(){f.classList.toggle(t.classNames.hiddenElement),m.classList.toggle(t.classNames.collapsedElement)}),{outerElement:c,content:f}}function l(o,n){let r;if(!o)return;n.name&&d(o,{title:n.name,isLabel:!0});let l=n.iconsURLPrefix||"",a=i("div",{className:t.classNames.dropdown+" "+t.classNames.collapsableContentHeader},{},o),h=i("button",{className:t.classNames.dropdownButton},{},a),c=i("div",{className:t.classNames.dropdownButtonContent},{},h),u=(e.find(n.selectOptions,t=>t.name===n.value)||{}).iconURL;u&&(r=i("img",{src:l+u,className:t.classNames.icon},{},c));let p=i("span",{textContent:n.value,id:n.id||""},{},c),m=i("img",{className:t.classNames.dropdownIcon+" "+t.classNames.collapsedElement,src:l+"dropdown-pointer.svg"},{},h),f=i("ul",{className:t.classNames.dropdownContent+" "+t.classNames.hiddenElement},{},a);h.addEventListener("click",function(){f.classList.toggle(t.classNames.hiddenElement),m.classList.toggle(t.classNames.collapsedElement)});for(let e=0,o=n.selectOptions.length;e<o;++e)(function(e,s,o,n,r,l,a){let d=e.iconsURLPrefix+e.iconURL,h=i("li",{},{},s),c=i("button",{className:t.classNames.customSelectButton},{},h);e.iconURL&&i("img",{src:d},{},c),i("span",{textContent:e.name||""},{},c),c.addEventListener("click",function(){if(s.classList.add(t.classNames.hiddenElement),r.classList.toggle(t.classNames.collapsedElement),o.textContent=e.name||"",l&&e.iconURL&&(l.src=d),a)return a(e.name)})})(s(n.selectOptions[e]||{},{iconsURLPrefix:l}),f,p,n.id,m,r,n.onchange);return a}function a(e,s){if(!e)return;let o=s.lang,n=s.value,r=s.title||s.name,l=s.langKey,a=i("button",{className:t.classNames.toggleContainer,type:"button",role:"switch",ariaChecked:!1,ariaLabel:l?o.accessibility[l][s.name]:""},{},e);r&&d(a,{title:r}),s.enabledOnOffLabels&&d(a,{title:o.off,className:t.classNames.toggleLabels});let h=i("label",{className:t.classNames.toggleWrapper+" "+(s.className||"")},{},a),c=p(h,n),u=s.onchange;u&&a.addEventListener("click",t=>{u(!c.checked),c.checked=!c.checked,a.setAttribute("aria-checked",c.checked),t.stopPropagation()});let m=i("span",{className:t.classNames.toggleSlider},{},h);return u&&m.addEventListener("click",t=>{t.preventDefault()}),s.enabledOnOffLabels&&d(a,{title:o.on,className:t.classNames.toggleLabels}),a}function d(e,s){let o;let{title:n,className:r,isLabel:l}=s;if(e){let s=l?{htmlFor:n}:{};o=i(l?"label":"div",{className:t.classNames.labelText+" "+(r||""),textContent:n,...s},{},e)}return o}function h(t,e){let{icon:s,callback:o}=e;if(!t)return;let n=i("div",{onclick:o,className:e.className||""},{},t);n.style["background-image"]="url("+s+")";let r=e.mousedown,l=e.click;return r&&(n.onmousedown=function(){r.apply(this,arguments)}),l&&n.addEventListener("click",function(){l.apply(this,arguments)}),n}function c(t,e){if(!t)return;e.name&&d(t,{title:e.name,isLabel:!0});let s=i("input",{type:"text",onclick:e.callback,id:e.id||"",name:e.name||"",value:o(e.value)&&e.value.toString().replace(/\"/g,"")||""},{},t),n=e.onchange;return n&&s.addEventListener("change",function(t){n(t.target.value)}),s}function u(t,e){if(!t)return;e.name&&d(t,{title:e.name,isLabel:!0});let s=i("textarea",{id:e.id,name:e.name,value:e.value||""},{},t),o=e.onchange;return o&&s.addEventListener("change",function(t){o(t.target.value)}),s}function p(t,e){let s;return t&&(s=i("input",{type:"checkbox",checked:!!e},{},t)),s}function m(e,s){let o;if(e)return o=i("button",{className:t.classNames.button+" "+(s.className||""),onclick:s.callback,textContent:s.text},s.style||{},e),s.icon&&(o.style["background-image"]="url("+s.icon+")"),o}return{renderSelect:l,renderToggle:a,renderText:d,renderCollapseHeader:r,renderIcon:h,renderContextButton:n,renderInput:c,renderTextarea:u,renderCheckbox:p,renderButton:m,getRendererFunction:function(t){return({select:l,toggle:a,text:d,collapse:r,icon:h,contextButton:n,input:c,textarea:u,checkbox:p,button:m})[t]}}}),s(e,"Dashboards/EditMode/Menu/MenuItem.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditRenderer.js"]],function(t,e,s){let{createElement:i,merge:o}=e;class n{constructor(t,e){this.menu=t,this.isActive=!1,this.options=o(n.defaultOptions,e),this.container=this.setContainer(),this.innerElement=this.setInnerElement()}setContainer(){let e=this.options,s=t.classNames.menuItem;return this.menu.options.itemsClassName&&(s+=" "+this.menu.options.itemsClassName),e.className&&(s+=" "+e.className),i("div",{className:s||""},o(this.options.style||{},this.isActive?{display:"block"}:{}),this.menu.container)}setInnerElement(){let t=this.options,e=this.container,i=t.langKey;return"toggle"===t.type?s.renderToggle(e,{id:t.id,name:t.id,title:i?this.menu.editMode.lang[i]:t.text,value:!!(t.getValue&&t.getValue(this)),lang:this.menu.editMode.lang,langKey:i,onchange:t.events?.click?.bind(this)}):"text"===t.type?s.renderText(e,{title:i?this.menu.editMode.lang[i]:t.text||"",className:t.className||""}):"icon"===t.type?s.renderIcon(e,{icon:t.icon||"",mousedown:t.events?.onmousedown?.bind(this),click:t.events?.click?.bind(this)}):"button"===t.type?s.renderButton(e,{callback:t.events?.click?.bind(this),className:t.className||"",style:t.style||{},text:i?this.menu.editMode.lang[i]:t.text||""}):void 0}update(){let t=this.options;t.events&&t.events.update&&t.events.update.apply(this,arguments)}activate(){this.update(),this.container&&(this.isActive=!0,this.container.style.display="block")}deactivate(){this.container&&(this.isActive=!1,this.container.style.display="none")}}return n.defaultOptions={id:"",type:"text"},n}),s(e,"Dashboards/EditMode/Menu/MenuItemBindings.js",[],function(){return{viewFullscreen:{id:"viewFullscreen",type:"button",langKey:"viewFullscreen",events:{click:function(){let t=this.menu.editMode.board.fullscreen;t&&t.toggle()}}}}}),s(e,"Dashboards/EditMode/Menu/Menu.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/MenuItem.js"],e["Dashboards/EditMode/Menu/MenuItemBindings.js"]],function(t,e,s,i){let{createElement:o,merge:n}=e;class r{constructor(t,e,s,i){this.parentElement=t,this.isVisible=!1,this.activeItems=[],this.options=e,this.items={},this.editMode=s,i&&(this.parent=i),this.container=this.setContainer()}setContainer(){return o("div",{className:t.classNames.menu+" "+(this.options.className||"")},{},this.parentElement)}initItems(t,e){let i,o,r,l;let a=this.options.items||[];for(let d=0,h=a.length;d<h;++d)i="string"==typeof(o=a[d])?t[o]:o.id?t[o.id]:{},(l="string"==typeof o?n(i,{id:o}):n(i,o)).id&&(r=new s(this,l),this.items[r.options.id]=r,e&&(r.activate(),this.activeItems.push(r)))}setActiveItems(t){let e;for(let e=0,s=this.activeItems.length;e<s;++e)-1===t.indexOf(this.activeItems[e].options.id)&&this.activeItems[e].deactivate();this.activeItems.length=0;for(let s=0,i=t.length;s<i;++s)(e=this.items[t[s]])&&(e.isActive?e.update():e.activate(),this.activeItems.push(e))}deactivateActiveItems(){for(let t=0,e=this.activeItems.length;t<e;++t)this.activeItems[t].deactivate()}updateActiveItems(){let t=this.activeItems;for(let e=0,s=t.length;e<s;++e)t[e].update()}destroy(){this.activeItems.length=0,this.container.remove(),this.items={},this.options={}}}return r.items=i,r}),s(e,"Dashboards/EditMode/Toolbar/EditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/Menu.js"]],function(t,e){let{defined:s,createElement:i,css:o}=t;return class{constructor(t,s){this.container=i("div",{className:s.className},void 0,t.board.container),this.editMode=t,this.iconURLPrefix=t.iconsURLPrefix,this.menu=new e(this.container,s.menu,t,this),this.options=s,this.isVisible=!1,this.options.outline&&(this.outline=i("div",{className:s.outlineClassName},void 0,this.container))}hide(){this.setPosition(void 0,void 0)}refreshOutline(t,e,s,i=0){let n=(s||{}).container;this.outline&&n&&o(this.outline,{display:"block",left:t-i+"px",top:e-i+"px",width:n.offsetWidth+2*i+"px",height:n.offsetHeight+2*i+"px"})}hideOutline(){this.outline&&(this.outline.style.display="none")}setPosition(t,e){this.container&&o(this.container,{left:(t||"-9999")+"px",top:(e||"-9999")+"px"}),this.isVisible=s(t)&&s(e)}}}),s(e,"Dashboards/Layout/GUIElement.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"]],function(t,e){let{addEvent:s,createElement:i,uniqueKey:o,objectEach:n,error:r}=t;return class{static getOffsets(t,e){let s={left:0,top:0,right:0,bottom:0};if(t.container){let i=t.container.getBoundingClientRect(),o=e?e.getBoundingClientRect():{left:0,top:0};s.left=i.left-o.left,s.top=i.top-o.top,s.right=i.right-o.left,s.bottom=i.bottom-o.top}return s}static getDimFromOffsets(t){return{width:t.right-t.left,height:t.bottom-t.top}}static createElementId(t){return e.classNamePrefix+t+"-"+o().slice(11)}static getPercentageWidth(t){let e;let s=/^([0-9]{1})[\-\/\.]([0-9]{1,2})$/;if(s.test(t)){let i=t.match(s)||[];e=((e=100*+i[1]/+i[2])<=100?e:100)+"%"}else if(-1!==t.indexOf("%")){let s=parseFloat(t);e=(s<=100?s>=0?s:0:100)+"%"}return e}getElementContainer(t){let e;let o=this;if(t.render)t.attribs&&!t.attribs.id&&delete t.attribs.id;else if("string"==typeof t.elementId){let e=document.getElementById(t.elementId);e?o.container=e:r("Element "+t.elementId+" does not exist")}return e=t.element instanceof HTMLElement?t.element:i("div",t.attribs||{},t.style||{},t.parentContainer),o.removeBindedEventFn=s(e,"bindedGUIElement",function(t){t.guiElement=o,t.stopImmediatePropagation()}),e}destroy(){let t=this;t.removeBindedEventFn&&t.removeBindedEventFn(),t.container&&t.container.parentNode&&t.container.parentNode.removeChild(t.container),n(t,function(e,s){delete t[s]})}getType(){return this.type}changeVisibility(t=!0,e){let s=this.isVisible&&!t||!this.isVisible&&t;this.container&&s&&(this.container.style.display=t?e||"block":"none",this.isVisible=t)}hide(){this.changeVisibility(!1)}show(){this.changeVisibility()}}}),s(e,"Dashboards/EditMode/Toolbar/CellEditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/Toolbar/EditToolbar.js"],e["Dashboards/Layout/GUIElement.js"]],function(t,e,s,i){let{merge:o,fireEvent:n,objectEach:r}=t;class l extends s{static getItemsConfig(t,s){let i=[];return t.dragDrop?.enabled&&i.push({id:"drag",type:"icon",icon:s+"drag.svg",events:{onmousedown:function(t){let e=this.menu.parent,s=e.editMode.dragDrop;s&&e.cell&&s.onDragStart(t,e.cell)}}}),t.settings?.enabled&&i.push({id:"settings",type:"icon",icon:s+"settings.svg",events:{click:function(){this.menu.parent.editMode.setEditOverlay(),this.menu.parent.onCellOptions()}}}),i.push({id:"destroy",type:"icon",className:e.classNames.menuDestroy,icon:s+"destroy.svg",events:{click:function(){let t=this.menu.parent,e=this.menu.parent.editMode,s=e.confirmationPopup;s.show({confirmButton:{value:e.lang.confirmButton,callback:t.onCellDestroy,context:t},cancelButton:{value:e.lang.cancelButton,callback:()=>{s.closePopup()}},text:e.lang.confirmDestroyCell})}}}),i}constructor(t){super(t,o(l.defaultOptions,(t.options.toolbars||{}).cell,{menu:{items:l.getItemsConfig(t.options,t.iconsURLPrefix)}})),this.menu.initItems({})}showToolbar(t){let e,s;if(t.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){let o=i.getOffsets(t,this.editMode.board.container);e=o.right-30-10,s=o.top+10,r(this.menu.items,t=>{t.activate()}),this.setPosition(e,s),this.cell=t,this.refreshOutline()}else this.isVisible&&this.hide()}refreshOutline(){this.cell&&this.cell.container&&this.outline&&super.refreshOutline(-this.cell.container.offsetWidth,0,this.cell,-1)}onCellOptions(){this.editMode.sidebar&&(this.editMode.sidebar.show(this.cell),this.cell&&this.cell.setHighlight())}onCellDestroy(){if(this.cell){let t=this.cell.row;this.resetEditedCell(),this.cell.destroy(),this.cell=void 0,this.editMode.hideToolbars(["cell","row"]),t&&t.cells&&t.cells.length&&(n(this.editMode.board,"cellResize",{cell:t.cells[0]}),n(t,"cellChange",{cell:t.cells[0],row:t}))}}resetEditedCell(){this.editedCell=void 0}}return l.defaultOptions={enabled:!0,className:e.classNames.editToolbar,outline:!1,outlineClassName:e.classNames.editToolbarCellOutline,menu:{className:e.classNames.editToolbarCell,itemsClassName:e.classNames.editToolbarItem,items:[]}},l}),s(e,"Dashboards/EditMode/Toolbar/RowEditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/Toolbar/EditToolbar.js"],e["Dashboards/Layout/GUIElement.js"]],function(t,e,s,i){let{merge:o,objectEach:n}=t;class r extends s{static getMenuItemsConfig(t,s){let i=[];return t.dragDrop?.enabled&&i.push({id:"drag",type:"icon",icon:s+"drag.svg",events:{onmousedown:function(t){let e=this.menu.parent,s=e.editMode.dragDrop;s&&e.row&&s.onDragStart(t,e.row)}}}),t.settings?.enabled&&i.push({id:"settings",type:"icon",icon:s+"settings.svg",events:{click:function(){this.menu.parent.editMode.setEditOverlay(),this.menu.parent.onRowOptions()}}}),i.push({id:"destroy",type:"icon",className:e.classNames.menuDestroy,icon:s+"destroy.svg",events:{click:function(){let t=this.menu.parent,e=this.menu.parent.editMode,s=e.confirmationPopup;s.show({confirmButton:{value:e.lang.confirmButton,callback:t.onRowDestroy,context:t},cancelButton:{value:e.lang.cancelButton,callback:()=>{s.closePopup()}},text:e.lang.confirmDestroyRow})}}}),i}constructor(t){super(t,o(r.defaultOptions,(t.options.toolbars||{}).row,{menu:{items:r.getMenuItemsConfig(t.options,t.iconsURLPrefix)}})),this.menu.initItems({})}refreshOutline(t,e){this.row&&this.row.container&&super.refreshOutline(t,e,this.row,2)}showToolbar(t){let e,s,o;if(t.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){let r=i.getOffsets(t,this.editMode.board.container),l=r.right-r.left;n(this.menu.items,t=>{t.activate()}),o=l/2-this.container.clientWidth/2,e=r.left+o,s=r.top-this.container.clientHeight,this.setPosition(e,s),this.row=t,this.refreshOutline(-o,this.container.clientHeight)}else this.isVisible&&this.hide()}onRowOptions(){this.editMode.sidebar&&this.editMode.sidebar.show(this.row)}onRowDestroy(){this.row&&(this.resetEditedRow(),this.row.destroy(),this.row=void 0,this.editMode.hideToolbars(["cell","row"]))}resetEditedRow(){this.editedRow=void 0}}return r.defaultOptions={enabled:!0,className:e.classNames.editToolbar,outline:!0,outlineClassName:e.classNames.editToolbarRowOutline,menu:{className:e.classNames.editToolbarRow,itemsClassName:e.classNames.editToolbarItem,items:[]}},r}),s(e,"Dashboards/EditMode/AccordionMenu.js",[e["Dashboards/EditMode/EditRenderer.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"]],function(t,e,s){let{createElement:i,merge:o,error:n}=e;return class{constructor(t,e){this.changedOptions={},this.chartOptionsJSON={},this.iconsURLPrefix=t,this.closeSidebar=e}renderContent(e,n){let r,l;let a=this,d=n.editableOptions.getOptions(),h=i("div",{className:s.classNames.accordionMenu},{},e);for(let e=0,i=d.length;e<i;e++)r=d[e],l=t.renderCollapseHeader(h,{name:r.name,iconsURLPrefix:a.iconsURLPrefix,lang:(n.board?.editMode||s).lang}).content,this.renderAccordion(r,l,n);let c=i("div",{className:s.classNames.accordionMenuButtonsContainer},{},h);t.renderButton(c,{text:(n.board?.editMode||s).lang.confirmButton,className:s.classNames.popupConfirmBtn,callback:()=>{let t=this.changedOptions;n.update(o(t,{chartOptions:this.chartOptionsJSON})),a.changedOptions={},a.chartOptionsJSON={},a.closeSidebar()}}),t.renderButton(c,{text:(n.board?.editMode||s).lang.cancelButton,className:s.classNames.popupCancelBtn,callback:()=>{a.changedOptions={},a.chartOptionsJSON={},a.closeSidebar()}})}updateOptions(t,e){let s=t.length-1,i=this.changedOptions;if(0===s&&"chartOptions"===t[0])try{let t=JSON.parse(e);this.chartOptionsJSON=t}catch(t){n("Dashboards Error: Wrong JSON config structure passed as a chart options.")}for(let e=0;e<s;e++){let s=t[e];i[s]||(i[s]={}),i=i[s]}i[t[s]]=e}renderAccordion(e,s,i){if("nested"===e.type)return this.renderNested(s,e,i);let o=t.getRendererFunction(e.type);o&&o(s,{...e,iconsURLPrefix:this.iconsURLPrefix,value:i.getEditableOptionValue(e.propertyPath),onchange:t=>this.updateOptions(e.propertyPath||[],t)})}renderNested(e,i,o){if(!e||!i.nestedOptions)return;let n=i.nestedOptions;for(let i=0,r=n.length;i<r;++i){let r=n[i].name,l=n[i].options,a=!!n[i].showToggle,d=n[i].propertyPath||[],h=t.renderCollapseHeader(e,{name:r,isEnabled:!!o.getEditableOptionValue(d),iconsURLPrefix:this.iconsURLPrefix,showToggle:a,onchange:t=>this.updateOptions(d,t),isNested:!0,lang:(o.board?.editMode||s).lang});for(let t=0,e=l.length;t<e;++t)this.renderAccordion(l[t],h.content,o)}}}}),s(e,"Core/Renderer/HTML/AST.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(t,e){let{SVG_NS:s,win:i}=t,{attr:o,createElement:n,css:r,error:l,isFunction:a,isString:d,objectEach:h,splat:c}=e,{trustedTypes:u}=i,p=u&&a(u.createPolicy)&&u.createPolicy("highcharts",{createHTML:t=>t}),m=p?p.createHTML(""):"",f=function(){try{return!!new DOMParser().parseFromString(m,"text/html")}catch(t){return!1}}();class g{static filterUserAttributes(t){return h(t,(e,s)=>{let i=!0;-1===g.allowedAttributes.indexOf(s)&&(i=!1),-1!==["background","dynsrc","href","lowsrc","src"].indexOf(s)&&(i=d(e)&&g.allowedReferences.some(t=>0===e.indexOf(t))),i||(l(33,!1,void 0,{"Invalid attribute in config":`${s}`}),delete t[s]),d(e)&&t[s]&&(t[s]=e.replace(/</g,"&lt;"))}),t}static parseStyle(t){return t.split(";").reduce((t,e)=>{let s=e.split(":").map(t=>t.trim()),i=s.shift();return i&&s.length&&(t[i.replace(/-([a-z])/g,t=>t[1].toUpperCase())]=s.join(":")),t},{})}static setElementHTML(t,e){t.innerHTML=g.emptyHTML,e&&new g(e).addToDOM(t)}constructor(t){this.nodes="string"==typeof t?this.parseMarkup(t):t}addToDOM(e){return function e(i,n){let a;return c(i).forEach(function(i){let d;let c=i.tagName,u=i.textContent?t.doc.createTextNode(i.textContent):void 0,p=g.bypassHTMLFiltering;if(c){if("#text"===c)d=u;else if(-1!==g.allowedTags.indexOf(c)||p){let l="svg"===c?s:n.namespaceURI||s,a=t.doc.createElementNS(l,c),m=i.attributes||{};h(i,function(t,e){"tagName"!==e&&"attributes"!==e&&"children"!==e&&"style"!==e&&"textContent"!==e&&(m[e]=t)}),o(a,p?m:g.filterUserAttributes(m)),i.style&&r(a,i.style),u&&a.appendChild(u),e(i.children||[],a),d=a}else l(33,!1,void 0,{"Invalid tagName in config":c})}d&&n.appendChild(d),a=d}),a}(this.nodes,e)}parseMarkup(t){let e;let s=[];if(t=t.trim().replace(/ style=(["'])/g," data-style=$1"),f)e=new DOMParser().parseFromString(p?p.createHTML(t):t,"text/html");else{let s=n("div");s.innerHTML=t,e={body:s}}let i=(t,e)=>{let s=t.nodeName.toLowerCase(),o={tagName:s};"#text"===s&&(o.textContent=t.textContent||"");let n=t.attributes;if(n){let t={};[].forEach.call(n,e=>{"data-style"===e.name?o.style=g.parseStyle(e.value):t[e.name]=e.value}),o.attributes=t}if(t.childNodes.length){let e=[];[].forEach.call(t.childNodes,t=>{i(t,e)}),e.length&&(o.children=e)}e.push(o)};return[].forEach.call(e.body.childNodes,t=>i(t,s)),s}}return g.allowedAttributes=["alt","aria-controls","aria-describedby","aria-expanded","aria-haspopup","aria-hidden","aria-label","aria-labelledby","aria-live","aria-pressed","aria-readonly","aria-roledescription","aria-selected","class","clip-path","color","colspan","cx","cy","d","dx","dy","disabled","fill","filterUnits","flood-color","flood-opacity","height","href","id","in","markerHeight","markerWidth","offset","opacity","orient","padding","paddingLeft","paddingRight","patternUnits","r","refX","refY","role","scope","slope","src","startOffset","stdDeviation","stroke","stroke-linecap","stroke-width","style","tableValues","result","rowspan","summary","target","tabindex","text-align","text-anchor","textAnchor","textLength","title","type","valign","width","x","x1","x2","xlink:href","y","y1","y2","zIndex"],g.allowedReferences=["https://","http://","mailto:","/","../","./","#"],g.allowedTags=["a","abbr","b","br","button","caption","circle","clipPath","code","dd","defs","div","dl","dt","em","feComponentTransfer","feDropShadow","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feOffset","feMerge","feMergeNode","filter","h1","h2","h3","h4","h5","h6","hr","i","img","li","linearGradient","marker","ol","p","path","pattern","pre","rect","small","span","stop","strong","style","sub","sup","svg","table","text","textPath","thead","title","tbody","tspan","td","th","tr","u","ul","#text"],g.emptyHTML=m,g.bypassHTMLFiltering=!1,g}),s(e,"Shared/BaseForm.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Utilities.js"]],function(t,e){let{addEvent:s,createElement:i}=e;return class{constructor(t,e){this.iconsURL=e,this.container=this.createPopupContainer(t),this.closeButton=this.addCloseButton()}createPopupContainer(t,e="highcharts-popup highcharts-no-tooltip"){return i("div",{className:e},void 0,t)}addCloseButton(t="highcharts-popup-close"){let e=this,o=this.iconsURL,n=i("button",{className:t},void 0,this.container);return n.style["background-image"]="url("+(o.match(/png|svg|jpeg|jpg|gif/ig)?o:o+"close.svg")+")",["click","touchstart"].forEach(t=>{s(n,t,e.closeButtonEvents.bind(e))}),s(document,"keydown",function(t){"Escape"===t.code&&e.closeButtonEvents()}),n}closeButtonEvents(){this.closePopup()}showPopup(e="highcharts-annotation-toolbar"){let s=this.container,i=this.closeButton;this.type=void 0,s.innerHTML=t.emptyHTML,s.className.indexOf(e)>=0&&(s.classList.remove(e),s.removeAttribute("style")),s.appendChild(i),s.style.display="block",s.style.height=""}closePopup(){this.container.style.display="none"}}}),s(e,"Dashboards/Utilities.js",[e["Core/Utilities.js"]],function(t){let{isClass:e,isDOMElement:s,isObject:i,objectEach:o,uniqueKey:n}=t;return{merge:function(){let t,n=arguments,r=0,l={},a=Error("Recursive copy depth > 100"),d=(t,n)=>{if("object"!=typeof t&&(t={}),++r>100)throw a;return o(n,(o,r)=>{"__proto__"!==r&&"constructor"!==r&&(!i(o,!0)||e(o)||s(o)?t[r]=n[r]:t[r]=d(t[r]||{},o))}),--r,t};!0===n[0]&&(l=n[1],n=Array.prototype.slice.call(n,2));let h=n.length;for(t=0;t<h;t++)l=d(l,n[t]);return l},uniqueKey:function(){return`dashboard-${n().replace("highcharts-","")}`}}}),s(e,"Dashboards/Layout/Cell.js",[e["Dashboards/Actions/Bindings.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Globals.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"]],function(t,e,s,i,o){let{componentFromJSON:n}=t,{merge:r,fireEvent:l}=o;class a extends i{static fromJSON(t,e){if(e){let s=t.options,i=s.containerId;return e.layout.copyId&&(i=i+"_"+e.layout.copyId),new a(e,{id:i,parentContainerId:e.container&&e.container.id||s.parentContainerId,mountedComponentJSON:s.mountedComponentJSON,style:s.style,layoutJSON:s.layoutJSON,width:s.width,height:s.height})}}constructor(t,e,i){let o;super(),this.type=s.guiElementType.cell,this.id=e.id,this.options=e,this.row=t,this.isVisible=!0;let n=document.getElementById(e.parentContainerId||"")||t.container,l=t.layout.options||{},a=t.options||{},d=l.cellClassName||"";if(e.height&&(o="number"==typeof e.height?e.height+"px":e.height),this.container=this.getElementContainer({render:t.layout.board.guiEnabled,parentContainer:n,attribs:{id:e.id,className:s.classNames.cell+" "+d},element:i,elementId:e.id,style:r(l.style,a.style,e.style,{height:o})}),this.reflow(),this.options.mountedComponentJSON&&this.mountComponentFromJSON(this.options.mountedComponentJSON),this.options.layout&&this.setNestedLayout(),this.options.layoutJSON){let t=this.row.layout,e=t.board,s=t.constructor.fromJSON;this.nestedLayout=s(r(this.options.layoutJSON,{parentContainerId:this.options.id}),e,this)}}setNestedLayout(){let t=this.row.layout.board,e=this.row.layout.constructor,s=t.options.gui;this.nestedLayout=new e(t,r({},s&&s.layoutOptions,this.options.layout,{parentContainerId:this.options.id}),this)}mountComponentFromJSON(t){this.id!==t.options.parentElement&&(t.options.parentElement=this.id);let e=n(t);return!!e&&(this.mountedComponent=e,!0)}destroy(){let{row:t}=this;this.mountedComponent&&this.mountedComponent.destroy(),t.unmountCell(this);let e=0===t.cells.length;super.destroy(),e&&t.destroy()}toJSON(){let t=(this.row.container||{}).id||"";return{$class:"Dashboards.Layout.Cell",options:{containerId:this.container.id,parentContainerId:t,width:this.options.width,height:this.options.height,mountedComponentJSON:this.mountedComponent&&this.mountedComponent.toJSON(),style:this.options.style,layoutJSON:this.nestedLayout&&this.nestedLayout.toJSON()}}}getOptions(){return this.options}changeVisibility(t=!0){super.changeVisibility(t);let e=this,s=e.row;e.row.getVisibleCells().length?e.isVisible&&!s.isVisible&&e.row.show():e.row.hide(),setTimeout(()=>{l(s,"cellChange",{row:s,cell:e})},0)}getParentCell(t){let e;if(t<=this.row.layout.level){if(this.row.layout.level===t)return this;if(this.row.layout.level-1>=0&&(e=this.row.layout.parentCell))return e.getParentCell(t)}}getOverlappingLevels(t,e,s){let o=this.row.layout.parentCell,n=[this.row.layout.level];if(o){let r=s||i.getOffsets(this)[t],l=i.getOffsets(o)[t];Math.abs(r-l)<e&&(n=[...n,...o.getOverlappingLevels(t,e,l)])}return n}reflow(t){let e=t||this.row.layout.board.getLayoutContainerSize(),s=this.options.responsive,i=this.options.width;if(this.container){let t="";s&&s[e]&&s[e].width?t=this.convertWidthToValue(s[e].width):i&&(t=this.convertWidthToValue(i)),this.setSize(t||"auto")}}setSize(t,e){let s=this.row.layout.board.editMode;if(this.container){if(t){if("auto"===t&&"1 1 0%"!==this.container.style.flex)this.container.style.flex="1 1 0%";else{let e=this.convertWidthToValue(t);e&&this.container.style.flex!=="0 0 "+e&&(this.container.style.flex="0 0 "+e),this.options.width=e}}e&&(this.options.height=this.container.style.height=e+"px"),s&&(s.hideContextPointer(),s.cellToolbar&&s.cellToolbar.isVisible&&(s.cellToolbar.cell===this?s.cellToolbar.showToolbar(this):s.cellToolbar.hide())),l(this.row.layout.board,"cellResize",{cell:this}),l(this.row,"cellChange",{cell:this,row:this.row})}}updateSize(t,e){let s=e||this.row.layout.board.getLayoutContainerSize();this.options.responsive||(this.options.responsive={}),this.options.responsive[s]={width:t}}setHighlight(t){let s=this.row.layout.board.editMode;if(this.container&&s){let s=this.container,i=s.classList.contains(e.classNames.cellEditHighlight);t||i?t&&i&&(s.classList.remove(e.classNames.cellEditHighlight),this.row.layout.board.container.classList.remove(e.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!1):(s.classList.add(e.classNames.cellEditHighlight),this.row.layout.board.container.classList.add(e.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!0)}}setActiveState(){this.row.layout.board.mountedComponents.forEach(t=>{t.cell.container&&t.cell.container.classList.remove(s.classNames.cellActive)}),this.container&&this.container.classList.add(s.classNames.cellActive)}setLoadingState(t=!0){this.container?.classList?.toggle(s.classNames.cellLoading,t)}convertWidthToValue(t){return"number"==typeof t?t+"px":/px/.test(t)?t:i.getPercentageWidth(t)||""}}return a}),s(e,"Dashboards/Layout/Row.js",[e["Dashboards/Globals.js"],e["Dashboards/Layout/Cell.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"]],function(t,e,s,i,o){let{pick:n,defined:r,merge:l,objectEach:a,fireEvent:d}=i;class h extends s{static fromJSON(t,e){if(e){let s=t.options,i=s.containerId||"";return i&&e.copyId&&(i=i+"_"+e.copyId),new h(e,{id:i,parentContainerId:e.container&&e.container.id||s.parentContainerId,cellsJSON:s.cells,style:s.style})}}static setContainerHeight(t,e){e&&(t.style.height=e+"px")}constructor(e,s,i){super(),this.type=t.guiElementType.row,this.layout=e,this.cells=[],this.options=s,this.isVisible=!0;let o=document.getElementById(s.parentContainerId||"")||e.container,n=e.options||{},r=n.rowClassName||"";this.container=this.getElementContainer({render:e.board.guiEnabled,parentContainer:o,attribs:{id:s.id,className:t.classNames.row+" "+r},element:i,elementId:s.id,style:l(n.style,s.style)}),this.options.cells&&this.setCells(),s.cellsJSON&&!this.cells.length&&this.setCellsFromJSON(s.cellsJSON)}setCells(){let t,e,s;let i=(this.layout.options||{}).cellClassName||"",o=n(this.options.cells,this.container&&this.container.getElementsByClassName(i))||[];for(e=0,s=o.length;e<s;++e)t=o[e],this.addCell(this.layout.board.guiEnabled?t:{id:""},t instanceof HTMLElement?t:void 0)}setCellsFromJSON(t){let s,i;let o=[];for(let n=0,r=t.length;n<r;++n)i=t[n],(s=e.fromJSON({$class:i.$class,options:{containerId:i.options.containerId,parentContainerId:i.options.parentContainerId,width:i.options.width,height:i.options.height,style:i.options.style,layoutJSON:i.options.layoutJSON,mountedComponentJSON:void 0}},this))&&(this.cells.push(s),i.options.mountedComponentJSON&&o.push({cell:s,mountedComponentJSON:i.options.mountedComponentJSON}));for(let t=0,e=o.length;t<e;++t)o[t].cell.mountComponentFromJSON(o[t].mountedComponentJSON)}addCell(t,s,i){let o=new e(this,t,s);return r(i)?this.mountCell(o,i):this.cells.push(o),this.layout.board.editMode&&this.layout.board.editMode.setCellEvents(o),o}destroy(){let{layout:t}=this;for(let t=0,e=this.cells.length;t<e;++t)this.cells[t]&&this.cells[t].destroy();this.layout&&(this.layout.unmountRow(this),super.destroy(),0===t.rows.length&&t.destroy())}toJSON(){let t=(this.layout.container||{}).id||"",e=[];for(let t=0,s=this.cells.length;t<s;++t)e.push(this.cells[t].toJSON());return{$class:"Dashboards.Layout.Row",options:{containerId:this.container.id,parentContainerId:t,cells:e,style:this.options.style}}}getOptions(){let t=[];for(let e=0,s=this.cells.length;e<s;++e)t.push(this.cells[e].getOptions());return{id:this.options.id,style:this.options.style,cells:t}}setSize(t){h.setContainerHeight(this.container,t)}getCellIndex(t){for(let e=0,s=this.cells.length;e<s;++e)if(this.cells[e].id===t.id)return e}mountCell(t,e=0){let s=this,i=s.cells[e],o=s.cells[e-1];t.container&&(i&&i.container?i.container.parentNode.insertBefore(t.container,i.container):o&&o.container?o.container.parentNode.insertBefore(t.container,o.container.nextSibling):o||i||!s.container||s.container.appendChild(t.container),s.cells.splice(e,0,t),t.row=s,setTimeout(()=>{d(s,"cellChange",{row:s,cell:t})},0))}unmountCell(t){let e=this.getCellIndex(t);r(e)&&this.cells.splice(e,1),setTimeout(()=>{d(this,"cellChange",{row:this,cell:t})},0)}getVisibleCells(){let t=[];for(let e=0,s=this.cells.length;e<s;++e)this.cells[e].isVisible&&t.push(this.cells[e]);return t}changeVisibility(t=!0,e){super.changeVisibility(t,e),this.layout.getVisibleRows().length?this.isVisible&&!this.layout.isVisible&&this.layout.show():this.layout.hide()}show(){this.changeVisibility(!0,"flex")}setHighlight(t){if(this.container){let e=this.container,s=e.classList.contains(o.classNames.rowContextHighlight);t||s?t&&s&&e.classList.remove(o.classNames.rowContextHighlight):e.classList.add(o.classNames.rowContextHighlight)}}getRowLevels(){let t,e;let i={},o=[];for(let o=0,n=this.cells.length;o<n;++o)(t=this.cells[o]).isVisible&&(i[(e=s.getOffsets(t)).top]||(i[e.top]={top:e.top,bottom:e.bottom,cells:[]}),i[e.top].bottom<e.bottom&&(i[e.top].bottom=e.bottom),i[e.top].cells.push(t));return a(i,t=>{o.push(t)}),o}getRowLevelInfo(t){let e;let s=this.getRowLevels();for(let i=0,o=s.length;i<o;++i)s[i].top<=t&&s[i].bottom>t&&(e={index:i,rowLevels:s,rowLevel:s[i]});return e}}return h}),s(e,"Dashboards/Layout/Layout.js",[e["Dashboards/Utilities.js"],e["Core/Utilities.js"],e["Dashboards/Layout/Row.js"],e["Dashboards/Layout/GUIElement.js"],e["Dashboards/Globals.js"]],function(t,e,s,i,o){let{uniqueKey:n}=t,{pick:r,defined:l}=e;class a extends i{static fromJSON(t,e,s){let i=t.options,o=document.getElementById(t.options.containerId),r=new a(e,{id:i.containerId,copyId:o?n():"",parentContainerId:i.parentContainerId||e.container.id,rowsJSON:i.rows,style:i.style},s);return r&&!s&&e.layouts.push(r),r}static importLocal(t,e){let s;let i=localStorage.getItem(o.classNamePrefix+t);return i&&(s=a.fromJSON(JSON.parse(i),e)),s}constructor(t,e,s){super(),this.type=o.guiElementType.layout,this.board=t,this.rows=[],this.options=e,this.isVisible=!0;let i=s?s.container:document.getElementById(e.parentContainerId||"")||t.layoutsWrapper;s?(this.parentCell=s,this.level=s.row.layout.level+1):this.level=0,e.copyId&&(this.copyId=e.copyId);let n=(this.options||{}).rowClassName||"";this.container=this.getElementContainer({render:t.guiEnabled,parentContainer:i,attribs:{id:(e.id||"")+(this.copyId?"_"+this.copyId:""),className:o.classNames.layout+" "+n},elementId:e.id,style:this.options.style}),this.options.rows&&this.setRows(),e.rowsJSON&&!this.rows.length&&this.setRowsFromJSON(e.rowsJSON)}setRows(){let t,e,s;let i=r(this.options.rows,this.container&&this.container.getElementsByClassName(this.options.rowClassName||""))||[];for(e=0,s=i.length;e<s;++e)t=i[e],this.addRow(this.board.guiEnabled?t:{},t instanceof HTMLElement?t:void 0)}setRowsFromJSON(t){let e;for(let i=0,o=t.length;i<o;++i)(e=s.fromJSON(t[i],this))&&this.rows.push(e)}addRow(t,e,i){let o=new s(this,t,e);return l(i)?this.mountRow(o,i):this.rows.push(o),this.board.editMode&&this.board.editMode.setRowEvents(o),o}destroy(){for(let t=this.board.layouts.length-1;t>=0;t--)this.board.layouts[t]===this&&this.board.layouts.splice(t,1);for(let t=this.rows.length-1;t>=0;t--)this.rows[t].destroy();this.parentCell&&this.parentCell.destroy(),super.destroy()}exportLocal(){localStorage.setItem(o.classNamePrefix+this.options.id,JSON.stringify(this.toJSON()))}getRowIndex(t){for(let e=0,s=this.rows.length;e<s;++e)if(this.rows[e]===t)return e}mountRow(t,e){let s=this.rows[e],i=this.rows[e-1];t.container&&(s&&s.container?s.container.parentNode.insertBefore(t.container,s.container):i&&i.container&&i.container.parentNode.insertBefore(t.container,i.container.nextSibling),this.rows.splice(e,0,t),t.layout=this)}unmountRow(t){let e=this.getRowIndex(t);l(e)&&this.rows.splice(e,1)}getVisibleRows(){let t=[];for(let e=0,s=this.rows.length;e<s;++e)this.rows[e].isVisible&&t.push(this.rows[e]);return t}changeVisibility(t=!0){super.changeVisibility(t),this.parentCell&&(this.isVisible&&!this.parentCell.isVisible?this.parentCell.show():!this.isVisible&&this.parentCell.isVisible&&this.parentCell.hide())}toJSON(){let t=(this.board.container||{}).id||"",e=[];for(let t=0,s=this.rows.length;t<s;++t)e.push(this.rows[t].toJSON());return{$class:"Dashboards.Layout",options:{containerId:this.container.id,parentContainerId:t,rows:e,style:this.options.style}}}getOptions(){let t=[];for(let e=0,s=this.rows.length;e<s;++e)t.push(this.rows[e].getOptions());return{id:this.options.id,layoutClassName:this.options.layoutClassName,rowClassName:this.options.rowClassName,cellClassName:this.options.cellClassName,style:this.options.style,rows:t}}}return a}),s(e,"Dashboards/EditMode/SidebarPopup.js",[e["Dashboards/EditMode/AccordionMenu.js"],e["Shared/BaseForm.js"],e["Dashboards/Actions/Bindings.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"],e["Dashboards/Layout/GUIElement.js"],e["Dashboards/Layout/Layout.js"],e["Core/Utilities.js"]],function(t,e,s,i,o,n,r,l){let{addEvent:a,createElement:d,merge:h}=l;class c extends e{constructor(e,s,i){super(e,s),this.options={components:["HTML","layout","Highcharts","DataGrid","KPI"]},this.isVisible=!1,this.componentsList=[],this.editMode=i,this.options=h(this.options,i.options.toolbars?.sidebar||{}),this.componentsList=this.getComponentsList(this.options.components||[]),this.accordionMenu=new t(this.iconsURL,this.hide.bind(this))}detectRightSidebar(t){let e=this.editMode.board.layoutsWrapper;return n.getOffsets(t,e).left<e.offsetWidth/2-10}removeClassNames(){let t=i.classNames,e=this.container.classList;e.remove(t.editSidebarShow),e.remove(t.editSidebarRightShow)}addClassNames(t){let e=this.container.classList;t?e.add(i.classNames.editSidebarRight):e.remove(i.classNames.editSidebarRight),setTimeout(()=>{e.add(i.classNames[t?"editSidebarRightShow":"editSidebarShow"])})}show(t){let e=this.editMode,s=!!(t&&this.detectRightSidebar(t));this.showPopup(i.classNames.editSidebarShow),this.addClassNames(s),e.resizer&&e.resizer.disableResizer(),e.editCellContext&&e.editCellContext.row&&e.editCellContext.row.setHighlight(!0),e.hideToolbars(["cell","row"]),e.stopContextDetection(),this.isVisible=!0,this.generateContent(t)}generateContent(t){if(this.renderHeader(t?this.editMode.lang.settings:this.editMode.lang.addComponent,""),!t){this.renderAddComponentsList();return}if("cell"===t.getType()){let e=t.mountedComponent;if(!e)return;this.accordionMenu.renderContent(this.container,e)}}renderAddComponentsList(){let t;let e=this,s=this.componentsList,o=d("div",{className:i.classNames.editGridItems},{},e.container);for(let i=0,l=s.length;i<l;++i)(t=d("div",{},{},o)).addEventListener("mousedown",t=>{if(e.editMode.dragDrop){let o=()=>{e.hide()};e.container.addEventListener("mouseleave",o),e.editMode.dragDrop.onDragStart(t,void 0,t=>{if(0===this.editMode.board.layouts.length){let e=this.editMode.board,s=new r(e,{id:n.createElementId("layout"),copyId:"",parentContainerId:e.container.id,rows:[{}],style:{}});s&&e.layouts.push(s),t=s.rows[0]}let l=s[i].onDrop(e,t);if(l){let t=l.mountedComponent;t.options?.connector?.id&&t.initConnector(),e.editMode.setEditCellContext(l),e.show(l),l.setHighlight()}e.container.removeEventListener("mouseleave",o)})}}),t.innerHTML=s[i].text}onDropNewComponent(t,e){let i=this.editMode.dragDrop;if(i){let o=("cell"===t.getType()?t.row:t).addCell({id:n.createElementId("col")});i.onCellDragEnd(o);let r=h(e,{cell:o.id});return s.addComponent(r,o),this.editMode.setEditOverlay(),o}}hide(){let t=this.editMode,e=t.editCellContext;this.removeClassNames(),t.isEditOverlayActive&&t.setEditOverlay(!0),e&&e.row&&(t.showToolbars(["cell","row"],e),e.row.setHighlight(),e.isHighlighted&&e.setHighlight(!0)),t.isContextDetectionActive=!0,this.isVisible=!1}closeButtonEvents(){this.hide()}renderHeader(t,e){let s=o.renderIcon(this.container,{icon:e,className:i.classNames.editSidebarTitle});s&&(s.textContent=t)}getComponentsList(t){let e=this.editMode,s=e.board.componentTypes,i=[];return t.forEach(t=>{let o=s[t];o?i.push({text:e.lang?.sidebar[t]||o.name,onDrop:function(t,e){let s=o.prototype.getOptionsOnDrop(t);if(s)return t.onDropNewComponent(e,s)}}):"layout"===t&&i.push(c.addLayout)}),i}addCloseButton(t=i.classNames.popupCloseButton){return a(document,"click",t=>{t.stopPropagation(),"block"===this.container.style.display&&!this.container.contains(t.target)&&this.container.classList.value.includes("show")&&this.hide()}),super.addCloseButton.call(this,t)}createPopupContainer(t,e=i.classNames.editSidebar){return super.createPopupContainer.call(this,t,e)}}return c.addLayout={text:"layout",onDrop:function(t,e){if(!e)return;let i=("cell"===e.getType()?e.row:e).layout.board,o=n.createElementId("layout"),l=n.createElementId("cell"),a=new r(i,{id:o,copyId:"",parentContainerId:i.container.id,rows:[{cells:[{id:l}]}],style:{}});a&&i.layouts.push(a),s.addComponent({type:"HTML",cell:l,elements:[{tagName:"div",textContent:"Placeholder text"}]})}},c}),s(e,"Dashboards/EditMode/EditContextMenu.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/Menu.js"]],function(t,e,s){let{addEvent:i,merge:o}=e;class n extends s{constructor(t,e,s){if(super(s.board.container,o(n.defaultOptions,e||{}),s),this.editMode=s,this.options=o(n.defaultOptions,e||{}),this.editMode.board.layoutsWrapper.parentNode.insertBefore(this.container,this.editMode.board.layoutsWrapper),this.container.style.width=this.options.width+"px",super.initItems(n.items),this.options.items){let t=[];for(let e=0,s=this.options.items.length;e<s;++e)"string"==typeof this.options.items[e]?t.push(this.options.items[e]):this.options.items[e].id&&t.push(this.options.items[e].id);this.setActiveItems(t)}this.initEvents()}initEvents(){let e=this;i(document,"click",s=>{s.target!==this.container&&s.target!==e.editMode.tools.contextButtonElement&&!s.target.classList.contains(t.classNames.toggleSlider)&&"INPUT"!==s.target.tagName&&this.isVisible&&this.setVisible(!1)})}setVisible(t){let e=this.editMode.tools.contextButtonElement;this.container&&e&&(t?(this.container.style.display="block",this.isVisible=!0,e.setAttribute("aria-expanded","true")):(this.container.style.display="none",this.isVisible=!1,e.setAttribute("aria-expanded","false")))}updatePosition(t,e,s){let i=this.options.width||0,o=t?t.offsetLeft-i+t.offsetWidth:e,n=t?t.offsetTop+t.offsetHeight:s;o&&n&&(this.container.style.left=o+"px",this.container.style.top=n+"px")}}return n.defaultOptions={enabled:!0,width:150,className:t.classNames.contextMenu,itemsClassName:t.classNames.contextMenuItem,items:["editMode"]},n.items=o(s.items,{editMode:{id:"editMode",type:"toggle",getValue:function(t){return t.menu.editMode.isActive()},langKey:"editMode",events:{click:function(){this.menu.editMode.onEditModeToggle()}}}}),n}),s(e,"Dashboards/Actions/ContextDetection.js",[e["Core/Utilities.js"],e["Dashboards/Layout/GUIElement.js"]],function(t,e){let{defined:s}=t;class i{static isGUIElementOnParentEdge(t,e){let s="top"===e||"bottom"===e?t.row.layout.getVisibleRows():"left"===e||"right"===e?t.row.getVisibleCells():[],i=s.length-1;return s[i]===t&&"right"===e||s[i]===t.row&&"bottom"===e||s[0]===t&&"left"===e||s[0]===t.row&&"top"===e}static getContextLevel(t,e,s,i){let o=t.getOverlappingLevels(i,e/2),n=e/o.length,r=o[o.length-1],l=t.row.layout.level-Math.floor(s/n);return l<r?r:l>t.row.layout.level?t.row.layout.level:l}static getContext(t,o,n){let r;let l=e.getOffsets(t),{width:a,height:d}=e.getDimFromOffsets(l);a<2*n&&(n=a/2);let h=o.clientX-l.left,c=o.clientY-l.top,u=c>=-n&&c<=n?"top":c-d>=-n&&c-d<=n?"bottom":"",p=(h>=-n&&h<=n?"left":h-a>=-n&&h-a<=n?"right":"")||u;switch(p){case"right":r=h-a+n;break;case"left":r=n-h;break;case"top":r=n-c;break;case"bottom":r=c-d+n}let m={cell:t,side:p};if(0!==t.row.layout.level&&p&&i.isGUIElementOnParentEdge(t,p)&&s(r)){let e=i.getContextLevel(t,n,r,p),s=t.getParentCell(e);s&&(m.cell=s)}return m}}return i}),s(e,"Dashboards/Actions/DragDrop.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Layout/GUIElement.js"],e["Dashboards/Actions/ContextDetection.js"]],function(t,e,s,i,o){let{addEvent:n,merge:r,css:l,fireEvent:a,createElement:d}=t;class h{constructor(t,e){this.editMode=t,this.options=r(h.defaultOptions,e),this.mockElement=d("div",{className:s.classNames.dragMock},{},t.board.container),this.dropPointer={isVisible:!1,align:"",element:d("div",{className:s.classNames.dropPointer},{},t.board.container)},this.isActive=!1,this.initEvents()}showDropPointer(t,e,s,i){this.dropPointer.isVisible=!0,l(this.dropPointer.element,{display:"block",left:t+"px",top:e+"px",height:i+"px",width:s+"px"})}hideDropPointer(){this.dropPointer.isVisible&&(this.dropPointer.isVisible=!1,this.dropPointer.align="",this.dropPointer.element.style.display="none")}setMockElementPosition(t){let e=this.editMode.board.container.getBoundingClientRect(),s=this.mockElement.clientWidth/2,i=t.clientX-e.left-s,o=t.clientY-e.top-s;l(this.mockElement,{left:i+"px",top:o+"px"})}initEvents(){n(document,"mousemove",this.onDrag.bind(this)),n(document,"mouseup",this.onDragEnd.bind(this))}onDragStart(t,s,i){this.isActive=!0,this.editMode.hideToolbars(["cell","row"]),this.editMode.resizer&&this.editMode.resizer.disableResizer(),this.setMockElementPosition(t),s?(this.context=s,s.hide(),s.getType()===e.guiElementType.cell&&(a(this.editMode.board,"cellResize",{cell:s}),a(s.row,"cellChange",{cell:s,row:s.row}))):i&&(this.dragEndCallback=i),l(this.mockElement,{cursor:"grabbing",display:"block"})}onDrag(t){this.isActive&&(t.preventDefault(),this.setMockElementPosition(t),this.context?this.context.getType()===e.guiElementType.cell?this.onCellDrag(t):this.context.getType()===e.guiElementType.row&&this.onRowDrag(t):this.dragEndCallback&&this.onCellDrag(t))}onDragEnd(){this.isActive&&(this.isActive=!1,l(this.mockElement,{cursor:"grab",display:"none"}),this.context?(this.context.getType()===e.guiElementType.cell?this.onCellDragEnd():this.context.getType()===e.guiElementType.row&&this.onRowDragEnd(),this.context=void 0,this.editMode.editCellContext&&(this.editMode.showToolbars(["row","cell"],this.editMode.editCellContext),this.editMode.resizer&&this.editMode.resizer.setSnapPositions(this.editMode.editCellContext))):this.dragEndCallback&&(this.dragEndCallback(this.dropContext),this.dragEndCallback=void 0,this.hideDropPointer()))}onRowDrag(t,e){let s=this.mouseCellContext,n=this.options.dropPointerSize||0,r=this.options.rowDropOffset||0,l=!1;if(s){let a=e||o.getContext(s,t,r),d=a.side;if((this.dropPointer.align!==d||this.dropContext!==a.cell.row)&&(l=!0,this.dropPointer.align=d,this.dropContext=a.cell.row),d){let t=i.getOffsets(this.dropContext,this.editMode.board.container),{width:e,height:s}=i.getDimFromOffsets(t);(!this.dropPointer.isVisible||l)&&this.showDropPointer(t.left,t.top+("bottom"===this.dropPointer.align?s:0)-n/2,e,n)}else this.dropContext=void 0,this.hideDropPointer()}}onRowDragEnd(){let t=this.context,e=this.dropContext;this.dropPointer.align&&(t.layout.unmountRow(t),0===t.layout.rows.length&&t.layout.destroy(),e.layout.mountRow(t,(e.layout.getRowIndex(e)||0)+("bottom"===this.dropPointer.align?1:0)),t.cells[0]&&(a(this.editMode.board,"cellResize",{cell:t.cells[0]}),a(t,"cellChange",{cell:t.cells[0],row:t}))),this.hideDropPointer(),t.show()}onCellDrag(t,e){let s=this.mouseCellContext,i=this.options.cellDropOffset||0;s||e?this.onCellDragCellCtx(t,e||o.getContext(s,t,i)):this.mouseRowContext&&this.onCellDragRowCtx(t,this.mouseRowContext)}onCellDragCellCtx(t,e){let s=this.options.dropPointerSize||0,o=e.side,n=!1;if((this.dropPointer.align!==o||this.dropContext!==e.cell)&&(n=!0,this.dropPointer.align=o,this.dropContext=e.cell),"right"===o||"left"===o){let e=i.getOffsets(this.dropContext,this.editMode.board.container),{width:r,height:l}=i.getDimFromOffsets(e);if(!this.dropPointer.isVisible||n){let i=this.dropContext.row.getRowLevelInfo(t.clientY),n=i?i.rowLevel.bottom-i.rowLevel.top:l;this.showDropPointer(e.left+("right"===o?r:0)-s/2,e.top,s,n)}}else if("top"===o||"bottom"===o){let s=i.getOffsets(this.dropContext),n=this.dropContext.row.getRowLevelInfo(s.top);n&&(0===n.index&&"top"===o||n.index===n.rowLevels.length-1&&"bottom"===o)&&this.onRowDrag(t,e)}else this.dropContext=void 0,this.hideDropPointer()}onCellDragRowCtx(t,e){let s,o;let n=this.options.dropPointerSize||0,r=i.getOffsets(e),l=e.getRowLevelInfo(t.clientY);if(l)for(let e=0,a=l.rowLevel.cells.length;e<a;++e){s=l.rowLevel.cells[e],o=i.getOffsets(s);let{width:d,height:h}=i.getDimFromOffsets(o),c=this.editMode.board.container.getBoundingClientRect(),u=l.rowLevel.bottom-l.rowLevel.top;if(s.isVisible){if(h<.8*u&&o.left<=t.clientX&&o.right>=t.clientX)o.top>t.clientY||o.bottom<t.clientY&&(this.showDropPointer(o.left-c.left,o.top-c.top+h,d,u-h),this.dropPointer.align="nestedBottom",this.dropContext=s),e=a;else if(0===e&&o.left>t.clientX||e===a-1&&o.right<t.clientX){if(o.left>t.clientX);else if(o.right<t.clientX){let i=r.right-o.right;this.showDropPointer(o.left+(0===e&&o.left>t.clientX?0:d)-n/2-c.left,o.top-c.top,i>n?i:n,u||h),this.dropPointer.align="right",this.dropContext=s}e=a}}else s.isVisible||s!==this.context||(this.dropContext=void 0,this.hideDropPointer())}}onCellDragEnd(t){let s=t||this.context,o=this.dropContext;if(this.dropPointer.align&&o&&s){if(s.row.unmountCell(s),0===s.row.cells.length&&s.row.destroy(),("top"===this.dropPointer.align||"bottom"===this.dropPointer.align)&&o.getType()===e.guiElementType.row)o.layout.addRow({},void 0,(o.layout.getRowIndex(o)||0)+("bottom"===this.dropPointer.align?1:0)).mountCell(s,0);else if("nestedBottom"===this.dropPointer.align&&o.getType()===e.guiElementType.cell){let t=o.row,e=t.getCellIndex(o);t.unmountCell(o);let n=t.addCell({id:i.createElementId("col-nested-"),layout:{rows:[{},{}]}},void 0,e);n.nestedLayout&&(n.nestedLayout.rows[0].mountCell(o),n.nestedLayout.rows[1].mountCell(s))}else o.getType()===e.guiElementType.cell&&o.row.mountCell(s,(o.row.getCellIndex(o)||0)+("right"===this.dropPointer.align?1:0))}a(this.editMode.board,"cellResize",{cell:s}),a(s.row,"cellChange",{cell:s,row:s.row}),this.hideDropPointer(),s.show()}}return h.defaultOptions={enabled:!0,rowDropOffset:30,cellDropOffset:30,dropPointerSize:16},h}),s(e,"Dashboards/Actions/Resizer.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"]],function(e,s,i){let{merge:o,addEvent:n,createElement:r,fireEvent:l,removeEvent:a,pick:d}=i;class h{static fromJSON(t,e){return new h(t,e.options)}constructor(t,e){this.editMode=t,this.options=o({},h.defaultOptions,t.options.resize,e),this.currentCell=void 0,this.isX=this.options.type.indexOf("x")>-1,this.isY=this.options.type.indexOf("y")>-1,this.isActive=!1,this.startX=0,this.tempSiblingsWidth=[],this.addSnaps()}addSnaps(){let t=this.editMode.iconsURLPrefix,s=this.options.snap.width||0,i=this.options.snap.height||0,o=this.editMode.board.container;this.snapRight=r("img",{className:e.classNames.resizeSnap+" "+e.classNames.resizeSnapX,src:t+"resize-handle.svg"},{width:s+"px",height:i+"px",left:"-9999px"},o),this.snapBottom=r("img",{className:e.classNames.resizeSnap+" "+e.classNames.resizeSnapY,src:t+"resize-handle.svg"},{width:s+"px",height:i+"px",top:"-9999px",left:"0px"},o),this.addResizeEvents()}disableResizer(){this.isActive=!1,this.currentDimension=void 0,this.currentCell=void 0,this.snapRight&&(this.snapRight.style.left="-9999px"),this.snapBottom&&(this.snapBottom.style.left="-9999px")}setSnapPositions(t){this.currentCell=t;let e=s.getOffsets(t,this.editMode.board.container),i=e.left||0,o=e.top||0,{width:n,height:r}=s.getDimFromOffsets(e),l=this.options.snap.width||0,a=this.options.snap.height||0;this.snapRight&&(this.snapRight.style.left=i+n-l+"px",this.snapRight.style.top=o+r/2-a/2+"px"),this.snapBottom&&(this.snapBottom.style.top=o+r-a+"px",this.snapBottom.style.left=i+n/2-l/2+"px")}setTempWidthSiblings(){let t=this.currentCell;if(t){let e,i,o;let n=this.editMode.rwdMode,r=s.getOffsets(t),l=t.row.getRowLevelInfo(r.top),a=l&&l.rowLevel.cells||[];for(let s=0,r=a.length;s<r&&(e=(i=a[s]).container,o=d(((i.options.responsive||{})[n]||{}).width,i.options.width),i!==t);++s)e&&(!o||"auto"===o)&&(e.style.flex="0 0 "+e.offsetWidth+"px",this.tempSiblingsWidth.push(i))}}revertSiblingsAutoWidth(){let t,e;let s=this.tempSiblingsWidth;for(let i=0,o=s.length;i<o;++i)(t=s[i].container)&&(t.style.flex="1 1 0%",e=s[i]);this.tempSiblingsWidth=[],e&&(l(this.editMode.board,"cellResize",{cell:e}),l(e.row,"cellChange",{cell:e,row:e.row}))}addResizeEvents(){let e,s,i,o;let r=this;r.mouseDownSnapX=e=function(t){r.isActive=!0,r.currentDimension="x",r.editMode.hideToolbars(["row","cell"]),r.setTempWidthSiblings(),r.startX=t.clientX},r.mouseDownSnapY=s=function(){r.isActive=!0,r.currentDimension="y",r.editMode.hideToolbars(["row","cell"])},r.mouseMoveSnap=i=function(t){r.isActive&&r.onMouseMove(t)},r.mouseUpSnap=o=function(){r.isActive&&(r.isActive=!1,r.currentDimension=void 0,r.revertSiblingsAutoWidth(),r.editMode.showToolbars(["row","cell"],r.currentCell),r.currentCell&&r.setSnapPositions(r.currentCell))},n(this.snapRight,"mousedown",e),n(this.snapBottom,"mousedown",s),n(document,"mousemove",i),n(document,"mouseup",o);let l=()=>{r.currentCell&&r.setSnapPositions(r.currentCell)};if("function"==typeof ResizeObserver)this.resizeObserver=new ResizeObserver(l),this.resizeObserver.observe(r.editMode.board.container);else{let e=n(t,"resize",l);n(this,"destroy",e)}}onMouseMove(t){let e=this.currentCell,i=e&&e.container,o=this.currentDimension,n=this.editMode.sidebar,r=n&&n.editMode.rwdMode;if(e&&i&&!((e.row.layout.board.editMode||{}).dragDrop||{}).isActive){let i=s.getOffsets(e),{width:n}=s.getDimFromOffsets(s.getOffsets(e.row));if("x"===o){let s=Math.min(t.clientX-i.left,n)/n*100+"%";e.setSize(s),e.updateSize(s,r),this.startX=t.clientX}"y"===o&&e.setSize(void 0,t.clientY-i.top),l(this.editMode.board,"cellResize",{cell:e}),l(e.row,"cellChange",{cell:e,row:e.row}),this.setSnapPositions(e)}}destroy(){let t;let e=["snapRight","snapBottom"];a(document,"mousemove"),a(document,"mouseup"),this.resizeObserver?.unobserve(this.editMode.board.container);for(let s=0,i=e.length;s<i;++s)a(t=this[e[s]],"mousedown"),t.remove()}toJSON(){let t=this.options;return{$class:"Dashboards.Action.Resizer",options:{enabled:t.enabled,styles:{minWidth:t.styles.minWidth,minHeight:t.styles.minHeight},type:t.type,snap:{width:t.snap.width,height:t.snap.height}}}}}return h.defaultOptions={enabled:!0,styles:{minWidth:20,minHeight:50},type:"xy",snap:{width:9,height:17}},h}),s(e,"Dashboards/EditMode/ConfirmationPopup.js",[e["Core/Utilities.js"],e["Shared/BaseForm.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"]],function(t,e,s,i){let{createElement:o}=t;return class extends e{constructor(t,e,s,i){super(t,e=i&&i.close&&i.close.icon?i.close.icon:e),this.editMode=s,this.options=i}createPopupContainer(t,e=s.classNames.confirmationPopup){return super.createPopupContainer(t,e)}addCloseButton(t=s.classNames.popupCloseButton){return super.addCloseButton(t)}renderContent(t){this.contentContainer=o("div",{className:s.classNames.popupContentContainer},{},this.container);let e=this.contentContainer.parentNode;e.style.marginTop="0px";let n=e.getBoundingClientRect().top;e.style.marginTop=(n<0?Math.abs(n-200):200)+"px",i.renderText(this.contentContainer,{title:t.text||""}),this.buttonContainer=o("div",{className:s.classNames.popupButtonContainer},{},this.container),i.renderButton(this.buttonContainer,{text:t.cancelButton.value,className:s.classNames.popupCancelBtn,callback:t.cancelButton.callback}),i.renderButton(this.buttonContainer,{text:t.confirmButton.value,className:s.classNames.popupConfirmBtn,callback:()=>{t.confirmButton.callback.call(t.confirmButton.context),this.closePopup()}})}show(t){this.showPopup(),this.renderContent(t),this.editMode.setEditOverlay()}closePopup(){super.closePopup(),this.editMode.setEditOverlay(!0)}}}),s(e,"Dashboards/EditMode/EditMode.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"],e["Dashboards/EditMode/Toolbar/CellEditToolbar.js"],e["Dashboards/EditMode/Toolbar/RowEditToolbar.js"],e["Dashboards/EditMode/SidebarPopup.js"],e["Dashboards/EditMode/EditContextMenu.js"],e["Dashboards/Actions/DragDrop.js"],e["Dashboards/Actions/Resizer.js"],e["Dashboards/EditMode/ConfirmationPopup.js"],e["Dashboards/Actions/ContextDetection.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"]],function(t,e,s,i,o,n,r,l,a,d,h,c){let{addEvent:u,createElement:p,css:m,merge:f}=c;return class{constructor(e,s){this.active=!1,this.iconsURLPrefix="https://code.highcharts.com/dashboards/1.3.1/gfx/dashboards-icons/",this.iconsURLPrefix=s&&s.iconsURLPrefix||this.iconsURLPrefix,this.options=f({confirmationPopup:{close:{icon:this.iconsURLPrefix+"close.svg"}},contextMenu:{icon:this.iconsURLPrefix+"menu.svg"},dragDrop:{enabled:!0},enabled:!0,resize:{enabled:!0},settings:{enabled:!0},toolbars:{cell:{enabled:!0},row:{enabled:!0}},tools:{addComponentBtn:{enabled:!0,icon:this.iconsURLPrefix+"add.svg"},rwdButtons:{enabled:!0,icons:{small:this.iconsURLPrefix+"smartphone.svg",medium:this.iconsURLPrefix+"tablet.svg",large:this.iconsURLPrefix+"computer.svg"}}}},s||{}),this.board=e,this.lang=f({},t.lang,this.options.lang),this.contextPointer={isVisible:!1,element:p("div",{className:t.classNames.contextDetectionPointer},{},this.board.container)},this.isInitialized=!1,this.isContextDetectionActive=!1,this.tools={},this.rwdMenu=[],this.rwdMode=this.board.getLayoutContainerSize(),this.createTools(),this.confirmationPopup=new a(e.container,this.iconsURLPrefix,this,this.options.confirmationPopup),this.editOverlay=p("div",{className:t.classNames.editOverlay},{},e.container),this.isEditOverlayActive=!1}onContextBtnClick(){this.tools.contextMenu&&(this.tools.contextMenu.isVisible||this.tools.contextMenu.updatePosition(this.tools.contextButtonElement),this.tools.contextMenu.setVisible(!this.tools.contextMenu.isVisible))}onEditModeToggle(){this.active?this.deactivate():this.activate()}init(){this.options.resize?.enabled&&(this.resizer=new l(this,this.options.resize)),this.dragDrop=new r(this,this.options.dragDrop),this.options.toolbars?.row?.enabled&&!this.rowToolbar&&(this.rowToolbar=new i(this)),this.options.toolbars?.cell?.enabled&&!this.cellToolbar&&(this.cellToolbar=new s(this)),this.sidebar||(this.sidebar=new o(this.board.container,this.iconsURLPrefix,this)),this.isInitialized=!0}initEvents(){let t=this,e=t.board;for(let s=0,i=e.layouts.length;s<i;++s)t.setLayoutEvents(e.layouts[s]);t.cellToolbar&&(u(t.cellToolbar.container,"mouseenter",function(){t.stopContextDetection()}),u(t.cellToolbar.container,"mouseleave",function(){t.isContextDetectionActive=!0})),t.rowToolbar&&(u(t.rowToolbar.container,"mouseenter",function(){t.stopContextDetection()}),u(t.rowToolbar.container,"mouseleave",function(){t.isContextDetectionActive=!0})),u(e.layoutsWrapper,"mousemove",t.onDetectContext.bind(t)),u(e.layoutsWrapper,"click",t.onContextConfirm.bind(t)),u(e.layoutsWrapper,"mouseleave",()=>{t.hideContextPointer()})}setLayoutEvents(t){for(let e=0,s=t.rows.length;e<s;++e){let s=t.rows[e];this.setRowEvents(s);for(let t=0,e=s.cells.length;t<e;++t)this.setCellEvents(s.cells[t])}}setRowEvents(t){let e=this;if(e.dragDrop){let s=e.dragDrop;u(t.container,"mouseenter",function(){e.isContextDetectionActive&&(e.mouseRowContext=t)}),u(t.container,"mousemove",function(e){s.isActive&&e.target===t.container&&(s.mouseRowContext=t)}),u(t.container,"mouseleave",function(){s.isActive&&s.mouseRowContext===t&&(s.mouseRowContext=void 0),e.isContextDetectionActive&&(e.mouseRowContext=void 0)})}}setCellEvents(t){let e=this;if(t.nestedLayout)e.setLayoutEvents(t.nestedLayout);else if(e.cellToolbar&&t.container&&(e.dragDrop||e.resizer)){let s=e.dragDrop;u(t.container,"mouseenter",function(){e.isContextDetectionActive&&(e.mouseCellContext=t)}),u(t.container,"mousemove",function(e){s&&s.isActive&&e.target===t.container&&(s.mouseCellContext=t,s.mouseRowContext=void 0)}),u(t.container,"mouseleave",function(){s&&s.isActive&&s.mouseCellContext===t&&(s.mouseCellContext=void 0),e.isContextDetectionActive&&(e.mouseCellContext=void 0)})}}activate(){this.isInitialized||(this.init(),this.initEvents()),this.board.container.classList.add(t.classNames.editModeEnabled),this.addComponentBtn&&(this.addComponentBtn.style.display="block"),this.rwdMode=this.board.getLayoutContainerSize(),this.showRwdButtons(),this.active=!0,this.isContextDetectionActive=!0}deactivate(){this.board.container.classList.remove(t.classNames.editModeEnabled),this.hideToolbars(),this.editCellContext&&this.editCellContext.row.setHighlight(!0),this.addComponentBtn&&(this.addComponentBtn.style.display="none"),this.resizer&&this.resizer.disableResizer(),this.hideRwdButtons(),this.board.layoutsWrapper.style.width="100%",this.board.reflow(),this.active=!1,this.stopContextDetection(),this.editCellContext=void 0,this.potentialCellContext=void 0}isActive(){return this.active}hideToolbars(t){let e=t||["cell","row","sidebar"];for(let t=0,s=e.length;t<s;++t)switch(e[t]){case"cell":this.cellToolbar&&this.cellToolbar.isVisible&&this.cellToolbar.hide();break;case"row":this.rowToolbar&&this.rowToolbar.isVisible&&this.rowToolbar.hide();break;case"sidebar":this.sidebar&&this.sidebar.isVisible&&this.sidebar.hide()}}showToolbars(t,e){let s=t||["cell","row","sidebar"];for(let t=0,i=s.length;t<i;++t)switch(s[t]){case"cell":e&&this.cellToolbar&&(this.cellToolbar.isVisible=!0,this.cellToolbar.showToolbar(e));break;case"row":e&&e.row&&this.rowToolbar&&(this.rowToolbar.isVisible=!0,this.rowToolbar.showToolbar(e.row));break;case"sidebar":this.sidebar&&!this.sidebar.isVisible&&this.sidebar.show()}}createTools(){let s=this,i=this.options;if(this.tools.container=document.createElement("div"),this.tools.container.classList.add(t.classNames.editTools),this.board.layoutsWrapper.parentNode.insertBefore(this.tools.container,this.board.layoutsWrapper),i.contextMenu&&i.contextMenu.enabled&&(this.tools.contextButtonElement=e.renderContextButton(this.tools.container,s),s.tools.contextMenu||(s.tools.contextMenu=new n(s.board.container,s.options.contextMenu||{},s))),i.tools?.rwdButtons?.enabled&&this.createRwdMenu(),i.tools?.addComponentBtn?.enabled&&i.toolbars?.cell?.enabled){let o=i.tools.addComponentBtn.icon;this.addComponentBtn=e.renderButton(this.tools.container,{className:t.classNames.editToolsBtn,icon:o,text:this.lang.addComponent,callback:()=>{s.sidebar&&(s.sidebar.show(),s.setEditOverlay())},style:{display:"none"}})}}createRwdMenu(){let s=this.board.options.responsiveBreakpoints,i=this.tools.container,o=this.options,n=o?.tools?.rwdButtons?.icons||{};for(let o in s)if(i){let r=e.renderButton(i,{className:t.classNames.editToolsBtn,icon:n[o]||"",text:this.lang[o],callback:t=>{let e=t.target;e.classList.contains("selected")?(e.classList.remove("selected"),this.board.layoutsWrapper.style.width="",this.rwdMode=""):(this.rwdMenu.forEach(t=>{t.classList.remove("selected")}),e.classList.add("selected"),this.board.layoutsWrapper.style.width=s[o]+"px",this.rwdMode=o),this.board.reflow()},style:{display:"none"}});r&&this.rwdMenu.push(r)}}showRwdButtons(){for(let t=0,e=this.rwdMenu.length;t<e;++t)this.rwdMenu[t].style.display="block"}hideRwdButtons(){for(let t=0,e=this.rwdMenu.length;t<e;++t)this.rwdMenu[t].style.display="none"}onDetectContext(t){if(this.isActive()&&this.isContextDetectionActive&&(this.mouseCellContext||this.mouseRowContext)&&!(this.dragDrop||{}).isActive){let e;if(this.mouseCellContext?e=d.getContext(this.mouseCellContext,t,50).cell:this.mouseRowContext&&(e=this.mouseRowContext.layout.parentCell),this.potentialCellContext=e,e){let t=h.getOffsets(e,this.board.container),{width:s,height:i}=h.getDimFromOffsets(t);this.showContextPointer(t.left,t.top,s,i)}}}stopContextDetection(){this.isContextDetectionActive=!1,this.dragDrop&&(this.dragDrop.mouseCellContext=void 0),this.mouseCellContext=void 0,this.hideContextPointer()}onContextConfirm(){this.isContextDetectionActive&&this.potentialCellContext&&this.editCellContext!==this.potentialCellContext&&this.setEditCellContext(this.potentialCellContext,this.editCellContext)}setEditCellContext(t,e){let s=e&&e.row;this.editCellContext=t,this.showToolbars(["row","cell"],t),s&&s===t.row||(s&&s.setHighlight(!0),t.row.setHighlight()),this.resizer&&this.resizer.setSnapPositions(t)}showContextPointer(t,e,s,i){this.contextPointer.isVisible=!0,m(this.contextPointer.element,{display:"block",left:t+"px",top:e+"px",height:i+"px",width:s+"px"})}hideContextPointer(){this.contextPointer.isVisible&&(this.contextPointer.isVisible=!1,this.contextPointer.element.style.display="none")}setEditOverlay(e){let s=this.editOverlay,i=s.classList.contains(t.classNames.editOverlayActive);e||i?e&&i&&(s.classList.remove(t.classNames.editOverlayActive),this.isEditOverlayActive=!1):(s.classList.add(t.classNames.editOverlayActive),this.isEditOverlayActive=!0)}}}),s(e,"Dashboards/EditMode/Fullscreen.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"]],function(t,e){let{addEvent:s}=t;return class{constructor(t){this.isOpen=!1,this.board=t,this.board.boardWrapper.classList.add(e.classNamePrefix+"-fullscreen")}toggle(){this[this.isOpen?"close":"open"]()}open(){if(this.isOpen)return;let t=this,e=t.board,i=s(e.boardWrapper.ownerDocument,"fullscreenchange",function(){t.isOpen?(t.isOpen=!1,t.close()):(t.isOpen=!0,t.setButtonText())});t.unbindFullscreenEvent=()=>{i()},e.boardWrapper.requestFullscreen().catch(()=>{throw Error("Full screen is not supported.")})}close(){let t=this.board;this.isOpen&&t.boardWrapper.ownerDocument instanceof Document&&t.boardWrapper.ownerDocument.exitFullscreen(),this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent()),this.isOpen=!1,this.setButtonText()}setButtonText(){let t=this.board.editMode,e=t&&t.tools.contextMenu,s=e&&e.items.viewFullscreen;if(s&&s.innerElement){let e=t.lang;s.innerElement.innerHTML=(this.isOpen?e.exitFullscreen:e.viewFullscreen)||""}}}}),s(e,"Dashboards/CallbackRegistry.js",[],function(){return class{constructor(){this.registry={}}addCallback(t,e){this.registry[t]=e}getCallback(t){return this.registry[t]}toJSON(){let t={};return Object.keys(this.registry).forEach(e=>{let{func:s,type:i}=this.getCallback(e);t[e]={func:s.toString(),type:i}}),t}}}),s(e,"Dashboards/Components/EditableOptions.js",[],function(){class t{constructor(e,s=t.defaultBindings){this.component=e,this.bindings=s}getOptions(){let t=this.component.options.editableOptions;if(!t)return[];for(let e=0,s=t.length;e<s;e++){let s=t[e];if("connectorName"===s.name){let t=this.component.board,e=t?t.dataPool.getConnectorIds().map(t=>({name:t})):[];s.selectOptions=e}}return t}}return t.defaultBindings={keyMap:{color:"colorPicker",title:"text",caption:"text",style:"textarea"},typeMap:{string:"text",number:"input",boolean:"toggle"},skipRedraw:[]},t.defaultTypeMap={string:"text",number:"input",boolean:"toggle"},t}),s(e,"Dashboards/Components/ComponentUtilities.js",[],function(){var e;return function(e){function s(e,s){let i=t.getComputedStyle(e);return s.map(t=>i[t])}function i(t,e){return e&&(t+="number"==typeof e?e:parseFloat(e)),t}e.getMargins=function(t,e=!0){let o={x:["borderLeft","borderRight"],y:["borderTop","borderBottom"]};return{y:s(t,["marginTop","marginBottom",...e?o.y:[]]).reduce(i,0),x:s(t,["marginLeft","marginTop",...e?o.x:[]]).reduce(i,0)}},e.getPaddings=function(t){return{x:s(t,["paddingLeft","paddingRight"]).reduce(i,0),y:s(t,["paddingTop","paddingBottom"]).reduce(i,0)}},e.getStyles=s,e.sumPixels=i}(e||(e={})),e}),s(e,"Dashboards/Components/SharedComponentState.js",[e["Dashboards/Serializable.js"],e["Core/Utilities.js"]],function(t,e){let{addEvent:s,fireEvent:i,merge:o}=e;class n{constructor(){this.columnVisibilityMap={},this.hiddenRowIndexes=[],this.selection={}}emit(t){i(this,t.type,t)}getColumnOrder(){return(this.columnOrder||[]).slice()}getColumnVisibility(t){return this.columnVisibilityMap[t]}getColumnSorter(){let t=(this.columnOrder||[]).slice();return t.length?(e,s)=>{let i=t.indexOf(e),o=t.indexOf(s);return i>-1&&o>-1?i-o:o>-1?1:i>-1?-1:0}:()=>0}isSet(){return!0===this.isModified}on(t,e){return s(this,t,e)}setColumnOrder(t,e){let s=(this.columnOrder||[]).slice(),i=t.slice();this.emit({type:"columnOrderChange",detail:e,newColumnOrder:i,oldColumnOrder:s}),this.columnOrder=i,this.isModified=!0,this.emit({type:"afterColumnOrderChange",detail:e,newColumnOrder:i,oldColumnOrder:s})}setColumnVisibility(t,e){this.columnVisibilityMap=o(this.columnVisibilityMap,t),this.emit({type:"afterColumnVisibilityChange",visibilityMap:this.columnVisibilityMap,detail:e})}setHiddenRows(t,e=!0){t.forEach(t=>{-1===this.hiddenRowIndexes.indexOf(t)&&e&&this.hiddenRowIndexes.push(t),this.hiddenRowIndexes.indexOf(t)>-1&&!e&&this.hiddenRowIndexes.splice(this.hiddenRowIndexes.indexOf(t),1)}),this.emit({type:"afterSetHiddenRows",hiddenRows:this.hiddenRowIndexes})}getHiddenRows(){return this.hiddenRowIndexes}setHoverPoint(t,e){let s=e&&e.isDataGrid;this.hoverPoint=s?void 0:t,t instanceof HTMLElement&&(this.hoverRow=s?t:void 0),this.emit({type:"afterHoverPointChange",hoverPoint:s?void 0:this.hoverPoint,hoverRow:s?this.hoverRow:void 0,detail:e})}getHoverPoint(){return this.hoverPoint}getSelection(){return this.selection}setSelection(t,e=!1,s){Object.keys(t).forEach(e=>{this.selection[e]=t[e]}),this.emit({type:"afterSelectionChange",selection:this.selection,reset:e,detail:s})}fromJSON(t){let e=new n,{columnOrder:s,visibilityMap:i,selection:o,hoverpoint:r}=t;return s&&e.setColumnOrder(s),i&&e.setColumnVisibility(i),o&&e.setSelection(o),r&&e.setHoverPoint(r),e}toJSON(){let t={$class:"Dashboards.SharedComponentState"};if(this.columnOrder&&(t.columnOrder=this.columnOrder.slice()),this.hoverPoint){let{x:e,y:s,id:i}=this.hoverPoint;t.hoverPoint={x:e,y:s,id:i}}return this.selection&&(t.selection=this.selection),this.columnVisibilityMap&&(t.columnVisibility=this.columnVisibilityMap),t}}return t.registerClassPrototype("Dashboards.SharedComponentState",n.prototype),n}),s(e,"Dashboards/Components/ComponentGroup.js",[e["Dashboards/Components/SharedComponentState.js"]],function(t){class e{static getComponentGroup(t){if(this.componentGroups[t])return this.componentGroups[t]}static addComponentGroup(t){let{id:e}=t;this.componentGroups[e]||(this.componentGroups[e]=t)}static getGroupsFromComponent(t){return Object.keys(this.componentGroups).reduce((e,s)=>{let i=this.getComponentGroup(s);return i&&i.components.indexOf(t)>-1&&e.push(i),e},[])}constructor(s){this.state=new t,this.components=[],this.id=s,e.addComponentGroup(this)}addComponents(t){for(;t.length;){let e=t.pop();if(!e)break;-1===this.components.indexOf(e)&&this.components.push(e)}}removeComponents(t){for(;t.length;){let e=t.pop();if(!e)break;let s=this.components.indexOf(e);s>-1&&this.components.splice(s,1)}}getSharedState(){return this.state}on(){throw Error("Method not implemented.")}emit(){throw Error("Method not implemented.")}}return e.componentGroups={},e}),s(e,"Dashboards/Components/Sync/Emitter.js",[],function(){class t{static register(t){let{id:e}=t;this.registry[e]=t}static get(t){return this.registry[t]}constructor(e,s){this.id=e,this.func=s,t.register(this)}create(t){this.callback=this.func.call(t)}remove(){this.callback&&this.callback()}}return t.registry={},t}),s(e,"Dashboards/Components/Sync/Handler.js",[],function(){class t{static register(t){let{id:e}=t;this.registry[e]=t}static get(t){return this.registry[t]}constructor(e,s){this.id=e,this.func=s,t.register(this)}register(t){let{func:e}=this;this.callback=e.call(t)}remove(){this.callback&&this.callback()}}return t.registry={},t}),s(e,"Dashboards/Components/Sync/Sync.js",[e["Dashboards/Components/Sync/Emitter.js"],e["Dashboards/Components/Sync/Handler.js"]],function(t,e){class s{constructor(t,e=s.defaultHandlers){this.component=t,this.syncConfig=e,this.registeredSyncHandlers={},this.registeredSyncEmitters={},this.isSyncing=!1,this.listeners=[]}registerSyncEmitter(t){let{id:e}=t;this.registeredSyncEmitters[e]=t}isRegisteredEmitter(t){return!!this.registeredSyncEmitters[t]}registerSyncHandler(t){let{id:e}=t;this.registeredSyncHandlers[e]=t}isRegisteredHandler(t){return!!this.registeredSyncHandlers[t]}start(){let{syncConfig:i,component:o}=this;for(let n of Object.keys(i)){if(!i[n])continue;let{emitter:r,handler:l}=i[n];if(l){"boolean"==typeof l&&(l=s.defaultHandlers[n].handler),"function"==typeof l&&(l=[n,l]);let t=new e(...l);this.isRegisteredHandler(t.id)||(this.registerSyncHandler(t),t.register(o))}if(r){"boolean"==typeof r&&(r=s.defaultHandlers[n].emitter),"function"==typeof r&&(r=[n,r]);let e=new t(...r);this.isRegisteredEmitter(e.id)||(this.registerSyncEmitter(e),e.create(o))}}this.isSyncing=!0,this.listeners.push(o.on("update",()=>this.stop()))}stop(){let{component:t,listeners:e,registeredSyncHandlers:s,registeredSyncEmitters:i}=this;Object.keys(s).forEach(t=>{s[t].remove(),delete s[t]}),Object.keys(i).forEach(t=>{i[t].remove(),delete i[t]}),this.isSyncing=!1;for(let t=0,s=e.length;t<s;++t)e[t]();this.listeners.length=0,this.listeners.push(t.on("afterUpdate",()=>{this.start()}))}}return s.defaultHandlers={},s}),s(e,"Dashboards/Components/Component.js",[e["Dashboards/CallbackRegistry.js"],e["Dashboards/Components/EditableOptions.js"],e["Dashboards/Globals.js"],e["Core/Utilities.js"],e["Dashboards/Components/ComponentUtilities.js"],e["Dashboards/Components/ComponentGroup.js"],e["Dashboards/Utilities.js"],e["Dashboards/Components/Sync/Sync.js"]],function(e,s,i,o,n,r,l,a){let{classNamePrefix:d}=i,{createElement:h,isArray:c,merge:u,fireEvent:p,addEvent:m,objectEach:f,isFunction:g,getStyle:b,relativeLength:y,diffObjects:C}=o,{getMargins:w,getPaddings:v}=n,{uniqueKey:x}=l;class N{static createTextElement(t,e,s){if("object"==typeof s){let{className:i,text:o,style:n}=s;return h(t,{className:i||`${d}component-${e}`,textContent:o},n)}if("string"==typeof s)return h(t,{className:`${d}component-${e}`,textContent:s},{})}constructor(t,i){this.callbackRegistry=new e,this.tableEvents=[],this.cellListeners=[],this.resizeTimeouts=[],this.innerResizeTimeouts=[],this.board=t.row.layout.board,this.parentElement=t.container,this.cell=t,this.options=u(N.defaultOptions,i),this.id=this.options.id&&this.options.id.length?this.options.id:x(),this.editableOptions=new s(this,i.editableOptionsBindings),this.presentationModifier=this.options.presentationModifier,this.dimensions={width:null,height:null},this.element=h("div",{className:this.options.className},{},this.parentElement),this.contentElement=h("div",{className:`${this.options.className}-content`},{},this.element,!0),this.filterAndAssignSyncOptions(),this.setupEventListeners(),this.attachCellListeneres(),this.on("tableChanged",()=>{this.onTableChanged()}),this.on("update",()=>{this.cell.setLoadingState()}),this.on("afterRender",()=>{this.cell.setLoadingState(!1)})}getOptionsOnDrop(t){return{}}async initConnector(){let t=this.options.connector?.id,e=this.board.dataPool;if(t&&(this.connectorId!==t||e.isNewConnector(t))){this.cell.setLoadingState();let s=await e.getConnector(t);this.setConnector(s)}return this}filterAndAssignSyncOptions(t=this.constructor.syncHandlers){let e=this.options.sync||{},s=Object.keys(e).reduce((s,i)=>{if(i){let o=e[i],n=t[i];if(n){if(!0===o)s[i]=n;else if(o&&o.enabled)for(let t of(s[i]={},["emitter","handler"]))(!0===o[t]||void 0===o[t])&&(s[i][t]=n[t])}}return s},{});this.sync&&(this.sync.syncConfig=s),this.syncHandlers=s}attachCellListeneres(){for(;this.cellListeners.length;){let t=this.cellListeners.pop();t&&t()}if(this.cell&&Object.keys(this.cell).length){let t=this.cell.row.layout.board;this.cellListeners.push(m(t,"cellResize",()=>{this.resizeTo(this.parentElement)}),m(this.cell.row,"cellChange",t=>{let{row:e}=t;e&&this.cell&&void 0===e.getCellIndex(this.cell)&&this.cell&&this.setCell(this.cell)}))}}setCell(t,e=!1){this.cell=t,t.container&&(this.parentElement=t.container),this.attachCellListeneres(),e&&this.resizeTo(this.parentElement)}setupTableListeners(t){let e=this.connector;e&&(t&&["afterDeleteColumns","afterDeleteRows","afterSetCell","afterSetConnector","afterSetColumns","afterSetRows"].forEach(e=>{this.tableEvents.push(t.on(e,t=>{clearTimeout(this.tableEventTimeout),this.tableEventTimeout=i.win.setTimeout(()=>{this.emit({...t,type:"tableChanged"}),this.tableEventTimeout=void 0})}))}),this.tableEvents.push(e.on("afterLoad",()=>{clearTimeout(this.tableEventTimeout),this.tableEventTimeout=i.win.setTimeout(()=>{this.emit({target:this,type:"tableChanged"}),this.tableEventTimeout=void 0})})))}clearTableListeners(){let t=this.connector,e=this.tableEvents;e.length&&e.forEach(t=>t()),t&&e.push(t.table.on("afterSetModifier",t=>{"afterSetModifier"===t.type&&(clearTimeout(this.tableEventTimeout),this.tableEventTimeout=i.win.setTimeout(()=>{this.emit({...t,type:"tableChanged"}),this.tableEventTimeout=void 0}))}))}setConnector(t){for(p(this,"setConnector",{connector:t});this.tableEvents.length;){let t=this.tableEvents.pop();"function"==typeof t&&t()}if(this.connector=t,t){this.clearTableListeners(),this.setupTableListeners(t.table),t.table.on("setModifier",()=>this.clearTableListeners()),t.table.on("afterSetModifier",t=>{"afterSetModifier"===t.type&&t.modified&&this.setupTableListeners(t.modified)});let e=t.table.id;r.getComponentGroup(e)||r.addComponentGroup(new r(e));let s=r.getComponentGroup(e);s&&(s.addComponents([this.id]),this.activeGroup=s)}return p(this,"afterSetConnector",{connector:t}),this}setActiveGroup(t){"string"==typeof t&&(t=r.getComponentGroup(t)||null),t instanceof r&&(this.activeGroup=t),null===t&&(this.activeGroup=void 0),this.activeGroup&&this.activeGroup.addComponents([this.id])}getContentHeight(){return(this.dimensions.height||Number(b(this.element,"height")))-(this.titleElement?this.titleElement.clientHeight+w(this.titleElement).y:0)-(this.captionElement?this.captionElement.clientHeight+w(this.captionElement).y:0)}resize(t,e){if(e){let t=v(this.element).y+w(this.element).y;this.dimensions.height=y(e,Number(b(this.parentElement,"height")))-t,this.element.style.height=this.dimensions.height+"px",this.contentElement.style.height=this.getContentHeight()+"px"}if(t){let e=v(this.element).x+w(this.element).x;this.dimensions.width=y(t,Number(b(this.parentElement,"width")))-e,this.element.style.width=this.dimensions.width+"px"}null===e&&(this.dimensions.height=null,this.element.style.removeProperty("height")),null===t&&(this.dimensions.width=null,this.element.style.removeProperty("width")),p(this,"resize",{width:t,height:e})}resizeTo(t){for(;this.resizeTimeouts.length;){let t=this.resizeTimeouts.pop();t&&cancelAnimationFrame(t)}let e=requestAnimationFrame(()=>{let{width:e,height:s}=t.getBoundingClientRect(),i=v(t),o=w(t);this.resize(e-i.x-o.x,s-i.y-o.y)});this.resizeTimeouts.push(e)}async update(t,e=!0){let s={options:t,shouldForceRerender:!1};if(p(this,"update",s),this.options=u(this.options,t),this.options.connector?.id&&this.connectorId!==this.options.connector.id){let t=await this.board.dataPool.getConnector(this.options.connector.id);this.setConnector(t)}this.options=u(this.options,t),(e||s.shouldForceRerender)&&this.render()}setupEventListeners(){let e=this.options.events;e&&(Object.keys(e).forEach(t=>{let s=e[t];s&&this.callbackRegistry.addCallback(t,{type:"component",func:s})}),f(e,(t,e)=>{g(t)&&this.on(e,t)})),t.addEventListener("resize",()=>this.resizeTo(this.parentElement))}setTitle(t){let e=this.titleElement;if(t&&("string"==typeof t||t.text)){let s=N.createTextElement("h2","title",t);s&&(e?e.replaceWith(s):this.element.insertBefore(s,this.element.firstChild),this.titleElement=s)}else if(e){e.remove(),delete this.titleElement;return}}setCaption(t){let e=this.captionElement;if(t&&("string"==typeof t||t.text)){let s=N.createTextElement("div","caption",t);s&&(e?e.replaceWith(s):this.element.appendChild(s),this.captionElement=s)}else if(e){e.remove(),delete this.captionElement;return}}async load(){return await this.initConnector(),this.render(),this}render(){return this.emit({type:"render"}),this.resizeTo(this.parentElement),this.setTitle(this.options.title),this.setCaption(this.options.caption),this}destroy(){for(;this.element.firstChild;)this.element.firstChild.remove();p(this,"unmount"),this.tableEvents.forEach(t=>t()),this.element.remove()}on(t,e){return m(this,t,e)}emit(t){t.target||(t.target=this),p(this,t.type,t)}toJSON(){let t={width:0,height:0};return f(this.dimensions,function(e,s){null!==e&&(t[s]=e)}),{$class:this.options.type,options:{cell:this.options.cell,parentElement:this.parentElement.id,dimensions:t,id:this.id,type:this.type}}}getOptions(){return C(this.options,N.defaultOptions)}getEditableOptions(){return u(this.options)}getEditableOptionValue(t){if(!t)return;let e=this.getEditableOptions();for(let s=0,i=t.length;s<i;s++){if(c(e)&&(e=e[0]),!e)return;e=e[t[s]]}return e}}return N.Sync=a,N.defaultOptions={className:`${d}component`,id:"",title:!1,caption:!1,sync:a.defaultHandlers,editableOptions:[{name:"connectorName",propertyPath:["connector","id"],type:"select"},{name:"title",propertyPath:["title"],type:"input"},{name:"caption",propertyPath:["caption"],type:"input"}]},N.syncHandlers={},N}),s(e,"Dashboards/Components/HTMLComponent.js",[e["Core/Renderer/HTML/AST.js"],e["Dashboards/Components/Component.js"],e["Core/Utilities.js"]],function(t,e,s){let{merge:i,diffObjects:o}=s;t.allowedTags=[...t.allowedTags,"option","select","label","input","textarea"],t.allowedAttributes=[...t.allowedAttributes,"for","value","checked","src","name","selected"],t.allowedReferences=[...t.allowedReferences,"data:image/"];class n extends e{static fromJSON(t,e){let s=new n(e,i(t.options,{elements:t.elements?t.elements.map(t=>JSON.parse(t)):[]}));return s.emit({type:"fromJSON",json:t}),s}constructor(t,s){super(t,s=i(n.defaultOptions,s)),this.options=s,this.type="HTML",this.elements=[],this.sync=new e.Sync(this,this.syncHandlers)}async load(){this.emit({type:"load"}),await super.load();let e=this.options,s=!1;if(e.elements&&(this.elements=e.elements.map(function(e){return"string"==typeof e?new t(e).nodes[0]:(e.textContent||e.tagName||!e.attributes||(s=!0),e)})),this.constructTree(),this.emit({type:"afterLoad"}),s)throw Error("Missing tagName param in component: "+e.cell);return this}render(){return super.render(),this.constructTree(),this.emit({type:"afterRender"}),this}resize(t,e){return super.resize(t,e),this}async update(t){await super.update(t),this.emit({type:"afterUpdate"})}getOptionsOnDrop(){return{cell:"",type:"HTML",elements:[{tagName:"img",attributes:{src:"https://www.highcharts.com/samples/graphics/stock-dark.svg"}}]}}constructTree(){for(;this.contentElement.firstChild;)this.contentElement.firstChild.remove();new t(this.elements).addToDOM(this.contentElement)}toJSON(){let t=(this.options.elements||[]).map(t=>JSON.stringify(t)),e=i(super.toJSON(),{elements:t,options:this.options});return this.emit({type:"toJSON",json:e}),e}getOptions(){return{...o(this.options,n.defaultOptions),type:"HTML"}}onTableChanged(t){t.detail?.sender!==this.id&&this.render()}}return n.defaultOptions=i(e.defaultOptions,{type:"HTML",elements:[]}),n}),s(e,"Dashboards/Board.js",[e["Dashboards/Actions/Bindings.js"],e["Dashboards/Components/ComponentRegistry.js"],e["Dashboards/Accessibility/DashboardsAccessibility.js"],e["Data/DataCursor.js"],e["Dashboards/SerializeHelper/DataCursorHelper.js"],e["Data/DataPool.js"],e["Dashboards/EditMode/EditMode.js"],e["Dashboards/EditMode/Fullscreen.js"],e["Dashboards/Globals.js"],e["Dashboards/Layout/Layout.js"],e["Dashboards/Serializable.js"],e["Core/Utilities.js"],e["Dashboards/Components/HTMLComponent.js"]],function(e,s,i,o,n,r,l,a,d,h,c,u,p){var m;let{merge:f,addEvent:g,error:b,objectEach:y,uniqueKey:C,createElement:w}=u;class v{static board(t,e,s){return new v(t,e).init(s)}constructor(t,e){this.componentTypes=s.types,this.options=f(v.defaultOptions,e),this.dataPool=new r(e.dataPool),this.id=C(),this.guiEnabled=(this.options.gui||{}).enabled,this.layouts=[],this.mountedComponents=[],this.initContainer(t),this.layoutsWrapper=w("div",{className:d.classNames.layoutsWrapper},{},this.container),l&&!(this.options.editMode&&!this.options.editMode.enabled)&&(this.editMode=new l(this,this.options.editMode)),this.dataCursor=new o,this.fullscreen=new a(this),this.index=d.boards.length,d.boards.push(this),this.a11y=new i(this)}init(t){let e=this.options;e.gui&&this.options.gui&&this.setLayouts(this.options.gui),e.layoutsJSON&&!this.layouts.length&&this.setLayoutsFromJSON(e.layoutsJSON);let s=e.components?this.setComponents(e.components):[];return(this.initEvents(),t)?Promise.all(s).then(()=>this):this}initEvents(){let e=this,s=()=>{e.reflow()};if("function"==typeof ResizeObserver)this.resizeObserver=new ResizeObserver(s),this.resizeObserver.observe(e.container);else{let e=g(t,"resize",s);g(this,"destroy",e)}}initContainer(e){"string"==typeof e&&(e=t.document.getElementById(e)),e||b(13,!0),e.innerHTML="",this.boardWrapper=e,this.container=w("div",{className:d.classNames.boardContainer},{},this.boardWrapper)}setLayouts(t){let e=t.layouts;for(let s=0,i=e.length;s<i;++s)this.layouts.push(new h(this,f({},t.layoutOptions,e[s])))}setLayoutsFromJSON(t){let e;for(let s=0,i=t.length;s<i;++s)(e=h.fromJSON(t[s],this))&&this.layouts.push(e)}setComponents(t){let s=[];for(let i=0,o=t.length;i<o;++i)s.push(e.addComponent(t[i]));return s}getLayoutContainerSize(){let t=this.options.responsiveBreakpoints,e=(this.layoutsWrapper||{}).clientWidth,s=d.responsiveBreakpoints.large;return t&&(e<=t.small?s=d.responsiveBreakpoints.small:e>t.small&&e<=t.medium&&(s=d.responsiveBreakpoints.medium)),s}destroy(){let t=this;for(let e=0,s=t.layouts.length;e<s;++e)t.layouts[e].destroy();this.resizeObserver?.unobserve(t.container),t.container.remove(),y(t,function(e,s){delete t[s]}),d.boards[this.index]=void 0}exportLocal(){localStorage.setItem(d.classNamePrefix+"1",JSON.stringify(this.toJSON()))}importLayoutLocal(t){return h.importLocal(t,this)}reflow(){let t=this.getLayoutContainerSize();if(this.editMode){let t=this.editMode.tools;this.editMode.hideToolbars(["cell","row"]),this.editMode.hideContextPointer(),t.contextMenu&&t.contextMenu.updatePosition(t.contextButtonElement)}for(let e=0,s=this.layouts.length;e<s;++e)this.reflowLayout(this.layouts[e],t)}reflowLayout(t,e){let s,i;for(let o=0,n=t.rows.length;o<n;++o){s=t.rows[o];for(let t=0,o=s.cells.length;t<o;++t)(i=s.cells[t]).reflow(e),i.nestedLayout&&this.reflowLayout(i.nestedLayout,e)}}fromJSON(t){let e=t.options,s=new v(e.containerId,{componentOptions:e.componentOptions,responsiveBreakpoints:e.responsiveBreakpoints,dataPool:e.dataPool,layoutsJSON:e.layouts});return s.dataCursor=n.fromJSON(t.dataCursor),s}toJSON(){let t=[];for(let e=0,s=this.layouts.length;e<s;++e)t.push(this.layouts[e].toJSON());return{$class:"Board",dataCursor:n.toJSON(this.dataCursor),options:{containerId:this.container.id,dataPool:this.options.dataPool,guiEnabled:this.guiEnabled,layouts:t,componentOptions:this.options.componentOptions,responsiveBreakpoints:this.options.responsiveBreakpoints}}}getOptions(){let t=[],e=[];for(let e=0,s=this.layouts.length;e<s;++e)t.push(this.layouts[e].getOptions());for(let t=0,s=this.mountedComponents.length;t<s;++t)this.mountedComponents[t].cell&&this.mountedComponents[t].cell.mountedComponent&&e.push(this.mountedComponents[t].component.getOptions());return{...this.options,gui:{layouts:t},components:e}}}return(m=v||(v={})).defaultOptions={gui:{enabled:!0,layoutOptions:{rowClassName:void 0,cellClassName:void 0},layouts:[]},components:[],responsiveBreakpoints:{small:576,medium:992,large:1200}},m.importLocal=function(){let t=localStorage.getItem(d.classNamePrefix+"1");if(t)try{return c.fromJSON(JSON.parse(t))}catch(t){}},c.registerClassPrototype("Board",v.prototype),s.registerComponent("HTML",p),v}),s(e,"Dashboards/PluginHandler.js",[e["Dashboards/Board.js"],e["Dashboards/Components/Sync/Sync.js"],e["Dashboards/Components/ComponentRegistry.js"]],function(t,e,s){var i,o;return(o=i||(i={})).registry={},o.revision=0,o.addPlugin=function(i,n=i.name){let{maxRevision:r,minRevision:l,onRegister:a}=i;if(o.registry[n]){if(n!==i.name)throw Error(`Plugin '${n}' already registered.`);return}if("number"==typeof l&&l>o.revision||"number"==typeof r&&r<o.revision)throw Error(`Plugin '${n}' does not support revision ${o.revision}.`);a({Board:t,ComponentRegistry:s,Sync:e,revision:o.revision}),o.registry[n]=i},o.removePlugin=function(i){o.registry[i]&&(o.registry[i].onUnregister({ComponentRegistry:s,Board:t,Sync:e,revision:o.revision}),delete o.registry[i])},i}),s(e,"Data/Converters/DataConverter.js",[e["Data/DataTable.js"],e["Core/Utilities.js"]],function(t,e){let{addEvent:s,fireEvent:i,isNumber:o,merge:n}=e;class r{constructor(t){this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})([\-\.\/])([0-9]{1,2})\2([0-9]{1,2})$/,parser:function(t){return t?Date.UTC(+t[1],t[3]-1,+t[4]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(t){return t?Date.UTC(+t[4],t[3]-1,+t[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(t){return t?Date.UTC(+t[4],t[1]-1,+t[3]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(t){let e=new Date;if(!t)return NaN;let s=+t[4];return s>e.getFullYear()-2e3?s+=1900:s+=2e3,Date.UTC(s,t[3]-1,+t[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(t){return t?Date.UTC(+t[4]+2e3,t[1]-1,+t[3]):NaN}}};let e=n(r.defaultOptions,t),s=e.decimalPoint;("."===s||","===s)&&(s="."===s?"\\.":",",this.decimalRegExp=RegExp("^(-?[0-9]+)"+s+"([0-9]+)$")),this.options=e}asBoolean(t){return"boolean"==typeof t?t:"string"==typeof t?""!==t&&"0"!==t&&"false"!==t:!!this.asNumber(t)}asDate(t){let e;if("string"==typeof t)e=this.parseDate(t);else if("number"==typeof t)e=t;else{if(t instanceof Date)return t;e=this.parseDate(this.asString(t))}return new Date(e)}asGuessedType(t){return({number:this.asNumber,Date:this.asDate,string:this.asString})[this.guessType(t)].call(this,t)}asNumber(t){if("number"==typeof t)return t;if("boolean"==typeof t)return t?1:0;if("string"==typeof t){let e=this.decimalRegExp;if(t.indexOf(" ")>-1&&(t=t.replace(/\s+/g,"")),e){if(!e.test(t))return NaN;t=t.replace(e,"$1.$2")}return parseFloat(t)}return t instanceof Date?t.getDate():t?t.getRowCount():NaN}asString(t){return""+t}deduceDateFormat(t,e,s){let i=[],o=[],n="YYYY/mm/dd",r,l=[],a=0,d=!1,h,c;for((!e||e>t.length)&&(e=t.length);a<e;a++)if(void 0!==t[a]&&t[a]&&t[a].length)for(c=0,r=t[a].trim().replace(/[-\.\/]/g," ").split(" "),l=["","",""];c<r.length;c++)c<l.length&&(h=parseInt(r[c],10))&&(o[c]=!o[c]||o[c]<h?h:o[c],void 0!==i[c]?i[c]!==h&&(i[c]=!1):i[c]=h,h>31?h<100?l[c]="YY":l[c]="YYYY":h>12&&h<=31?(l[c]="dd",d=!0):l[c].length||(l[c]="mm"));if(d){for(c=0;c<i.length;c++)!1!==i[c]?o[c]>12&&"YY"!==l[c]&&"YYYY"!==l[c]&&(l[c]="YY"):o[c]>12&&"mm"===l[c]&&(l[c]="dd");3===l.length&&"dd"===l[1]&&"dd"===l[2]&&(l[2]="YY"),n=l.join("/")}return s&&(this.options.dateFormat=n),n}emit(t){i(this,t.type,t)}export(t,e){throw this.emit({type:"exportError",columns:[],headers:[]}),Error("Not implemented")}getTable(){throw Error("Not implemented")}guessType(t){let e="string";if("string"==typeof t){let s=this.trim(`${t}`),i=this.decimalRegExp,n=this.trim(s,!0);i&&(n=i.test(n)?n.replace(i,"$1.$2"):"");let r=parseFloat(n);+n===r?t=r:e=o(this.parseDate(t))?"Date":"string"}return"number"==typeof t&&(e=t>31536e6?"Date":"number"),e}on(t,e){return s(this,t,e)}parse(t){throw this.emit({type:"parseError",columns:[],headers:[]}),Error("Not implemented")}parseDate(t,e){let s=this.options,i=e||s.dateFormat,n=NaN,r,l,a;if(s.parseDate)n=s.parseDate(t);else{if(i)(l=this.dateFormats[i])||(l=this.dateFormats["YYYY/mm/dd"]),(a=t.match(l.regex))&&(n=l.parser(a));else for(r in this.dateFormats)if(l=this.dateFormats[r],a=t.match(l.regex)){i=r,n=l.parser(a);break}!a&&("object"==typeof(a=Date.parse(t))&&null!==a&&a.getTime?n=a.getTime()-6e4*a.getTimezoneOffset():o(a)&&(n=a-6e4*new Date(a).getTimezoneOffset(),-1===t.indexOf("2001")&&2001===new Date(n).getFullYear()&&(n=NaN)))}return n}trim(t,e){return"string"==typeof t&&(t=t.replace(/^\s+|\s+$/g,""),e&&/^[0-9\s]+$/.test(t)&&(t=t.replace(/\s/g,""))),t}}return r.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1},(r||(r={})).getTableFromColumns=function(e=[],s=[]){let i=new t;for(let t=0,o=Math.max(s.length,e.length);t<o;++t)i.setColumn(s[t]||`${t}`,e[t]);return i},r}),s(e,"Data/Converters/CSVConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(t,e){let{merge:s}=e;class i extends t{constructor(t){let e=s(i.defaultOptions,t);super(e),this.columns=[],this.headers=[],this.dataTypes=[],this.options=e}export(t,e=this.options){let{useLocalDecimalPoint:s,lineDelimiter:i}=e,o=!1!==this.options.firstRowAsNames,{decimalPoint:n,itemDelimiter:r}=e;n||(n=","!==r&&s?1.1.toLocaleString()[1]:"."),r||(r=","===n?";":",");let l=t.getSortedColumns(e.usePresentationOrder),a=Object.keys(l),d=[],h=a.length,c=[];o&&d.push(a.map(t=>`"${t}"`).join(r));for(let e=0;e<h;e++){let s;let i=a[e],o=l[i],u=o.length,p=t.whatIs(i);p&&(s=p.dataType);for(let t=0;t<u;t++){let i=o[t];if(c[t]||(c[t]=[]),"string"===s?i='"'+i+'"':"number"==typeof i?i=String(i).replace(".",n):"string"==typeof i&&(i=`"${i}"`),c[t][e]=i,e===h-1){let s=e;for(;c[t].length>2&&void 0===c[t][s];)c[t].pop(),s--;d.push(c[t].join(r))}}}return d.join(i)}parse(t,e){let i=this.dataTypes,o=s(this.options,t),{beforeParse:n,lineDelimiter:r,firstRowAsNames:l,itemDelimiter:a}=o,d,h=0,{csv:c,startRow:u,endRow:p}=o,m;if(this.columns=[],this.emit({type:"parse",columns:this.columns,detail:e,headers:this.headers}),c&&n&&(c=n(c)),c){if(d=c.replace(/\r\n|\r/g,"\n").split(r||"\n"),(!u||u<0)&&(u=0),(!p||p>=d.length)&&(p=d.length-1),a||(this.guessedItemDelimiter=this.guessDelimiter(d)),l){let t=d[0].split(a||this.guessedItemDelimiter||",");for(let e=0;e<t.length;e++)t[e]=t[e].trim().replace(/^["']|["']$/g,"");this.headers=t,u++}let t=0;for(h=u;h<=p;h++)"#"===d[h][0]?t++:this.parseCSVRow(d[h],h-u-t);i.length&&i[0].length&&"date"===i[0][1]&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0);for(let t=0,e=this.columns.length;t<e;++t){m=this.columns[t];for(let e=0,s=m.length;e<s;++e)if(m[e]&&"string"==typeof m[e]){let s=this.asGuessedType(m[e]);s instanceof Date&&(s=s.getTime()),this.columns[t][e]=s}}}this.emit({type:"afterParse",columns:this.columns,detail:e,headers:this.headers})}parseCSVRow(t,e){let s=this,i=s.columns||[],o=s.dataTypes,{startColumn:n,endColumn:r}=s.options,l=s.options.itemDelimiter||s.guessedItemDelimiter,{decimalPoint:a}=s.options;a&&a!==l||(a=s.guessedDecimalPoint||".");let d=0,h="",c="",u=0,p=0,m=e=>{h=t[e]},f=t=>{o.length<p+1&&o.push([t]),o[p][o[p].length-1]!==t&&o[p].push(t)},g=()=>{if(n>u||u>r){++u,c="";return}if("string"==typeof c?!isNaN(parseFloat(c))&&isFinite(c)?(c=parseFloat(c),f("number")):isNaN(Date.parse(c))?f("string"):(c=c.replace(/\//g,"-"),f("date")):f("number"),i.length<p+1&&i.push([]),"number"!=typeof c&&"number"!==s.guessType(c)&&a){let t=c;c=c.replace(a,"."),"number"!==s.guessType(c)&&(c=t)}i[p][e]=c,c="",++p,++u};if(t.trim().length&&"#"!==t.trim()[0]){for(;d<t.length;d++){if(m(d),"#"===h&&!/^#[0-F]{3,3}|[0-F]{6,6}/i.test(t.substring(d))){g();return}if('"'===h)for(m(++d);d<t.length&&'"'!==h;)c+=h,m(++d);else h===l?g():c+=h}g()}}guessDelimiter(t){let e=0,s=0,i,o={",":0,";":0,"	":0},n=t.length;for(let i=0;i<n;i++){let n=!1,r,l,a,d="";if(i>13)break;let h=t[i];for(let t=0;t<h.length&&(r=h[t],l=h[t+1],a=h[t-1],"#"!==r);t++){if('"'===r){if(n){if('"'!==a&&'"'!==l){for(;" "===l&&t<h.length;)l=h[++t];void 0!==o[l]&&o[l]++,n=!1}}else n=!0}else void 0!==o[r]?(isNaN(Date.parse(d=d.trim()))?(isNaN(Number(d))||!isFinite(Number(d)))&&o[r]++:o[r]++,d=""):d+=r;","===r&&s++,"."===r&&e++}}return o[";"]>o[","]?i=";":(o[","],o[";"],i=","),e>s?this.guessedDecimalPoint=".":this.guessedDecimalPoint=",",i}getTable(){return t.getTableFromColumns(this.columns,this.headers)}}return i.defaultOptions={...t.defaultOptions,lineDelimiter:"\n"},i}),s(e,"Data/Connectors/CSVConnector.js",[e["Data/Converters/CSVConverter.js"],e["Data/Connectors/DataConnector.js"],e["Core/Utilities.js"]],function(t,e,s){let{merge:i}=s;class o extends e{constructor(e){let s=i(o.defaultOptions,e);super(s),this.converter=new t(s),this.options=s,s.enablePolling&&this.startPolling(1e3*Math.max(s.dataRefreshRate||0,1))}load(t){let e=this,s=e.converter,i=e.table,{csv:o,csvURL:n,dataModifier:r}=e.options;return e.emit({type:"load",csv:o,detail:t,table:i}),Promise.resolve(n?fetch(n).then(t=>t.text()):o||"").then(t=>(t&&(i.deleteColumns(),s.parse({csv:t}),i.setColumns(s.getTable().getColumns())),e.setModifierOptions(r).then(()=>t))).then(s=>(e.emit({type:"afterLoad",csv:s,detail:t,table:i}),e)).catch(s=>{throw e.emit({type:"loadError",detail:t,error:s,table:i}),s})}}return o.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1,firstRowAsNames:!0},e.registerType("CSV",o),o}),s(e,"Data/Converters/GoogleSheetsConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(t,e){let{merge:s,uniqueKey:i}=e;class o extends t{constructor(t){let e=s(o.defaultOptions,t);super(e),this.columns=[],this.header=[],this.options=e}parse(t,e){let o;let n=s(this.options,t),r=(n.json&&n.json.values||[]).map(t=>t.slice());if(0===r.length)return!1;this.header=[],this.columns=[],this.emit({type:"parse",columns:this.columns,detail:e,headers:this.header}),this.columns=r;for(let t=0,e=r.length;t<e;t++){o=r[t],this.header[t]=n.firstRowAsNames?`${o.shift()}`:i();for(let e=0,s=o.length;e<s;++e)if(o[e]&&"string"==typeof o[e]){let s=this.asGuessedType(o[e]);s instanceof Date&&(s=s.getTime()),this.columns[t][e]=s}}this.emit({type:"afterParse",columns:this.columns,detail:e,headers:this.header})}getTable(){return t.getTableFromColumns(this.columns,this.header)}}return o.defaultOptions={...t.defaultOptions},o}),s(e,"Data/Connectors/GoogleSheetsConnector.js",[e["Data/Connectors/DataConnector.js"],e["Data/Converters/GoogleSheetsConverter.js"],e["Core/Utilities.js"]],function(t,e,s){let{merge:i,pick:o}=s;class n extends t{constructor(t){let s=i(n.defaultOptions,t);super(s),this.converter=new e(s),this.options=s}load(t){let e=this,s=e.converter,i=e.table,{dataModifier:o,dataRefreshRate:r,enablePolling:l,firstRowAsNames:a,googleAPIKey:d,googleSpreadsheetKey:h}=e.options,c=n.buildFetchURL(d,h,e.options);return e.emit({type:"load",detail:t,table:i,url:c}),fetch(c).then(t=>t.json()).then(t=>{if("object"==typeof t&&t&&"object"==typeof t.error&&t.error&&"number"==typeof t.error.code&&"string"==typeof t.error.message&&"string"==typeof t.error.status)throw Error(t.error.message);return s.parse({firstRowAsNames:a,json:t}),i.deleteColumns(),i.setColumns(s.getTable().getColumns()),e.setModifierOptions(o)}).then(()=>(e.emit({type:"afterLoad",detail:t,table:i,url:c}),l&&setTimeout(()=>e.load(),1e3*Math.max(r||0,1)),e)).catch(s=>{throw e.emit({type:"loadError",detail:t,error:s,table:i}),s})}}return n.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",worksheet:1,enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0},function(t){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function s(t={}){let{endColumn:s,endRow:i,googleSpreadsheetRange:n,startColumn:r,startRow:l}=t;return n||(e[r||0]||"A")+(Math.max(l||0,0)+1)+":"+(e[o(s,25)]||"Z")+(i?Math.max(i,0):"Z")}t.buildFetchURL=function(t,e,i={}){return`https://sheets.googleapis.com/v4/spreadsheets/${e}/values/`+(i.onlyColumnNames?"A1:Z1":s(i))+"?alt=json"+(i.onlyColumnNames?"":"&dateTimeRenderOption=FORMATTED_STRING&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE")+"&prettyPrint=false"+`&key=${t}`},t.buildQueryRange=s}(n||(n={})),t.registerType("GoogleSheets",n),n}),s(e,"Data/Converters/HTMLTableConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(t,e){let{merge:s}=e;class i extends t{constructor(t){let e=s(i.defaultOptions,t);super(e),this.columns=[],this.headers=[],this.options=e,e.tableElement&&(this.tableElement=e.tableElement,this.tableElementID=e.tableElement.id)}export(t,e=this.options){let s=!1!==e.firstRowAsNames,i=e.useMultiLevelHeaders,o=t.getSortedColumns(e.usePresentationOrder),n=Object.keys(o),r=[],l=n.length,a=[],d="";if(s){let t=[];if(i){for(let e of n){let s=(o[e].shift()||"").toString();t.push(s)}d=this.getTableHeaderHTML(n,t,e)}else d=this.getTableHeaderHTML(void 0,n,e)}for(let t=0;t<l;t++){let e=o[n[t]],s=e.length;for(let i=0;i<s;i++){let s=e[i];a[i]||(a[i]=[]),"string"==typeof s||"number"==typeof s||void 0===s||(s=(s||"").toString()),a[i][t]=this.getCellHTMLFromValue(t?"td":"th",null,t?"":'scope="row"',s),t===l-1&&r.push("<tr>"+a[i].join("")+"</tr>")}}let h="";return e.tableCaption&&(h='<caption class="highcharts-table-caption">'+e.tableCaption+"</caption>"),"<table>"+h+d+"<tbody>"+r.join("")+"</tbody></table>"}getCellHTMLFromValue(t,e,s,i,o){let n=i,r="text"+(e?" "+e:"");return"number"==typeof n?(n=n.toString(),","===o&&(n=n.replace(".",o)),r="number"):i||(n="",r="empty"),"<"+t+(s?" "+s:"")+' class="'+r+'">'+n+"</"+t+">"}getTableHeaderHTML(t=[],e=[],s=this.options){let{useMultiLevelHeaders:i,useRowspanHeaders:o}=s,n="<thead>",r=0,l=e&&e.length,a,d=0,h;if(i&&t&&e&&!function(t,e){let s=t.length;if(e.length!==s)return!1;for(;--s;)if(t[s]!==e[s])return!1;return!0}(t,e)){for(n+="<tr>";r<l;++r)(a=t[r])===t[r+1]?++d:d?(n+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(d+1)+'"',a),d=0):(a===e[r]?o?(h=2,delete e[r]):(h=1,e[r]=""):h=1,n+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(h>1?' valign="top" rowspan="'+h+'"':""),a));n+="</tr>"}if(e){for(n+="<tr>",r=0,l=e.length;r<l;++r)void 0!==e[r]&&(n+=this.getCellHTMLFromValue("th",null,'scope="col"',e[r]));n+="</tr>"}return n+"</thead>"}parse(t,e){let i=[],o=[],n=s(this.options,t),{endRow:r,startColumn:l,endColumn:a,firstRowAsNames:d}=n,h=n.tableElement||this.tableElement;if(!(h instanceof HTMLElement)){this.emit({type:"parseError",columns:i,detail:e,headers:o,error:"Not a valid HTML Table"});return}this.tableElement=h,this.tableElementID=h.id,this.emit({type:"parse",columns:this.columns,detail:e,headers:this.headers});let c=h.getElementsByTagName("tr"),u=c.length,p=0,m,{startRow:f}=n;if(d&&u){let t=c[0].children,e=t.length;for(let s=l;s<e&&!(s>a);s++)("TD"===(m=t[s]).tagName||"TH"===m.tagName)&&o.push(m.innerHTML);f++}for(;p<u;){if(p>=f&&p<=r){let t=c[p].children,e=t.length,s=0;for(;s<e;){let e=s-l,o=i[e];if(("TD"===(m=t[s]).tagName||"TH"===m.tagName)&&s>=l&&s<=a){i[e]||(i[e]=[]);let t=this.asGuessedType(m.innerHTML);t instanceof Date&&(t=t.getTime()),i[e][p-f]=t;let s=1;for(;p-f>=s&&void 0===o[p-f-s];)o[p-f-s]=null,s++}s++}}p++}this.columns=i,this.headers=o,this.emit({type:"afterParse",columns:i,detail:e,headers:o})}getTable(){return t.getTableFromColumns(this.columns,this.headers)}}return i.defaultOptions={...t.defaultOptions,useRowspanHeaders:!0,useMultiLevelHeaders:!0},i}),s(e,"Data/Connectors/HTMLTableConnector.js",[e["Data/Connectors/DataConnector.js"],e["Core/Globals.js"],e["Data/Converters/HTMLTableConverter.js"],e["Core/Utilities.js"]],function(t,e,s,i){let{win:o}=e,{merge:n}=i;class r extends t{constructor(t){let e=n(r.defaultOptions,t);super(e),this.converter=new s(e),this.options=e}load(t){let e;let s=this,i=s.converter,r=s.table,{dataModifier:l,table:a}=s.options;if(s.emit({type:"load",detail:t,table:r,tableElement:s.tableElement}),"string"==typeof a?(s.tableID=a,e=o.document.getElementById(a)):(e=a,s.tableID=e.id),s.tableElement=e||void 0,!s.tableElement){let e="HTML table not provided, or element with ID not found";return s.emit({type:"loadError",detail:t,error:e,table:r}),Promise.reject(Error(e))}return i.parse(n({tableElement:s.tableElement},s.options),t),r.deleteColumns(),r.setColumns(i.getTable().getColumns()),s.setModifierOptions(l).then(()=>(s.emit({type:"afterLoad",detail:t,table:r,tableElement:s.tableElement}),s))}}return r.defaultOptions={table:""},t.registerType("HTMLTable",r),r}),s(e,"Data/Converters/JSONConverter.js",[e["Data/Converters/DataConverter.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],function(t,e,s){let{error:i,isArray:o,merge:n,objectEach:r}=s;class l extends t{constructor(t){let s=n(l.defaultOptions,t);super(s),this.columns=[],this.headers=[],this.options=s,this.table=new e}parse(t,e){let{beforeParse:s,orientation:l,firstRowAsNames:a,columnNames:d}=t=n(this.options,t),h=t.data;if(h){if(this.columns=[],this.emit({type:"parse",columns:this.columns,detail:e,headers:this.headers}),s&&(h=s(h)),h=h.slice(),"columns"===l)for(let t=0,e=h.length;t<e;t++){let e=h[t];if(!(e instanceof Array))return;this.headers instanceof Array?(a?this.headers.push(`${e.shift()}`):d&&d instanceof Array&&this.headers.push(d[t]),this.table.setColumn(this.headers[t]||t.toString(),e)):i("JSONConverter: Invalid `columnNames` option.",!1)}else if("rows"===l){a?this.headers=h.shift():d&&(this.headers=d);for(let t=0,e=h.length;t<e;t++){let e=h[t];if(o(e))for(let t=0,s=e.length;t<s;t++)this.columns.length<t+1&&this.columns.push([]),this.columns[t].push(e[t]),this.headers instanceof Array?this.table.setColumn(this.headers[t]||t.toString(),this.columns[t]):i("JSONConverter: Invalid `columnNames` option.",!1);else{let s=this.headers;if(s&&!(s instanceof Array)){let t={};r(s,(s,i)=>{t[i]=s.reduce((t,e)=>t[e],e)}),e=t}this.table.setRows([e],t)}}}this.emit({type:"afterParse",columns:this.columns,detail:e,headers:this.headers})}}getTable(){return this.table}}return l.defaultOptions={...t.defaultOptions,data:[],orientation:"rows"},l}),s(e,"Data/Connectors/JSONConnector.js",[e["Data/Connectors/DataConnector.js"],e["Core/Utilities.js"],e["Data/Converters/JSONConverter.js"]],function(t,e,s){let{merge:i}=e;class o extends t{constructor(t){let e=i(o.defaultOptions,t);super(e),this.converter=new s(e),this.options=e,e.enablePolling&&this.startPolling(1e3*Math.max(e.dataRefreshRate||0,1))}load(t){let e=this,s=e.converter,i=e.table,{data:o,dataUrl:n,dataModifier:r}=e.options;return e.emit({type:"load",data:o,detail:t,table:i}),Promise.resolve(n?fetch(n).then(t=>t.json()):o||[]).then(t=>(t&&(i.deleteColumns(),s.parse({data:t}),i.setColumns(s.getTable().getColumns())),e.setModifierOptions(r).then(()=>t))).then(s=>(e.emit({type:"afterLoad",data:s,detail:t,table:i}),e)).catch(s=>{throw e.emit({type:"loadError",detail:t,error:s,table:i}),s})}}return o.defaultOptions={data:[],enablePolling:!1,dataRefreshRate:0,firstRowAsNames:!0,orientation:"rows"},t.registerType("JSON",o),o}),s(e,"Data/Modifiers/ChainModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(t,e){let{merge:s}=e;class i extends t{constructor(e,...o){super(),this.chain=o,this.options=s(i.defaultOptions,e);let n=this.options.chain||[];for(let e=0,s=n.length,i,r;e<s;++e)(i=n[e]).type&&(r=t.types[i.type])&&o.push(new r(i))}add(t,e){this.emit({type:"addModifier",detail:e,modifier:t}),this.chain.push(t),this.emit({type:"addModifier",detail:e,modifier:t})}clear(t){this.emit({type:"clearChain",detail:t}),this.chain.length=0,this.emit({type:"afterClearChain",detail:t})}modify(t,e){let s=this.options.reverse?this.chain.slice().reverse():this.chain.slice();t.modified===t&&(t.modified=t.clone(!1,e));let i=Promise.resolve(t);for(let t=0,o=s.length;t<o;++t){let o=s[t];i=i.then(t=>o.modify(t.modified,e))}return(i=i.then(e=>(t.modified.deleteColumns(),t.modified.setColumns(e.modified.getColumns()),t))).catch(s=>{throw this.emit({type:"error",detail:e,table:t}),s})}modifyCell(t,e,s,i,o){let n=this.options.reverse?this.chain.reverse():this.chain;if(n.length){let r=t.clone();for(let t=0,l=n.length;t<l;++t)n[t].modifyCell(r,e,s,i,o),r=r.modified;t.modified=r}return t}modifyColumns(t,e,s,i){let o=this.options.reverse?this.chain.reverse():this.chain.slice();if(o.length){let n=t.clone();for(let t=0,r=o.length;t<r;++t)o[t].modifyColumns(n,e,s,i),n=n.modified;t.modified=n}return t}modifyRows(t,e,s,i){let o=this.options.reverse?this.chain.reverse():this.chain.slice();if(o.length){let n=t.clone();for(let t=0,r=o.length;t<r;++t)o[t].modifyRows(n,e,s,i),n=n.modified;t.modified=n}return t}modifyTable(t,e){this.emit({type:"modify",detail:e,table:t});let s=this.options.reverse?this.chain.reverse():this.chain.slice(),i=t.modified;for(let t=0,o=s.length;t<o;++t)i=s[t].modifyTable(i,e).modified;return t.modified=i,this.emit({type:"afterModify",detail:e,table:t}),t}remove(t,e){let s=this.chain;this.emit({type:"removeModifier",detail:e,modifier:t}),s.splice(s.indexOf(t),1),this.emit({type:"afterRemoveModifier",detail:e,modifier:t})}}return i.defaultOptions={type:"Chain"},t.registerType("Chain",i),i}),s(e,"Data/Modifiers/InvertModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(t,e){let{merge:s}=e;class i extends t{constructor(t){super(),this.options=s(i.defaultOptions,t)}modifyCell(t,e,s,i,o){let n=t.modified,r=n.getRowIndexBy("columnNames",e);return void 0===r?n.setColumns(this.modifyTable(t.clone()).getColumns(),void 0,o):n.setCell(`${s}`,r,i,o),t}modifyColumns(t,e,s,i){let o=t.modified,n=o.getColumn("columnNames")||[],r=t.getColumnNames(),l=t.getRowCount()!==n.length;if(!l){for(let t=0,e=r.length;t<e;++t)if(r[t]!==n[t]){l=!0;break}}if(l)return this.modifyTable(t,i);r=Object.keys(e);for(let t=0,n=r.length,l,a,d;t<n;++t){l=e[a=r[t]],d=o.getRowIndexBy("columnNames",a)||o.getRowCount();for(let t=0,e=s,n=l.length;t<n;++t,++e)o.setCell(`${e}`,d,l[t],i)}return t}modifyRows(t,e,s,i){let o=t.getColumnNames(),n=t.modified,r=n.getColumn("columnNames")||[],l=t.getRowCount()!==r.length;if(!l){for(let t=0,e=o.length;t<e;++t)if(o[t]!==r[t]){l=!0;break}}if(l)return this.modifyTable(t,i);for(let t=0,r=s,l=e.length,a;t<l;++t,++r)if((a=e[t])instanceof Array)n.setColumn(`${r}`,a);else for(let t=0,e=o.length;t<e;++t)n.setCell(`${r}`,t,a[o[t]],i);return t}modifyTable(t,e){this.emit({type:"modify",detail:e,table:t});let s=t.modified;if(t.hasColumns(["columnNames"])){let e=((t.deleteColumns(["columnNames"])||{}).columnNames||[]).map(t=>`${t}`),i={};for(let s=0,o=t.getRowCount(),n;s<o;++s)(n=t.getRow(s))&&(i[e[s]]=n);s.deleteColumns(),s.setColumns(i)}else{let e={};for(let s=0,i=t.getRowCount(),o;s<i;++s)(o=t.getRow(s))&&(e[`${s}`]=o);e.columnNames=t.getColumnNames(),s.deleteColumns(),s.setColumns(e)}return this.emit({type:"afterModify",detail:e,table:t}),t}}return i.defaultOptions={type:"Invert"},t.registerType("Invert",i),i}),s(e,"Data/Modifiers/RangeModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(t,e){let{merge:s}=e;class i extends t{constructor(t){super(),this.options=s(i.defaultOptions,t)}modifyTable(t,e){this.emit({type:"modify",detail:e,table:t});let{additive:s,ranges:i,strict:o}=this.options;if(i.length){let e=t.modified,n=t.getColumns(),r=[];for(let l=0,a=i.length,d,h;l<a;++l)if(d=i[l],!o||typeof d.minValue==typeof d.maxValue){l>0&&!s&&(e.deleteRows(),e.setRows(r),n=e.getColumns(),r=[]),h=n[d.column]||[];for(let i=0,n=h.length,l,a;i<n;++i){switch(typeof(l=h[i])){default:continue;case"boolean":case"number":case"string":}(!o||typeof l==typeof d.minValue)&&l>=d.minValue&&l<=d.maxValue&&(a=s?t.getRow(i):e.getRow(i))&&r.push(a)}}e.deleteRows(),e.setRows(r)}return this.emit({type:"afterModify",detail:e,table:t}),t}}return i.defaultOptions={type:"Range",ranges:[]},t.registerType("Range",i),i}),s(e,"Data/Modifiers/SortModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],function(t,e,s){let{merge:i}=s;class o extends t{static ascending(t,e){return(t||0)<(e||0)?-1:(t||0)>(e||0)?1:0}static descending(t,e){return(e||0)<(t||0)?-1:(e||0)>(t||0)?1:0}constructor(t){super(),this.options=i(o.defaultOptions,t)}getRowReferences(t){let e=t.getRows(),s=[];for(let t=0,i=e.length;t<i;++t)s.push({index:t,row:e[t]});return s}modifyCell(t,s,i,o,n){let{orderByColumn:r,orderInColumn:l}=this.options;return s===r&&(l?(t.modified.setCell(s,i,o),t.modified.setColumn(l,this.modifyTable(new e({columns:t.getColumns([r,l])})).modified.getColumn(l))):this.modifyTable(t,n)),t}modifyColumns(t,s,i,o){let{orderByColumn:n,orderInColumn:r}=this.options,l=Object.keys(s);return l.indexOf(n)>-1&&(r&&s[l[0]].length?(t.modified.setColumns(s,i),t.modified.setColumn(r,this.modifyTable(new e({columns:t.getColumns([n,r])})).modified.getColumn(r))):this.modifyTable(t,o)),t}modifyRows(t,s,i,o){let{orderByColumn:n,orderInColumn:r}=this.options;return r&&s.length?(t.modified.setRows(s,i),t.modified.setColumn(r,this.modifyTable(new e({columns:t.getColumns([n,r])})).modified.getColumn(r))):this.modifyTable(t,o),t}modifyTable(t,e){this.emit({type:"modify",detail:e,table:t});let s=t.getColumnNames(),i=t.getRowCount(),n=this.getRowReferences(t),{direction:r,orderByColumn:l,orderInColumn:a}=this.options,d="asc"===r?o.ascending:o.descending,h=s.indexOf(l),c=t.modified;if(-1!==h&&n.sort((t,e)=>d(t.row[h],e.row[h])),a){let t=[];for(let e=0;e<i;++e)t[n[e].index]=e;c.setColumns({[a]:t})}else{let t=[];for(let e=0;e<i;++e)t.push(n[e].row);c.setRows(t,0)}return this.emit({type:"afterModify",detail:e,table:t}),t}}return o.defaultOptions={type:"Sort",direction:"desc",orderByColumn:"y"},t.registerType("Sort",o),o}),s(e,"masters/dashboards.src.js",[e["Data/Connectors/DataConnector.js"],e["Dashboards/Board.js"],e["Dashboards/Components/Component.js"],e["Dashboards/Components/ComponentRegistry.js"],e["Data/DataPool.js"],e["Data/DataCursor.js"],e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Dashboards/Globals.js"],e["Dashboards/PluginHandler.js"],e["Dashboards/Components/Sync/Sync.js"],e["Dashboards/Utilities.js"]],function(t,e,s,i,o,n,r,l,a,d,h,c){return a.board=e.board,a.merge=c.merge,a.uniqueKey=c.uniqueKey,a.Board=e,a.Component=s,a.ComponentRegistry=i,a.DataConnector=t,a.DataCursor=n,a.DataModifier=r,a.DataPool=o,a.DataTable=l,a.PluginHandler=d,a.Sync=h,a.win.Dashboards||(a.win.Dashboards=a),a}),e["masters/dashboards.src.js"]._modules=e,e["masters/dashboards.src.js"]});