/*
 Highcharts Dashboards v0.0.2 (2023-07-03)

 (c) 2009-2023 Highsoft AS

 License: www.highcharts.com/license
*/
'use strict';var u=u||{};u.scope={};u.arrayIteratorImpl=function(q){var n=0;return function(){return n<q.length?{done:!1,value:q[n++]}:{done:!0}}};u.arrayIterator=function(q){return{next:u.arrayIteratorImpl(q)}};u.ASSUME_ES5=!1;u.ASSUME_NO_NATIVE_MAP=!1;u.ASSUME_NO_NATIVE_SET=!1;u.SIMPLE_FROUND_POLYFILL=!1;u.ISOLATE_POLYFILLS=!1;
u.defineProperty=u.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(q,n,g){if(q==Array.prototype||q==Object.prototype)return q;q[n]=g.value;return q};u.getGlobal=function(q){q=["object"==typeof globalThis&&globalThis,q,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<q.length;++n){var g=q[n];if(g&&g.Math==Math)return g}throw Error("Cannot find global object");};u.global=u.getGlobal(this);
u.SYMBOL_PREFIX="jscomp_symbol_";u.initSymbol=function(){u.initSymbol=function(){};u.global.Symbol||(u.global.Symbol=u.Symbol)};u.SymbolClass=function(q,n){this.$jscomp$symbol$id_=q;u.defineProperty(this,"description",{configurable:!0,writable:!0,value:n})};u.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
u.Symbol=function(){function q(g){if(this instanceof q)throw new TypeError("Symbol is not a constructor");return new u.SymbolClass(u.SYMBOL_PREFIX+(g||"")+"_"+n++,g)}var n=0;return q}();
u.initSymbolIterator=function(){u.initSymbol();var q=u.global.Symbol.iterator;q||(q=u.global.Symbol.iterator=u.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[q]&&u.defineProperty(Array.prototype,q,{configurable:!0,writable:!0,value:function(){return u.iteratorPrototype(u.arrayIteratorImpl(this))}});u.initSymbolIterator=function(){}};
u.initSymbolAsyncIterator=function(){u.initSymbol();var q=u.global.Symbol.asyncIterator;q||(q=u.global.Symbol.asyncIterator=u.global.Symbol("Symbol.asyncIterator"));u.initSymbolAsyncIterator=function(){}};u.iteratorPrototype=function(q){u.initSymbolIterator();q={next:q};q[u.global.Symbol.iterator]=function(){return this};return q};
u.iteratorFromArray=function(q,n){u.initSymbolIterator();q instanceof String&&(q+="");var g=0,f={next:function(){if(g<q.length){var e=g++;return{value:n(e,q[e]),done:!1}}f.next=function(){return{done:!0,value:void 0}};return f.next()}};f[Symbol.iterator]=function(){return f};return f};u.polyfills={};u.propertyToPolyfillSymbol={};u.POLYFILL_PREFIX="$jscp$";u.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
u.polyfill=function(q,n,g,f){n&&(u.ISOLATE_POLYFILLS?u.polyfillIsolated(q,n,g,f):u.polyfillUnisolated(q,n,g,f))};u.polyfillUnisolated=function(q,n){var g=u.global;q=q.split(".");for(var f=0;f<q.length-1;f++){var e=q[f];e in g||(g[e]={});g=g[e]}q=q[q.length-1];f=g[q];n=n(f);n!=f&&null!=n&&u.defineProperty(g,q,{configurable:!0,writable:!0,value:n})};
u.polyfillIsolated=function(q,n,g){var f=q.split(".");q=1===f.length;var e=f[0];e=!q&&e in u.polyfills?u.polyfills:u.global;for(var x=0;x<f.length-1;x++){var m=f[x];m in e||(e[m]={});e=e[m]}f=f[f.length-1];g=u.IS_SYMBOL_NATIVE&&"es6"===g?e[f]:null;n=n(g);null!=n&&(q?u.defineProperty(u.polyfills,f,{configurable:!0,writable:!0,value:n}):n!==g&&(u.propertyToPolyfillSymbol[f]=u.IS_SYMBOL_NATIVE?u.global.Symbol(f):u.POLYFILL_PREFIX+f,f=u.propertyToPolyfillSymbol[f],u.defineProperty(e,f,{configurable:!0,
writable:!0,value:n})))};u.polyfill("Array.prototype.values",function(q){return q?q:function(){return u.iteratorFromArray(this,function(n,g){return g})}},"es8","es3");
(function(q,n){"object"===typeof module&&module.exports?(n["default"]=n,module.exports=q.document?n(q):n):"function"===typeof define&&define.amd?define("dashboards/dashboards",function(){return n(q)}):(q.Dashboards&&q.Dashboards.error(16,!0),q.Dashboards=n(q))})("undefined"!==typeof window?window:this,function(q){function n(f,e,g,m){f.hasOwnProperty(e)||(f[e]=m.apply(null,g),"function"===typeof CustomEvent&&q.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:e,module:f[e]}})))}
var g={};n(g,"Core/Globals.js",[],function(){var f;(function(e){e.SVG_NS="http://www.w3.org/2000/svg";e.product="Highcharts";e.version="11.1.0";e.win="undefined"!==typeof q?q:{};e.doc=e.win.document;e.svg=e.doc&&e.doc.createElementNS&&!!e.doc.createElementNS(e.SVG_NS,"svg").createSVGRect;e.userAgent=e.win.navigator&&e.win.navigator.userAgent||"";e.isChrome=-1!==e.userAgent.indexOf("Chrome");e.isFirefox=-1!==e.userAgent.indexOf("Firefox");e.isMS=/(edge|msie|trident)/i.test(e.userAgent)&&!e.win.opera;
e.isSafari=!e.isChrome&&-1!==e.userAgent.indexOf("Safari");e.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(e.userAgent);e.isWebKit=-1!==e.userAgent.indexOf("AppleWebKit");e.deg2rad=2*Math.PI/360;e.hasBidiBug=e.isFirefox&&4>parseInt(e.userAgent.split("Firefox/")[1],10);e.hasTouch=!!e.win.TouchEvent;e.marginNames=["plotTop","marginRight","marginBottom","plotLeft"];e.noop=function(){};e.supportsPassiveEvents=function(){let f=!1;if(!e.isMS){const m=Object.defineProperty({},"passive",{get:function(){f=
!0}});e.win.addEventListener&&e.win.removeEventListener&&(e.win.addEventListener("testPassive",e.noop,m),e.win.removeEventListener("testPassive",e.noop,m))}return f}();e.charts=[];e.dateFormats={};e.seriesTypes={};e.symbolSizes={};e.chartCount=0})(f||(f={}));"";return f});n(g,"Core/Utilities.js",[g["Core/Globals.js"]],function(f){function e(a,b,c,h){const l=b?"Highcharts error":"Highcharts warning";32===a&&(a=`${l}: Deprecated member`);const p=k(a);let r=p?`${l} #${a}: www.highcharts.com/errors/${a}/`:
a.toString();if("undefined"!==typeof h){let a="";p&&(r+="?");y(h,function(b,c){a+=`\n - ${c}: ${b}`;p&&(r+=encodeURI(c)+"="+encodeURI(b))});r+=a}B(f,"displayError",{chart:c,code:a,message:r,params:h},function(){if(b)throw Error(r);F.console&&-1===e.messages.indexOf(r)&&console.warn(r)});e.messages.push(r)}function g(a,b){return parseInt(a,b||10)}function m(a){return"string"===typeof a}function d(a){a=Object.prototype.toString.call(a);return"[object Array]"===a||"[object Array Iterator]"===a}function c(a,
b){return!!a&&"object"===typeof a&&(!b||!d(a))}function b(a){return c(a)&&"number"===typeof a.nodeType}function a(a){const h=a&&a.constructor;return!(!c(a,!0)||b(a)||!h||!h.name||"Object"===h.name)}function k(a){return"number"===typeof a&&!isNaN(a)&&Infinity>a&&-Infinity<a}function l(a){return"undefined"!==typeof a&&null!==a}function p(a,b,c){const h=m(b)&&!l(c);let k;const r=(b,c)=>{l(b)?a.setAttribute(c,b):h?(k=a.getAttribute(c))||"class"!==c||(k=a.getAttribute(c+"Name")):a.removeAttribute(c)};
m(b)?r(c,b):y(b,r);return k}function h(a){return d(a)?a:[a]}function r(a,b){let c;a||(a={});for(c in b)a[c]=b[c];return a}function z(){const a=arguments,b=a.length;for(let c=0;c<b;c++){const b=a[c];if("undefined"!==typeof b&&null!==b)return b}}function w(a,b){f.isMS&&!f.svg&&b&&l(b.opacity)&&(b.filter=`alpha(opacity=${100*b.opacity})`);r(a.style,b)}function v(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))}function C(a,b){return 1E14<a?a:parseFloat(a.toPrecision(b||14))}function t(a,b,c){let h;
if("width"===b)return b=Math.min(a.offsetWidth,a.scrollWidth),c=a.getBoundingClientRect&&a.getBoundingClientRect().width,c<b&&c>=b-1&&(b=Math.floor(c)),Math.max(0,b-(t(a,"padding-left",!0)||0)-(t(a,"padding-right",!0)||0));if("height"===b)return Math.max(0,Math.min(a.offsetHeight,a.scrollHeight)-(t(a,"padding-top",!0)||0)-(t(a,"padding-bottom",!0)||0));if(a=F.getComputedStyle(a,void 0))h=a.getPropertyValue(b),z(c,"opacity"!==b)&&(h=g(h));return h}function y(a,b,c){for(const h in a)Object.hasOwnProperty.call(a,
h)&&b.call(c||a[h],a[h],h,a)}function D(a,b,c){function h(b,c){const h=a.removeEventListener;h&&h.call(a,b,c,!1)}function l(c){let l,k;a.nodeName&&(b?(l={},l[b]=!0):l=c,y(l,function(a,b){if(c[b])for(k=c[b].length;k--;)h(b,c[b][k].fn)}))}var k="function"===typeof a&&a.prototype||a;if(Object.hasOwnProperty.call(k,"hcEvents")){const a=k.hcEvents;b?(k=a[b]||[],c?(a[b]=k.filter(function(a){return c!==a.fn}),h(b,c)):(l(a),a[b]=[])):(l(a),delete k.hcEvents)}}function B(a,b,c,h){c=c||{};if(n.createEvent&&
(a.dispatchEvent||a.fireEvent&&a!==f)){var l=n.createEvent("Events");l.initEvent(b,!0,!0);c=r(l,c);a.dispatchEvent?a.dispatchEvent(c):a.fireEvent(b,c)}else if(a.hcEvents){c.target||r(c,{preventDefault:function(){c.defaultPrevented=!0},target:a,type:b});l=[];let h=a,k=!1;for(;h.hcEvents;)Object.hasOwnProperty.call(h,"hcEvents")&&h.hcEvents[b]&&(l.length&&(k=!0),l.unshift.apply(l,h.hcEvents[b])),h=Object.getPrototypeOf(h);k&&l.sort((a,b)=>a.order-b.order);l.forEach(b=>{!1===b.fn.call(a,c)&&c.preventDefault()})}h&&
!c.defaultPrevented&&h.call(a,c)}const {charts:E,doc:n,win:F}=f;(e||(e={})).messages=[];Math.easeInOutSine=function(a){return-.5*(Math.cos(Math.PI*a)-1)};var H=Array.prototype.find?function(a,b){return a.find(b)}:function(a,b){let c;const h=a.length;for(c=0;c<h;c++)if(b(a[c],c))return a[c]};y({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(a,b){f[b]=function(c){e(32,!1,void 0,{[`Highcharts.${b}`]:`use Array.${a}`});return Array.prototype[a].apply(c,[].slice.call(arguments,
1))}});let q;const I=function(){const a=Math.random().toString(36).substring(2,9)+"-";let b=0;return function(){return"highcharts-"+(q?"":a)+b++}}();F.jQuery&&(F.jQuery.fn.highcharts=function(){const a=[].slice.call(arguments);if(this[0])return a[0]?(new (f[m(a[0])?a.shift():"Chart"])(this[0],a[0],a[1]),this):E[p(this[0],"data-highcharts-chart")]});H={addEvent:function(a,b,c,h={}){var l="function"===typeof a&&a.prototype||a;Object.hasOwnProperty.call(l,"hcEvents")||(l.hcEvents={});l=l.hcEvents;f.Point&&
a instanceof f.Point&&a.series&&a.series.chart&&(a.series.chart.runTrackerClick=!0);const k=a.addEventListener;k&&k.call(a,b,c,f.supportsPassiveEvents?{passive:void 0===h.passive?-1!==b.indexOf("touch"):h.passive,capture:!1}:!1);l[b]||(l[b]=[]);l[b].push({fn:c,order:"number"===typeof h.order?h.order:Infinity});l[b].sort((a,b)=>a.order-b.order);return function(){D(a,b,c)}},arrayMax:function(a){let b=a.length,c=a[0];for(;b--;)a[b]>c&&(c=a[b]);return c},arrayMin:function(a){let b=a.length,c=a[0];for(;b--;)a[b]<
c&&(c=a[b]);return c},attr:p,clamp:function(a,b,c){return a>b?a<c?a:c:b},clearTimeout:function(a){l(a)&&clearTimeout(a)},correctFloat:C,createElement:function(a,b,c,h,l){a=n.createElement(a);b&&r(a,b);l&&w(a,{padding:"0",border:"none",margin:"0"});c&&w(a,c);h&&h.appendChild(a);return a},css:w,defined:l,destroyObjectProperties:function(a,b){y(a,function(c,h){c&&c!==b&&c.destroy&&c.destroy();delete a[h]})},diffObjects:function(a,b,l,k){function r(a,b,p,e){const f=l?b:a;y(a,function(l,t){if(!e&&k&&-1<
k.indexOf(t)&&b[t]){l=h(l);p[t]=[];for(let a=0;a<Math.max(l.length,b[t].length);a++)b[t][a]&&(void 0===l[a]?p[t][a]=b[t][a]:(p[t][a]={},r(l[a],b[t][a],p[t][a],e+1)))}else if(c(l,!0)&&!l.nodeType)p[t]=d(l)?[]:{},r(l,b[t]||{},p[t],e+1),0!==Object.keys(p[t]).length||"colorAxis"===t&&0===e||delete p[t];else if(a[t]!==b[t]||t in a&&!(t in b))p[t]=f[t]})}const p={};r(a,b,p,0);return p},discardElement:function(a){a&&a.parentElement&&a.parentElement.removeChild(a)},erase:function(a,b){let c=a.length;for(;c--;)if(a[c]===
b){a.splice(c,1);break}},error:e,extend:r,extendClass:function(a,b){function c(){}c.prototype=new a;r(c.prototype,b);return c},find:H,fireEvent:B,getClosestDistance:function(a,b){const c=!b;let h,l,k,p;a.forEach(a=>{if(1<a.length)for(p=l=a.length-1;0<p;p--)k=a[p]-a[p-1],0>k&&!c?(null===b||void 0===b?void 0:b(),b=void 0):k&&("undefined"===typeof h||k<h)&&(h=k)});return h},getMagnitude:v,getNestedProperty:function(a,b){for(a=a.split(".");a.length&&l(b);){const h=a.shift();if("undefined"===typeof h||
"__proto__"===h)return;if("this"===h){let a;c(b)&&(a=b["@this"]);return null!==a&&void 0!==a?a:b}b=b[h];if(!l(b)||"function"===typeof b||"number"===typeof b.nodeType||b===F)return}return b},getStyle:t,inArray:function(a,b,c){e(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"});return b.indexOf(a,c)},insertItem:function(a,b){const c=a.options.index,h=b.length;let l;for(l=a.options.isInternal?h:0;l<h+1;l++)if(!b[l]||k(c)&&c<z(b[l].options.index,b[l]._i)||b[l].options.isInternal){b.splice(l,0,
a);break}return l},isArray:d,isClass:a,isDOMElement:b,isFunction:function(a){return"function"===typeof a},isNumber:k,isObject:c,isString:m,keys:function(a){e(32,!1,void 0,{"Highcharts.keys":"use Object.keys"});return Object.keys(a)},merge:function(){function h(l,k){"object"!==typeof l&&(l={});y(k,function(p,r){"__proto__"!==r&&"constructor"!==r&&(!c(p,!0)||a(p)||b(p)?l[r]=k[r]:l[r]=h(l[r]||{},p))});return l}let l,k=arguments,p={};!0===k[0]&&(p=k[1],k=Array.prototype.slice.call(k,2));const r=k.length;
for(l=0;l<r;l++)p=h(p,k[l]);return p},normalizeTickInterval:function(a,b,c,h,l){let k=a;c=z(c,v(a));const p=a/c;b||(b=l?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===h&&(1===c?b=b.filter(function(a){return 0===a%1}):.1>=c&&(b=[1/c])));for(h=0;h<b.length&&!(k=b[h],l&&k*c>=a||!l&&p<=(b[h]+(b[h+1]||b[h]))/2);h++);return k=C(k*c,-Math.round(Math.log(.001)/Math.LN10))},objectEach:y,offset:function(a){const b=n.documentElement;a=a.parentElement||a.parentNode?a.getBoundingClientRect():{top:0,left:0,
width:0,height:0};return{top:a.top+(F.pageYOffset||b.scrollTop)-(b.clientTop||0),left:a.left+(F.pageXOffset||b.scrollLeft)-(b.clientLeft||0),width:a.width,height:a.height}},pad:function(a,b,c){return Array((b||2)+1-String(a).replace("-","").length).join(c||"0")+a},pick:z,pInt:g,pushUnique:function(a,b){return 0>a.indexOf(b)&&!!a.push(b)},relativeLength:function(a,b,c){return/%$/.test(a)?b*parseFloat(a)/100+(c||0):parseFloat(a)},removeEvent:D,splat:h,stableSort:function(a,b){const c=a.length;let h,
l;for(l=0;l<c;l++)a[l].safeI=l;a.sort(function(a,c){h=b(a,c);return 0===h?a.safeI-c.safeI:h});for(l=0;l<c;l++)delete a[l].safeI},syncTimeout:function(a,b,c){if(0<b)return setTimeout(a,b,c);a.call(0,c);return-1},timeUnits:{millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5},uniqueKey:I,useSerialIds:function(a){return q=z(a,q)},wrap:function(a,b,c){const h=a[b];a[b]=function(){const a=arguments,b=this;return c.apply(this,[function(){return h.apply(b,arguments.length?
arguments:a)}].concat([].slice.call(arguments)))}}};"";return H});n(g,"Data/DataTable.js",[g["Core/Utilities.js"]],function(f){const {addEvent:e,fireEvent:g,uniqueKey:m}=f;class d{static isNull(c){if(c===d.NULL)return!0;if(c instanceof Array){if(!c.length)return!1;for(let b=0,a=c.length;b<a;++b)if(null!==c[b])return!1}else{const b=Object.keys(c);if(!b.length)return!1;for(let a=0,k=b.length;a<k;++a)if(null!==c[b[a]])return!1}return!0}constructor(c={}){this.aliases={};this.autoId=!c.id;this.columns=
{};this.id=c.id||m();this.modified=this;this.rowCount=0;this.versionTag=m();var b=c.columns||{},a=Object.keys(b);const k=this.columns;let l=0;for(let c=0,h=a.length,r,d;c<h;++c)d=a[c],r=b[d].slice(),k[d]=r,l=Math.max(l,r.length);for(let b=0,c=a.length;b<c;++b)k[a[b]].length=l;this.rowCount=l;c=c.aliases||{};b=Object.keys(c);a=this.aliases;for(let l=0,h=b.length,k;l<h;++l)k=b[l],a[k]=c[k]}clone(c,b){var a={};this.emit({type:"cloneTable",detail:b});c||(a.aliases=this.aliases,a.columns=this.columns);
this.autoId||(a.id=this.id);a=new d(a);c||(a.versionTag=this.versionTag);this.emit({type:"afterCloneTable",detail:b,tableClone:a});return a}deleteColumnAlias(c){const b=this.aliases[c],a=this.modifier;b&&(delete this.aliases[c],a&&a.modifyColumns(this,{[b]:Array(this.rowCount)},0));return b}deleteColumns(c,b){const a=this.columns,k={},l={},p=this.modifier,h=this.rowCount;c=c||Object.keys(a);if(c.length){this.emit({type:"deleteColumns",columnNames:c,detail:b});for(let b=0,p=c.length,d,e;b<p;++b){e=
c[b];if(d=a[e])k[e]=d,l[e]=Array(h);delete a[e]}Object.keys(a).length||(this.rowCount=0);p&&p.modifyColumns(this,l,0,b);this.emit({type:"afterDeleteColumns",columns:k,columnNames:c,detail:b});return k}}deleteRows(c,b=1,a){const k=[],l=[],p=this.modifier;this.emit({type:"deleteRows",detail:a,rowCount:b,rowIndex:c||0});"undefined"===typeof c&&(c=0,b=this.rowCount);if(0<b&&c<this.rowCount){const a=this.columns,p=Object.keys(a);for(let h=0,r=p.length,d,e;h<r;++h){d=a[p[h]];e=d.splice(c,b);h||(this.rowCount=
d.length);for(let a=0,b=e.length;a<b;++a)k[a]=k[a]||[],k[a][h]=e[a];l.push(Array(r))}}p&&p.modifyRows(this,l,c||0,a);this.emit({type:"afterDeleteRows",detail:a,rowCount:b,rowIndex:c||0,rows:k});return k}emit(c){switch(c.type){case "afterDeleteColumns":case "afterDeleteRows":case "afterSetCell":case "afterSetColumns":case "afterSetRows":this.versionTag=m()}g(this,c.type,c)}getCell(c,b){c=this.aliases[c]||c;if(c=this.columns[c])return c[b]}getCellAsBoolean(c,b){c=this.aliases[c]||c;c=this.columns[c];
return!(!c||!c[b])}getCellAsNumber(c,b,a){c=this.aliases[c]||c;b=(c=this.columns[c])&&c[b];switch(typeof b){case "boolean":return b?1:0;case "number":return isNaN(b)&&!a?null:b}b=parseFloat(`${b}`);return isNaN(b)&&!a?null:b}getCellAsString(c,b){c=this.aliases[c]||c;c=this.columns[c];return`${c&&c[b]}`}getColumn(c,b){return this.getColumns([c],b)[c]}getColumnAliases(){const c=this.aliases,b=Object.keys(c),a={};for(let k=0,l=b.length,p;k<l;++k)p=b[k],a[p]=c[p];return a}getColumnAsNumbers(c,b){var a=
this.columns;c=this.aliases[c]||c;const k=a[c];a=[];if(k){const l=k.length;if(b)for(b=0;b<l;++b)a.push(this.getCellAsNumber(c,b,!0));else{for(let a=0,b;a<l;++a){b=k[a];if("number"===typeof b)return k.slice();if(null!==b&&"undefined"!==typeof b)break}for(b=0;b<l;++b)a.push(this.getCellAsNumber(c,b))}}return a}getColumnNames(){return Object.keys(this.columns)}getColumns(c,b){const a=this.aliases,k=this.columns,l={};c=c||Object.keys(k);for(let p=0,h=c.length,r,d;p<h;++p)d=c[p],(r=k[a[d]||d])&&(l[d]=
b?r:r.slice());return l}getModifier(){return this.modifier}getRow(c,b){return this.getRows(c,1,b)[0]}getRowCount(){return this.rowCount}getRowIndexBy(c,b,a){c=this.aliases[c]||c;if(c=this.columns[c])if(b=c.indexOf(b,a),-1!==b)return b}getRowObject(c,b){return this.getRowObjects(c,1,b)[0]}getRowObjects(c=0,b=this.rowCount-c,a){const k=this.aliases,l=this.columns,p=Array(b);a=a||Object.keys(l);for(let h=c,r=0,d=Math.min(this.rowCount,c+b),e,f;h<d;++h,++r){f=p[r]={};for(const b of a)e=l[k[b]||b],f[b]=
e?e[h]:void 0}return p}getRows(c=0,b=this.rowCount-c,a){const k=this.aliases,l=this.columns,p=Array(b);a=a||Object.keys(l);for(let h=c,r=0,d=Math.min(this.rowCount,c+b),e,f;h<d;++h,++r){f=p[r]=[];for(const b of a)e=l[k[b]||b],f.push(e?e[h]:void 0)}return p}getVersionTag(){return this.versionTag}hasColumns(c){const b=this.aliases,a=this.columns;for(let k=0,l=c.length,p;k<l;++k)if(p=c[k],!a[p]&&!b[p])return!1;return!0}hasRowWith(c,b){c=this.aliases[c]||c;return(c=this.columns[c])?-1!==c.indexOf(b):
!1}on(c,b){return e(this,c,b)}renameColumn(c,b){const a=this.columns;if(a[c]){if(c!==b){const k=this.aliases;k[b]&&delete k[b];a[b]=a[c];delete a[c]}return!0}return!1}setCell(c,b,a,k){const l=this.columns,p=this.modifier;c=this.aliases[c]||c;let h=l[c];h&&h[b]===a||(this.emit({type:"setCell",cellValue:a,columnName:c,detail:k,rowIndex:b}),h||(h=l[c]=Array(this.rowCount)),b>=this.rowCount&&(this.rowCount=b+1),h[b]=a,p&&p.modifyCell(this,c,b,a),this.emit({type:"afterSetCell",cellValue:a,columnName:c,
detail:k,rowIndex:b}))}setColumn(c,b=[],a=0,k){this.setColumns({[c]:b},a,k)}setColumnAlias(c,b){const a=this.aliases;return a[c]?!1:(a[c]=b,!0)}setColumns(c,b,a){const k=this.columns,l=this.modifier;var p="undefined"===typeof b;const h=Object.keys(c);this.emit({type:"setColumns",columns:c,columnNames:h,detail:a,rowIndex:b});for(let a=0,l=h.length,d,e;a<l;++a)if(e=h[a],d=c[e],e=this.aliases[e]||e,p)k[e]=d.slice(),this.rowCount=d.length;else{const a=k[e]?k[e]:k[e]=Array(this.rowCount);for(let c=b||
0,l=d.length;c<l;++c)a[c]=d[c];this.rowCount=Math.max(this.rowCount,a.length)}p=Object.keys(k);for(let a=0,b=p.length;a<b;++a)k[p[a]].length=this.rowCount;l&&l.modifyColumns(this,c,b||0);this.emit({type:"afterSetColumns",columns:c,columnNames:h,detail:a,rowIndex:b})}setModifier(c,b){const a=this;a.emit({type:"setModifier",detail:b,modifier:c,modified:a.modified});a.modified=a;a.modifier=c;return(c?c.modify(a):Promise.resolve(a)).then(a=>{a.emit({type:"afterSetModifier",detail:b,modifier:c,modified:a.modified});
return a})["catch"](b=>{a.emit({type:"setModifierError",error:b,modifier:c,modified:a.modified});throw b;})}setRow(c,b,a){this.setRows([c],b,a)}setRows(c,b=this.rowCount,a){var k=this.aliases;const l=this.columns,p=Object.keys(l),h=this.modifier,r=c.length;this.emit({type:"setRows",detail:a,rowCount:r,rowIndex:b,rows:c});for(let a=0,h=b,e;a<r;++a,++h)if(e=c[a],e===d.NULL)for(let a=0,b=p.length;a<b;++a)l[p[a]][h]=null;else if(e instanceof Array)for(let a=0,b=p.length;a<b;++a)l[p[a]][h]=e[a];else{const a=
Object.keys(e);for(let b=0,c=a.length,p;b<c;++b)p=a[b],p=k[p]||p,l[p]||(l[p]=Array(h+1)),l[p][h]=e[p]}k=b+r;if(k>this.rowCount){this.rowCount=k;for(let a=0,b=p.length;a<b;++a)l[p[a]].length=k}h&&h.modifyRows(this,c,b);this.emit({type:"afterSetRows",detail:a,rowCount:r,rowIndex:b,rows:c})}}d.NULL={};"";return d});n(g,"Data/Connectors/DataConnector.js",[g["Data/DataTable.js"],g["Core/Utilities.js"]],function(f,e){const {addEvent:g,fireEvent:m,merge:d,pick:c}=e;class b{constructor(a={}){this.table=new f(a.dataTable);
this.metadata=a.metadata||{columns:{}}}get polling(){return!!this.polling}describeColumn(a,b){const c=this.metadata.columns;c[a]=d(c[a]||{},b)}describeColumns(a){const b=Object.keys(a);let c;for(;"string"===typeof(c=b.pop());)this.describeColumn(c,a[c])}emit(a){m(this,a.type,a)}getColumnOrder(){const a=this.metadata.columns,b=Object.keys(a||{});if(b.length)return b.sort((b,k)=>c(a[b].index,0)-c(a[k].index,0))}getSortedColumns(a){return this.table.getColumns(this.getColumnOrder(a))}load(){m(this,"afterLoad",
{table:this.table});return Promise.resolve(this)}on(a,b){return g(this,a,b)}save(){m(this,"saveError",{table:this.table});return Promise.reject(Error("Not implemented"))}setColumnOrder(a){for(let b=0,c=a.length;b<c;++b)this.describeColumn(a[b],{index:b})}startPolling(a=1E3){const b=this;q.clearTimeout(b._polling);b._polling=q.setTimeout(()=>b.load()["catch"](a=>b.emit({type:"loadError",error:a,table:b.table})).then(()=>{b._polling&&b.startPolling(a)}),a)}stopPolling(){q.clearTimeout(this._polling);
delete this._polling}whatIs(a){return this.metadata.columns[a]}}(function(a){a.types={};a.registerType=function(b,c){return!!b&&!a.types[b]&&!!(a.types[b]=c)}})(b||(b={}));return b});n(g,"Dashboards/Components/ComponentRegistry.js",[g["Core/Utilities.js"]],function(){var f;(function(e){e.types={};e.registerComponent=function(f,g){return!!f&&!e.types[f]&&!!(e.types[f]=g)}})(f||(f={}));return f});n(g,"Dashboards/Globals.js",[],function(){var f,e=f||(f={});e.classNamePrefix="highcharts-dashboards-";
e.classNames={layout:e.classNamePrefix+"layout",cell:e.classNamePrefix+"cell",cellHover:e.classNamePrefix+"cell-state-hover",cellActive:e.classNamePrefix+"cell-state-active",row:e.classNamePrefix+"row",layoutsWrapper:e.classNamePrefix+"layouts-wrapper",boardContainer:e.classNamePrefix+"wrapper"};e.guiElementType={row:"row",cell:"cell",layout:"layout"};e.responsiveBreakpoints={small:"small",medium:"medium",large:"large"};e.boards=[];e.win=q;return f});n(g,"Dashboards/Actions/Bindings.js",[g["Dashboards/Components/ComponentRegistry.js"],
g["Dashboards/Globals.js"],g["Core/Utilities.js"]],function(f,e,g){const {addEvent:m,fireEvent:d,error:c}=g;var b;(function(a){function b(a){a="string"===typeof a?document.getElementById(a):a;let b;null!==a&&d(a,"bindedGUIElement",{},function(a){b=a.guiElement});return b}a.addComponent=function(b,k){var h,l,p,g;const v=b.states,C=b.events;if((k=k||a.getCell(b.cell||""))&&k.container&&b.type){var t=k.container,y=f.types[b.type];y||(c("The component's type `"+b.type+"` does not exist."),y=f.types.HTML,
b.title={text:null===(l=null===(h=k.row.layout.board)||void 0===h?void 0:h.editMode)||void 0===l?void 0:l.lang.errorMessage,className:e.classNamePrefix+"component-title-error "+e.classNamePrefix+"component-title"});var x=new y(k,b);try{x.render()}catch(B){x.update({title:{text:null===(g=null===(p=k.row.layout.board)||void 0===p?void 0:p.editMode)||void 0===g?void 0:g.lang.errorMessage,className:e.classNamePrefix+"component-title-error "+e.classNamePrefix+"component-title"}})}d(x,"mount");x.setCell(k);
k.mountedComponent=x;k.row.layout.board.mountedComponents.push({options:b,component:x,cell:k});C&&C.click&&m(t,"click",()=>{C.click();k&&x&&t&&v&&v.active&&k.setActiveState()});v&&v.hover&&t.classList.add(e.classNames.cellHover);d(x,"afterLoad");return x}c("The component is misconfigured and is unable to find the HTML cell element `"+b.cell+"` to render the content.")};a.componentFromJSON=function(b){let c=f.types[b.$class];if(c){var h=a.getCell(b.options.cell||"");if(h)return(b=c.fromJSON(b,h))&&
b.render(),b}};a.getCell=function(a){if((a=b(a))&&"cell"===a.getType())return a};a.getRow=function(a){if((a=b(a))&&"row"===a.getType())return a};a.getLayout=function(a){if((a=b(a))&&"layout"===a.getType())return a}})(b||(b={}));return b});n(g,"Dashboards/Accessibility/DashboardsAccessibility.js",[],function(){class f{constructor(e){this.board=e;this.addTabIndexToCells()}addTabIndexToCells(){const e=this.board.mountedComponents;let f;for(let g=0,d=e.length;g<d;++g)(f=e[g].cell)&&f.container&&f.container.setAttribute("tabindex",
-1)}}return f});n(g,"Data/DataCursor.js",[],function(){class f{constructor(e={}){this.emittingRegister=[];this.listenerMap={};this.stateMap=e}addListener(e,f,g){e=this.listenerMap[e]=this.listenerMap[e]||{};(e[f]=e[f]||[]).push(g);return this}buildEmittingTag(e){return("position"===e.cursor.type?[e.table.id,e.cursor.column,e.cursor.row,e.cursor.state,e.cursor.type]:[e.table.id,e.cursor.columns,e.cursor.firstRow,e.cursor.lastRow,e.cursor.state,e.cursor.type]).join("\x00")}emitCursor(e,g,m,d){var c=
e.id,b=g.state;if(b=this.listenerMap[c]&&this.listenerMap[c][b]){c=this.stateMap[c]=this.stateMap[c]||{};let a=c[g.state];d&&(a||(a=c[g.state]=[]),-1===f.getIndex(g,a)&&a.push(g));e={cursor:g,cursors:a||[],table:e};m&&(e.event=m);m=this.emittingRegister;g=this.buildEmittingTag(e);if(0<=m.indexOf(g))return this;try{this.emittingRegister.push(g);for(let a=0,c=b.length;a<c;++a)b[a].call(this,e)}finally{b=this.emittingRegister.indexOf(g),0<=b&&this.emittingRegister.splice(b,1)}}return this}remitCursor(e,
g){if(e=this.stateMap[e]&&this.stateMap[e][g.state])g=f.getIndex(g,e),0<=g&&e.splice(g,1);return this}removeListener(e,f,g){(e=this.listenerMap[e]&&this.listenerMap[e][f])&&(g=e.indexOf(g))&&e.splice(g,1);return this}}(function(e){function f(e,d){var c,b,a,k;if("range"===e.type)return e;d={type:"range",firstRow:null!==(b=null!==(c=e.row)&&void 0!==c?c:d&&d.firstRow)&&void 0!==b?b:0,lastRow:null!==(k=null!==(a=e.row)&&void 0!==a?a:d&&d.lastRow)&&void 0!==k?k:Number.MAX_VALUE,state:e.state};"undefined"!==
typeof e.column&&(d.columns=[e.column]);return d}e.getIndex=function(e,d){if("position"===e.type)for(let c,b=0,a=d.length;b<a;++b){if(c=d[b],"position"===c.type&&c.state===e.state&&c.column===e.column&&c.row===e.row)return b}else{const c=JSON.stringify(e.columns);for(let b,a=0,k=d.length;a<k;++a)if(b=d[a],"range"===b.type&&b.state===e.state&&b.firstRow===e.firstRow&&b.lastRow===e.lastRow&&JSON.stringify(b.columns)===c)return a}return-1};e.isEqual=function(e,d){return"position"===e.type&&"position"===
d.type?e.column===d.column&&e.row===d.row&&e.state===d.state:"range"===e.type&&"range"===d.type?e.firstRow===d.firstRow&&e.lastRow===d.lastRow&&JSON.stringify(e.columns)===JSON.stringify(d.columns):!1};e.isInRange=function(e,d){"position"===d.type&&(d=f(d));"position"===e.type&&(e=f(e,d));const c=e.columns,b=d.columns;return e.firstRow>=d.firstRow&&e.lastRow<=d.lastRow&&(!c||!b||c.every(a=>0<=b.indexOf(a)))};e.toPositions=function(e){if("position"===e.type)return[e];const d=e.columns||[],c=[],b=e.state;
for(let a=e.firstRow,k=e.lastRow;a<k;++a)if(d.length)for(let l=0,k=d.length;l<k;++l)c.push({type:"position",column:d[l],row:a,state:b});else c.push({type:"position",row:a,state:b});return c};e.toRange=f})(f||(f={}));"";return f});n(g,"Dashboards/Serializable.js",[],function(){var f;(function(e){const f={},g={};e.fromJSON=function(d){const c=d.$class;if("string"!==typeof c)throw Error("JSON has no $class property.");var b=f[c];if(b||(b=g[c]))return b.fromJSON(d);throw Error(`'${c}' unknown.`);};e.registerClassPrototype=
function(d,c){if(f[d])throw Error("A serializer for '"+d+"' is already registered.");f[d]=c};e.registerHelper=function(d){if(g[d.$class])throw Error("A serializer for '"+d.$class+"' is already registered.");g[d.$class]=d};e.toJSON=function(d){if("function"===typeof d.fromJSON&&"function"===typeof d.toJSON)return d.toJSON();const c=Object.keys(g),b=c.length;for(let k=0;k<b;++k){var a=c[k];a=g[a];if(a.jsonSupportFor(d))return a.toJSON(d)}throw Error("Object is not supported.");}})(f||(f={}));return f});
n(g,"Dashboards/SerializeHelper/DataCursorHelper.js",[g["Data/DataCursor.js"],g["Dashboards/Serializable.js"]],function(f,e){const g={$class:"Data.DataCursor",fromJSON:function(e){return new f(e.stateMap)},jsonSupportFor:function(e){return e instanceof f},toJSON:function(e){const d=e.stateMap,c={};e=Object.keys(e.stateMap);let b;let a,k;for(let p=0,h=e.length;p<h;++p){a=e[p];k=Object.keys(d[a]);c[a]={};for(let h=0,p=k.length;h<p;++h){var l=k[h];b=d[a][l];c[a][l]=l=[];for(let a=0,c=b.length;a<c;++a)l.push(Object.assign({},
b[a]))}}return{$class:"Data.DataCursor",stateMap:c}}};e.registerHelper(g);return g});n(g,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}});n(g,"Data/DataPool.js",[g["Data/Connectors/DataConnector.js"],g["Data/DataPoolDefaults.js"],g["Core/Utilities.js"]],function(f,e,g){class m{constructor(d=e){d.connectors=d.connectors||[];this.options=d;this.connectors={}}emit(d){g.fireEvent(this,d.type,d)}getConnector(d){var c=this.connectors[d];if(c)return Promise.resolve(c);if(c=this.getConnectorOptions(d))return this.loadConnector(c);
throw Error(`Connector not found. (${d})`);}getConnectorIds(){const d=this.options.connectors,c=[];for(let b=0,a=d.length;b<a;++b)c.push(d[b].id);return c}getConnectorOptions(d){const c=this.options.connectors;for(let b=0,a=c.length;b<a;++b)if(c[b].id===d)return c[b]}getConnectorTable(d){return this.getConnector(d).then(c=>c.table)}loadConnector(d){return new Promise((c,b)=>{this.emit({type:"load",options:d});var a=f.types[d.type];if(!a)throw Error(`Connector type not found. (${d.type})`);a=new a(d.options);
this.connectors[d.id]=a;a.load().then(a=>{this.emit({type:"afterLoad",options:d});c(a)})["catch"](b)})}on(d,c){return g.addEvent(this,d,c)}setConnectorOptions(d){const c=this.options.connectors;this.emit({type:"setConnectorOptions",options:d});for(let b=0,a=c.length;b<a;++b)if(c[b].id===d.id){c.splice(b,1);break}c.push(d);this.emit({type:"afterSetConnectorOptions",options:d})}}return m});n(g,"Dashboards/EditMode/EditGlobals.js",[g["Dashboards/Globals.js"]],function(f){f=f.classNamePrefix+"edit-";
return{classNames:{resizeSnap:f+"resize-snap",resizeSnapX:f+"resize-snap-x",resizeSnapY:f+"resize-snap-y",separator:f+"separator",contextMenuBtn:f+"context-menu-btn",contextMenu:f+"context-menu",contextMenuItem:f+"context-menu-item",editModeEnabled:f+"enabled",editToolbar:f+"toolbar",editToolbarCellOutline:f+"toolbar-cell-outline",editToolbarRowOutline:f+"toolbar-row-outline",editToolbarItem:f+"toolbar-item",editToolbarRow:f+"toolbar-row",editToolbarCell:f+"toolbar-cell",editSidebar:f+"sidebar",editSidebarShow:f+
"sidebar-show",editSidebarHide:f+"sidebar-hide",editSidebarTitle:f+"sidebar-title",editSidebarMenuItem:f+"sidebar-item",rowContextHighlight:f+"row-context-highlight",cellEditHighlight:f+"cell-highlight",dashboardCellEditHighlightActive:f+"cell-highlight-active",dragMock:f+"drag-mock",dropPointer:f+"drop-pointer",contextDetectionPointer:f+"ctx-detection-pointer",resizePointer:f+"resize-pointer",currentEditedElement:f+"unmask",maskElement:f+"mask",menuItem:f+"menu-item",menu:f+"menu",menuVerticalSeparator:f+
"menu-vertical-separator",menuHorizontalSeparator:f+"menu-horizontal-separator",menuDestroy:f+"menu-destroy",editSidebarWrapper:f+"sidebar-wrapper",customSelect:f+"custom-select",customSelectButton:f+"custom-option-button",toggleContainer:f+"toggle-container",toggleWrapper:f+"toggle-wrapper",toggleSlider:f+"toggle-slider",toggleWrapperColored:f+"toggle-wrapper-colored",toggleLabels:f+"toggle-labels",button:f+"button",sidebarNavButton:f+"sidebar-button-nav",labelText:f+"label-text",editSidebarTabBtn:f+
"sidebar-tab-btn",editToolsBtn:f+"tools-btn",editTools:f+"tools",editGridItems:f+"grid-items",confirmationPopup:f+"confirmation-popup",popupContentContainer:f+"confirmation-popup-content",popupConfirmBtn:f+"confirmation-popup-confirm-btn",popupCloseButton:f+"popup-close",editOverlay:f+"overlay",editOverlayActive:f+"overlay-active",resizerMenuBtnActive:f+"resizer-menu-btn-active",sidebarCloseButton:f+"close-btn",editSidebarTabBtnWrapper:f+"tabs-buttons-wrapper",editSidebarRight:f+"sidebar-right",editSidebarRightShow:f+
"sidebar-right-show",viewFullscreen:f+"view-fullscreen",accordionMenu:f+"accordion-menu",accordionContainer:f+"accordion",accordionHeader:f+"accordion-header",accordionHeaderBtn:f+"accordion-header-btn",accordionHeaderIcon:f+"accordion-header-icon",accordionContent:f+"accordion-content",accordionNestedWrapper:f+"accordion-nested",accordionMenuButtonsContainer:f+"accordion-menu-buttons-container",accordionMenuButton:f+"accordion-menu-button",hiddenElement:f+"hidden-element",collapsableContentHeader:f+
"collapsable-content-header",dropdown:f+"dropdown",dropdownContent:f+"dropdown-content",dropdownButton:f+"dropdown-button",dropdownButtonContent:f+"dropdown-button-content",dropdownIcon:f+"pointer",rotateElement:f+"rotate-element",icon:f+"icon"},lang:{addComponent:"Add component",cancelButton:"Cancel",caption:"Caption",chartClassName:"Chart class name",chartConfig:"Chart configuration",chartID:"Chart ID",chartOptions:"Chart options",chartType:"Chart type",connectorName:"Connector name",confirmButton:"Confirm",
confirmDestroyCell:"Do you want to destroy the cell?",confirmDestroyRow:"Do you want to destroy the row?",dataLabels:"Data labels",editMode:"Edit mode",errorMessage:"Something went wrong",exitFullscreen:"Exit full screen",id:"Id",large:"Large",medium:"Medium",off:"off",on:"on",pointFormat:"Point format",scaleElements:"Scale elements",settings:"Settings",small:"Small",style:"Styles",title:"Title",viewFullscreen:"View in full screen"}}});n(g,"Dashboards/EditMode/EditRenderer.js",[g["Dashboards/EditMode/EditGlobals.js"],
g["Core/Utilities.js"]],function(f,e){function g(a,b){let c;b.options.contextMenu&&(c=w("button",{className:f.classNames.contextMenuBtn,onclick:function(){b.onContextBtnClick()}},{"background-image":"url("+b.options.contextMenu.icon+")"},a));return c}function m(a,c){const {name:h,showToggle:l,onchange:k,isEnabled:p,isNested:d,iconsURLPrefix:r,lang:e}=c;a=w("div",{className:f.classNames[d?"accordionNestedWrapper":"accordionContainer"]+" "+f.classNames.collapsableContentHeader},{},a);c=w("div",{className:f.classNames.accordionHeader},
{},a);const g=w("button",{className:f.classNames.accordionHeaderBtn},{},c);w("span",{textContent:e[h]||h},{},g);l&&b(c,{enabledOnOffLabels:!0,id:h,name:h,onchange:k,value:p||!1,lang:e});const t=w("img",{className:f.classNames.accordionHeaderIcon+" "+f.classNames.rotateElement,src:r+"dropdown-pointer.svg"},{},g),z=w("div",{className:f.classNames.accordionContent+" "+f.classNames.hiddenElement},{},a);g.addEventListener("click",function(){z.classList.toggle(f.classNames.hiddenElement);t.classList.toggle(f.classNames.rotateElement)});
return{outerElement:a,content:z}}function d(b,h){if(b){h.name&&a(b,{title:h.name,isLabel:!0});var l=h.iconsURLPrefix||"";b=w("div",{className:f.classNames.dropdown+" "+f.classNames.collapsableContentHeader},{},b);var k=w("button",{className:f.classNames.dropdownButton},{},b),p=w("div",{className:f.classNames.dropdownButtonContent},{},k),d=(e.find(h.selectOptions,a=>a.name===h.value)||{}).iconURL,r;d&&(r=w("img",{src:l+d,className:f.classNames.icon},{},p));p=w("span",{textContent:h.value,id:h.id||
""},{},p);var g=w("img",{className:f.classNames.dropdownIcon+" "+f.classNames.rotateElement,src:l+"dropdown-pointer.svg"},{},k),t=w("ul",{className:f.classNames.dropdownContent+" "+f.classNames.hiddenElement},{},b);k.addEventListener("click",function(){t.classList.toggle(f.classNames.hiddenElement);g.classList.toggle(f.classNames.rotateElement)});for(let a=0,b=h.selectOptions.length;a<b;++a)c(z(h.selectOptions[a]||{},{iconsURLPrefix:l}),t,p,h.id,g,r,h.onchange);return b}}function c(a,b,c,h,l,k,p){const d=
a.iconsURLPrefix+a.iconURL;h=w("li",{},{},b);h=w("button",{className:f.classNames.customSelectButton},{},h);a.iconURL&&w("img",{src:d},{},h);w("span",{textContent:a.name||""},{},h);h.addEventListener("click",function(){b.classList.add(f.classNames.hiddenElement);l.classList.toggle(f.classNames.rotateElement);c.textContent=a.name||"";k&&a.iconURL&&(k.src=d);if(p)return p(a.name)})}function b(b,c){if(b){var {value:l,title:k,lang:p}=c;b=w("div",{className:f.classNames.toggleContainer},{},b);k&&a(b,{title:k});
c.enabledOnOffLabels&&v.renderText(b,{title:p.off,className:f.classNames.toggleLabels});var d=w("label",{className:f.classNames.toggleWrapper+" "+(c.className||"")},{},b),r=h(d,l),e=c.onchange;r&&e&&b.addEventListener("click",()=>{e(!r.checked);r.checked=!r.checked});d=w("span",{className:f.classNames.toggleSlider},{},d);e&&d.addEventListener("click",a=>{a.preventDefault()});c.enabledOnOffLabels&&v.renderText(b,{title:p.on,className:f.classNames.toggleLabels});return b}}function a(a,b){let c;const {title:h,
className:l,isLabel:k}=b;a&&(c=w(k?"label":"div",Object.assign({className:f.classNames.labelText+" "+(l||""),textContent:h},k?{htmlFor:h}:{}),{},a));return c}function k(a,b){const {icon:c,callback:h}=b;if(a){a=w("div",{onclick:h,className:b.className||""},{},a);a.style["background-image"]="url("+c+")";var l=b.mousedown,k=b.click;l&&(a.onmousedown=function(){l.apply(this,arguments)});k&&a.addEventListener("click",function(){k.apply(this,arguments)});return a}}function l(b,c){if(b){c.name&&a(b,{title:c.name,
isLabel:!0});b=w("input",{type:"text",onclick:c.callback,id:c.id||"",name:c.name||"",value:c.value&&c.value.replace(/"/g,"")||""},{},b);var h=c.onchange;h&&b.addEventListener("change",function(a){h(a.target.value)});return b}}function p(b,c){if(b){c.name&&a(b,{title:c.name,isLabel:!0});b=w("textarea",{id:c.id,name:c.name,value:c.value||""},{},b);var h=c.onchange;h&&b.addEventListener("change",function(a){h(a.target.value)});return b}}function h(a,b){let c;a&&(c=w("input",{type:"checkbox",checked:!!b},
{},a));return c}function r(a,b){if(a)return a=w("button",{className:f.classNames.button+" "+(b.className||""),onclick:b.callback,textContent:b.text},b.style||{},a),b.icon&&(a.style["background-image"]="url("+b.icon+")"),a}const {merge:z,createElement:w}=e,v={renderSelect:d,renderToggle:b,renderText:a,renderCollapseHeader:m,renderIcon:k,renderContextButton:g,renderInput:l,renderTextarea:p,renderCheckbox:h,renderButton:r,getRendererFunction:function(c){return{select:d,toggle:b,text:a,collapse:m,icon:k,
contextButton:g,input:l,textarea:p,checkbox:h,button:r}[c]}};return v});n(g,"Dashboards/EditMode/Menu/MenuItem.js",[g["Dashboards/EditMode/EditGlobals.js"],g["Core/Utilities.js"],g["Dashboards/EditMode/EditRenderer.js"]],function(f,e,g){const {createElement:m,merge:d}=e;class c{constructor(b,a){this.menu=b;this.isActive=!1;this.options=d(c.defaultOptions,a);this.container=this.setContainer();this.innerElement=this.setInnerElement()}setContainer(){const b=this.options;let a=f.classNames.menuItem;this.menu.options.itemsClassName&&
(a+=" "+this.menu.options.itemsClassName);b.className&&(a+=" "+b.className);return m("div",{className:a||""},d(this.options.style||{},this.isActive?{display:"block"}:{}),this.menu.container)}setInnerElement(){var b,a,c,l,p,h,d,e;const f=this.options,v=this.container,m=f.langKey;if("toggle"===f.type)return g.renderToggle(v,{id:f.id,name:f.id,title:m?this.menu.editMode.lang[m]:f.text,value:!(!f.getValue||!f.getValue(this)),lang:this.menu.editMode.lang,onchange:null===(a=null===(b=f.events)||void 0===
b?void 0:b.click)||void 0===a?void 0:a.bind(this)});if("text"===f.type)return g.renderText(v,{title:m?this.menu.editMode.lang[m]:f.text||"",className:f.className||""});if("icon"===f.type)return g.renderIcon(v,{icon:f.icon||"",mousedown:null===(l=null===(c=f.events)||void 0===c?void 0:c.onmousedown)||void 0===l?void 0:l.bind(this),click:null===(h=null===(p=f.events)||void 0===p?void 0:p.click)||void 0===h?void 0:h.bind(this)});if("button"===f.type)return g.renderButton(v,{callback:null===(e=null===
(d=f.events)||void 0===d?void 0:d.click)||void 0===e?void 0:e.bind(this),className:f.className||"",style:f.style||{},text:m?this.menu.editMode.lang[m]:f.text||""})}update(){const b=this.options;b.events&&b.events.update&&b.events.update.apply(this,arguments)}activate(){this.update();this.container&&(this.isActive=!0,this.container.style.display="block")}deactivate(){this.container&&(this.isActive=!1,this.container.style.display="none")}}c.defaultOptions={id:"",type:"text"};return c});n(g,"Dashboards/EditMode/Menu/MenuItemBindings.js",
[],function(){return{viewFullscreen:{id:"viewFullscreen",type:"button",langKey:"viewFullscreen",events:{click:function(){const f=this.menu.editMode.board.fullscreen;f&&f.toggle()}}}}});n(g,"Dashboards/EditMode/Menu/Menu.js",[g["Dashboards/EditMode/EditGlobals.js"],g["Core/Utilities.js"],g["Dashboards/EditMode/Menu/MenuItem.js"],g["Dashboards/EditMode/Menu/MenuItemBindings.js"]],function(f,e,g,m){const {createElement:d,merge:c}=e;class b{constructor(a,b,c,p){this.parentElement=a;this.isVisible=!1;
this.activeItems=[];this.options=b;this.items={};this.editMode=c;p&&(this.parent=p);this.container=this.setContainer()}setContainer(){return d("div",{className:f.classNames.menu+" "+(this.options.className||"")},{},this.parentElement)}initItems(a,b){const l=this.options.items||[];let k;for(let p=0,d=l.length;p<d;++p){k=l[p];var h="string"===typeof k?a[k]:k.id?a[k.id]:{};h="string"===typeof k?c(h,{id:k}):c(h,k);h.id&&(h=new g(this,h),this.items[h.options.id]=h,b&&(h.activate(),this.activeItems.push(h)))}}setActiveItems(a){let b;
for(let b=0,c=this.activeItems.length;b<c;++b)-1===a.indexOf(this.activeItems[b].options.id)&&this.activeItems[b].deactivate();this.activeItems.length=0;for(let c=0,k=a.length;c<k;++c)if(b=this.items[a[c]])b.isActive?b.update():b.activate(),this.activeItems.push(b)}deactivateActiveItems(){for(let a=0,b=this.activeItems.length;a<b;++a)this.activeItems[a].deactivate()}updateActiveItems(){const a=this.activeItems;for(let b=0,c=a.length;b<c;++b)a[b].update()}destroy(){this.activeItems.length=0;this.container.remove();
this.items={};this.options={}}}b.items=m;return b});n(g,"Dashboards/EditMode/Toolbar/EditToolbar.js",[g["Core/Utilities.js"],g["Dashboards/EditMode/Menu/Menu.js"]],function(f,e){const {defined:g,createElement:m,css:d}=f;class c{constructor(b,a){this.container=m("div",{className:a.className},void 0,b.board.container);this.editMode=b;this.iconURLPrefix=b.iconsURLPrefix;this.menu=new e(this.container,a.menu,b,this);this.options=a;this.isVisible=!1;this.options.outline&&(this.outline=m("div",{className:a.outlineClassName},
void 0,this.container))}hide(){this.setPosition(void 0,void 0)}refreshOutline(b,a,c,l=0){c=(c||{}).container;this.outline&&c&&d(this.outline,{display:"block",left:b-l+"px",top:a-l+"px",width:c.offsetWidth+2*l+"px",height:c.offsetHeight+2*l+"px"})}hideOutline(){this.outline&&(this.outline.style.display="none")}setPosition(b,a){this.container&&d(this.container,{left:(b||"-9999")+"px",top:(a||"-9999")+"px"});this.isVisible=g(b)&&g(a)}}return c});n(g,"Dashboards/Layout/GUIElement.js",[g["Core/Utilities.js"],
g["Dashboards/Globals.js"]],function(f,e){const {addEvent:g,createElement:m,uniqueKey:d,objectEach:c}=f;class b{static getOffsets(a,b){const c={left:0,top:0,right:0,bottom:0};a.container&&(a=a.container.getBoundingClientRect(),b=b?b.getBoundingClientRect():{left:0,top:0},c.left=a.left-b.left,c.top=a.top-b.top,c.right=a.right-b.left,c.bottom=a.bottom-b.top);return c}static getDimFromOffsets(a){return{width:a.right-a.left,height:a.bottom-a.top}}static createElementId(a){return e.classNamePrefix+a+"-"+
d().slice(11)}static getPercentageWidth(a){const b=/^([0-9]{1})[\-\/\.]([0-9]{1,2})$/;let c;b.test(a)?(a=a.match(b)||[],c=100*+a[1]/+a[2],c=(100>=c?c:100)+"%"):-1!==a.indexOf("%")&&(a=parseFloat(a),c=(100>=a?0<=a?a:0:100)+"%");return c}setElementContainer(a){const b=this;a.render&&a.parentContainer?(a.attribs&&!a.attribs.id&&delete a.attribs.id,b.container=m("div",a.attribs||{},a.style||{},a.parentContainer)):a.element instanceof HTMLElement?b.container=a.element:"string"===typeof a.elementId&&(a=
document.getElementById(a.elementId))&&(b.container=a);b.container&&(b.removeBindedEventFn=g(b.container,"bindedGUIElement",function(a){a.guiElement=b;a.stopImmediatePropagation()}))}destroy(){const a=this;a.removeBindedEventFn&&a.removeBindedEventFn();a.container&&a.container.parentNode&&a.container.parentNode.removeChild(a.container);c(a,function(b,c){delete a[c]})}getType(){return this.type}changeVisibility(a=!0,b){const c=this.isVisible&&!a||!this.isVisible&&a;this.container&&c&&(this.container.style.display=
a?b||"block":"none",this.isVisible=a)}hide(){this.changeVisibility(!1)}show(){this.changeVisibility()}}return b});n(g,"Dashboards/EditMode/Toolbar/CellEditToolbar.js",[g["Core/Utilities.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/EditMode/Toolbar/EditToolbar.js"],g["Dashboards/Layout/GUIElement.js"]],function(f,e,g,m){const {merge:d,fireEvent:c,objectEach:b}=f;class a extends g{static getItemsConfig(a,b){var c;return[...(null===(c=a.dragDrop)||void 0===c?0:c.enabled)?[{id:"drag",type:"icon",
icon:b+"drag.svg",events:{onmousedown:function(a){const b=this.menu.parent,c=b.editMode.dragDrop;if(c&&b.cell)c.onDragStart(a,b.cell)}}}]:[],{id:"settings",type:"icon",icon:b+"settings.svg",events:{click:function(){this.menu.parent.onCellOptions()}}},{id:"destroy",type:"icon",className:e.classNames.menuDestroy,icon:b+"destroy.svg",events:{click:function(){const a=this.menu.parent,b=this.menu.parent.editMode,c=b.confirmationPopup;c.show({confirmButton:{value:b.lang.confirmButton,callback:a.onCellDestroy,
context:a},cancelButton:{value:b.lang.cancelButton,callback:()=>{c.closePopup()}},text:b.lang.confirmDestroyCell})}}}]}constructor(b){super(b,d(a.defaultOptions,(b.options.toolbars||{}).cell,{menu:{items:a.getItemsConfig(b.options,b.iconsURLPrefix)}}));this.menu.initItems({})}showToolbar(a){let c;if(a.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){var k=m.getOffsets(a,this.editMode.board.container);c=k.right;k=k.top;b(this.menu.items,a=>{a.activate()});this.setPosition(c,
k);this.cell=a;this.refreshOutline()}else this.isVisible&&this.hide()}refreshOutline(){this.cell&&this.cell.container&&this.outline&&super.refreshOutline(-this.cell.container.offsetWidth,0,this.cell,-1)}onCellOptions(){this.editMode.sidebar&&(this.editMode.sidebar.show(this.cell),this.cell&&this.cell.setHighlight())}onCellDestroy(){if(this.cell){const a=this.cell.row;this.resetEditedCell();this.cell.destroy();this.cell=void 0;this.editMode.hideToolbars(["cell","row"]);a&&a.cells&&a.cells.length&&
(c(this.editMode.board,"cellResize",{cell:a.cells[0]}),c(a,"cellChange",{cell:a.cells[0],row:a}))}}resetEditedCell(){this.editedCell=void 0}}a.defaultOptions={enabled:!0,className:e.classNames.editToolbar,outline:!0,outlineClassName:e.classNames.editToolbarCellOutline,menu:{className:e.classNames.editToolbarCell,itemsClassName:e.classNames.editToolbarItem,items:[]}};return a});n(g,"Dashboards/EditMode/Toolbar/RowEditToolbar.js",[g["Core/Utilities.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/EditMode/Toolbar/EditToolbar.js"],
g["Dashboards/Layout/GUIElement.js"]],function(f,e,g,m){const {merge:d,objectEach:c}=f;class b extends g{static getMenuItemsConfig(a,b){var c;a=(null===(c=a.dragDrop)||void 0===c?0:c.enabled)?[{id:"drag",type:"icon",icon:b+"drag.svg",events:{onmousedown:function(a){const b=this.menu.parent,c=b.editMode.dragDrop;if(c&&b.row)c.onDragStart(a,b.row)}}}]:[];c={id:"settings",type:"icon",icon:b+"settings.svg",events:{click:function(a){this.menu.parent.onRowOptions(a)}}};b={id:"destroy",type:"icon",className:e.classNames.menuDestroy,
icon:b+"destroy.svg",events:{click:function(){const a=this.menu.parent,b=this.menu.parent.editMode,c=b.confirmationPopup;c.show({confirmButton:{value:b.lang.confirmButton,callback:a.onRowDestroy,context:a},cancelButton:{value:b.lang.cancelButton,callback:()=>{c.closePopup()}},text:b.lang.confirmDestroyRow})}}};return[...a,c,b]}constructor(a){super(a,d(b.defaultOptions,(a.options.toolbars||{}).row,{menu:{items:b.getMenuItemsConfig(a.options,a.iconsURLPrefix)}}));this.menu.initItems({})}refreshOutline(a,
b){this.row&&this.row.container&&super.refreshOutline(a,b,this.row,2)}showToolbar(a){let b;if(a.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){var l=m.getOffsets(a,this.editMode.board.container);var d=l.right-l.left;c(this.menu.items,a=>{a.activate()});b=d/2-this.container.clientWidth/2;d=l.left+b;l=l.top-this.container.clientHeight;this.setPosition(d,l);this.row=a;this.refreshOutline(-b,this.container.clientHeight)}else this.isVisible&&this.hide()}onRowOptions(){this.editMode.sidebar&&
this.editMode.sidebar.show(this.row)}onRowDestroy(){this.row&&(this.resetEditedRow(),this.row.destroy(),this.row=void 0,this.editMode.hideToolbars(["cell","row"]))}resetEditedRow(){this.editedRow=void 0}}b.defaultOptions={enabled:!0,className:e.classNames.editToolbar,outline:!0,outlineClassName:e.classNames.editToolbarRowOutline,menu:{className:e.classNames.editToolbarRow,itemsClassName:e.classNames.editToolbarItem,items:[]}};return b});n(g,"Dashboards/EditMode/AccordionMenu.js",[g["Dashboards/EditMode/EditRenderer.js"],
g["Core/Utilities.js"],g["Dashboards/EditMode/EditGlobals.js"]],function(f,e,g){const {createElement:m,merge:d,error:c}=e;class b{constructor(a,b){this.changedOptions={};this.chartOptionsJSON={};this.iconsURLPrefix=a;this.closeSidebar=b}renderContent(a,b){var c,k,h;const r=this,e=b.editableOptions.getOptions();let w;const v=m("div",{className:g.classNames.accordionMenu},{},a);for(let h=0,l=e.length;h<l;h++)a=e[h],w=f.renderCollapseHeader(v,{name:a.name,iconsURLPrefix:r.iconsURLPrefix,lang:((null===
(c=b.board)||void 0===c?void 0:c.editMode)||g).lang}).content,this.renderAccordion(a,w,b);c=m("div",{className:g.classNames.accordionMenuButtonsContainer},{},v);f.renderButton(c,{text:((null===(k=b.board)||void 0===k?void 0:k.editMode)||g).lang.confirmButton,callback:()=>{b.update(d(this.changedOptions,{chartOptions:this.chartOptionsJSON}));r.changedOptions={};r.chartOptionsJSON={};r.closeSidebar()}});f.renderButton(c,{text:((null===(h=b.board)||void 0===h?void 0:h.editMode)||g).lang.cancelButton,
callback:()=>{r.changedOptions={};r.chartOptionsJSON={};r.closeSidebar()}})}updateOptions(a,b){const l=a.length-1;let d=this.changedOptions;if(0===l&&"chartOptions"===a[0])try{this.chartOptionsJSON=JSON.parse(b)}catch(h){c("Dashboards Error: Wrong JSON config structure passed as a chart options.")}for(let b=0;b<l;b++){const c=a[b];d[c]||(d[c]={});d=d[c]}d[a[l]]=b}renderAccordion(a,b,c){if("nested"===a.type)return this.renderNested(b,a,c);const l=f.getRendererFunction(a.type);l&&l(b,Object.assign(Object.assign({},
a),{iconsURLPrefix:this.iconsURLPrefix,value:c.getEditableOptionValue(a.propertyPath),onchange:b=>this.updateOptions(a.propertyPath||[],b)}))}renderNested(a,b,c){var l;if(a&&b.nestedOptions){b=b.nestedOptions;for(let d=0,k=b.length;d<k;++d){const k=b[d].options;var h=!!b[d].showToggle;const p=b[d].propertyPath||[];h=f.renderCollapseHeader(a,{name:b[d].name,isEnabled:!!c.getEditableOptionValue(p),iconsURLPrefix:this.iconsURLPrefix,showToggle:h,onchange:a=>this.updateOptions(p,a),isNested:!0,lang:((null===
(l=c.board)||void 0===l?void 0:l.editMode)||g).lang});for(let a=0,b=k.length;a<b;++a)this.renderAccordion(k[a],h.content,c)}}}}return b});n(g,"Core/Renderer/HTML/AST.js",[g["Core/Globals.js"],g["Core/Utilities.js"]],function(f,e){const {SVG_NS:g,win:m}=f,{attr:d,createElement:c,css:b,error:a,isFunction:k,isString:l,objectEach:p,splat:h}=e;({trustedTypes:e}=m);const r=e&&k(e.createPolicy)&&e.createPolicy("highcharts",{createHTML:a=>a});e=r?r.createHTML(""):"";try{var z=!!(new DOMParser).parseFromString(e,
"text/html")}catch(C){z=!1}const w=z;class v{static filterUserAttributes(b){p(b,(c,h)=>{let d=!0;-1===v.allowedAttributes.indexOf(h)&&(d=!1);-1!==["background","dynsrc","href","lowsrc","src"].indexOf(h)&&(d=l(c)&&v.allowedReferences.some(a=>0===c.indexOf(a)));d||(a(33,!1,void 0,{"Invalid attribute in config":`${h}`}),delete b[h]);l(c)&&b[h]&&(b[h]=c.replace(/</g,"&lt;"))});return b}static parseStyle(a){return a.split(";").reduce((a,b)=>{b=b.split(":").map(a=>a.trim());const c=b.shift();c&&b.length&&
(a[c.replace(/-([a-z])/g,a=>a[1].toUpperCase())]=b.join(":"));return a},{})}static setElementHTML(a,b){a.innerHTML=v.emptyHTML;b&&(new v(b)).addToDOM(a)}constructor(a){this.nodes="string"===typeof a?this.parseMarkup(a):a}addToDOM(c){function l(c,k){let e;h(c).forEach(function(c){var h=c.tagName;const r=c.textContent?f.doc.createTextNode(c.textContent):void 0,z=v.bypassHTMLFiltering;let w;if(h)if("#text"===h)w=r;else if(-1!==v.allowedTags.indexOf(h)||z){h=f.doc.createElementNS("svg"===h?g:k.namespaceURI||
g,h);const a=c.attributes||{};p(c,function(b,c){"tagName"!==c&&"attributes"!==c&&"children"!==c&&"style"!==c&&"textContent"!==c&&(a[c]=b)});d(h,z?a:v.filterUserAttributes(a));c.style&&b(h,c.style);r&&h.appendChild(r);l(c.children||[],h);w=h}else a(33,!1,void 0,{"Invalid tagName in config":h});w&&k.appendChild(w);e=w});return e}return l(this.nodes,c)}parseMarkup(a){const b=[];a=a.trim().replace(/ style=(["'])/g," data-style=$1");if(w)a=(new DOMParser).parseFromString(r?r.createHTML(a):a,"text/html");
else{const b=c("div");b.innerHTML=a;a={body:b}}const h=(a,b)=>{var c=a.nodeName.toLowerCase();const l={tagName:c};"#text"===c&&(l.textContent=a.textContent||"");if(c=a.attributes){const a={};[].forEach.call(c,b=>{"data-style"===b.name?l.style=v.parseStyle(b.value):a[b.name]=b.value});l.attributes=a}if(a.childNodes.length){const b=[];[].forEach.call(a.childNodes,a=>{h(a,b)});b.length&&(l.children=b)}b.push(l)};[].forEach.call(a.body.childNodes,a=>h(a,b));return b}}v.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill filterUnits flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" ");
v.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" ");v.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" ");v.emptyHTML=e;v.bypassHTMLFiltering=
!1;"";return v});n(g,"Shared/BaseForm.js",[g["Core/Renderer/HTML/AST.js"],g["Core/Utilities.js"]],function(f,e){const {addEvent:g,createElement:m}=e;class d{constructor(c,b){this.iconsURL=b;this.container=this.createPopupContainer(c);this.closeButton=this.addCloseButton()}createPopupContainer(c,b="highcharts-popup highcharts-no-tooltip"){return m("div",{className:b},void 0,c)}addCloseButton(c="highcharts-popup-close"){const b=this,a=this.iconsURL,d=m("div",{className:c},void 0,this.container);d.style["background-image"]=
"url("+(a.match(/png|svg|jpeg|jpg|gif/ig)?a:a+"close.svg")+")";["click","touchstart"].forEach(a=>{g(d,a,b.closeButtonEvents.bind(b))});return d}closeButtonEvents(){this.closePopup()}showPopup(c="highcharts-annotation-toolbar"){const b=this.container,a=this.closeButton;this.type=void 0;b.innerHTML=f.emptyHTML;0<=b.className.indexOf(c)&&(b.classList.remove(c),b.removeAttribute("style"));b.appendChild(a);b.style.display="block";b.style.height=""}closePopup(){this.container.style.display="none"}}return d});
n(g,"Dashboards/Utilities.js",[g["Core/Utilities.js"]],function(f){const {isClass:e,isDOMElement:g,isObject:m,objectEach:d,uniqueKey:c}=f;return{merge:function(){let b,a=arguments,c=0,l={};const p=Error("Recursive copy depth > 100"),h=(a,b)=>{"object"!==typeof a&&(a={});if(100<++c)throw p;d(b,(c,l)=>{"__proto__"!==l&&"constructor"!==l&&(!m(c,!0)||e(c)||g(c)?a[l]=b[l]:a[l]=h(a[l]||{},c))});--c;return a};!0===a[0]&&(l=a[1],a=Array.prototype.slice.call(a,2));const r=a.length;for(b=0;b<r;b++)l=h(l,a[b]);
return l},uniqueKey:function(){return`dashboard-${c().replace("highcharts-","")}`}}});n(g,"Dashboards/Layout/Cell.js",[g["Dashboards/Actions/Bindings.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/Globals.js"],g["Dashboards/Layout/GUIElement.js"],g["Core/Utilities.js"]],function(f,e,g,m,d){const {componentFromJSON:c}=f,{merge:b,fireEvent:a}=d;class k extends m{static fromJSON(a,b){if(b){a=a.options;let c=a.containerId;b.layout.copyId&&(c=c+"_"+b.layout.copyId);return new k(b,{id:c,parentContainerId:b.container&&
b.container.id||a.parentContainerId,mountedComponentJSON:a.mountedComponentJSON,style:a.style,layoutJSON:a.layoutJSON,width:a.width,height:a.height})}}constructor(a,c,h){super();this.type=g.guiElementType.cell;this.id=c.id;this.options=c;this.row=a;this.isVisible=!0;const l=document.getElementById(c.parentContainerId||"")||a.container;if(l){const d=a.layout.options||{},k=a.options||{},e=d.cellClassName||"";let r;c.height&&(r="number"===typeof c.height?c.height+"px":c.height);this.setElementContainer({render:a.layout.board.guiEnabled,
parentContainer:l,attribs:{id:c.id,className:g.classNames.cell+" "+e},element:h,elementId:c.id,style:b(d.style,k.style,c.style,{height:r})});this.reflow();this.options.mountedComponentJSON&&this.mountComponentFromJSON(this.options.mountedComponentJSON,this.container);this.options.layout&&this.setNestedLayout();this.options.layoutJSON&&(c=this.row.layout,a=c.board,c=c.constructor.fromJSON,this.nestedLayout=c(b(this.options.layoutJSON,{parentContainerId:this.options.id}),a,this))}}setNestedLayout(){const a=
this.row.layout.board,c=a.options.gui;this.nestedLayout=new this.row.layout.constructor(a,b({},c&&c.layoutOptions,this.options.layout,{parentContainerId:this.options.id}),this)}mountComponentFromJSON(a,b){this.id!==a.options.parentElement&&(a.options.parentElement=this.id);return(a=c(a,b))?(this.mountedComponent=a,!0):!1}destroy(){const {row:a}=this;this.mountedComponent&&this.mountedComponent.destroy();a.unmountCell(this);const b=0===a.cells.length;super.destroy();b&&a.destroy()}toJSON(){return{$class:"Dashboards.Layout.Cell",
options:{containerId:this.container.id,parentContainerId:(this.row.container||{}).id||"",width:this.options.width,height:this.options.height,mountedComponentJSON:this.mountedComponent&&this.mountedComponent.toJSON(),style:this.options.style,layoutJSON:this.nestedLayout&&this.nestedLayout.toJSON()}}}changeVisibility(b=!0){super.changeVisibility(b);const c=this,h=c.row;c.row.getVisibleCells().length?c.isVisible&&!h.isVisible&&c.row.show():c.row.hide();setTimeout(()=>{a(h,"cellChange",{row:h,cell:c})},
0)}getParentCell(a){let b;if(a<=this.row.layout.level){if(this.row.layout.level===a)return this;if(0<=this.row.layout.level-1&&(b=this.row.layout.parentCell))return b.getParentCell(a)}}getOverlappingLevels(a,b,c){const h=this.row.layout.parentCell;let l=[this.row.layout.level];if(h){c=c||m.getOffsets(this)[a];const d=m.getOffsets(h)[a];Math.abs(c-d)<b&&(l=[...l,...h.getOverlappingLevels(a,b,d)])}return l}reflow(a){a=a||this.row.layout.board.getLayoutContainerSize();const b=this.options.responsive,
c=this.options.width;if(this.container){let h="";b&&b[a]&&b[a].width?h=this.convertWidthToValue(b[a].width):c&&(h=this.convertWidthToValue(c));this.setSize(h||"auto")}}setSize(b){const c=this.row.layout.board.editMode;this.container&&("auto"===b&&"1 1 0%"!==this.container.style.flex?this.container.style.flex="1 1 0%":(b=this.convertWidthToValue(b))&&this.container.style.flex!=="0 0 "+b&&(this.container.style.flex="0 0 "+b),c&&(c.hideContextPointer(),c.cellToolbar&&c.cellToolbar.isVisible&&(c.cellToolbar.cell===
this?c.cellToolbar.showToolbar(this):c.cellToolbar.hide())),a(this.row.layout.board,"cellResize",{cell:this}),a(this.row,"cellChange",{cell:this,row:this.row}))}updateSize(a,b){b=b||this.row.layout.board.getLayoutContainerSize();this.options.responsive||(this.options.responsive={});this.options.responsive[b]={width:a}}setHighlight(a){var b=this.row.layout.board.editMode;if(this.container&&b){b=this.container;const c=b.classList.contains(e.classNames.cellEditHighlight);a||c?a&&c&&(b.classList.remove(e.classNames.cellEditHighlight),
this.row.layout.board.container.classList.remove(e.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!1):(b.classList.add(e.classNames.cellEditHighlight),this.row.layout.board.container.classList.add(e.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!0)}}setActiveState(){this.row.layout.board.mountedComponents.forEach(a=>{a.cell.container&&a.cell.container.classList.remove(g.classNames.cellActive)});this.container&&this.container.classList.add(g.classNames.cellActive)}convertWidthToValue(a){return"number"===
typeof a?a+"px":/px/.test(a)?a:m.getPercentageWidth(a)||""}}return k});n(g,"Dashboards/Layout/Row.js",[g["Dashboards/Globals.js"],g["Dashboards/Layout/Cell.js"],g["Dashboards/Layout/GUIElement.js"],g["Core/Utilities.js"],g["Dashboards/EditMode/EditGlobals.js"]],function(f,e,g,m,d){const {pick:c,defined:b,merge:a,objectEach:k,fireEvent:l}=m;class p extends g{static fromJSON(a,b){if(b){a=a.options;let c=a.containerId||"";c&&b.copyId&&(c=c+"_"+b.copyId);return new p(b,{id:c,parentContainerId:b.container&&
b.container.id||a.parentContainerId,cellsJSON:a.cells,style:a.style})}}static setContainerHeight(a,b){b&&(a.style.height=b+"px")}constructor(b,c,d){super();this.type=f.guiElementType.row;this.layout=b;this.cells=[];this.options=c;this.isVisible=!0;const h=document.getElementById(c.parentContainerId||"")||b.container;if(h){const l=b.options||{};this.setElementContainer({render:b.board.guiEnabled,parentContainer:h,attribs:{id:c.id,className:f.classNames.row+" "+(l.rowClassName||"")},element:d,elementId:c.id,
style:a(l.style,c.style)});this.options.cells&&this.setCells();c.cellsJSON&&!this.cells.length&&this.setCellsFromJSON(c.cellsJSON)}}setCells(){var a=(this.layout.options||{}).cellClassName||"";a=c(this.options.cells,this.container&&this.container.getElementsByClassName(a))||[];let b,d,l;d=0;for(l=a.length;d<l;++d)b=a[d],this.addCell(this.layout.board.guiEnabled?b:{id:""},b instanceof HTMLElement?b:void 0)}setCellsFromJSON(a){const b=[];let c,h;for(let d=0,l=a.length;d<l;++d)if(h=a[d],c=e.fromJSON({$class:h.$class,
options:{containerId:h.options.containerId,parentContainerId:h.options.parentContainerId,width:h.options.width,height:h.options.height,style:h.options.style,layoutJSON:h.options.layoutJSON,mountedComponentJSON:void 0}},this))this.cells.push(c),h.options.mountedComponentJSON&&b.push({cell:c,mountedComponentJSON:h.options.mountedComponentJSON});for(let a=0,h=b.length;a<h;++a)b[a].cell.mountComponentFromJSON(b[a].mountedComponentJSON,(c||{}).container)}addCell(a,c,d){a=new e(this,a,c);b(d)?this.mountCell(a,
d):this.cells.push(a);this.layout.board.editMode&&this.layout.board.editMode.setCellEvents(a);return a}destroy(){const {layout:a}=this;for(let a=0,b=this.cells.length;a<b;++a)this.cells[a]&&this.cells[a].destroy();this.layout&&(this.layout.unmountRow(this),super.destroy(),0===a.rows.length&&a.destroy())}toJSON(){const a=(this.layout.container||{}).id||"",b=[];for(let a=0,c=this.cells.length;a<c;++a)b.push(this.cells[a].toJSON());return{$class:"Dashboards.Layout.Row",options:{containerId:this.container.id,
parentContainerId:a,cells:b,style:this.options.style}}}setSize(a){p.setContainerHeight(this.container,a)}getCellIndex(a){for(let b=0,c=this.cells.length;b<c;++b)if(this.cells[b].id===a.id)return b}mountCell(a,b=0){const c=this,h=c.cells[b],d=c.cells[b-1];a.container&&(h&&h.container?h.container.parentNode.insertBefore(a.container,h.container):d&&d.container?d.container.parentNode.insertBefore(a.container,d.container.nextSibling):d||h||!c.container||c.container.appendChild(a.container),c.cells.splice(b,
0,a),a.row=c,setTimeout(()=>{l(c,"cellChange",{row:c,cell:a})},0))}unmountCell(a){const c=this.getCellIndex(a);b(c)&&this.cells.splice(c,1);setTimeout(()=>{l(this,"cellChange",{row:this,cell:a})},0)}getVisibleCells(){const a=[];for(let b=0,c=this.cells.length;b<c;++b)this.cells[b].isVisible&&a.push(this.cells[b]);return a}changeVisibility(a=!0,b){super.changeVisibility(a,b);this.layout.getVisibleRows().length?this.isVisible&&!this.layout.isVisible&&this.layout.show():this.layout.hide()}show(){this.changeVisibility(!0,
"flex")}setHighlight(a){if(this.container){const b=this.container,c=b.classList.contains(d.classNames.rowContextHighlight);a||c?a&&c&&b.classList.remove(d.classNames.rowContextHighlight):b.classList.add(d.classNames.rowContextHighlight)}}getRowLevels(){const a={},b=[];let c,d;for(let b=0,h=this.cells.length;b<h;++b)c=this.cells[b],c.isVisible&&(d=g.getOffsets(c),a[d.top]||(a[d.top]={top:d.top,bottom:d.bottom,cells:[]}),a[d.top].bottom<d.bottom&&(a[d.top].bottom=d.bottom),a[d.top].cells.push(c));k(a,
a=>{b.push(a)});return b}getRowLevelInfo(a){const b=this.getRowLevels();let c;for(let h=0,d=b.length;h<d;++h)b[h].top<=a&&b[h].bottom>a&&(c={index:h,rowLevels:b,rowLevel:b[h]});return c}}return p});n(g,"Dashboards/Layout/Layout.js",[g["Dashboards/Utilities.js"],g["Core/Utilities.js"],g["Dashboards/Layout/Row.js"],g["Dashboards/Layout/GUIElement.js"],g["Dashboards/Globals.js"]],function(f,e,g,m,d){const {uniqueKey:c}=f,{pick:b,defined:a}=e;class k extends m{static fromJSON(a,b,h){var d=a.options;a=
document.getElementById(a.options.containerId);(d=new k(b,{id:d.containerId,copyId:a?c():"",parentContainerId:d.parentContainerId||b.container.id,rowsJSON:d.rows,style:d.style},h),!h)&&b.layouts.push(d);return d}static importLocal(a,b){a=localStorage.getItem(d.classNamePrefix+a);let c;a&&(c=k.fromJSON(JSON.parse(a),b));return c}constructor(a,b,c){super();this.type=d.guiElementType.layout;this.board=a;this.rows=[];this.options=b;this.isVisible=!0;const h=c?c.container:document.getElementById(b.parentContainerId||
"")||a.layoutsWrapper;c?(this.parentCell=c,this.level=c.row.layout.level+1):this.level=0;h&&(b.copyId&&(this.copyId=b.copyId),this.setElementContainer({render:a.guiEnabled,parentContainer:h,attribs:{id:b.id+(this.copyId?"_"+this.copyId:""),className:d.classNames.layout+" "+((this.options||{}).rowClassName||"")},elementId:b.id,style:this.options.style}),this.options.rows&&this.setRows(),b.rowsJSON&&!this.rows.length&&this.setRowsFromJSON(b.rowsJSON))}setRows(){const a=b(this.options.rows,this.container&&
this.container.getElementsByClassName(this.options.rowClassName||""))||[];let c,h,d;h=0;for(d=a.length;h<d;++h)c=a[h],this.addRow(this.board.guiEnabled?c:{},c instanceof HTMLElement?c:void 0)}setRowsFromJSON(a){let b;for(let c=0,d=a.length;c<d;++c)(b=g.fromJSON(a[c],this))&&this.rows.push(b)}addRow(b,c,h){b=new g(this,b,c);a(h)?this.mountRow(b,h):this.rows.push(b);this.board.editMode&&this.board.editMode.setRowEvents(b);return b}destroy(){for(var a=this.board.layouts.length-1;0<=a;a--)this.board.layouts[a]===
this&&this.board.layouts.splice(a,1);for(a=this.rows.length-1;0<=a;a--)this.rows[a].destroy();this.parentCell&&this.parentCell.destroy();super.destroy()}exportLocal(){localStorage.setItem(d.classNamePrefix+this.options.id,JSON.stringify(this.toJSON()))}getRowIndex(a){for(let b=0,c=this.rows.length;b<c;++b)if(this.rows[b]===a)return b}mountRow(a,b){const c=this.rows[b],d=this.rows[b-1];a.container&&(c&&c.container?c.container.parentNode.insertBefore(a.container,c.container):d&&d.container&&d.container.parentNode.insertBefore(a.container,
d.container.nextSibling),this.rows.splice(b,0,a),a.layout=this)}unmountRow(b){b=this.getRowIndex(b);a(b)&&this.rows.splice(b,1)}getVisibleRows(){const a=[];for(let b=0,c=this.rows.length;b<c;++b)this.rows[b].isVisible&&a.push(this.rows[b]);return a}changeVisibility(a=!0){super.changeVisibility(a);this.parentCell&&(this.isVisible&&!this.parentCell.isVisible?this.parentCell.show():!this.isVisible&&this.parentCell.isVisible&&this.parentCell.hide())}toJSON(){const a=(this.board.container||{}).id||"",
b=[];for(let a=0,c=this.rows.length;a<c;++a)b.push(this.rows[a].toJSON());return{$class:"Dashboards.Layout",options:{containerId:this.container.id,parentContainerId:a,rows:b,style:this.options.style}}}}return k});n(g,"Dashboards/EditMode/SidebarPopup.js",[g["Dashboards/EditMode/AccordionMenu.js"],g["Shared/BaseForm.js"],g["Dashboards/Actions/Bindings.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/EditMode/EditRenderer.js"],g["Dashboards/Layout/GUIElement.js"],g["Dashboards/Layout/Layout.js"],
g["Core/Utilities.js"]],function(f,e,g,m,d,c,b,a){const {createElement:k,merge:l}=a;class p extends e{constructor(a,b,c){super(a,b);this.isVisible=!1;this.editMode=c;this.accordionMenu=new f(this.iconsURL,this.hide.bind(this))}detectRightSidebar(a){const b=this.editMode.board.layoutsWrapper;return c.getOffsets(a,b).left<b.offsetWidth/2-10}removeClassNames(){const a=m.classNames,b=this.container.classList;b.remove(a.editSidebarShow);b.remove(a.editSidebarRight);b.remove(a.editSidebarRightShow)}addClassNames(a){const b=
this.container.classList;a&&b.add(m.classNames.editSidebarRight);setTimeout(()=>{b.add(m.classNames[a?"editSidebarRightShow":"editSidebarShow"])})}show(a){const b=this.editMode,c=!(!a||!this.detectRightSidebar(a));this.showPopup(m.classNames.editSidebarShow);this.addClassNames(c);b.resizer&&b.resizer.disableResizer();b.editCellContext&&b.editCellContext.row&&b.editCellContext.row.setHighlight(!0);b.hideToolbars(["cell","row"]);b.stopContextDetection();this.isVisible=!0;this.generateContent(a)}generateContent(a){this.renderHeader(a?
this.editMode.lang.settings:this.editMode.lang.addComponent,this.iconsURL+"settings.svg");a?"cell"===a.getType()&&(a=a.mountedComponent)&&this.accordionMenu.renderContent(this.container,a):this.renderAddComponentsList()}renderAddComponentsList(){const a=this,d=p.components;let l;const e=k("div",{className:m.classNames.editGridItems},{},a.container);for(let h=0,f=d.length;h<f;++h)l=k("div",{},{},e),l.addEventListener("mousedown",k=>{a.editMode.dragDrop&&(a.hide(),a.editMode.dragDrop.onDragStart(k,
void 0,k=>{if(0===this.editMode.board.layouts.length){k=this.editMode.board;var l=c.createElementId("layout");l=new b(k,{id:l,copyId:"",parentContainerId:k.container.id,rows:[{}],style:{}});k.layouts.push(l);k=l.rows[0]}if(k=d[h].onDrop(a,k))a.editMode.setEditCellContext(k),a.show(k),k.setHighlight()}))}),l.innerHTML=d[h].text}onDropNewComponent(a,b){const h=this.editMode.dragDrop;if(h)return a=("cell"===a.getType()?a.row:a).addCell({id:c.createElementId("col")}),h.onCellDragEnd(a),b=l(b,{cell:a.id}),
g.addComponent(b,a),a}hide(){const a=this.editMode,b=a.editCellContext;this.closePopup();this.removeClassNames();a.isEditOverlayActive&&a.setEditOverlay(!0);b&&b.row&&(a.showToolbars(["cell","row"],b),b.row.setHighlight(),b.isHighlighted&&b.setHighlight(!0));a.isContextDetectionActive=!0;this.isVisible=!1}closeButtonEvents(){this.hide()}renderHeader(a,b){if(b=d.renderIcon(this.container,{icon:b,className:m.classNames.editSidebarTitle}))b.textContent=a}addCloseButton(a=m.classNames.popupCloseButton){return super.addCloseButton.call(this,
a)}createPopupContainer(a,b=m.classNames.editSidebar){return super.createPopupContainer.call(this,a,b)}}p.components=[{text:"layout",onDrop:function(a,d){if(d){a=("cell"===d.getType()?d.row:d).layout.board;var h=c.createElementId("layout");d=c.createElementId("cell");h=new b(a,{id:h,copyId:"",parentContainerId:a.container.id,rows:[{cells:[{id:d}]}],style:{}});a.layouts.push(h);g.addComponent({type:"HTML",cell:d,elements:[{tagName:"div",style:{"text-align":"center"},textContent:"Placeholder text"}]})}}},
{text:"chart",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"Highcharts",chartOptions:{series:[{name:"Series from options",data:[1,2,1,4]}],chart:{animation:!1,type:"pie",zooming:{}}}})}},{text:"HTML",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"HTML",elements:[{tagName:"img",attributes:{src:"https://www.highcharts.com/samples/graphics/stock-dark.svg"}}]})}},{text:"datagrid",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",
type:"DataGrid"})}},{text:"KPI",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"KPI",title:"Example KPI",value:70})}}];return p});n(g,"Dashboards/EditMode/EditContextMenu.js",[g["Dashboards/EditMode/EditGlobals.js"],g["Core/Utilities.js"],g["Dashboards/EditMode/Menu/Menu.js"]],function(f,e,g){const {addEvent:m,merge:d}=e;class c extends g{constructor(b,a,k){super(k.board.container,d(c.defaultOptions,a||{}),k);this.editMode=k;this.options=d(c.defaultOptions,a||{});this.container.style.width=
this.options.width+"px";super.initItems(c.items);if(this.options.items){b=[];for(let a=0,c=this.options.items.length;a<c;++a)"string"===typeof this.options.items[a]?b.push(this.options.items[a]):this.options.items[a].id&&b.push(this.options.items[a].id);this.setActiveItems(b)}this.initEvents()}initEvents(){const b=this;m(document,"click",a=>{a.target!==this.container&&a.target!==b.editMode.tools.contextButtonElement&&!a.target.classList.contains(f.classNames.toggleSlider)&&"INPUT"!==a.target.tagName&&
this.isVisible&&this.setVisible(!1)});m(q,"resize",()=>{b.setVisible(!1)})}setVisible(b){this.container&&(b?(this.container.style.display="block",this.isVisible=!0):(this.container.style.display="none",this.isVisible=!1))}updatePosition(b,a,c){const d=this.options.width||0;a=b?b.offsetLeft-d+b.offsetWidth:a;b=b?b.offsetTop+b.offsetHeight:c;a&&b&&(this.container.style.left=a+"px",this.container.style.top=b+"px")}}c.defaultOptions={enabled:!0,width:150,className:f.classNames.contextMenu,itemsClassName:f.classNames.contextMenuItem,
items:["editMode"]};c.items=d(g.items,{editMode:{id:"editMode",type:"toggle",getValue:function(b){return b.menu.editMode.isActive()},langKey:"editMode",events:{click:function(){this.menu.editMode.onEditModeToggle()}}}});return c});n(g,"Dashboards/Actions/ContextDetection.js",[g["Core/Utilities.js"],g["Dashboards/Layout/GUIElement.js"]],function(f,e){const {defined:g}=f;class m{static isGUIElementOnParentEdge(d,c){const b="top"===c||"bottom"===c?d.row.layout.getVisibleRows():"left"===c||"right"===
c?d.row.getVisibleCells():[],a=b.length-1;return b[a]===d&&"right"===c||b[a]===d.row&&"bottom"===c||b[0]===d&&"left"===c||b[0]===d.row&&"top"===c}static getContextLevel(d,c,b,a){const k=d.getOverlappingLevels(a,c/2);a=k[k.length-1];c=d.row.layout.level-Math.floor(b/(c/k.length));return c=c<a?a:c>d.row.layout.level?d.row.layout.level:c}static getContext(d,c,b){let a;var k=e.getOffsets(d);const {width:l,height:f}=e.getDimFromOffsets(k);l<2*b&&(b=l/2);var h=c.clientX-k.left;c=c.clientY-k.top;k=(k=h>=
-b&&h<=b?"left":h-l>=-b&&h-l<=b?"right":"")?k:c>=-b&&c<=b?"top":c-f>=-b&&c-f<=b?"bottom":"";switch(k){case "right":a=h-l+b;break;case "left":a=b-h;break;case "top":a=b-c;break;case "bottom":a=c-f+b}h={cell:d,side:k};0!==d.row.layout.level&&k&&m.isGUIElementOnParentEdge(d,k)&&g(a)&&(b=m.getContextLevel(d,b,a,k),d=d.getParentCell(b))&&(h.cell=d);return h}}return m});n(g,"Dashboards/Actions/DragDrop.js",[g["Core/Utilities.js"],g["Dashboards/Globals.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/Layout/GUIElement.js"],
g["Dashboards/Actions/ContextDetection.js"]],function(f,e,g,m,d){const {addEvent:c,merge:b,css:a,fireEvent:k,createElement:l}=f;class p{constructor(a,c){this.editMode=a;this.options=b(p.defaultOptions,c);this.mockElement=l("div",{className:g.classNames.dragMock},{},a.board.container);this.dropPointer={isVisible:!1,align:"",element:l("div",{className:g.classNames.dropPointer},{},a.board.container)};this.isActive=!1;this.initEvents()}showDropPointer(b,c,d,k){this.dropPointer.isVisible=!0;a(this.dropPointer.element,
{display:"block",left:b+"px",top:c+"px",height:k+"px",width:d+"px"})}hideDropPointer(){this.dropPointer.isVisible&&(this.dropPointer.isVisible=!1,this.dropPointer.align="",this.dropPointer.element.style.display="none")}setMockElementPosition(b){const c=this.editMode.board.container.getBoundingClientRect(),d=this.mockElement.clientWidth/2;a(this.mockElement,{left:b.clientX-c.left-d+"px",top:b.clientY-c.top-d+"px"})}initEvents(){c(document,"mousemove",this.onDrag.bind(this));c(document,"mouseup",this.onDragEnd.bind(this))}onDragStart(b,
c,d){this.isActive=!0;this.editMode.hideToolbars(["cell","row"]);this.editMode.resizer&&this.editMode.resizer.disableResizer();this.setMockElementPosition(b);c?(this.context=c,c.hide(),c.getType()===e.guiElementType.cell&&(k(this.editMode.board,"cellResize",{cell:c}),k(c.row,"cellChange",{cell:c,row:c.row}))):d&&(this.dragEndCallback=d);a(this.mockElement,{cursor:"grabbing",display:"block"})}onDrag(a){if(this.isActive)if(this.setMockElementPosition(a),this.context)if(this.context.getType()===e.guiElementType.cell)this.onCellDrag(a);
else{if(this.context.getType()===e.guiElementType.row)this.onRowDrag(a)}else if(this.dragEndCallback)this.onCellDrag(a)}onDragEnd(){if(this.isActive)if(this.isActive=!1,a(this.mockElement,{cursor:"grab",display:"none"}),this.context){if(this.context.getType()===e.guiElementType.cell)this.onCellDragEnd();else if(this.context.getType()===e.guiElementType.row)this.onRowDragEnd();this.context=void 0;this.editMode.editCellContext&&(this.editMode.showToolbars(["row","cell"],this.editMode.editCellContext),
this.editMode.resizer&&this.editMode.resizer.setSnapPositions(this.editMode.editCellContext))}else this.dragEndCallback&&(this.dragEndCallback(this.dropContext),this.dragEndCallback=void 0,this.hideDropPointer())}onRowDrag(a,b){const c=this.mouseCellContext,h=this.options.dropPointerSize,k=this.options.rowDropOffset;let l=!1;if(c){a=b||d.getContext(c,a,k);b=a.side;if(this.dropPointer.align!==b||this.dropContext!==a.cell.row)l=!0,this.dropPointer.align=b,this.dropContext=a.cell.row;if(b){a=m.getOffsets(this.dropContext,
this.editMode.board.container);const {width:b,height:c}=m.getDimFromOffsets(a);this.dropPointer.isVisible&&!l||this.showDropPointer(a.left,a.top+("bottom"===this.dropPointer.align?c:0)-h/2,b,h)}else this.dropContext=void 0,this.hideDropPointer()}}onRowDragEnd(){const a=this.context,b=this.dropContext;this.dropPointer.align&&(a.layout.unmountRow(a),0===a.layout.rows.length&&a.layout.destroy(),b.layout.mountRow(a,(b.layout.getRowIndex(b)||0)+("bottom"===this.dropPointer.align?1:0)),a.cells[0]&&(k(this.editMode.board,
"cellResize",{cell:a.cells[0]}),k(a,"cellChange",{cell:a.cells[0],row:a})));this.hideDropPointer();a.show()}onCellDrag(a,b){const c=this.mouseCellContext,h=this.options.cellDropOffset;if(c||b)this.onCellDragCellCtx(a,b||d.getContext(c,a,h));else if(this.mouseRowContext)this.onCellDragRowCtx(a,this.mouseRowContext)}onCellDragCellCtx(a,b){var c=this.options.dropPointerSize;const d=b.side;let h=!1;if(this.dropPointer.align!==d||this.dropContext!==b.cell)h=!0,this.dropPointer.align=d,this.dropContext=
b.cell;if("right"===d||"left"===d){b=m.getOffsets(this.dropContext,this.editMode.board.container);const {width:k,height:l}=m.getDimFromOffsets(b);if(!this.dropPointer.isVisible||h)a=this.dropContext.row.getRowLevelInfo(a.clientY),this.showDropPointer(b.left+("right"===d?k:0)-c/2,b.top,c,a?a.rowLevel.bottom-a.rowLevel.top:l)}else if("top"===d||"bottom"===d){if(c=m.getOffsets(this.dropContext),(c=this.dropContext.row.getRowLevelInfo(c.top))&&(0===c.index&&"top"===d||c.index===c.rowLevels.length-1&&
"bottom"===d))this.onRowDrag(a,b)}else this.dropContext=void 0,this.hideDropPointer()}onCellDragRowCtx(a,b){const c=this.options.dropPointerSize,d=m.getOffsets(b);b=b.getRowLevelInfo(a.clientY);let h,k;if(b)for(let l=0,e=b.rowLevel.cells.length;l<e;++l){h=b.rowLevel.cells[l];k=m.getOffsets(h);const {width:f,height:g}=m.getDimFromOffsets(k),p=this.editMode.board.container.getBoundingClientRect(),r=b.rowLevel.bottom-b.rowLevel.top;if(h.isVisible)if(g<.8*r&&k.left<=a.clientX&&k.right>=a.clientX)!(k.top>
a.clientY)&&k.bottom<a.clientY&&(this.showDropPointer(k.left-p.left,k.top-p.top+g,f,r-g),this.dropPointer.align="nestedBottom",this.dropContext=h),l=e;else{if(0===l&&k.left>a.clientX||l===e-1&&k.right<a.clientX){if(!(k.left>a.clientX)&&k.right<a.clientX){const b=d.right-k.right;this.showDropPointer(k.left+(0===l&&k.left>a.clientX?0:f)-c/2-p.left,k.top-p.top,b>c?b:c,r||g);this.dropPointer.align="right";this.dropContext=h}l=e}}else h.isVisible||h!==this.context||(this.dropContext=void 0,this.hideDropPointer())}}onCellDragEnd(a){a=
a||this.context;let b=this.dropContext;if(this.dropPointer.align&&b&&a)if(a.row.unmountCell(a),0===a.row.cells.length&&a.row.destroy(),"top"!==this.dropPointer.align&&"bottom"!==this.dropPointer.align||b.getType()!==e.guiElementType.row)if("nestedBottom"===this.dropPointer.align&&b.getType()===e.guiElementType.cell){var c=b.row;const d=c.getCellIndex(b);c.unmountCell(b);c=c.addCell({id:m.createElementId("col-nested-"),layout:{rows:[{},{}]}},void 0,d);c.nestedLayout&&(c.nestedLayout.rows[0].mountCell(b),
c.nestedLayout.rows[1].mountCell(a))}else b.getType()===e.guiElementType.cell&&b.row.mountCell(a,(b.row.getCellIndex(b)||0)+("right"===this.dropPointer.align?1:0));else b.layout.addRow({},void 0,(b.layout.getRowIndex(b)||0)+("bottom"===this.dropPointer.align?1:0)).mountCell(a,0);k(this.editMode.board,"cellResize",{cell:a});k(a.row,"cellChange",{cell:a,row:a.row});this.hideDropPointer();a.show()}}p.defaultOptions={enabled:!0,rowDropOffset:30,cellDropOffset:30,dropPointerSize:16};return p});n(g,"Dashboards/Actions/Resizer.js",
[g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/Layout/GUIElement.js"],g["Core/Utilities.js"]],function(f,e,g){const {merge:m,addEvent:d,createElement:c,fireEvent:b,removeEvent:a,pick:k}=g;class l{static fromJSON(a,b){return new l(a,b.options)}constructor(a,b){this.editMode=a;this.options=m({},l.defaultOptions,a.options.resize,b);this.currentCell=void 0;this.isX=-1<this.options.type.indexOf("x");this.isY=-1<this.options.type.indexOf("y");this.isActive=!1;this.startX=0;this.tempSiblingsWidth=
[];this.addSnaps(this.options)}addSnaps(){const a=this.options.snap.height||0,b=this.editMode.board.container;this.snapRight=c("div",{className:f.classNames.resizeSnap+" "+f.classNames.resizeSnapX},{width:(this.options.snap.width||0)+"px",left:"-9999px"},b);this.snapBottom=c("div",{className:f.classNames.resizeSnap+" "+f.classNames.resizeSnapY},{height:a+"px",top:"-9999px",left:"0px"},b);this.addResizeEvents()}disableResizer(){this.isActive=!1;this.currentCell=this.currentDimension=void 0;this.snapRight&&
(this.snapRight.style.left="-9999px");this.snapBottom&&(this.snapBottom.style.left="-9999px")}setSnapPositions(a){this.currentCell=a;var b=e.getOffsets(a,this.editMode.board.container);a=b.left||0;const c=b.top||0,{width:d,height:k}=e.getDimFromOffsets(b);b=this.options.snap.width||0;const l=this.options.snap.height||0;this.snapRight&&(this.snapRight.style.left=a+d-b+"px",this.snapRight.style.top=c+k/2-l/2+"px");this.snapBottom&&(this.snapBottom.style.top=c+k-l+"px",this.snapBottom.style.left=a+d/
2-b/2+"px")}setTempWidthSiblings(){const a=this.currentCell;if(a){const c=this.editMode.rwdMode;var b=e.getOffsets(a);b=(b=a.row.getRowLevelInfo(b.top))&&b.rowLevel.cells||[];let d,h,l;for(let e=0,f=b.length;e<f;++e){h=b[e];d=h.container;l=k(((h.options.responsive||{})[c]||{}).width,h.options.width);if(h===a)break;!d||l&&"auto"!==l||(d.style.flex="0 0 "+d.offsetWidth+"px",this.tempSiblingsWidth.push(h))}}}revertSiblingsAutoWidth(){const a=this.tempSiblingsWidth;let c,d;for(let b=0,k=a.length;b<k;++b)if(c=
a[b].container)c.style.flex="1 1 0%",d=a[b];this.tempSiblingsWidth=[];d&&(b(this.editMode.board,"cellResize",{cell:d}),b(d.row,"cellChange",{cell:d,row:d.row}))}addResizeEvents(){const a=this;let b,c,k,l;a.mouseDownSnapX=b=function(b){a.isActive=!0;a.currentDimension="x";a.editMode.hideToolbars(["row","cell"]);a.setTempWidthSiblings();a.startX=b.clientX};a.mouseDownSnapY=c=function(){a.isActive=!0;a.currentDimension="y";a.editMode.hideToolbars(["row","cell"])};a.mouseMoveSnap=k=function(b){if(a.isActive)a.onMouseMove(b)};
a.mouseUpSnap=l=function(){a.isActive&&(a.isActive=!1,a.currentDimension=void 0,a.revertSiblingsAutoWidth(),a.editMode.showToolbars(["row","cell"],a.currentCell),a.currentCell&&a.setSnapPositions(a.currentCell))};d(this.snapRight,"mousedown",b);d(this.snapBottom,"mousedown",c);d(document,"mousemove",k);d(document,"mouseup",l);d(q,"resize",()=>{a.currentCell&&a.setSnapPositions(a.currentCell)})}onMouseMove(a){const c=this.currentCell,d=c&&c.container,k=this.currentDimension;var l=this.editMode.sidebar;
l=l&&l.editMode.rwdMode;if(c&&d&&!((c.row.layout.board.editMode||{}).dragDrop||{}).isActive){const h=e.getOffsets(c);var {width:f}=e.getDimFromOffsets(e.getOffsets(c.row));"x"===k&&(f=Math.min(a.clientX-h.left,f)/f*100+"%",c.setSize(f),c.updateSize(f,l),this.startX=a.clientX);"y"===k&&(d.style.height=a.clientY-h.top+"px");b(this.editMode.board,"cellResize",{cell:c});b(c.row,"cellChange",{cell:c,row:c.row});this.setSnapPositions(c)}}destroy(){const b=["snapRight","snapBottom"];let c;a(document,"mousemove");
a(document,"mouseup");for(let d=0,k=b.length;d<k;++d)c=this[b[d]],a(c,"mousedown"),c.remove()}toJSON(){const a=this.options;return{$class:"Dashboards.Action.Resizer",options:{enabled:a.enabled,styles:{minWidth:a.styles.minWidth,minHeight:a.styles.minHeight},type:a.type,snap:{width:a.snap.width,height:a.snap.height}}}}}l.defaultOptions={enabled:!0,styles:{minWidth:20,minHeight:50},type:"xy",snap:{width:20,height:20}};return l});n(g,"Dashboards/EditMode/ConfirmationPopup.js",[g["Core/Utilities.js"],
g["Shared/BaseForm.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/EditMode/EditRenderer.js"]],function(f,e,g,m){const {createElement:d}=f;class c extends e{constructor(b,a,c,d){super(b,a);this.editMode=c;this.options=d}createPopupContainer(b,a=g.classNames.confirmationPopup){return super.createPopupContainer(b,a)}addCloseButton(b=g.classNames.popupCloseButton){return super.addCloseButton(b)}renderContent(b){this.contentContainer=d("div",{className:g.classNames.popupContentContainer},{},
this.container);const a=this.contentContainer.parentNode;a.style.marginTop="0px";const c=a.getBoundingClientRect().top;a.style.marginTop=(0>c?Math.abs(c-200):200)+"px";m.renderText(this.contentContainer,{title:b.text||""});m.renderButton(this.contentContainer,{text:b.cancelButton.value,callback:b.cancelButton.callback});m.renderButton(this.contentContainer,{text:b.confirmButton.value,className:g.classNames.popupConfirmBtn,callback:()=>{b.confirmButton.callback.call(b.confirmButton.context);this.closePopup()}})}show(b){this.showPopup();
this.renderContent(b);this.editMode.setEditOverlay()}closePopup(){super.closePopup();this.editMode.setEditOverlay(!0)}}return c});n(g,"Dashboards/EditMode/EditMode.js",[g["Core/Utilities.js"],g["Dashboards/EditMode/EditGlobals.js"],g["Dashboards/EditMode/EditRenderer.js"],g["Dashboards/EditMode/Toolbar/CellEditToolbar.js"],g["Dashboards/EditMode/Toolbar/RowEditToolbar.js"],g["Dashboards/EditMode/SidebarPopup.js"],g["Dashboards/EditMode/EditContextMenu.js"],g["Dashboards/Actions/DragDrop.js"],g["Dashboards/Actions/Resizer.js"],
g["Dashboards/EditMode/ConfirmationPopup.js"],g["Dashboards/Actions/ContextDetection.js"],g["Dashboards/Layout/GUIElement.js"]],function(f,e,g,m,d,c,b,a,k,l,p,h){const {addEvent:r,createElement:x,css:w,merge:v}=f;class n{constructor(a,b){this.active=!1;this.iconsURLPrefix="https://code.highcharts.com/dashboards/11.1.0/gfx/dashboard-icons/";this.iconsURLPrefix=b&&b.iconsURLPrefix||this.iconsURLPrefix;this.options=v({dragDrop:{enabled:!0},resize:{enabled:!0},enabled:!0,contextMenu:{icon:this.iconsURLPrefix+
"menu.svg"},tools:{addComponentBtn:{icon:this.iconsURLPrefix+"add.svg"},rwdIcons:{small:this.iconsURLPrefix+"smartphone.svg",medium:this.iconsURLPrefix+"tablet.svg",large:this.iconsURLPrefix+"computer.svg"}},confirmationPopup:{close:{icon:this.iconsURLPrefix+"close.svg"}}},b||{});this.board=a;this.lang=v({},e.lang,this.options.lang);this.contextPointer={isVisible:!1,element:x("div",{className:e.classNames.contextDetectionPointer},{},this.board.container)};this.isContextDetectionActive=this.isInitialized=
!1;this.tools={};this.rwdMenu=[];this.rwdMode=this.board.getLayoutContainerSize();this.createTools();this.confirmationPopup=new l(a.container,this.iconsURLPrefix,this,this.options.confirmationPopup);this.editOverlay=x("div",{className:e.classNames.editOverlay},{},a.container);this.isEditOverlayActive=!1}onContextBtnClick(){this.tools.contextMenu||(this.tools.contextMenu=new b(this.board.container,this.options.contextMenu||{},this));this.tools.contextMenu&&(this.tools.contextMenu.isVisible||this.tools.contextMenu.updatePosition(this.tools.contextButtonElement),
this.tools.contextMenu.setVisible(!this.tools.contextMenu.isVisible))}onEditModeToggle(){this.active?this.deactivate():this.activate()}init(){var b;if(null===(b=this.options.resize)||void 0===b?0:b.enabled)this.resizer=new k(this,this.options.resize);this.dragDrop=new a(this,this.options.dragDrop);this.rowToolbar||(this.rowToolbar=new d(this));this.cellToolbar||(this.cellToolbar=new m(this));this.sidebar||(this.sidebar=new c(this.board.container,this.iconsURLPrefix,this));this.isInitialized=!0}initEvents(){const a=
this,b=a.board;for(let c=0,d=b.layouts.length;c<d;++c)a.setLayoutEvents(b.layouts[c]);a.cellToolbar&&(r(a.cellToolbar.container,"mouseenter",function(){a.stopContextDetection()}),r(a.cellToolbar.container,"mouseleave",function(){a.isContextDetectionActive=!0}));a.rowToolbar&&(r(a.rowToolbar.container,"mouseenter",function(){a.stopContextDetection()}),r(a.rowToolbar.container,"mouseleave",function(){a.isContextDetectionActive=!0}));r(b.layoutsWrapper,"mousemove",a.onDetectContext.bind(a));r(b.layoutsWrapper,
"click",a.onContextConfirm.bind(a));r(b.layoutsWrapper,"mouseleave",()=>{a.hideContextPointer()})}setLayoutEvents(a){for(let b=0,c=a.rows.length;b<c;++b){const c=a.rows[b];this.setRowEvents(c);for(let a=0,b=c.cells.length;a<b;++a)this.setCellEvents(c.cells[a])}}setRowEvents(a){const b=this;if(b.dragDrop){const c=b.dragDrop;r(a.container,"mouseenter",function(){b.isContextDetectionActive&&(b.mouseRowContext=a)});r(a.container,"mousemove",function(b){c.isActive&&b.target===a.container&&(c.mouseRowContext=
a)});r(a.container,"mouseleave",function(){c.isActive&&c.mouseRowContext===a&&(c.mouseRowContext=void 0);b.isContextDetectionActive&&(b.mouseRowContext=void 0)})}}setCellEvents(a){const b=this;if(a.nestedLayout)b.setLayoutEvents(a.nestedLayout);else if(b.cellToolbar&&a.container&&(b.dragDrop||b.resizer)){const c=b.dragDrop;r(a.container,"mouseenter",function(){b.isContextDetectionActive&&(b.mouseCellContext=a)});r(a.container,"mousemove",function(b){c&&c.isActive&&b.target===a.container&&(c.mouseCellContext=
a,c.mouseRowContext=void 0)});r(a.container,"mouseleave",function(){c&&c.isActive&&c.mouseCellContext===a&&(c.mouseCellContext=void 0);b.isContextDetectionActive&&(b.mouseCellContext=void 0)})}}activate(){this.isInitialized||(this.init(),this.initEvents());this.board.container.classList.add(e.classNames.editModeEnabled);this.addComponentBtn&&(this.addComponentBtn.style.display="block");this.rwdMode=this.board.getLayoutContainerSize();this.showRwdButtons();this.isContextDetectionActive=this.active=
!0}deactivate(){this.board.container.classList.remove(e.classNames.editModeEnabled);this.hideToolbars();this.editCellContext&&this.editCellContext.row.setHighlight(!0);this.addComponentBtn&&(this.addComponentBtn.style.display="none");this.resizer&&this.resizer.disableResizer();this.hideRwdButtons();this.board.layoutsWrapper.style.width="100%";this.board.reflow();this.active=!1;this.stopContextDetection();this.potentialCellContext=this.editCellContext=void 0}isActive(){return this.active}hideToolbars(a){a=
a||["cell","row","sidebar"];for(let b=0,c=a.length;b<c;++b)switch(a[b]){case "cell":this.cellToolbar&&this.cellToolbar.isVisible&&this.cellToolbar.hide();break;case "row":this.rowToolbar&&this.rowToolbar.isVisible&&this.rowToolbar.hide();break;case "sidebar":this.sidebar&&this.sidebar.isVisible&&this.sidebar.hide()}}showToolbars(a,b){a=a||["cell","row","sidebar"];for(let c=0,d=a.length;c<d;++c)switch(a[c]){case "cell":b&&this.cellToolbar&&(this.cellToolbar.isVisible=!0,this.cellToolbar.showToolbar(b));
break;case "row":b&&b.row&&this.rowToolbar&&(this.rowToolbar.isVisible=!0,this.rowToolbar.showToolbar(b.row));break;case "sidebar":this.sidebar&&!this.sidebar.isVisible&&this.sidebar.show()}}createTools(){var a,b;const c=this;var d=this.options;this.tools.container=document.createElement("div");this.tools.container.classList.add(e.classNames.editTools);this.board.layoutsWrapper.parentNode.insertBefore(this.tools.container,this.board.layoutsWrapper);d.contextMenu&&d.contextMenu.enabled&&(this.tools.contextButtonElement=
g.renderContextButton(this.tools.container,c));this.createRwdMenu();d=null===(b=null===(a=null===d||void 0===d?void 0:d.tools)||void 0===a?void 0:a.addComponentBtn)||void 0===b?void 0:b.icon;this.addComponentBtn=g.renderButton(this.tools.container,{className:e.classNames.editToolsBtn,icon:d,text:this.lang.addComponent,callback:()=>{c.sidebar&&(c.sidebar.show(),c.setEditOverlay())},style:{display:"none"}})}createRwdMenu(){const a=this.board.options.responsiveBreakpoints,b=this.tools.container;var c=
this.options;c=c&&c.tools&&c.tools.rwdIcons||{};for(const d in a)if(b){const k=g.renderButton(b,{className:e.classNames.editToolsBtn,icon:c[d]||"",text:this.lang[d],callback:b=>{b=b.target;b.classList.contains("selected")?(b.classList.remove("selected"),this.rwdMode=this.board.layoutsWrapper.style.width=""):(this.rwdMenu.forEach(a=>{a.classList.remove("selected")}),b.classList.add("selected"),this.board.layoutsWrapper.style.width=a[d]+"px",this.rwdMode=d);this.board.reflow()},style:{display:"none"}});
k&&this.rwdMenu.push(k)}}showRwdButtons(){for(let a=0,b=this.rwdMenu.length;a<b;++a)this.rwdMenu[a].style.display="block"}hideRwdButtons(){for(let a=0,b=this.rwdMenu.length;a<b;++a)this.rwdMenu[a].style.display="none"}onDetectContext(a){if(this.isActive()&&this.isContextDetectionActive&&(this.mouseCellContext||this.mouseRowContext)&&!(this.dragDrop||{}).isActive){let b;this.mouseCellContext?b=p.getContext(this.mouseCellContext,a,50).cell:this.mouseRowContext&&(a=this.mouseRowContext,b=a.layout.parentCell);
if(this.potentialCellContext=b){a=h.getOffsets(b,this.board.container);const {width:c,height:d}=h.getDimFromOffsets(a);this.showContextPointer(a.left,a.top,c,d)}}}stopContextDetection(){this.isContextDetectionActive=!1;this.hideContextPointer()}onContextConfirm(){this.isContextDetectionActive&&this.potentialCellContext&&this.editCellContext!==this.potentialCellContext&&this.setEditCellContext(this.potentialCellContext,this.editCellContext)}setEditCellContext(a,b){b=b&&b.row;this.editCellContext=a;
this.showToolbars(["row","cell"],a);b&&b===a.row||(b&&b.setHighlight(!0),a.row.setHighlight());this.resizer&&this.resizer.setSnapPositions(a)}showContextPointer(a,b,c,d){this.contextPointer.isVisible=!0;w(this.contextPointer.element,{display:"block",left:a+"px",top:b+"px",height:d+"px",width:c+"px"})}hideContextPointer(){this.contextPointer.isVisible&&(this.contextPointer.isVisible=!1,this.contextPointer.element.style.display="none")}setEditOverlay(a){const b=this.editOverlay,c=b.classList.contains(e.classNames.editOverlayActive);
a||c?a&&c&&(b.classList.remove(e.classNames.editOverlayActive),this.isEditOverlayActive=!1):(b.classList.add(e.classNames.editOverlayActive),this.isEditOverlayActive=!0)}}return n});n(g,"Dashboards/EditMode/Fullscreen.js",[g["Core/Utilities.js"],g["Dashboards/Globals.js"]],function(f,e){const {addEvent:g}=f;class m{constructor(d){this.isOpen=!1;this.board=d;this.board.boardWrapper.classList.add(e.classNamePrefix+"-fullscreen")}toggle(){this[this.isOpen?"close":"open"]()}open(){if(!this.isOpen){var d=
this,c=d.board,b=g(c.boardWrapper.ownerDocument,"fullscreenchange",function(){d.isOpen?(d.isOpen=!1,d.close()):(d.isOpen=!0,d.setButtonText())});d.unbindFullscreenEvent=()=>{b()};c.boardWrapper.requestFullscreen().catch(()=>{throw Error("Full screen is not supported.");})}}close(){const d=this.board;this.isOpen&&d.boardWrapper.ownerDocument instanceof Document&&void d.boardWrapper.ownerDocument.exitFullscreen();this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent());
this.isOpen=!1;this.setButtonText()}setButtonText(){var d=this.board.editMode,c=d&&d.tools.contextMenu;(c=c&&c.items.viewFullscreen)&&c.innerElement&&(d=d.lang,c.innerElement.innerHTML=(this.isOpen?d.exitFullscreen:d.viewFullscreen)||"")}}return m});n(g,"Dashboards/CallbackRegistry.js",[],function(){class f{constructor(){this.registry={}}addCallback(e,f){this.registry[e]=f}getCallback(e){return this.registry[e]}toJSON(){const e={};Object.keys(this.registry).forEach(f=>{const g=this.getCallback(f),
{func:d,type:c}=g;e[f]={func:d.toString(),type:c}});return e}}return f});n(g,"Dashboards/Components/EditableOptions.js",[],function(){class f{constructor(e,g=f.defaultBindings){this.component=e;this.bindings=g}getOptions(){const e=this.component.options.editableOptions;for(let g=0,d=e.length;g<d;g++){const c=e[g];if("connectorName"===c.name){var f=this.component.board;f=f?f.dataPool.getConnectorIds().map(b=>({name:b})):[];c.selectOptions=f}}return e}}f.defaultBindings={keyMap:{color:"colorPicker",
title:"text",caption:"text",style:"textarea"},typeMap:{string:"text",number:"input","boolean":"toggle"},skipRedraw:[]};f.defaultTypeMap={string:"text",number:"input","boolean":"toggle"};return f});n(g,"Dashboards/Components/ComponentUtilities.js",[],function(){var f;(function(e){function f(d,c){const b=q.getComputedStyle(d);return c.map(a=>b[a])}function g(d,c){c&&(d+="number"===typeof c?c:parseFloat(c));return d}e.getMargins=function(d,c=!0){var b=["borderLeft","borderRight"],a=["borderTop","borderBottom"];
return{y:f(d,["marginTop","marginBottom",...c?a:[]]).reduce(g,0),x:f(d,["marginLeft","marginTop",...c?b:[]]).reduce(g,0)}};e.getPaddings=function(d){return{x:f(d,["paddingLeft","paddingRight"]).reduce(g,0),y:f(d,["paddingTop","paddingBottom"]).reduce(g,0)}};e.getStyles=f;e.sumPixels=g})(f||(f={}));return f});n(g,"Dashboards/Components/SharedComponentState.js",[g["Dashboards/Serializable.js"],g["Core/Utilities.js"]],function(f,e){const {addEvent:g,fireEvent:m,merge:d}=e;class c{constructor(){this.columnVisibilityMap=
{};this.hiddenRowIndexes=[];this.selection={}}emit(b){m(this,b.type,b)}getColumnOrder(){return(this.columnOrder||[]).slice()}getColumnVisibility(b){return this.columnVisibilityMap[b]}getColumnSorter(){const b=(this.columnOrder||[]).slice();return b.length?(a,c)=>{a=b.indexOf(a);c=b.indexOf(c);return-1<a&&-1<c?a-c:-1<c?1:-1<a?-1:0}:()=>0}isSet(){return!0===this.isModified}on(b,a){return g(this,b,a)}setColumnOrder(b,a){const c=(this.columnOrder||[]).slice();b=b.slice();this.emit({type:"columnOrderChange",
detail:a,newColumnOrder:b,oldColumnOrder:c});this.columnOrder=b;this.isModified=!0;this.emit({type:"afterColumnOrderChange",detail:a,newColumnOrder:b,oldColumnOrder:c})}setColumnVisibility(b,a){this.columnVisibilityMap=d(this.columnVisibilityMap,b);this.emit({type:"afterColumnVisibilityChange",visibilityMap:this.columnVisibilityMap,detail:a})}setHiddenRows(b,a=!0){b.forEach(b=>{-1===this.hiddenRowIndexes.indexOf(b)&&a&&this.hiddenRowIndexes.push(b);-1<this.hiddenRowIndexes.indexOf(b)&&!a&&this.hiddenRowIndexes.splice(this.hiddenRowIndexes.indexOf(b),
1)});this.emit({type:"afterSetHiddenRows",hiddenRows:this.hiddenRowIndexes})}getHiddenRows(){return this.hiddenRowIndexes}setHoverPoint(b,a){const c=a&&a.isDataGrid;this.hoverPoint=c?void 0:b;b instanceof HTMLElement&&(this.hoverRow=c?b:void 0);this.emit({type:"afterHoverPointChange",hoverPoint:c?void 0:this.hoverPoint,hoverRow:c?this.hoverRow:void 0,detail:a})}getHoverPoint(){return this.hoverPoint}getSelection(){return this.selection}setSelection(b,a=!1,c){Object.keys(b).forEach(a=>{this.selection[a]=
b[a]});this.emit({type:"afterSelectionChange",selection:this.selection,reset:a,detail:c})}fromJSON(b){const a=new c,{columnOrder:d,visibilityMap:l,selection:e,hoverpoint:h}=b;d&&a.setColumnOrder(d);l&&a.setColumnVisibility(l);e&&a.setSelection(e);h&&a.setHoverPoint(h);return a}toJSON(){const b={$class:"Dashboards.SharedComponentState"};this.columnOrder&&(b.columnOrder=this.columnOrder.slice());if(this.hoverPoint){const {x:a,y:c,id:d}=this.hoverPoint;b.hoverPoint={x:a,y:c,id:d}}this.selection&&(b.selection=
this.selection);this.columnVisibilityMap&&(b.columnVisibility=this.columnVisibilityMap);return b}}f.registerClassPrototype("Dashboards.SharedComponentState",c.prototype);return c});n(g,"Dashboards/Components/ComponentGroup.js",[g["Dashboards/Components/SharedComponentState.js"]],function(f){class e{static getComponentGroup(e){if(this.componentGroups[e])return this.componentGroups[e]}static addComponentGroup(e){const {id:f}=e;this.componentGroups[f]||(this.componentGroups[f]=e)}static getGroupsFromComponent(e){return Object.keys(this.componentGroups).reduce((f,
d)=>{(d=this.getComponentGroup(d))&&-1<d.components.indexOf(e)&&f.push(d);return f},[])}constructor(g){this.state=new f;this.components=[];this.id=g;e.addComponentGroup(this)}addComponents(e){for(;e.length;){const f=e.pop();if(!f)break;-1===this.components.indexOf(f)&&this.components.push(f)}}removeComponents(e){for(;e.length;){var f=e.pop();if(!f)break;f=this.components.indexOf(f);-1<f&&this.components.splice(f,1)}}getSharedState(){return this.state}on(){throw Error("Method not implemented.");}emit(){throw Error("Method not implemented.");
}}e.componentGroups={};return e});n(g,"Dashboards/Components/Sync/Emitter.js",[],function(){class f{static register(e){const {id:f}=e;this.registry[f]=e}static get(e){return this.registry[e]}constructor(e,g){this.id=e;this.func=g;f.register(this)}create(e){this.callback=this.func.call(e)}remove(){this.callback&&this.callback()}}f.registry={};return f});n(g,"Dashboards/Components/Sync/Handler.js",[],function(){class f{static register(e){const {id:f}=e;this.registry[f]=e}static get(e){return this.registry[e]}constructor(e,
g,m){this.id=e;this.presentationStateTrigger=g;this.func=m;f.register(this)}create(e){const {activeGroup:f}=e,{func:g}=this;f&&this.presentationStateTrigger&&(this.callback=f.getSharedState().on(this.presentationStateTrigger,function(d){e.id!==(d.detail?d.detail.sender:void 0)&&g.call(e,d)}))}register(e){const {func:f}=this;this.callback=f.call(e)}remove(){this.callback&&this.callback()}}f.registry={};return f});n(g,"Dashboards/Components/Sync/Sync.js",[g["Dashboards/Components/Sync/Emitter.js"],
g["Dashboards/Components/Sync/Handler.js"]],function(f,e){class g{constructor(e,d=g.defaultHandlers){this.component=e;this.syncConfig=d;this.registeredSyncHandlers={};this.registeredSyncEmitters={};this.isSyncing=!1;this.listeners=[]}registerSyncEmitter(e){const {id:d}=e;this.registeredSyncEmitters[d]=e}isRegisteredEmitter(e){return!!this.registeredSyncEmitters[e]}registerSyncHandler(e){const {id:d}=e;this.registeredSyncHandlers[d]=e}isRegisteredHandler(e){return!!this.registeredSyncHandlers[e]}start(){const {syncConfig:m,
component:d}=this;Object.keys(m).forEach(c=>{let {emitter:b,handler:a}=m[c];if(a){"boolean"===typeof a&&(a=g.defaultHandlers[c].handler);"function"===typeof a&&(a=[c,void 0,a]);const b=new e(...a);this.isRegisteredHandler(b.id)||(this.registerSyncHandler(b),void 0!==a[1]?b.create(d):b.register(d))}b&&("boolean"===typeof b&&(b=g.defaultHandlers[c].emitter),"function"===typeof b&&(b=[c,b]),c=new f(...b),this.isRegisteredEmitter(c.id)||(this.registerSyncEmitter(c),c.create(d)))});this.isSyncing=!0;this.listeners.push(d.on("update",
()=>this.stop()))}stop(){const {component:e,listeners:d,registeredSyncHandlers:c,registeredSyncEmitters:b}=this;Object.keys(c).forEach(a=>{c[a].remove();delete c[a]});Object.keys(b).forEach(a=>{b[a].remove();delete b[a]});this.isSyncing=!1;for(let a=0,b=d.length;a<b;++a)d[a]();this.listeners.length=0;this.listeners.push(e.on("afterUpdate",()=>{this.start()}))}}g.defaultHandlers={};return g});n(g,"Dashboards/Components/Component.js",[g["Dashboards/CallbackRegistry.js"],g["Dashboards/Globals.js"],g["Dashboards/Components/EditableOptions.js"],
g["Core/Utilities.js"],g["Dashboards/Components/ComponentUtilities.js"],g["Dashboards/Components/ComponentGroup.js"],g["Dashboards/Utilities.js"],g["Dashboards/Components/Sync/Sync.js"]],function(f,e,g,m,d,c,b,a){var k=this&&this.__awaiter||function(a,b,c,d){function k(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,e){function l(a){try{f(d.next(a))}catch(G){e(G)}}function h(a){try{f(d["throw"](a))}catch(G){e(G)}}function f(a){a.done?c(a.value):k(a.value).then(l,
h)}f((d=d.apply(a,b||[])).next())})};const {classNamePrefix:l}=e,{createElement:p,isArray:h,merge:r,fireEvent:n,addEvent:w,objectEach:v,isFunction:C,getStyle:t,relativeLength:y}=m,{getMargins:x,getPaddings:B}=d,{uniqueKey:E}=b;class A{static createTextElement(a,b,c){if("object"===typeof c){const {className:d,text:k,style:e}=c;return p(a,{className:d||`${l}component-${b}`,textContent:k},e)}if("string"===typeof c)return p(a,{className:`${l}component-${b}`,textContent:c})}constructor(a,b){this.callbackRegistry=
new f;this.tableEvents=[];this.cellListeners=[];this.activeGroup=void 0;this.resizeTimeouts=[];this.innerResizeTimeouts=[];this.board=a.row.layout.board;this.cell=a;this.parentElement=a.container;this.attachCellListeneres();this.options=r(A.defaultOptions,b);this.id=this.options.id&&this.options.id.length?this.options.id:E();this.hasLoaded=!1;this.shouldRedraw=!0;this.editableOptions=new g(this,b.editableOptionsBindings);this.presentationModifier=this.options.presentationModifier;this.dimensions=
{width:null,height:null};this.syncHandlers=this.handleSyncOptions();this.element=p("div",{className:this.options.className});this.contentElement=p("div",{className:`${this.options.className}-content`},{height:"100%"},void 0,!0)}initConnector(){var a;return k(this,void 0,void 0,function*(){if((null===(a=this.options.connector)||void 0===a?0:a.id)&&this.connectorId!==this.options.connector.id){const a=yield this.board.dataPool.getConnector(this.options.connector.id);this.setConnector(a);this.shouldRedraw=
!0;this.redraw()}return this})}handleSyncOptions(b=a.defaultHandlers){const a=this.options.sync||{};return Object.keys(a).reduce((c,d)=>{if(d){const k=a[d];k&&"object"===typeof k&&(c[d]=k);k&&"boolean"===typeof k&&(c[d]=b[d])}return c},{})}attachCellListeneres(){for(;this.cellListeners.length;){const a=this.cellListeners.pop();a&&a()}this.cell&&Object.keys(this.cell).length&&this.cellListeners.push(w(this.cell.row.layout.board,"cellResize",()=>{this.resizeTo(this.parentElement)}),w(this.cell.row,
"cellChange",a=>{({row:a}=a);a&&this.cell&&void 0===a.getCellIndex(this.cell)&&this.cell&&this.setCell(this.cell)}))}setCell(a,b=!1){this.cell=a;a.container&&(this.parentElement=a.container);this.attachCellListeneres();b&&this.resizeTo(this.parentElement)}setupTableListeners(a){const b=this.connector;if(b){a&&["afterSetRows","afterDeleteRows","afterSetColumns","afterDeleteColumns","afterSetCell"].forEach(b=>{this.tableEvents.push(a.on(b,a=>{clearInterval(this.tableEventTimeout);this.tableEventTimeout=
setTimeout(()=>{this.emit(Object.assign(Object.assign({},a),{type:"tableChanged"}));this.tableEventTimeout=void 0},0)}))});const c=this;this.tableEvents.push(b.on("afterLoad",()=>{this.emit({target:c,type:"tableChanged"})}))}}clearTableListeners(){const a=this.connector,b=this.tableEvents;b.length&&b.forEach(a=>a());a&&b.push(a.table.on("afterSetModifier",a=>{"afterSetModifier"===a.type&&this.emit(Object.assign(Object.assign({},a),{type:"tableChanged"}))}))}setConnector(a){for(n(this,"setConnector",
{connector:a});this.tableEvents.length;){var b=this.tableEvents.pop();"function"===typeof b&&b()}if(this.connector=a)if(this.clearTableListeners(),this.setupTableListeners(a.table),a.table.on("setModifier",()=>this.clearTableListeners()),a.table.on("afterSetModifier",a=>{"afterSetModifier"===a.type&&a.modified&&this.setupTableListeners(a.modified)}),b=a.table.id,c.getComponentGroup(b)||c.addComponentGroup(new c(b)),b=c.getComponentGroup(b))b.addComponents([this.id]),this.activeGroup=b;n(this,"afterSetConnector",
{connector:a});return this}setActiveGroup(a){"string"===typeof a&&(a=c.getComponentGroup(a)||null);a instanceof c&&(this.activeGroup=a);null===a&&(this.activeGroup=void 0);this.activeGroup&&this.activeGroup.addComponents([this.id])}getContentHeight(){const a=this.dimensions.height||Number(t(this.element,"height")),b=this.titleElement?this.titleElement.clientHeight+x(this.titleElement).y:0,c=this.captionElement?this.captionElement.clientHeight+x(this.captionElement).y:0;return a-b-c}resize(a,b){if(b){var c=
B(this.element).y+x(this.element).y;this.dimensions.height=y(b,Number(t(this.parentElement,"height")))-c;this.element.style.height=this.dimensions.height+"px";this.contentElement.style.height=this.getContentHeight()+"px"}a&&(c=B(this.element).x+x(this.element).x,this.dimensions.width=y(a,Number(t(this.parentElement,"width")))-c,this.element.style.width=this.dimensions.width+"px");null===b&&(this.dimensions.height=null,this.element.style.removeProperty("height"));null===a&&(this.dimensions.width=null,
this.element.style.removeProperty("width"));n(this,"resize",{width:a,height:b})}resizeTo(a){for(;this.resizeTimeouts.length;){var b=this.resizeTimeouts.pop();b&&cancelAnimationFrame(b)}b=requestAnimationFrame(()=>{const {width:b,height:c}=a.getBoundingClientRect(),d=B(a),k=x(a);this.resize(b-d.x-k.x,c-d.y-k.y)});this.resizeTimeouts.push(b)}update(a,b=!0){var c;return k(this,void 0,void 0,function*(){const d={options:a,shouldForceRedraw:!1};n(this,"update",d);this.options=r(this.options,a);if((null===
(c=this.options.connector)||void 0===c?0:c.id)&&this.connectorId!==this.options.connector.id){const a=yield this.board.dataPool.getConnector(this.options.connector.id);this.setConnector(a);this.shouldRedraw=!0}this.options=r(this.options,a);(b||d.shouldForceRedraw)&&this.redraw()})}setTitle(a){const b=this.titleElement;if(a&&"string"!==typeof a?""===a.text:""===a)b&&b.remove();else if(a=A.createTextElement("h1","title",a))this.titleElement=a,b&&b.replaceWith(this.titleElement)}setCaption(a){const b=
this.captionElement;if(a&&"string"!==typeof a?""===a.text:""===a)b&&b.remove();else if(a=A.createTextElement("div","caption",a))this.captionElement=a,b&&b.replaceWith(this.captionElement)}load(){!this.hasLoaded&&this.connector&&this.setConnector(this.connector);this.setTitle(this.options.title);this.setCaption(this.options.caption);[this.titleElement,this.contentElement,this.captionElement].forEach(a=>{a&&this.element.appendChild(a)});const a=this.options.events;a&&(Object.keys(a).forEach(b=>{const c=
a[b];c&&this.callbackRegistry.addCallback(b,{type:"component",func:c})}),v(a,(a,b)=>{if(C(a))this.on(b,a)}));this.on("message",a=>{if("message"in a)this.onMessage(a.message)});q.addEventListener("resize",()=>this.resizeTo(this.parentElement));this.hasLoaded=!0;this.shouldRedraw=!1;return this}render(){if(this.shouldRedraw||!this.hasLoaded)this.load(),this.resizeTo(this.parentElement);return this}redraw(){n(this,"redraw",{component:this});this.shouldRedraw=!0;return this.render()}destroy(){for(;this.element.firstChild;)this.element.firstChild.remove();
this.tableEvents.forEach(a=>a());this.element.remove();A.removeInstance(this)}on(a,b){return w(this,a,b)}emit(a){a.target||(a.target=this);n(this,a.type,a)}postMessage(a,b={type:"componentType",target:"all"}){const c=A.getInstanceById(this.id);c&&A.relayMessage(c,a,b)}onMessage(a){a&&"string"===typeof a||"object"===typeof a&&"function"===typeof a.callback&&a.callback.apply(this)}toJSON(){const a={width:0,height:0};v(this.dimensions,function(b,c){null!==b&&(a[c]=b)});return{$class:this.options.type,
options:{cell:this.options.cell,parentElement:this.parentElement.id,dimensions:a,id:this.id,type:this.type}}}getEditableOptions(){return r(this.options)}getEditableOptionValue(a){if(a){var b=this.getEditableOptions();for(let c=0,d=a.length;c<d;c++){if(!b)return;h(b)&&(b=b[0]);b=b[a[c]]}return b}}}A.Sync=a;A.defaultOptions={className:`${l}component`,parentElement:document.body,id:"",title:!1,caption:!1,style:{display:"flex","flex-direction":"column"},sync:a.defaultHandlers,editableOptions:[{name:"connectorName",
propertyPath:["connector","id"],type:"select"},{name:"title",propertyPath:["title"],type:"input"},{name:"caption",propertyPath:["caption"],type:"input"}]};(function(a){function b(){return Object.keys(a.instanceRegistry)}function d(b){return a.instanceRegistry[b]}a.instanceRegistry={};a.addInstance=function(b){a.instanceRegistry[b.id]=b};a.removeInstance=function(b){delete a.instanceRegistry[b.id]};a.getAllInstanceIDs=b;a.getAllInstances=function(){return b().map(b=>a.instanceRegistry[b])};a.getInstanceById=
d;a.relayMessage=function(a,k,e){const l=b=>b.emit({type:"message",detail:{sender:a.id,target:e.target},message:k,target:b});({componentID:a=>{(a=d(a))&&l(a)},componentType:c=>{b().forEach(b=>{(b=d(b))&&b.id!==a.id&&(b.type===c||"all"===c)&&l(b)})},group:b=>{(b=c.getComponentGroup(b))&&b.components.forEach(b=>{(b=d(b))&&b.id!==a.id&&l(b)})}})[e.type](e.target)}})(A||(A={}));return A});n(g,"Dashboards/Components/HTMLComponent.js",[g["Core/Renderer/HTML/AST.js"],g["Dashboards/Components/Component.js"],
g["Core/Utilities.js"]],function(f,e,g){var m=this&&this.__awaiter||function(b,a,c,d){function k(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,e){function l(a){try{f(d.next(a))}catch(t){e(t)}}function h(a){try{f(d["throw"](a))}catch(t){e(t)}}function f(a){a.done?c(a.value):k(a.value).then(l,h)}f((d=d.apply(b,a||[])).next())})};const {merge:d}=g;f.allowedTags=[...f.allowedTags,"option","select","label","input","textarea"];f.allowedAttributes=[...f.allowedAttributes,
"for","value","checked","src","name","selected"];f.allowedReferences=[...f.allowedReferences,"data:image/"];class c extends e{static fromJSON(b,a){const k=b.options,e=b.elements?b.elements.map(a=>JSON.parse(a)):[];a=new c(a,d(k,{elements:e}));a.emit({type:"fromJSON",json:b});return a}constructor(b,a){a=d(c.defaultOptions,a);super(b,a);this.options=a;this.type="HTML";this.elements=[];this.scaleElements=!!this.options.scaleElements;this.sync=new e.Sync(this,this.syncHandlers);this.on("tableChanged",
a=>{"detail"in a&&a.detail&&a.detail.sender!==this.id&&this.redraw()});e.addInstance(this)}load(){this.emit({type:"load"});super.load();const b=this.options;let a=!1;b.elements&&(this.elements=b.elements.map(function(b){if("string"===typeof b)return(new f(b)).nodes[0];b.textContent||b.tagName||!b.attributes||(a=!0);return b}));this.constructTree();this.parentElement.appendChild(this.element);this.scaleElements&&this.autoScale();this.emit({type:"afterLoad"});if(a)throw Error("Missing tagName param in component: "+
b.cell);return this}autoScale(){this.element.style.display="flex";this.element.style.flexDirection="column";this.contentElement.childNodes.forEach(b=>{b&&b instanceof HTMLElement&&(b.style.width="auto",b.style.maxWidth="100%",b.style.maxHeight="100%",b.style.flexBasis="auto",b.style.overflow="auto")});this.options.scaleElements&&this.scaleText()}scaleText(){this.contentElement.childNodes.forEach(b=>{b instanceof HTMLElement&&(b.style.fontSize=Math.max(Math.min(b.clientWidth/10,200),20)+"px")})}render(){this.emit({type:"beforeRender"});
super.render();this.emit({type:"afterRender"});return this}redraw(){super.redraw();this.constructTree();this.emit({type:"afterRedraw"});return this}resize(b,a){this.scaleElements&&this.scaleText();super.resize(b,a);return this}update(b){const a=Object.create(null,{update:{get:()=>super.update}});return m(this,void 0,void 0,function*(){yield a.update.call(this,b);this.emit({type:"afterUpdate"})})}constructTree(){for(;this.contentElement.firstChild;)this.contentElement.firstChild.remove();(new f(this.elements)).addToDOM(this.contentElement)}toJSON(){var b=
(this.options.elements||[]).map(a=>JSON.stringify(a));b=d(super.toJSON(),{elements:b,options:this.options});this.emit({type:"toJSON",json:b});return b}}c.defaultOptions=d(e.defaultOptions,{type:"HTML",scaleElements:!1,elements:[],editableOptions:(e.defaultOptions.editableOptions||[]).concat([{name:"scaleElements",type:"toggle"}])});return c});n(g,"Dashboards/Board.js",[g["Dashboards/Actions/Bindings.js"],g["Dashboards/Components/ComponentRegistry.js"],g["Dashboards/Accessibility/DashboardsAccessibility.js"],
g["Data/DataCursor.js"],g["Dashboards/SerializeHelper/DataCursorHelper.js"],g["Data/DataPool.js"],g["Dashboards/EditMode/EditMode.js"],g["Dashboards/EditMode/Fullscreen.js"],g["Dashboards/Globals.js"],g["Dashboards/Layout/Layout.js"],g["Dashboards/Serializable.js"],g["Core/Utilities.js"],g["Dashboards/Components/HTMLComponent.js"]],function(f,e,g,m,d,c,b,a,k,l,p,h,r){const {merge:n,addEvent:w,error:v,objectEach:C,uniqueKey:t,createElement:y}=h;class x{static board(a,b,c){return(new x(a,b)).init(c)}constructor(d,
e){this.container=this.boardWrapper=void 0;this.options=n(x.defaultOptions,e);this.dataPool=new c(e.dataPool);this.id=t();this.guiEnabled=(this.options.gui||{}).enabled;this.layouts=[];this.mountedComponents=[];this.initContainer(d);this.layoutsWrapper=y("div",{className:k.classNames.layoutsWrapper},{},this.container);!b||this.options.editMode&&!this.options.editMode.enabled||(this.editMode=new b(this,this.options.editMode));this.dataCursor=new m;this.fullscreen=new a(this);this.index=k.boards.length;
k.boards.push(this);this.a11y=new g(this)}init(a){var b=this.options;b.gui&&this.options.gui&&this.setLayouts(this.options.gui);b.layoutsJSON&&!this.layouts.length&&this.setLayoutsFromJSON(b.layoutsJSON);b.components&&this.setComponents(b.components);this.initEvents();b=[];const c=this.mountedComponents;for(let a=0,d=c.length;a<d;++a)b.push(c[a].component.initConnector());return a?Promise.all(b).then(()=>this):this}initEvents(){const a=this;w(q,"resize",function(){a.reflow()})}initContainer(a){"string"===
typeof a&&(a=q.document.getElementById(a));a||v(13,!0);a.innerHTML="";this.boardWrapper=a;this.container=y("div",{className:k.classNames.boardContainer},{},this.boardWrapper)}setLayouts(a){const b=a.layouts;for(let c=0,d=b.length;c<d;++c)this.layouts.push(new l(this,n({},a.layoutOptions,b[c])))}setLayoutsFromJSON(a){let b;for(let c=0,d=a.length;c<d;++c)(b=l.fromJSON(a[c],this))&&this.layouts.push(b)}setComponents(a){for(let b=0,c=a.length;b<c;++b)f.addComponent(a[b])}getLayoutContainerSize(){const a=
this.options.responsiveBreakpoints,b=(this.layoutsWrapper||{}).clientWidth;let c=k.responsiveBreakpoints.large;a&&(b<=a.small?c=k.responsiveBreakpoints.small:b>a.small&&b<=a.medium&&(c=k.responsiveBreakpoints.medium));return c}destroy(){const a=this;for(let b=0,c=a.layouts.length;b<c;++b)a.layouts[b].destroy();a.container.remove();C(a,function(b,c){delete a[c]});k.boards[this.index]=void 0}exportLocal(){localStorage.setItem(k.classNamePrefix+"1",JSON.stringify(this.toJSON()))}importLayoutLocal(a){return l.importLocal(a,
this)}reflow(){const a=this.getLayoutContainerSize();let b,c,d;this.editMode&&(this.editMode.hideToolbars(["cell","row"]),this.editMode.hideContextPointer());for(let e=0,k=this.layouts.length;e<k;++e){b=this.layouts[e];for(let e=0,k=b.rows.length;e<k;++e){c=b.rows[e];for(let b=0,e=c.cells.length;b<e;++b)d=c.cells[b],d.reflow(a)}}}fromJSON(a){var b=a.options;b=new x(b.containerId,{componentOptions:b.componentOptions,responsiveBreakpoints:b.responsiveBreakpoints,dataPool:b.dataPool,layoutsJSON:b.layouts});
b.dataCursor=d.fromJSON(a.dataCursor);return b}toJSON(){const a=[];for(let b=0,c=this.layouts.length;b<c;++b)a.push(this.layouts[b].toJSON());return{$class:"Board",dataCursor:d.toJSON(this.dataCursor),options:{containerId:this.container.id,dataPool:this.options.dataPool,guiEnabled:this.guiEnabled,layouts:a,componentOptions:this.options.componentOptions,responsiveBreakpoints:this.options.responsiveBreakpoints}}}}(function(a){a.defaultOptions={gui:{enabled:!0,layoutOptions:{rowClassName:void 0,cellClassName:void 0},
layouts:[]},components:[],responsiveBreakpoints:{small:576,medium:992,large:1200}};a.componentTypes=e.types;a.importLocal=function(){const a=localStorage.getItem(k.classNamePrefix+"1");if(a)try{return p.fromJSON(JSON.parse(a))}catch(A){}}})(x||(x={}));p.registerClassPrototype("Board",x.prototype);e.registerComponent("HTML",r);return x});n(g,"Data/Modifiers/DataModifier.js",[g["Core/Utilities.js"]],function(f){const {addEvent:e,fireEvent:g,merge:m}=f;class d{benchmark(c,b){const a=[],d=this,e=()=>
{d.modifyTable(c);d.emit({type:"afterBenchmarkIteration"})},{iterations:f}=m({iterations:1},b);d.on("afterBenchmarkIteration",()=>{a.length===f?d.emit({type:"afterBenchmark",results:a}):e()});var h=0,g=0;d.on("modify",()=>{h=q.performance.now()});d.on("afterModify",()=>{g=q.performance.now();a.push(g-h)});e();return a}emit(c){g(this,c.type,c)}modify(c,b){const a=this;return new Promise((d,e)=>{c.modified===c&&(c.modified=c.clone(!1,b));try{d(a.modifyTable(c,b))}catch(p){a.emit({type:"error",detail:b,
table:c}),e(p)}})}modifyCell(c){return this.modifyTable(c)}modifyColumns(c){return this.modifyTable(c)}modifyRows(c){return this.modifyTable(c)}on(c,b){return e(this,c,b)}}(function(c){c.types={};c.registerType=function(b,a){return!!b&&!c.types[b]&&!!(c.types[b]=a)}})(d||(d={}));return d});n(g,"Dashboards/PluginHandler.js",[g["Dashboards/Board.js"],g["Dashboards/Components/Sync/Sync.js"],g["Dashboards/Components/ComponentRegistry.js"]],function(f,e,g){var m;(function(d){d.registry={};d.revision=0;
d.addPlugin=function(c,b=c.name){const {maxRevision:a,minRevision:k,onRegister:l}=c;if(d.registry[b]){if(b!==c.name)throw Error(`Plugin '${b}' already registered.`);}else{if("number"===typeof k&&k>d.revision||"number"===typeof a&&a<d.revision)throw Error(`Plugin '${b}' does not support revision ${d.revision}.`);l({Board:f,ComponentRegistry:g,Sync:e,revision:d.revision});d.registry[b]=c}};d.removePlugin=function(c){d.registry[c]&&(d.registry[c].onUnregister({ComponentRegistry:g,Board:f,Sync:e,revision:d.revision}),
delete d.registry[c])}})(m||(m={}));return m});n(g,"Data/Converters/DataConverter.js",[g["Data/DataTable.js"],g["Core/Utilities.js"]],function(f,e){const {addEvent:g,fireEvent:m,isNumber:d,merge:c}=e;class b{constructor(a){this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})([\-\.\/])([0-9]{1,2})\2([0-9]{1,2})$/,parser:function(a){return a?Date.UTC(+a[1],a[3]-1,+a[4]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[4],a[3]-1,+a[1]):
NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[4],a[1]-1,+a[3]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(a){if(!a)return NaN;let b=+a[4];b=b>(new Date).getFullYear()-2E3?b+1900:b+2E3;return Date.UTC(b,a[3]-1,+a[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(a){return a?Date.UTC(+a[4]+2E3,
a[1]-1,+a[3]):NaN}}};a=c(b.defaultOptions,a);let d=a.decimalPoint;if("."===d||","===d)this.decimalRegExp=new RegExp("^(-?[0-9]+)"+("."===d?"\\.":",")+"([0-9]+)$");this.options=a}asBoolean(a){return"boolean"===typeof a?a:"string"===typeof a?""!==a&&"0"!==a&&"false"!==a:!!this.asNumber(a)}asDate(a){if("string"===typeof a)a=this.parseDate(a);else if("number"!==typeof a){if(a instanceof Date)return a;a=this.parseDate(this.asString(a))}return new Date(a)}asGuessedType(a){return{number:this.asNumber,Date:this.asDate,
string:this.asString}[this.guessType(a)].call(this,a)}asNumber(a){if("number"===typeof a)return a;if("boolean"===typeof a)return a?1:0;if("string"===typeof a){const b=this.decimalRegExp;-1<a.indexOf(" ")&&(a=a.replace(/\s+/g,""));if(b){if(!b.test(a))return NaN;a=a.replace(b,"$1.$2")}return parseFloat(a)}return a instanceof Date?a.getDate():a?a.getRowCount():NaN}asString(a){return""+a}deduceDateFormat(a,b,c){const d=[],e=[];let k="YYYY/mm/dd",l,f=[],g=0,m=!1,n,q;if(!b||b>a.length)b=a.length;for(;g<
b;g++)if("undefined"!==typeof a[g]&&a[g]&&a[g].length)for(l=a[g].trim().replace(/[-\.\/]/g," ").split(" "),f=["","",""],q=0;q<l.length;q++)q<f.length&&(n=parseInt(l[q],10))&&(e[q]=!e[q]||e[q]<n?n:e[q],"undefined"!==typeof d[q]?d[q]!==n&&(d[q]=!1):d[q]=n,31<n?f[q]=100>n?"YY":"YYYY":12<n&&31>=n?(f[q]="dd",m=!0):f[q].length||(f[q]="mm"));if(m){for(q=0;q<d.length;q++)!1!==d[q]?12<e[q]&&"YY"!==f[q]&&"YYYY"!==f[q]&&(f[q]="YY"):12<e[q]&&"mm"===f[q]&&(f[q]="dd");3===f.length&&"dd"===f[1]&&"dd"===f[2]&&(f[2]=
"YY");k=f.join("/")}c&&(this.options.dateFormat=k);return k}emit(a){m(this,a.type,a)}export(){this.emit({type:"exportError",columns:[],headers:[]});throw Error("Not implemented");}getTable(){throw Error("Not implemented");}guessType(a){var b="string";if("string"===typeof a){var c=this.trim(`${a}`),e=this.decimalRegExp;c=this.trim(c,!0);e&&(c=e.test(c)?c.replace(e,"$1.$2"):"");e=parseFloat(c);+c===e?a=e:(b=this.parseDate(a),b=d(b)?"Date":"string")}"number"===typeof a&&(b=31536E6<a?"Date":"number");
return b}on(a,b){return g(this,a,b)}parse(){this.emit({type:"parseError",columns:[],headers:[]});throw Error("Not implemented");}parseDate(a,b){var c=this.options;let e=b||c.dateFormat;b=NaN;let f,k;if(c.parseDate)b=c.parseDate(a);else{if(e)(c=this.dateFormats[e])||(c=this.dateFormats["YYYY/mm/dd"]),(k=a.match(c.regex))&&(b=c.parser(k));else for(f in this.dateFormats)if(c=this.dateFormats[f],k=a.match(c.regex)){b=c.parser(k);break}k||(k=Date.parse(a),"object"===typeof k&&null!==k&&k.getTime?b=k.getTime()-
6E4*k.getTimezoneOffset():d(k)&&(b=k-6E4*(new Date(k)).getTimezoneOffset(),-1===a.indexOf("2001")&&2001===(new Date(b)).getFullYear()&&(b=NaN)))}return b}trim(a,b){"string"===typeof a&&(a=a.replace(/^\s+|\s+$/g,""),b&&/^[0-9\s]+$/.test(a)&&(a=a.replace(/\s/g,"")));return a}}b.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1};(function(a){a.getTableFromColumns=function(a=[],b=[]){const c=
new f;for(let d=0,e=Math.max(b.length,a.length);d<e;++d)c.setColumn(b[d]||`${d}`,a[d]);return c}})(b||(b={}));return b});n(g,"Data/Converters/CSVConverter.js",[g["Data/Converters/DataConverter.js"],g["Core/Utilities.js"]],function(f,e){const {merge:g}=e;class m extends f{constructor(d){d=g(m.defaultOptions,d);super(d);this.columns=[];this.headers=[];this.dataTypes=[];this.options=d}export(d,c=this.options){const {useLocalDecimalPoint:b,lineDelimiter:a}=c;var e=!1!==this.options.firstRowAsNames;let {decimalPoint:f,
itemDelimiter:g}=c;f||(f=","!==g&&b?(1.1).toLocaleString()[1]:".");g||(g=","===f?";":",");c=d.getSortedColumns(c.usePresentationOrder);const h=Object.keys(c),r=[],m=h.length,n=[];e&&r.push(h.map(a=>`"${a}"`).join(g));for(e=0;e<m;e++){var v=h[e];const a=c[v],b=a.length;v=d.whatIs(v);let k;v&&(k=v.dataType);for(v=0;v<b;v++){var q=a[v];n[v]||(n[v]=[]);"string"===k?q='"'+q+'"':"number"===typeof q?q=String(q).replace(".",f):"string"===typeof q&&(q=`"${q}"`);n[v][e]=q;if(e===m-1){for(q=e;2<n[v].length&&
void 0===n[v][q];)n[v].pop(),q--;r.push(n[v].join(g))}}}return r.join(a)}parse(d,c){var b=this.dataTypes;d=g(this.options,d);const {beforeParse:a,lineDelimiter:e,firstRowAsNames:f,itemDelimiter:p}=d;let {csv:h,startRow:r,endRow:m}=d;this.columns=[];this.emit({type:"parse",columns:this.columns,detail:c,headers:this.headers});h&&a&&(h=a(h));if(h){d=h.replace(/\r\n|\r/g,"\n").split(e||"\n");if(!r||0>r)r=0;if(!m||m>=d.length)m=d.length-1;p||(this.guessedItemDelimiter=this.guessDelimiter(d));if(f){var n=
d[0].split(p||this.guessedItemDelimiter||",");for(var q=0;q<n.length;q++)n[q]=n[q].replace(/^["']|["']$/g,"");this.headers=n;r++}q=0;for(n=r;n<=m;n++)"#"===d[n][0]?q++:this.parseCSVRow(d[n],n-r-q);b.length&&b[0].length&&"date"===b[0][1]&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0);for(let a=0,c=this.columns.length;a<c;++a){b=this.columns[a];for(let c=0,e=b.length;c<e;++c)b[c]&&"string"===typeof b[c]&&(d=this.asGuessedType(b[c]),d instanceof Date&&(d=d.getTime()),this.columns[a][c]=
d)}}this.emit({type:"afterParse",columns:this.columns,detail:c,headers:this.headers})}parseCSVRow(d,c){const b=this,a=b.columns||[],e=b.dataTypes,{startColumn:f,endColumn:g}=b.options,h=b.options.itemDelimiter||b.guessedItemDelimiter;let {decimalPoint:r}=b.options;r&&r!==h||(r=b.guessedDecimalPoint||".");let m=0,n="",q="",x="",t="",y=0,D=0;const B=a=>{n=d[a];q=d[a-1];x=d[a+1]},E=a=>{e.length<D+1&&e.push([a]);e[D][e[D].length-1]!==a&&e[D].push(a)},A=()=>{if(f>y||y>g)++y,t="";else{"string"===typeof t?
!isNaN(parseFloat(t))&&isFinite(t)?(t=parseFloat(t),E("number")):isNaN(Date.parse(t))?E("string"):(t=t.replace(/\//g,"-"),E("date")):E("number");a.length<D+1&&a.push([]);if("number"!==typeof t&&"number"!==b.guessType(t)&&r){const a=t;t=t.replace(r,".");"number"!==b.guessType(t)&&(t=a)}a[D][c]=t;t="";++D;++y}};if(d.trim().length&&"#"!==d.trim()[0]){for(;m<d.length;m++){B(m);if("#"===n&&!/^#[0-F]{3,3}|[0-F]{6,6}/i.test(d.substring(m))){A();return}if('"'===n)for(B(++m);m<d.length&&('"'!==n||'"'===q||
'"'===x);){if('"'!==n||'"'===n&&'"'!==q)t+=n;B(++m)}else n===h?A():t+=n}A()}}guessDelimiter(d){let c=0,b=0;const a={",":0,";":0,"\t":0},e=d.length;for(let f=0;f<e;f++){let e=!1,g,k,l,m="";if(13<f)break;const n=d[f];for(let d=0;d<n.length;d++){g=n[d];k=n[d+1];l=n[d-1];if("#"===g)break;if('"'===g)if(e){if('"'!==l&&'"'!==k){for(;" "===k&&d<n.length;)k=n[++d];"undefined"!==typeof a[k]&&a[k]++;e=!1}}else e=!0;else"undefined"!==typeof a[g]?(m=m.trim(),isNaN(Date.parse(m))?!isNaN(Number(m))&&isFinite(Number(m))||
a[g]++:a[g]++,m=""):m+=g;","===g&&b++;"."===g&&c++}}d=a[";"]>a[","]?";":",";this.guessedDecimalPoint=c>b?".":",";return d}getTable(){return f.getTableFromColumns(this.columns,this.headers)}}m.defaultOptions=Object.assign(Object.assign({},f.defaultOptions),{lineDelimiter:"\n"});return m});n(g,"Data/Connectors/CSVConnector.js",[g["Data/Converters/CSVConverter.js"],g["Data/Connectors/DataConnector.js"],g["Core/Utilities.js"]],function(f,e,g){const {merge:m}=g;class d extends e{constructor(c){c=m(d.defaultOptions,
c);super(c);this.converter=new f(c);this.options=c;c.enablePolling&&this.startPolling(1E3*Math.max(c.dataRefreshRate||0,1))}load(c){const b=this,a=b.converter,d=b.table,{csv:e,csvURL:f}=b.options;if(e)d.deleteRows(),b.emit({type:"load",csv:e,detail:c,table:d}),a.parse({csv:e}),d.setColumns(a.getTable().getColumns()),b.emit({type:"afterLoad",csv:e,detail:c,table:d});else{if(f)return b.table.deleteColumns(),b.emit({type:"load",detail:c,table:b.table}),fetch(f||"").then(a=>a.text().then(a=>{b.converter.parse({csv:a});
b.table.setColumns(b.converter.getTable().getColumns());b.emit({type:"afterLoad",csv:a,detail:c,table:b.table})}))["catch"](a=>{b.emit({type:"loadError",detail:c,error:a,table:b.table});return Promise.reject(a)}).then(()=>b);b.emit({type:"loadError",detail:c,error:"Unable to load: no CSV string or URL was provided",table:d})}return Promise.resolve(b)}}d.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1};e.registerType("CSV",d);return d});n(g,"Data/Converters/HTMLTableConverter.js",
[g["Data/Converters/DataConverter.js"],g["Core/Utilities.js"]],function(f,e){const {merge:g}=e;class m extends f{constructor(d){d=g(m.defaultOptions,d);super(d);this.columns=[];this.headers=[];this.options=d;d.tableElement&&(this.tableElement=d.tableElement,this.tableElementID=d.tableElement.id)}export(d,c=this.options){var b=!1!==c.firstRowAsNames,a=c.useMultiLevelHeaders,e=d.getSortedColumns(c.usePresentationOrder);const f=Object.keys(e);d=[];const g=f.length,h=[];var m="";if(b)if(m=[],a){for(var n of f)a=
(e[n].shift()||"").toString(),m.push(a);m=this.getTableHeaderHTML(f,m,c)}else m=this.getTableHeaderHTML(void 0,f,c);for(n=0;n<g;n++){a=e[f[n]];b=a.length;for(let c=0;c<b;c++){let b=a[c];h[c]||(h[c]=[]);"string"!==typeof b&&"number"!==typeof b&&"undefined"!==typeof b&&(b=(b||"").toString());h[c][n]=this.getCellHTMLFromValue(n?"td":"th",null,n?"":'scope="row"',b);n===g-1&&d.push("<tr>"+h[c].join("")+"</tr>")}}e="";c.tableCaption&&(e='<caption class="highcharts-table-caption">'+c.tableCaption+"</caption>");
return"<table>"+e+m+"<tbody>"+d.join("")+"</tbody></table>"}getCellHTMLFromValue(d,c,b,a,e){let f=a;c="text"+(c?" "+c:"");"number"===typeof f?(f=f.toString(),","===e&&(f=f.replace(".",e)),c="number"):a||(f="",c="empty");return"<"+d+(b?" "+b:"")+' class="'+c+'">'+f+"</"+d+">"}getTableHeaderHTML(d=[],c=[],b=this.options){const {useMultiLevelHeaders:a,useRowspanHeaders:e}=b;b.useLocalDecimalPoint&&(1.1).toLocaleString();b="<thead>";let f=0,g=c&&c.length;var h;let m=0;if(h=a&&d&&c){a:if(h=d.length,c.length===
h){for(;--h;)if(d[h]!==c[h]){h=!1;break a}h=!0}else h=!1;h=!h}if(h){for(b+="<tr>";f<g;++f){h=d[f];var n=d[f+1];h===n?++m:m?(b+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(m+1)+'"',h),m=0):(h===c[f]?e?(n=2,delete c[f]):(n=1,c[f]=""):n=1,b+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(1<n?' valign="top" rowspan="'+n+'"':""),h))}b+="</tr>"}if(c){b+="<tr>";f=0;for(g=c.length;f<g;++f)"undefined"!==typeof c[f]&&(b+=this.getCellHTMLFromValue("th",
null,'scope="col"',c[f]));b+="</tr>"}return b+"</thead>"}parse(d,c){const b=[],a=[];var e=g(this.options,d);const {endRow:f,startColumn:p,endColumn:h,firstRowAsNames:m}=e;d=e.tableElement||this.tableElement;if(d instanceof HTMLElement){this.tableElement=d;this.tableElementID=d.id;this.emit({type:"parse",columns:this.columns,detail:c,headers:this.headers});d=d.getElementsByTagName("tr");var n=d.length,q=0;({startRow:e}=e);if(m&&n){var v=d[0].children,x=v.length;for(var t=p;t<x&&!(t>h);t++){var y=v[t];
"TD"!==y.tagName&&"TH"!==y.tagName||a.push(y.innerHTML)}e++}for(;q<n;){if(q>=e&&q<=f)for(v=d[q].children,x=v.length,t=0;t<x;){const a=t-p,c=b[a];y=v[t];if(("TD"===y.tagName||"TH"===y.tagName)&&t>=p&&t<=h)for(b[a]||(b[a]=[]),y=this.asGuessedType(y.innerHTML),y instanceof Date&&(y=y.getTime()),b[a][q-e]=y,y=1;q-e>=y&&void 0===c[q-e-y];)c[q-e-y]=null,y++;t++}q++}this.columns=b;this.headers=a;this.emit({type:"afterParse",columns:b,detail:c,headers:a})}else this.emit({type:"parseError",columns:b,detail:c,
headers:a,error:"Not a valid HTML Table"})}getTable(){return f.getTableFromColumns(this.columns,this.headers)}}m.defaultOptions=Object.assign(Object.assign({},f.defaultOptions),{useRowspanHeaders:!0,useMultiLevelHeaders:!0});return m});n(g,"Data/Connectors/HTMLTableConnector.js",[g["Data/Connectors/DataConnector.js"],g["Core/Globals.js"],g["Data/Converters/HTMLTableConverter.js"],g["Core/Utilities.js"]],function(f,e,g,m){const {win:d}=e,{merge:c}=m;class b extends f{constructor(a){a=c(b.defaultOptions,
a);super(a);this.converter=new g(a);this.options=a}load(a){this.table.deleteColumns();this.emit({type:"load",detail:a,table:this.table,tableElement:this.tableElement});var {table:b}=this.options;"string"===typeof b?(this.tableID=b,b=d.document.getElementById(b)):this.tableID=b.id;this.tableElement=b||void 0;if(!this.tableElement)return this.emit({type:"loadError",detail:a,error:"HTML table not provided, or element with ID not found",table:this.table}),Promise.reject(Error("HTML table not provided, or element with ID not found"));
this.converter.parse(c({tableElement:this.tableElement},this.options),a);this.table.setColumns(this.converter.getTable().getColumns());this.emit({type:"afterLoad",detail:a,table:this.table,tableElement:this.tableElement});return Promise.resolve(this)}}b.defaultOptions={table:""};f.registerType("HTMLTable",b);return b});n(g,"Data/Converters/GoogleSheetsConverter.js",[g["Data/Converters/DataConverter.js"],g["Core/Utilities.js"]],function(f,e){const {merge:g,uniqueKey:m}=e;class d extends f{constructor(c){c=
g(d.defaultOptions,c);super(c);this.columns=[];this.header=[];this.options=c}parse(c,b){c=g(this.options,c);const a=(c.json&&c.json.values||[]).map(a=>a.slice());if(0===a.length)return!1;this.header=[];this.columns=[];this.emit({type:"parse",columns:this.columns,detail:b,headers:this.header});this.columns=a;let d;for(let b=0,e=a.length;b<e;b++){d=a[b];this.header[b]=c.firstRowAsNames?`${d.shift()}`:m();for(let a=0,c=d.length;a<c;++a)if(d[a]&&"string"===typeof d[a]){let c=this.asGuessedType(d[a]);
c instanceof Date&&(c=c.getTime());this.columns[b][a]=c}}this.emit({type:"afterParse",columns:this.columns,detail:b,headers:this.header})}getTable(){return f.getTableFromColumns(this.columns,this.header)}}d.defaultOptions=Object.assign({},f.defaultOptions);return d});n(g,"Data/Connectors/GoogleSheetsConnector.js",[g["Data/Connectors/DataConnector.js"],g["Data/Converters/GoogleSheetsConverter.js"],g["Core/Utilities.js"]],function(f,e,g){const {merge:m,pick:d}=g;class c extends f{constructor(b){b=m(c.defaultOptions,
b);super(b);this.converter=new e(b);this.options=b}load(b){const a=this,{dataRefreshRate:d,enablePolling:e,firstRowAsNames:f,googleAPIKey:g,googleSpreadsheetKey:m}=a.options,n=c.buildFetchURL(g,m,a.options);a.table.deleteColumns();a.emit({type:"load",detail:b,table:a.table,url:n});return fetch(n).then(c=>c.json().then(c=>{if("object"===typeof c&&c&&"object"===typeof c.error&&c.error&&"number"===typeof c.error.code&&"string"===typeof c.error.message&&"string"===typeof c.error.status)throw Error(c.error.message);
a.converter.parse({firstRowAsNames:f,json:c});a.table.setColumns(a.converter.getTable().getColumns());a.emit({type:"afterLoad",detail:b,table:a.table,url:n});e&&setTimeout(()=>a.load(),1E3*Math.max(d||0,1))}))["catch"](c=>{a.emit({type:"loadError",detail:b,error:c,table:a.table});return Promise.reject(c)}).then(()=>a)}}c.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",worksheet:1,enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0};(function(b){function a(a={}){const {endColumn:b,endRow:c,
googleSpreadsheetRange:e,startColumn:f,startRow:g}=a;return e||("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[f||0]||"A")+(Math.max(g||0,0)+1)+":"+("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[d(b,25)]||"Z")+(c?Math.max(c,0):"Z")}b.buildFetchURL=function(b,c,d={}){return`https://sheets.googleapis.com/v4/spreadsheets/${c}/values/`+(d.onlyColumnNames?"A1:Z1":a(d))+"?alt=json"+(d.onlyColumnNames?"":"&dateTimeRenderOption=FORMATTED_STRING&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE")+"&prettyPrint=false"+`&key=${b}`};
b.buildQueryRange=a})(c||(c={}));f.registerType("GoogleSheets",c);return c});n(g,"Data/Modifiers/ChainModifier.js",[g["Data/Modifiers/DataModifier.js"],g["Core/Utilities.js"]],function(f,e){const {merge:g}=e;class m extends f{constructor(d,...c){super();this.chain=c;this.options=g(m.defaultOptions,d);d=this.options.chain||[];for(let b=0,a=d.length,e,g;b<a;++b)e=d[b],e.type&&(g=f.types[e.type])&&c.unshift(new g(e))}add(d,c){this.emit({type:"addModifier",detail:c,modifier:d});this.chain.push(d);this.emit({type:"addModifier",
detail:c,modifier:d})}clear(d){this.emit({type:"clearChain",detail:d});this.chain.length=0;this.emit({type:"afterClearChain",detail:d})}modify(d,c){const b=this.options.reverse?this.chain.slice().reverse():this.chain.slice();let a=Promise.resolve(d);for(let d=0,e=b.length;d<e;++d){const e=b[d];a=a.then(a=>e.modify(a.modified,c))}a=a.then(a=>{d.modified=a.modified;return d});return a=a["catch"](a=>{this.emit({type:"error",detail:c,table:d});throw a;})}modifyCell(d,c,b,a,e){const f=this.options.reverse?
this.chain.reverse():this.chain;if(f.length){let g=d.clone();for(let d=0,k=f.length;d<k;++d)f[d].modifyCell(g,c,b,a,e),g=g.modified;d.modified=g}return d}modifyColumns(d,c,b,a){const e=this.options.reverse?this.chain.reverse():this.chain.slice();if(e.length){let f=d.clone();for(let d=0,g=e.length;d<g;++d)e[d].modifyColumns(f,c,b,a),f=f.modified;d.modified=f}return d}modifyRows(d,c,b,a){const e=this.options.reverse?this.chain.reverse():this.chain.slice();if(e.length){let f=d.clone();for(let d=0,g=
e.length;d<g;++d)e[d].modifyRows(f,c,b,a),f=f.modified;d.modified=f}return d}modifyTable(d,c){this.emit({type:"modify",detail:c,table:d});const b=this.options.reverse?this.chain.reverse():this.chain.slice();let a=d.modified;for(let d=0,e=b.length,f;d<e;++d)f=b[d],a=f.modifyTable(a,c).modified;d.modified=a;this.emit({type:"afterModify",detail:c,table:d});return d}remove(d,c){const b=this.chain;this.emit({type:"removeModifier",detail:c,modifier:d});b.splice(b.indexOf(d),1);this.emit({type:"afterRemoveModifier",
detail:c,modifier:d})}}m.defaultOptions={type:"Chain"};f.registerType("Chain",m);return m});n(g,"Data/Modifiers/InvertModifier.js",[g["Data/Modifiers/DataModifier.js"],g["Core/Utilities.js"]],function(f,e){const {merge:g}=e;class m extends f{constructor(d){super();this.options=g(m.defaultOptions,d)}modifyCell(d,c,b,a,e){const f=d.modified;c=f.getRowIndexBy("columnNames",c);"undefined"===typeof c?f.setColumns(this.modifyTable(d.clone()).getColumns(),void 0,e):f.setCell(`${b}`,c,a,e);return d}modifyColumns(d,
c,b,a){const e=d.modified,f=e.getColumn("columnNames")||[];let g=d.getColumnNames(),h=d.getRowCount()!==f.length;if(!h)for(let a=0,b=g.length;a<b;++a)if(g[a]!==f[a]){h=!0;break}if(h)return this.modifyTable(d,a);g=Object.keys(c);for(let d=0,f=g.length,h,k,l;d<f;++d){k=g[d];h=c[k];l=e.getRowIndexBy("columnNames",k)||e.getRowCount();for(let c=0,d=b,f=h.length;c<f;++c,++d)e.setCell(`${d}`,l,h[c],a)}return d}modifyRows(d,c,b,a){const e=d.getColumnNames(),f=d.modified,g=f.getColumn("columnNames")||[];let h=
d.getRowCount()!==g.length;if(!h)for(let a=0,b=e.length;a<b;++a)if(e[a]!==g[a]){h=!0;break}if(h)return this.modifyTable(d,a);for(let d=0,g=b,h=c.length,k;d<h;++d,++g)if(k=c[d],k instanceof Array)f.setColumn(`${g}`,k);else for(let b=0,c=e.length;b<c;++b)f.setCell(`${g}`,b,k[e[b]],a);return d}modifyTable(d,c){this.emit({type:"modify",detail:c,table:d});const b=d.modified;if(d.hasColumns(["columnNames"])){var a=((d.deleteColumns(["columnNames"])||{}).columnNames||[]).map(a=>`${a}`);const c={};for(let b=
0,e=d.getRowCount(),f;b<e;++b)(f=d.getRow(b))&&(c[a[b]]=f);b.deleteColumns();b.setColumns(c)}else{a={};for(let b=0,c=d.getRowCount(),e;b<c;++b)(e=d.getRow(b))&&(a[`${b}`]=e);a.columnNames=d.getColumnNames();b.deleteColumns();b.setColumns(a)}this.emit({type:"afterModify",detail:c,table:d});return d}}m.defaultOptions={type:"Invert"};f.registerType("Invert",m);return m});n(g,"Data/Modifiers/RangeModifier.js",[g["Data/Modifiers/DataModifier.js"],g["Core/Utilities.js"]],function(f,e){const {merge:g}=e;
class m extends f{constructor(d){super();this.options=g(m.defaultOptions,d)}modifyTable(d,c){this.emit({type:"modify",detail:c,table:d});const {ranges:b,strict:a}=this.options;if(b.length){const c=d.getColumns(),e=[],f=d.modified;for(let f=0,g=b.length,k,l;f<g;++f)if(k=b[f],!a||typeof k.minValue===typeof k.maxValue){l=c[k.column]||[];for(let b=0,c=l.length,f,g;b<c;++b){f=l[b];switch(typeof f){default:continue;case "boolean":case "number":case "string":}(!a||typeof f===typeof k.minValue)&&f>=k.minValue&&
f<=k.maxValue&&(g=d.getRow(b))&&e.push(g)}}f.deleteRows();f.setRows(e)}this.emit({type:"afterModify",detail:c,table:d});return d}getModifiedTableOffset(d){var {ranges:c}=this.options;return c&&(c=c.reduce((b,a)=>{a.minValue>b.minValue&&(b=a);return b},c[0]),d=d.getRowIndexBy(c.column,c.minValue))?d:0}}m.defaultOptions={type:"Range",ranges:[],strict:!1};f.registerType("Range",m);return m});n(g,"Data/Modifiers/SortModifier.js",[g["Data/Modifiers/DataModifier.js"],g["Data/DataTable.js"],g["Core/Utilities.js"]],
function(f,e,g){const {merge:m}=g;class d extends f{static ascending(c,b){return(c||0)<(b||0)?-1:(c||0)>(b||0)?1:0}static descending(c,b){return(b||0)<(c||0)?-1:(b||0)>(c||0)?1:0}constructor(c){super();this.options=m(d.defaultOptions,c)}getRowReferences(c){c=c.getRows();const b=[];for(let a=0,d=c.length;a<d;++a)b.push({index:a,row:c[a]});return b}modifyCell(c,b,a,d,f){const {orderByColumn:g,orderInColumn:h}=this.options;b===g&&(h?(c.modified.setCell(b,a,d),c.modified.setColumn(h,this.modifyTable(new e({columns:c.getColumns([g,
h])})).modified.getColumn(h))):this.modifyTable(c,f));return c}modifyColumns(c,b,a,d){const {orderByColumn:f,orderInColumn:g}=this.options,h=Object.keys(b);-1<h.indexOf(f)&&(g&&b[h[0]].length?(c.modified.setColumns(b,a),c.modified.setColumn(g,this.modifyTable(new e({columns:c.getColumns([f,g])})).modified.getColumn(g))):this.modifyTable(c,d));return c}modifyRows(c,b,a,d){const {orderByColumn:f,orderInColumn:g}=this.options;g&&b.length?(c.modified.setRows(b,a),c.modified.setColumn(g,this.modifyTable(new e({columns:c.getColumns([f,
g])})).modified.getColumn(g))):this.modifyTable(c,d);return c}modifyTable(c,b){this.emit({type:"modify",detail:b,table:c});var a=c.getColumnNames();const e=c.getRowCount(),f=this.getRowReferences(c),{direction:g,orderByColumn:h,orderInColumn:m}=this.options,n="asc"===g?d.ascending:d.descending,q=a.indexOf(h);a=c.modified;-1!==q&&f.sort((a,b)=>n(a.row[q],b.row[q]));if(m){var v=[];for(var x=0;x<e;++x)v[f[x].index]=x;a.setColumns({[m]:v})}else{v=[];for(x=0;x<e;++x)v.push(f[x].row);a.setRows(v,0)}this.emit({type:"afterModify",
detail:b,table:c});return c}}d.defaultOptions={type:"Sort",direction:"desc",orderByColumn:"y"};f.registerType("Sort",d);return d});n(g,"masters/dashboards.src.js",[g["Data/Connectors/DataConnector.js"],g["Dashboards/Board.js"],g["Dashboards/Components/Component.js"],g["Dashboards/Components/ComponentRegistry.js"],g["Data/DataPool.js"],g["Data/DataCursor.js"],g["Data/Modifiers/DataModifier.js"],g["Data/DataTable.js"],g["Dashboards/Globals.js"],g["Dashboards/PluginHandler.js"],g["Dashboards/Components/Sync/Sync.js"],
g["Dashboards/Utilities.js"]],function(f,e,g,m,d,c,b,a,k,l,n,h){f=Object.assign(Object.assign(Object.assign({},k),h),{Board:e,board:e.board,Component:g,ComponentRegistry:m,DataConnector:f,DataCursor:c,DataModifier:b,DataPool:d,DataTable:a,PluginHandler:l,Sync:n});f.win.Dashboards||(f.win.Dashboards=f);return f});g["masters/dashboards.src.js"]._modules=g;return g["masters/dashboards.src.js"]});//# sourceMappingURL=dashboards.js.map