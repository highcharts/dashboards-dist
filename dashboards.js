/*
 Highcharts Dashboards v1.0.1 (2023-07-19)

 (c) 2009-2023 Highsoft AS

 License: www.highcharts.com/license
*/
'use strict';var u=u||{};u.scope={};u.arrayIteratorImpl=function(n){var p=0;return function(){return p<n.length?{done:!1,value:n[p++]}:{done:!0}}};u.arrayIterator=function(n){return{next:u.arrayIteratorImpl(n)}};u.ASSUME_ES5=!1;u.ASSUME_NO_NATIVE_MAP=!1;u.ASSUME_NO_NATIVE_SET=!1;u.SIMPLE_FROUND_POLYFILL=!1;u.ISOLATE_POLYFILLS=!1;
u.defineProperty=u.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(n,p,e){if(n==Array.prototype||n==Object.prototype)return n;n[p]=e.value;return n};u.getGlobal=function(n){n=["object"==typeof globalThis&&globalThis,n,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var p=0;p<n.length;++p){var e=n[p];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");};u.global=u.getGlobal(this);
u.SYMBOL_PREFIX="jscomp_symbol_";u.initSymbol=function(){u.initSymbol=function(){};u.global.Symbol||(u.global.Symbol=u.Symbol)};u.SymbolClass=function(n,p){this.$jscomp$symbol$id_=n;u.defineProperty(this,"description",{configurable:!0,writable:!0,value:p})};u.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
u.Symbol=function(){function n(e){if(this instanceof n)throw new TypeError("Symbol is not a constructor");return new u.SymbolClass(u.SYMBOL_PREFIX+(e||"")+"_"+p++,e)}var p=0;return n}();
u.initSymbolIterator=function(){u.initSymbol();var n=u.global.Symbol.iterator;n||(n=u.global.Symbol.iterator=u.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[n]&&u.defineProperty(Array.prototype,n,{configurable:!0,writable:!0,value:function(){return u.iteratorPrototype(u.arrayIteratorImpl(this))}});u.initSymbolIterator=function(){}};
u.initSymbolAsyncIterator=function(){u.initSymbol();var n=u.global.Symbol.asyncIterator;n||(n=u.global.Symbol.asyncIterator=u.global.Symbol("Symbol.asyncIterator"));u.initSymbolAsyncIterator=function(){}};u.iteratorPrototype=function(n){u.initSymbolIterator();n={next:n};n[u.global.Symbol.iterator]=function(){return this};return n};
u.iteratorFromArray=function(n,p){u.initSymbolIterator();n instanceof String&&(n+="");var e=0,g={next:function(){if(e<n.length){var d=e++;return{value:p(d,n[d]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};u.polyfills={};u.propertyToPolyfillSymbol={};u.POLYFILL_PREFIX="$jscp$";u.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
u.polyfill=function(n,p,e,g){p&&(u.ISOLATE_POLYFILLS?u.polyfillIsolated(n,p,e,g):u.polyfillUnisolated(n,p,e,g))};u.polyfillUnisolated=function(n,p){var e=u.global;n=n.split(".");for(var g=0;g<n.length-1;g++){var d=n[g];d in e||(e[d]={});e=e[d]}n=n[n.length-1];g=e[n];p=p(g);p!=g&&null!=p&&u.defineProperty(e,n,{configurable:!0,writable:!0,value:p})};
u.polyfillIsolated=function(n,p,e){var g=n.split(".");n=1===g.length;var d=g[0];d=!n&&d in u.polyfills?u.polyfills:u.global;for(var v=0;v<g.length-1;v++){var m=g[v];m in d||(d[m]={});d=d[m]}g=g[g.length-1];e=u.IS_SYMBOL_NATIVE&&"es6"===e?d[g]:null;p=p(e);null!=p&&(n?u.defineProperty(u.polyfills,g,{configurable:!0,writable:!0,value:p}):p!==e&&(u.propertyToPolyfillSymbol[g]=u.IS_SYMBOL_NATIVE?u.global.Symbol(g):u.POLYFILL_PREFIX+g,g=u.propertyToPolyfillSymbol[g],u.defineProperty(d,g,{configurable:!0,
writable:!0,value:p})))};u.polyfill("Array.prototype.values",function(n){return n?n:function(){return u.iteratorFromArray(this,function(p,e){return e})}},"es8","es3");
(function(n,p){"object"===typeof module&&module.exports?(p["default"]=p,module.exports=n.document?p(n):p):"function"===typeof define&&define.amd?define("dashboards/dashboards",function(){return p(n)}):(n.Dashboards&&n.Dashboards.error(16,!0),n.Dashboards=p(n))})("undefined"!==typeof window?window:this,function(n){function p(g,d,e,m){g.hasOwnProperty(d)||(g[d]=m.apply(null,e),"function"===typeof CustomEvent&&n.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:d,module:g[d]}})))}
var e={};p(e,"Core/Globals.js",[],function(){var g;(function(d){d.SVG_NS="http://www.w3.org/2000/svg";d.product="Highcharts";d.version="1.0.1";d.win="undefined"!==typeof n?n:{};d.doc=d.win.document;d.svg=d.doc&&d.doc.createElementNS&&!!d.doc.createElementNS(d.SVG_NS,"svg").createSVGRect;d.userAgent=d.win.navigator&&d.win.navigator.userAgent||"";d.isChrome=-1!==d.userAgent.indexOf("Chrome");d.isFirefox=-1!==d.userAgent.indexOf("Firefox");d.isMS=/(edge|msie|trident)/i.test(d.userAgent)&&!d.win.opera;
d.isSafari=!d.isChrome&&-1!==d.userAgent.indexOf("Safari");d.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(d.userAgent);d.isWebKit=-1!==d.userAgent.indexOf("AppleWebKit");d.deg2rad=2*Math.PI/360;d.hasBidiBug=d.isFirefox&&4>parseInt(d.userAgent.split("Firefox/")[1],10);d.hasTouch=!!d.win.TouchEvent;d.marginNames=["plotTop","marginRight","marginBottom","plotLeft"];d.noop=function(){};d.supportsPassiveEvents=function(){let g=!1;if(!d.isMS){const m=Object.defineProperty({},"passive",{get:function(){g=
!0}});d.win.addEventListener&&d.win.removeEventListener&&(d.win.addEventListener("testPassive",d.noop,m),d.win.removeEventListener("testPassive",d.noop,m))}return g}();d.charts=[];d.dateFormats={};d.seriesTypes={};d.symbolSizes={};d.chartCount=0})(g||(g={}));"";return g});p(e,"Core/Utilities.js",[e["Core/Globals.js"]],function(g){function d(a,b,c,k){const h=b?"Highcharts error":"Highcharts warning";32===a&&(a=`${h}: Deprecated member`);const q=f(a);let r=q?`${h} #${a}: www.highcharts.com/errors/${a}/`:
a.toString();if("undefined"!==typeof k){let a="";q&&(r+="?");x(k,function(b,k){a+=`\n - ${k}: ${b}`;q&&(r+=encodeURI(k)+"="+encodeURI(b))});r+=a}C(g,"displayError",{chart:c,code:a,message:r,params:k},function(){if(b)throw Error(r);n.console&&-1===d.messages.indexOf(r)&&console.warn(r)});d.messages.push(r)}function e(a,b){return parseInt(a,b||10)}function m(a){return"string"===typeof a}function l(a){a=Object.prototype.toString.call(a);return"[object Array]"===a||"[object Array Iterator]"===a}function b(a,
b){return!!a&&"object"===typeof a&&(!b||!l(a))}function c(a){return b(a)&&"number"===typeof a.nodeType}function a(a){const k=a&&a.constructor;return!(!b(a,!0)||c(a)||!k||!k.name||"Object"===k.name)}function f(a){return"number"===typeof a&&!isNaN(a)&&Infinity>a&&-Infinity<a}function k(a){return"undefined"!==typeof a&&null!==a}function q(a,b,c){const h=m(b)&&!k(c);let f;const r=(b,c)=>{k(b)?a.setAttribute(c,b):h?(f=a.getAttribute(c))||"class"!==c||(f=a.getAttribute(c+"Name")):a.removeAttribute(c)};
m(b)?r(c,b):x(b,r);return f}function h(a){return l(a)?a:[a]}function r(a,b){let c;a||(a={});for(c in b)a[c]=b[c];return a}function A(){const a=arguments,b=a.length;for(let c=0;c<b;c++){const b=a[c];if("undefined"!==typeof b&&null!==b)return b}}function w(a,b){g.isMS&&!g.svg&&b&&k(b.opacity)&&(b.filter=`alpha(opacity=${100*b.opacity})`);r(a.style,b)}function y(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))}function z(a,b){return 1E14<a?a:parseFloat(a.toPrecision(b||14))}function t(a,b,c){let k;
if("width"===b)return b=Math.min(a.offsetWidth,a.scrollWidth),c=a.getBoundingClientRect&&a.getBoundingClientRect().width,c<b&&c>=b-1&&(b=Math.floor(c)),Math.max(0,b-(t(a,"padding-left",!0)||0)-(t(a,"padding-right",!0)||0));if("height"===b)return Math.max(0,Math.min(a.offsetHeight,a.scrollHeight)-(t(a,"padding-top",!0)||0)-(t(a,"padding-bottom",!0)||0));if(a=n.getComputedStyle(a,void 0))k=a.getPropertyValue(b),A(c,"opacity"!==b)&&(k=e(k));return k}function x(a,b,c){for(const k in a)Object.hasOwnProperty.call(a,
k)&&b.call(c||a[k],a[k],k,a)}function B(a,b,c){function k(b,c){const k=a.removeEventListener;k&&k.call(a,b,c,!1)}function h(c){let h,f;a.nodeName&&(b?(h={},h[b]=!0):h=c,x(h,function(a,b){if(c[b])for(f=c[b].length;f--;)k(b,c[b][f].fn)}))}var f="function"===typeof a&&a.prototype||a;if(Object.hasOwnProperty.call(f,"hcEvents")){const a=f.hcEvents;b?(f=a[b]||[],c?(a[b]=f.filter(function(a){return c!==a.fn}),k(b,c)):(h(a),a[b]=[])):(h(a),delete f.hcEvents)}}function C(a,b,c,k){c=c||{};if(p.createEvent&&
(a.dispatchEvent||a.fireEvent&&a!==g)){var h=p.createEvent("Events");h.initEvent(b,!0,!0);c=r(h,c);a.dispatchEvent?a.dispatchEvent(c):a.fireEvent(b,c)}else if(a.hcEvents){c.target||r(c,{preventDefault:function(){c.defaultPrevented=!0},target:a,type:b});h=[];let k=a,f=!1;for(;k.hcEvents;)Object.hasOwnProperty.call(k,"hcEvents")&&k.hcEvents[b]&&(h.length&&(f=!0),h.unshift.apply(h,k.hcEvents[b])),k=Object.getPrototypeOf(k);f&&h.sort((a,b)=>a.order-b.order);h.forEach(b=>{!1===b.fn.call(a,c)&&c.preventDefault()})}k&&
!c.defaultPrevented&&k.call(a,c)}const {charts:E,doc:p,win:n}=g;(d||(d={})).messages=[];Math.easeInOutSine=function(a){return-.5*(Math.cos(Math.PI*a)-1)};var H=Array.prototype.find?function(a,b){return a.find(b)}:function(a,b){let c;const k=a.length;for(c=0;c<k;c++)if(b(a[c],c))return a[c]};x({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(a,b){g[b]=function(c){d(32,!1,void 0,{[`Highcharts.${b}`]:`use Array.${a}`});return Array.prototype[a].apply(c,[].slice.call(arguments,
1))}});let I;const J=function(){const a=Math.random().toString(36).substring(2,9)+"-";let b=0;return function(){return"highcharts-"+(I?"":a)+b++}}();n.jQuery&&(n.jQuery.fn.highcharts=function(){const a=[].slice.call(arguments);if(this[0])return a[0]?(new (g[m(a[0])?a.shift():"Chart"])(this[0],a[0],a[1]),this):E[q(this[0],"data-highcharts-chart")]});H={addEvent:function(a,b,c,k={}){var h="function"===typeof a&&a.prototype||a;Object.hasOwnProperty.call(h,"hcEvents")||(h.hcEvents={});h=h.hcEvents;g.Point&&
a instanceof g.Point&&a.series&&a.series.chart&&(a.series.chart.runTrackerClick=!0);const f=a.addEventListener;f&&f.call(a,b,c,g.supportsPassiveEvents?{passive:void 0===k.passive?-1!==b.indexOf("touch"):k.passive,capture:!1}:!1);h[b]||(h[b]=[]);h[b].push({fn:c,order:"number"===typeof k.order?k.order:Infinity});h[b].sort((a,b)=>a.order-b.order);return function(){B(a,b,c)}},arrayMax:function(a){let b=a.length,c=a[0];for(;b--;)a[b]>c&&(c=a[b]);return c},arrayMin:function(a){let b=a.length,c=a[0];for(;b--;)a[b]<
c&&(c=a[b]);return c},attr:q,clamp:function(a,b,c){return a>b?a<c?a:c:b},clearTimeout:function(a){k(a)&&clearTimeout(a)},correctFloat:z,createElement:function(a,b,c,k,h){a=p.createElement(a);b&&r(a,b);h&&w(a,{padding:"0",border:"none",margin:"0"});c&&w(a,c);k&&k.appendChild(a);return a},css:w,defined:k,destroyObjectProperties:function(a,b){x(a,function(c,k){c&&c!==b&&c.destroy&&c.destroy();delete a[k]})},diffObjects:function(a,c,k,f){function r(a,c,q,d){const g=k?c:a;x(a,function(k,t){if(!d&&f&&-1<
f.indexOf(t)&&c[t]){k=h(k);q[t]=[];for(let a=0;a<Math.max(k.length,c[t].length);a++)c[t][a]&&(void 0===k[a]?q[t][a]=c[t][a]:(q[t][a]={},r(k[a],c[t][a],q[t][a],d+1)))}else if(b(k,!0)&&!k.nodeType)q[t]=l(k)?[]:{},r(k,c[t]||{},q[t],d+1),0!==Object.keys(q[t]).length||"colorAxis"===t&&0===d||delete q[t];else if(a[t]!==c[t]||t in a&&!(t in c))q[t]=g[t]})}const q={};r(a,c,q,0);return q},discardElement:function(a){a&&a.parentElement&&a.parentElement.removeChild(a)},erase:function(a,b){let c=a.length;for(;c--;)if(a[c]===
b){a.splice(c,1);break}},error:d,extend:r,extendClass:function(a,b){function c(){}c.prototype=new a;r(c.prototype,b);return c},find:H,fireEvent:C,getClosestDistance:function(a,b){const c=!b;let k,h,f,q;a.forEach(a=>{if(1<a.length)for(q=h=a.length-1;0<q;q--)f=a[q]-a[q-1],0>f&&!c?(null===b||void 0===b?void 0:b(),b=void 0):f&&("undefined"===typeof k||f<k)&&(k=f)});return k},getMagnitude:y,getNestedProperty:function(a,c){for(a=a.split(".");a.length&&k(c);){const h=a.shift();if("undefined"===typeof h||
"__proto__"===h)return;if("this"===h){let a;b(c)&&(a=c["@this"]);return null!==a&&void 0!==a?a:c}c=c[h];if(!k(c)||"function"===typeof c||"number"===typeof c.nodeType||c===n)return}return c},getStyle:t,inArray:function(a,b,c){d(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"});return b.indexOf(a,c)},insertItem:function(a,b){const c=a.options.index,k=b.length;let h;for(h=a.options.isInternal?k:0;h<k+1;h++)if(!b[h]||f(c)&&c<A(b[h].options.index,b[h]._i)||b[h].options.isInternal){b.splice(h,0,
a);break}return h},isArray:l,isClass:a,isDOMElement:c,isFunction:function(a){return"function"===typeof a},isNumber:f,isObject:b,isString:m,keys:function(a){d(32,!1,void 0,{"Highcharts.keys":"use Object.keys"});return Object.keys(a)},merge:function(){function k(h,f){"object"!==typeof h&&(h={});x(f,function(q,r){"__proto__"!==r&&"constructor"!==r&&(!b(q,!0)||a(q)||c(q)?h[r]=f[r]:h[r]=k(h[r]||{},q))});return h}let h,f=arguments,q={};!0===f[0]&&(q=f[1],f=Array.prototype.slice.call(f,2));const r=f.length;
for(h=0;h<r;h++)q=k(q,f[h]);return q},normalizeTickInterval:function(a,b,c,k,h){let f=a;c=A(c,y(a));const q=a/c;b||(b=h?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===k&&(1===c?b=b.filter(function(a){return 0===a%1}):.1>=c&&(b=[1/c])));for(k=0;k<b.length&&!(f=b[k],h&&f*c>=a||!h&&q<=(b[k]+(b[k+1]||b[k]))/2);k++);return f=z(f*c,-Math.round(Math.log(.001)/Math.LN10))},objectEach:x,offset:function(a){const b=p.documentElement;a=a.parentElement||a.parentNode?a.getBoundingClientRect():{top:0,left:0,
width:0,height:0};return{top:a.top+(n.pageYOffset||b.scrollTop)-(b.clientTop||0),left:a.left+(n.pageXOffset||b.scrollLeft)-(b.clientLeft||0),width:a.width,height:a.height}},pad:function(a,b,c){return Array((b||2)+1-String(a).replace("-","").length).join(c||"0")+a},pick:A,pInt:e,pushUnique:function(a,b){return 0>a.indexOf(b)&&!!a.push(b)},relativeLength:function(a,b,c){return/%$/.test(a)?b*parseFloat(a)/100+(c||0):parseFloat(a)},removeEvent:B,splat:h,stableSort:function(a,b){const c=a.length;let k,
h;for(h=0;h<c;h++)a[h].safeI=h;a.sort(function(a,c){k=b(a,c);return 0===k?a.safeI-c.safeI:k});for(h=0;h<c;h++)delete a[h].safeI},syncTimeout:function(a,b,c){if(0<b)return setTimeout(a,b,c);a.call(0,c);return-1},timeUnits:{millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5},uniqueKey:J,useSerialIds:function(a){return I=A(a,I)},wrap:function(a,b,c){const k=a[b];a[b]=function(){const a=arguments,b=this;return c.apply(this,[function(){return k.apply(b,arguments.length?
arguments:a)}].concat([].slice.call(arguments)))}}};"";return H});p(e,"Data/DataTable.js",[e["Core/Utilities.js"]],function(g){const {addEvent:d,fireEvent:e,uniqueKey:m}=g;class l{static isNull(b){if(b===l.NULL)return!0;if(b instanceof Array){if(!b.length)return!1;for(let c=0,a=b.length;c<a;++c)if(null!==b[c])return!1}else{const c=Object.keys(b);if(!c.length)return!1;for(let a=0,f=c.length;a<f;++a)if(null!==b[c[a]])return!1}return!0}constructor(b={}){this.aliases={};this.autoId=!b.id;this.columns=
{};this.id=b.id||m();this.modified=this;this.rowCount=0;this.versionTag=m();var c=b.columns||{},a=Object.keys(c);const f=this.columns;let k=0;for(let b=0,h=a.length,r,l;b<h;++b)l=a[b],r=c[l].slice(),f[l]=r,k=Math.max(k,r.length);for(let b=0,c=a.length;b<c;++b)f[a[b]].length=k;this.rowCount=k;b=b.aliases||{};c=Object.keys(b);a=this.aliases;for(let k=0,h=c.length,f;k<h;++k)f=c[k],a[f]=b[f]}clone(b,c){var a={};this.emit({type:"cloneTable",detail:c});b||(a.aliases=this.aliases,a.columns=this.columns);
this.autoId||(a.id=this.id);a=new l(a);b||(a.versionTag=this.versionTag);this.emit({type:"afterCloneTable",detail:c,tableClone:a});return a}deleteColumnAlias(b){const c=this.aliases[b],a=this.modifier;c&&(delete this.aliases[b],a&&a.modifyColumns(this,{[c]:Array(this.rowCount)},0));return c}deleteColumns(b,c){const a=this.columns,f={},k={},q=this.modifier,h=this.rowCount;b=b||Object.keys(a);if(b.length){this.emit({type:"deleteColumns",columnNames:b,detail:c});for(let c=0,q=b.length,l,d;c<q;++c){d=
b[c];if(l=a[d])f[d]=l,k[d]=Array(h);delete a[d]}Object.keys(a).length||(this.rowCount=0);q&&q.modifyColumns(this,k,0,c);this.emit({type:"afterDeleteColumns",columns:f,columnNames:b,detail:c});return f}}deleteRows(b,c=1,a){const f=[],k=[],q=this.modifier;this.emit({type:"deleteRows",detail:a,rowCount:c,rowIndex:b||0});"undefined"===typeof b&&(b=0,c=this.rowCount);if(0<c&&b<this.rowCount){const a=this.columns,q=Object.keys(a);for(let h=0,r=q.length,l,d;h<r;++h){l=a[q[h]];d=l.splice(b,c);h||(this.rowCount=
l.length);for(let a=0,b=d.length;a<b;++a)f[a]=f[a]||[],f[a][h]=d[a];k.push(Array(r))}}q&&q.modifyRows(this,k,b||0,a);this.emit({type:"afterDeleteRows",detail:a,rowCount:c,rowIndex:b||0,rows:f});return f}emit(b){switch(b.type){case "afterDeleteColumns":case "afterDeleteRows":case "afterSetCell":case "afterSetColumns":case "afterSetRows":this.versionTag=m()}e(this,b.type,b)}getCell(b,c){b=this.aliases[b]||b;if(b=this.columns[b])return b[c]}getCellAsBoolean(b,c){b=this.aliases[b]||b;b=this.columns[b];
return!(!b||!b[c])}getCellAsNumber(b,c,a){b=this.aliases[b]||b;c=(b=this.columns[b])&&b[c];switch(typeof c){case "boolean":return c?1:0;case "number":return isNaN(c)&&!a?null:c}c=parseFloat(`${c}`);return isNaN(c)&&!a?null:c}getCellAsString(b,c){b=this.aliases[b]||b;b=this.columns[b];return`${b&&b[c]}`}getColumn(b,c){return this.getColumns([b],c)[b]}getColumnAliases(){const b=this.aliases,c=Object.keys(b),a={};for(let f=0,k=c.length,q;f<k;++f)q=c[f],a[q]=b[q];return a}getColumnAsNumbers(b,c){var a=
this.columns;b=this.aliases[b]||b;const f=a[b];a=[];if(f){const k=f.length;if(c)for(c=0;c<k;++c)a.push(this.getCellAsNumber(b,c,!0));else{for(let a=0,b;a<k;++a){b=f[a];if("number"===typeof b)return f.slice();if(null!==b&&"undefined"!==typeof b)break}for(c=0;c<k;++c)a.push(this.getCellAsNumber(b,c))}}return a}getColumnNames(){return Object.keys(this.columns)}getColumns(b,c){const a=this.aliases,f=this.columns,k={};b=b||Object.keys(f);for(let q=0,h=b.length,r,l;q<h;++q)l=b[q],(r=f[a[l]||l])&&(k[l]=
c?r:r.slice());return k}getModifier(){return this.modifier}getRow(b,c){return this.getRows(b,1,c)[0]}getRowCount(){return this.rowCount}getRowIndexBy(b,c,a){b=this.aliases[b]||b;if(b=this.columns[b])if(c=b.indexOf(c,a),-1!==c)return c}getRowObject(b,c){return this.getRowObjects(b,1,c)[0]}getRowObjects(b=0,c=this.rowCount-b,a){const f=this.aliases,k=this.columns,q=Array(c);a=a||Object.keys(k);for(let h=b,r=0,l=Math.min(this.rowCount,b+c),d,g;h<l;++h,++r){g=q[r]={};for(const b of a)d=k[f[b]||b],g[b]=
d?d[h]:void 0}return q}getRows(b=0,c=this.rowCount-b,a){const f=this.aliases,k=this.columns,q=Array(c);a=a||Object.keys(k);for(let h=b,r=0,l=Math.min(this.rowCount,b+c),d,g;h<l;++h,++r){g=q[r]=[];for(const b of a)d=k[f[b]||b],g.push(d?d[h]:void 0)}return q}getVersionTag(){return this.versionTag}hasColumns(b){const c=this.aliases,a=this.columns;for(let f=0,k=b.length,q;f<k;++f)if(q=b[f],!a[q]&&!c[q])return!1;return!0}hasRowWith(b,c){b=this.aliases[b]||b;return(b=this.columns[b])?-1!==b.indexOf(c):
!1}on(b,c){return d(this,b,c)}renameColumn(b,c){const a=this.columns;if(a[b]){if(b!==c){const f=this.aliases;f[c]&&delete f[c];a[c]=a[b];delete a[b]}return!0}return!1}setCell(b,c,a,f){const k=this.columns,q=this.modifier;b=this.aliases[b]||b;let h=k[b];h&&h[c]===a||(this.emit({type:"setCell",cellValue:a,columnName:b,detail:f,rowIndex:c}),h||(h=k[b]=Array(this.rowCount)),c>=this.rowCount&&(this.rowCount=c+1),h[c]=a,q&&q.modifyCell(this,b,c,a),this.emit({type:"afterSetCell",cellValue:a,columnName:b,
detail:f,rowIndex:c}))}setColumn(b,c=[],a=0,f){this.setColumns({[b]:c},a,f)}setColumnAlias(b,c){const a=this.aliases;return a[b]?!1:(a[b]=c,!0)}setColumns(b,c,a){const f=this.columns,k=this.modifier;var q="undefined"===typeof c;const h=Object.keys(b);this.emit({type:"setColumns",columns:b,columnNames:h,detail:a,rowIndex:c});for(let a=0,k=h.length,l,d;a<k;++a)if(d=h[a],l=b[d],d=this.aliases[d]||d,q)f[d]=l.slice(),this.rowCount=l.length;else{const a=f[d]?f[d]:f[d]=Array(this.rowCount);for(let b=c||
0,k=l.length;b<k;++b)a[b]=l[b];this.rowCount=Math.max(this.rowCount,a.length)}q=Object.keys(f);for(let a=0,b=q.length;a<b;++a)f[q[a]].length=this.rowCount;k&&k.modifyColumns(this,b,c||0);this.emit({type:"afterSetColumns",columns:b,columnNames:h,detail:a,rowIndex:c})}setModifier(b,c){const a=this;a.emit({type:"setModifier",detail:c,modifier:b,modified:a.modified});a.modified=a;a.modifier=b;return(b?b.modify(a):Promise.resolve(a)).then(a=>{a.emit({type:"afterSetModifier",detail:c,modifier:b,modified:a.modified});
return a})["catch"](c=>{a.emit({type:"setModifierError",error:c,modifier:b,modified:a.modified});throw c;})}setRow(b,c,a){this.setRows([b],c,a)}setRows(b,c=this.rowCount,a){var f=this.aliases;const k=this.columns,q=Object.keys(k),h=this.modifier,r=b.length;this.emit({type:"setRows",detail:a,rowCount:r,rowIndex:c,rows:b});for(let a=0,h=c,d;a<r;++a,++h)if(d=b[a],d===l.NULL)for(let a=0,b=q.length;a<b;++a)k[q[a]][h]=null;else if(d instanceof Array)for(let a=0,b=q.length;a<b;++a)k[q[a]][h]=d[a];else{const a=
Object.keys(d);for(let b=0,c=a.length,q;b<c;++b)q=a[b],q=f[q]||q,k[q]||(k[q]=Array(h+1)),k[q][h]=d[q]}f=c+r;if(f>this.rowCount){this.rowCount=f;for(let a=0,b=q.length;a<b;++a)k[q[a]].length=f}h&&h.modifyRows(this,b,c);this.emit({type:"afterSetRows",detail:a,rowCount:r,rowIndex:c,rows:b})}}l.NULL={};"";return l});p(e,"Data/Connectors/DataConnector.js",[e["Data/DataTable.js"],e["Core/Utilities.js"]],function(g,d){const {addEvent:e,fireEvent:m,merge:l,pick:b}=d;class c{constructor(a={}){this.table=new g(a.dataTable);
this.metadata=a.metadata||{columns:{}}}get polling(){return!!this.polling}describeColumn(a,b){const c=this.metadata.columns;c[a]=l(c[a]||{},b)}describeColumns(a){const b=Object.keys(a);let c;for(;"string"===typeof(c=b.pop());)this.describeColumn(c,a[c])}emit(a){m(this,a.type,a)}getColumnOrder(){const a=this.metadata.columns,c=Object.keys(a||{});if(c.length)return c.sort((c,f)=>b(a[c].index,0)-b(a[f].index,0))}getSortedColumns(a){return this.table.getColumns(this.getColumnOrder(a))}load(){m(this,"afterLoad",
{table:this.table});return Promise.resolve(this)}on(a,b){return e(this,a,b)}save(){m(this,"saveError",{table:this.table});return Promise.reject(Error("Not implemented"))}setColumnOrder(a){for(let b=0,c=a.length;b<c;++b)this.describeColumn(a[b],{index:b})}startPolling(a=1E3){const b=this;n.clearTimeout(b._polling);b._polling=n.setTimeout(()=>b.load()["catch"](a=>b.emit({type:"loadError",error:a,table:b.table})).then(()=>{b._polling&&b.startPolling(a)}),a)}stopPolling(){n.clearTimeout(this._polling);
delete this._polling}whatIs(a){return this.metadata.columns[a]}}(function(a){a.types={};a.registerType=function(b,c){return!!b&&!a.types[b]&&!!(a.types[b]=c)}})(c||(c={}));return c});p(e,"Dashboards/Components/ComponentRegistry.js",[e["Core/Utilities.js"]],function(){var g;(function(d){d.types={};d.registerComponent=function(g,e){return!!g&&!d.types[g]&&!!(d.types[g]=e)}})(g||(g={}));return g});p(e,"Dashboards/Globals.js",[],function(){var g,d=g||(g={});d.classNamePrefix="highcharts-dashboards-";
d.classNames={layout:d.classNamePrefix+"layout",cell:d.classNamePrefix+"cell",cellHover:d.classNamePrefix+"cell-state-hover",cellActive:d.classNamePrefix+"cell-state-active",row:d.classNamePrefix+"row",layoutsWrapper:d.classNamePrefix+"layouts-wrapper",boardContainer:d.classNamePrefix+"wrapper"};d.guiElementType={row:"row",cell:"cell",layout:"layout"};d.responsiveBreakpoints={small:"small",medium:"medium",large:"large"};d.boards=[];d.win=n;return g});p(e,"Dashboards/Actions/Bindings.js",[e["Dashboards/Components/ComponentRegistry.js"],
e["Dashboards/Globals.js"],e["Core/Utilities.js"]],function(g,d,e){const {addEvent:m,fireEvent:l,error:b}=e;var c;(function(a){function c(a){a="string"===typeof a?document.getElementById(a):a;let b;null!==a&&l(a,"bindedGUIElement",{},function(a){b=a.guiElement});return b}a.addComponent=function(c,f){var h,k,q,e;const v=c.states,z=c.events;if((f=f||a.getCell(c.cell||""))&&f.container&&c.type){var t=f.container,x=g.types[c.type];x||(b("The component's type `"+c.type+"` does not exist."),x=g.types.HTML,
c.title={text:null===(k=null===(h=f.row.layout.board)||void 0===h?void 0:h.editMode)||void 0===k?void 0:k.lang.errorMessage,className:d.classNamePrefix+"component-title-error "+d.classNamePrefix+"component-title"});var B=new x(f,c);try{B.render()}catch(C){B.update({title:{text:null===(e=null===(q=f.row.layout.board)||void 0===q?void 0:q.editMode)||void 0===e?void 0:e.lang.errorMessage,className:d.classNamePrefix+"component-title-error "+d.classNamePrefix+"component-title"}})}l(B,"mount");B.setCell(f);
f.mountedComponent=B;f.row.layout.board.mountedComponents.push({options:c,component:B,cell:f});z&&z.click&&m(t,"click",()=>{z.click();f&&B&&t&&v&&v.active&&f.setActiveState()});v&&v.hover&&t.classList.add(d.classNames.cellHover);l(B,"afterLoad");return B}b("The component is misconfigured and is unable to find the HTML cell element `"+c.cell+"` to render the content.")};a.componentFromJSON=function(b){let c=g.types[b.$class];if(c){var h=a.getCell(b.options.cell||"");if(h)return(b=c.fromJSON(b,h))&&
b.render(),b}};a.getCell=function(a){if((a=c(a))&&"cell"===a.getType())return a};a.getRow=function(a){if((a=c(a))&&"row"===a.getType())return a};a.getLayout=function(a){if((a=c(a))&&"layout"===a.getType())return a}})(c||(c={}));return c});p(e,"Dashboards/Accessibility/DashboardsAccessibility.js",[],function(){class g{constructor(d){this.board=d;this.addTabIndexToCells()}addTabIndexToCells(){const d=this.board.mountedComponents;let g;for(let e=0,l=d.length;e<l;++e)(g=d[e].cell)&&g.container&&g.container.setAttribute("tabindex",
-1)}}return g});p(e,"Data/DataCursor.js",[],function(){class g{constructor(d={}){this.emittingRegister=[];this.listenerMap={};this.stateMap=d}addListener(d,g,e){d=this.listenerMap[d]=this.listenerMap[d]||{};(d[g]=d[g]||[]).push(e);return this}buildEmittingTag(d){return("position"===d.cursor.type?[d.table.id,d.cursor.column,d.cursor.row,d.cursor.state,d.cursor.type]:[d.table.id,d.cursor.columns,d.cursor.firstRow,d.cursor.lastRow,d.cursor.state,d.cursor.type]).join("\x00")}emitCursor(d,e,m,l){var b=
d.id,c=e.state;if(c=this.listenerMap[b]&&this.listenerMap[b][c]){b=this.stateMap[b]=this.stateMap[b]||{};let a=b[e.state];l&&(a||(a=b[e.state]=[]),-1===g.getIndex(e,a)&&a.push(e));d={cursor:e,cursors:a||[],table:d};m&&(d.event=m);m=this.emittingRegister;e=this.buildEmittingTag(d);if(0<=m.indexOf(e))return this;try{this.emittingRegister.push(e);for(let a=0,b=c.length;a<b;++a)c[a].call(this,d)}finally{c=this.emittingRegister.indexOf(e),0<=c&&this.emittingRegister.splice(c,1)}}return this}remitCursor(d,
e){if(d=this.stateMap[d]&&this.stateMap[d][e.state])e=g.getIndex(e,d),0<=e&&d.splice(e,1);return this}removeListener(d,g,e){(d=this.listenerMap[d]&&this.listenerMap[d][g])&&(e=d.indexOf(e))&&d.splice(e,1);return this}}(function(d){function g(d,l){var b,c,a,f;if("range"===d.type)return d;l={type:"range",firstRow:null!==(c=null!==(b=d.row)&&void 0!==b?b:l&&l.firstRow)&&void 0!==c?c:0,lastRow:null!==(f=null!==(a=d.row)&&void 0!==a?a:l&&l.lastRow)&&void 0!==f?f:Number.MAX_VALUE,state:d.state};"undefined"!==
typeof d.column&&(l.columns=[d.column]);return l}d.getIndex=function(d,l){if("position"===d.type)for(let b,c=0,a=l.length;c<a;++c){if(b=l[c],"position"===b.type&&b.state===d.state&&b.column===d.column&&b.row===d.row)return c}else{const b=JSON.stringify(d.columns);for(let c,a=0,f=l.length;a<f;++a)if(c=l[a],"range"===c.type&&c.state===d.state&&c.firstRow===d.firstRow&&c.lastRow===d.lastRow&&JSON.stringify(c.columns)===b)return a}return-1};d.isEqual=function(d,l){return"position"===d.type&&"position"===
l.type?d.column===l.column&&d.row===l.row&&d.state===l.state:"range"===d.type&&"range"===l.type?d.firstRow===l.firstRow&&d.lastRow===l.lastRow&&JSON.stringify(d.columns)===JSON.stringify(l.columns):!1};d.isInRange=function(d,l){"position"===l.type&&(l=g(l));"position"===d.type&&(d=g(d,l));const b=d.columns,c=l.columns;return d.firstRow>=l.firstRow&&d.lastRow<=l.lastRow&&(!b||!c||b.every(a=>0<=c.indexOf(a)))};d.toPositions=function(d){if("position"===d.type)return[d];const l=d.columns||[],b=[],c=d.state;
for(let a=d.firstRow,f=d.lastRow;a<f;++a)if(l.length)for(let k=0,f=l.length;k<f;++k)b.push({type:"position",column:l[k],row:a,state:c});else b.push({type:"position",row:a,state:c});return b};d.toRange=g})(g||(g={}));"";return g});p(e,"Dashboards/Serializable.js",[],function(){var g;(function(d){const g={},e={};d.fromJSON=function(l){const b=l.$class;if("string"!==typeof b)throw Error("JSON has no $class property.");var c=g[b];if(c||(c=e[b]))return c.fromJSON(l);throw Error(`'${b}' unknown.`);};d.registerClassPrototype=
function(l,b){if(g[l])throw Error("A serializer for '"+l+"' is already registered.");g[l]=b};d.registerHelper=function(l){if(e[l.$class])throw Error("A serializer for '"+l.$class+"' is already registered.");e[l.$class]=l};d.toJSON=function(l){if("function"===typeof l.fromJSON&&"function"===typeof l.toJSON)return l.toJSON();const b=Object.keys(e),c=b.length;for(let f=0;f<c;++f){var a=b[f];a=e[a];if(a.jsonSupportFor(l))return a.toJSON(l)}throw Error("Object is not supported.");}})(g||(g={}));return g});
p(e,"Dashboards/SerializeHelper/DataCursorHelper.js",[e["Data/DataCursor.js"],e["Dashboards/Serializable.js"]],function(g,d){const e={$class:"Data.DataCursor",fromJSON:function(d){return new g(d.stateMap)},jsonSupportFor:function(d){return d instanceof g},toJSON:function(d){const l=d.stateMap,b={};d=Object.keys(d.stateMap);let c;let a,f;for(let q=0,h=d.length;q<h;++q){a=d[q];f=Object.keys(l[a]);b[a]={};for(let h=0,q=f.length;h<q;++h){var k=f[h];c=l[a][k];b[a][k]=k=[];for(let a=0,b=c.length;a<b;++a)k.push(Object.assign({},
c[a]))}}return{$class:"Data.DataCursor",stateMap:b}}};d.registerHelper(e);return e});p(e,"Data/Modifiers/DataModifier.js",[e["Core/Utilities.js"]],function(g){const {addEvent:d,fireEvent:e,merge:m}=g;class l{benchmark(b,c){const a=[],f=this,k=()=>{f.modifyTable(b);f.emit({type:"afterBenchmarkIteration"})},{iterations:q}=m({iterations:1},c);f.on("afterBenchmarkIteration",()=>{a.length===q?f.emit({type:"afterBenchmark",results:a}):k()});var h=0,r=0;f.on("modify",()=>{h=n.performance.now()});f.on("afterModify",
()=>{r=n.performance.now();a.push(r-h)});k();return a}emit(b){e(this,b.type,b)}modify(b,c){const a=this;return new Promise((f,k)=>{b.modified===b&&(b.modified=b.clone(!1,c));try{f(a.modifyTable(b,c))}catch(q){a.emit({type:"error",detail:c,table:b}),k(q)}})}modifyCell(b){return this.modifyTable(b)}modifyColumns(b){return this.modifyTable(b)}modifyRows(b){return this.modifyTable(b)}on(b,c){return d(this,b,c)}}(function(b){b.types={};b.registerType=function(c,a){return!!c&&!b.types[c]&&!!(b.types[c]=
a)}})(l||(l={}));return l});p(e,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}});p(e,"Data/DataPool.js",[e["Data/Connectors/DataConnector.js"],e["Data/Modifiers/DataModifier.js"],e["Data/DataPoolDefaults.js"],e["Core/Utilities.js"]],function(g,d,e,m){class l{constructor(b=e){b.connectors=b.connectors||[];this.options=b;this.connectors={}}emit(b){m.fireEvent(this,b.type,b)}getConnector(b){var c=this.connectors[b];if(c)return Promise.resolve(c);if(c=this.getConnectorOptions(b))return this.loadConnector(c);
throw Error(`Connector not found. (${b})`);}getConnectorIds(){const b=this.options.connectors,c=[];for(let a=0,f=b.length;a<f;++a)c.push(b[a].id);return c}getConnectorOptions(b){const c=this.options.connectors;for(let a=0,f=c.length;a<f;++a)if(c[a].id===b)return c[a]}getConnectorTable(b){return this.getConnector(b).then(b=>b.table)}loadConnector(b){return new Promise((c,a)=>{this.emit({type:"load",options:b});var f=g.types[b.type];if(!f)throw Error(`Connector type not found. (${b.type})`);f=new f(b.options);
this.connectors[b.id]=f;f.load().then(a=>{var c;return(null===(c=null===b||void 0===b?void 0:b.options)||void 0===c?0:c.dataModifier)?a.table.setModifier(new d.types[b.options.dataModifier.type](b.options.dataModifier)).then(()=>a):a}).then(a=>{this.emit({type:"afterLoad",options:b});c(a)})["catch"](a)})}on(b,c){return m.addEvent(this,b,c)}setConnectorOptions(b){const c=this.options.connectors;this.emit({type:"setConnectorOptions",options:b});for(let a=0,f=c.length;a<f;++a)if(c[a].id===b.id){c.splice(a,
1);break}c.push(b);this.emit({type:"afterSetConnectorOptions",options:b})}}return l});p(e,"Dashboards/EditMode/EditGlobals.js",[e["Dashboards/Globals.js"]],function(g){g=g.classNamePrefix+"edit-";return{classNames:{resizeSnap:g+"resize-snap",resizeSnapX:g+"resize-snap-x",resizeSnapY:g+"resize-snap-y",separator:g+"separator",contextMenuBtn:g+"context-menu-btn",contextMenu:g+"context-menu",contextMenuItem:g+"context-menu-item",editModeEnabled:g+"enabled",editToolbar:g+"toolbar",editToolbarCellOutline:g+
"toolbar-cell-outline",editToolbarRowOutline:g+"toolbar-row-outline",editToolbarItem:g+"toolbar-item",editToolbarRow:g+"toolbar-row",editToolbarCell:g+"toolbar-cell",editSidebar:g+"sidebar",editSidebarShow:g+"sidebar-show",editSidebarHide:g+"sidebar-hide",editSidebarTitle:g+"sidebar-title",editSidebarMenuItem:g+"sidebar-item",rowContextHighlight:g+"row-context-highlight",cellEditHighlight:g+"cell-highlight",dashboardCellEditHighlightActive:g+"cell-highlight-active",dragMock:g+"drag-mock",dropPointer:g+
"drop-pointer",contextDetectionPointer:g+"ctx-detection-pointer",resizePointer:g+"resize-pointer",currentEditedElement:g+"unmask",maskElement:g+"mask",menuItem:g+"menu-item",menu:g+"menu",menuVerticalSeparator:g+"menu-vertical-separator",menuHorizontalSeparator:g+"menu-horizontal-separator",menuDestroy:g+"menu-destroy",editSidebarWrapper:g+"sidebar-wrapper",customSelect:g+"custom-select",customSelectButton:g+"custom-option-button",toggleContainer:g+"toggle-container",toggleWrapper:g+"toggle-wrapper",
toggleSlider:g+"toggle-slider",toggleWrapperColored:g+"toggle-wrapper-colored",toggleLabels:g+"toggle-labels",button:g+"button",sidebarNavButton:g+"sidebar-button-nav",labelText:g+"label-text",editSidebarTabBtn:g+"sidebar-tab-btn",editToolsBtn:g+"tools-btn",editTools:g+"tools",editGridItems:g+"grid-items",confirmationPopup:g+"confirmation-popup",popupContentContainer:g+"confirmation-popup-content",popupConfirmBtn:g+"confirmation-popup-confirm-btn",popupCloseButton:g+"popup-close",editOverlay:g+"overlay",
editOverlayActive:g+"overlay-active",resizerMenuBtnActive:g+"resizer-menu-btn-active",sidebarCloseButton:g+"close-btn",editSidebarTabBtnWrapper:g+"tabs-buttons-wrapper",editSidebarRight:g+"sidebar-right",editSidebarRightShow:g+"sidebar-right-show",viewFullscreen:g+"view-fullscreen",accordionMenu:g+"accordion-menu",accordionContainer:g+"accordion",accordionHeader:g+"accordion-header",accordionHeaderBtn:g+"accordion-header-btn",accordionHeaderIcon:g+"accordion-header-icon",accordionContent:g+"accordion-content",
accordionNestedWrapper:g+"accordion-nested",accordionMenuButtonsContainer:g+"accordion-menu-buttons-container",accordionMenuButton:g+"accordion-menu-button",hiddenElement:g+"hidden-element",collapsableContentHeader:g+"collapsable-content-header",dropdown:g+"dropdown",dropdownContent:g+"dropdown-content",dropdownButton:g+"dropdown-button",dropdownButtonContent:g+"dropdown-button-content",dropdownIcon:g+"pointer",rotateElement:g+"rotate-element",icon:g+"icon"},lang:{addComponent:"Add component",cancelButton:"Cancel",
caption:"Caption",chartClassName:"Chart class name",chartConfig:"Chart configuration",chartID:"Chart ID",chartOptions:"Chart options",chartType:"Chart type",connectorName:"Connector name",confirmButton:"Confirm",confirmDestroyCell:"Do you want to destroy the cell?",confirmDestroyRow:"Do you want to destroy the row?",dataLabels:"Data labels",editMode:"Edit mode",errorMessage:"Something went wrong",exitFullscreen:"Exit full screen",id:"Id",large:"Large",medium:"Medium",off:"off",on:"on",pointFormat:"Point format",
scaleElements:"Scale elements",settings:"Settings",small:"Small",style:"Styles",title:"Title",viewFullscreen:"View in full screen"}}});p(e,"Dashboards/EditMode/EditRenderer.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"]],function(g,d){function e(a,b){let c;b.options.contextMenu&&(c=w("button",{className:g.classNames.contextMenuBtn,onclick:function(){b.onContextBtnClick()}},{"background-image":"url("+b.options.contextMenu.icon+")"},a));return c}function m(a,b){const {name:h,showToggle:k,
onchange:f,isEnabled:q,isNested:r,iconsURLPrefix:l,lang:d}=b;a=w("div",{className:g.classNames[r?"accordionNestedWrapper":"accordionContainer"]+" "+g.classNames.collapsableContentHeader},{},a);b=w("div",{className:g.classNames.accordionHeader},{},a);const e=w("button",{className:g.classNames.accordionHeaderBtn},{},b);w("span",{textContent:d[h]||h},{},e);k&&c(b,{enabledOnOffLabels:!0,id:h,name:h,onchange:f,value:q||!1,lang:d});const t=w("img",{className:g.classNames.accordionHeaderIcon+" "+g.classNames.rotateElement,
src:l+"dropdown-pointer.svg"},{},e),A=w("div",{className:g.classNames.accordionContent+" "+g.classNames.hiddenElement},{},a);e.addEventListener("click",function(){A.classList.toggle(g.classNames.hiddenElement);t.classList.toggle(g.classNames.rotateElement)});return{outerElement:a,content:A}}function l(c,h){if(c){h.name&&a(c,{title:h.name,isLabel:!0});var k=h.iconsURLPrefix||"";c=w("div",{className:g.classNames.dropdown+" "+g.classNames.collapsableContentHeader},{},c);var f=w("button",{className:g.classNames.dropdownButton},
{},c),q=w("div",{className:g.classNames.dropdownButtonContent},{},f),r=(d.find(h.selectOptions,a=>a.name===h.value)||{}).iconURL,l;r&&(l=w("img",{src:k+r,className:g.classNames.icon},{},q));q=w("span",{textContent:h.value,id:h.id||""},{},q);var e=w("img",{className:g.classNames.dropdownIcon+" "+g.classNames.rotateElement,src:k+"dropdown-pointer.svg"},{},f),t=w("ul",{className:g.classNames.dropdownContent+" "+g.classNames.hiddenElement},{},c);f.addEventListener("click",function(){t.classList.toggle(g.classNames.hiddenElement);
e.classList.toggle(g.classNames.rotateElement)});for(let a=0,c=h.selectOptions.length;a<c;++a)b(A(h.selectOptions[a]||{},{iconsURLPrefix:k}),t,q,h.id,e,l,h.onchange);return c}}function b(a,b,c,h,k,f,q){const r=a.iconsURLPrefix+a.iconURL;h=w("li",{},{},b);h=w("button",{className:g.classNames.customSelectButton},{},h);a.iconURL&&w("img",{src:r},{},h);w("span",{textContent:a.name||""},{},h);h.addEventListener("click",function(){b.classList.add(g.classNames.hiddenElement);k.classList.toggle(g.classNames.rotateElement);
c.textContent=a.name||"";f&&a.iconURL&&(f.src=r);if(q)return q(a.name)})}function c(b,c){if(b){var {value:k,title:f,lang:q}=c;b=w("div",{className:g.classNames.toggleContainer},{},b);f&&a(b,{title:f});c.enabledOnOffLabels&&y.renderText(b,{title:q.off,className:g.classNames.toggleLabels});var r=w("label",{className:g.classNames.toggleWrapper+" "+(c.className||"")},{},b),l=h(r,k),d=c.onchange;l&&d&&b.addEventListener("click",()=>{d(!l.checked);l.checked=!l.checked});r=w("span",{className:g.classNames.toggleSlider},
{},r);d&&r.addEventListener("click",a=>{a.preventDefault()});c.enabledOnOffLabels&&y.renderText(b,{title:q.on,className:g.classNames.toggleLabels});return b}}function a(a,b){let c;const {title:h,className:k,isLabel:f}=b;a&&(c=w(f?"label":"div",Object.assign({className:g.classNames.labelText+" "+(k||""),textContent:h},f?{htmlFor:h}:{}),{},a));return c}function f(a,b){const {icon:c,callback:h}=b;if(a){a=w("div",{onclick:h,className:b.className||""},{},a);a.style["background-image"]="url("+c+")";var k=
b.mousedown,f=b.click;k&&(a.onmousedown=function(){k.apply(this,arguments)});f&&a.addEventListener("click",function(){f.apply(this,arguments)});return a}}function k(b,c){if(b){c.name&&a(b,{title:c.name,isLabel:!0});b=w("input",{type:"text",onclick:c.callback,id:c.id||"",name:c.name||"",value:c.value&&c.value.replace(/"/g,"")||""},{},b);var h=c.onchange;h&&b.addEventListener("change",function(a){h(a.target.value)});return b}}function q(b,c){if(b){c.name&&a(b,{title:c.name,isLabel:!0});b=w("textarea",
{id:c.id,name:c.name,value:c.value||""},{},b);var h=c.onchange;h&&b.addEventListener("change",function(a){h(a.target.value)});return b}}function h(a,b){let c;a&&(c=w("input",{type:"checkbox",checked:!!b},{},a));return c}function r(a,b){if(a)return a=w("button",{className:g.classNames.button+" "+(b.className||""),onclick:b.callback,textContent:b.text},b.style||{},a),b.icon&&(a.style["background-image"]="url("+b.icon+")"),a}const {merge:A,createElement:w}=d,y={renderSelect:l,renderToggle:c,renderText:a,
renderCollapseHeader:m,renderIcon:f,renderContextButton:e,renderInput:k,renderTextarea:q,renderCheckbox:h,renderButton:r,getRendererFunction:function(b){return{select:l,toggle:c,text:a,collapse:m,icon:f,contextButton:e,input:k,textarea:q,checkbox:h,button:r}[b]}};return y});p(e,"Dashboards/EditMode/Menu/MenuItem.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditRenderer.js"]],function(g,d,e){const {createElement:m,merge:l}=d;class b{constructor(c,a){this.menu=
c;this.isActive=!1;this.options=l(b.defaultOptions,a);this.container=this.setContainer();this.innerElement=this.setInnerElement()}setContainer(){const b=this.options;let a=g.classNames.menuItem;this.menu.options.itemsClassName&&(a+=" "+this.menu.options.itemsClassName);b.className&&(a+=" "+b.className);return m("div",{className:a||""},l(this.options.style||{},this.isActive?{display:"block"}:{}),this.menu.container)}setInnerElement(){var b,a,f,k,q,h,r,l;const d=this.options,g=this.container,m=d.langKey;
if("toggle"===d.type)return e.renderToggle(g,{id:d.id,name:d.id,title:m?this.menu.editMode.lang[m]:d.text,value:!(!d.getValue||!d.getValue(this)),lang:this.menu.editMode.lang,onchange:null===(a=null===(b=d.events)||void 0===b?void 0:b.click)||void 0===a?void 0:a.bind(this)});if("text"===d.type)return e.renderText(g,{title:m?this.menu.editMode.lang[m]:d.text||"",className:d.className||""});if("icon"===d.type)return e.renderIcon(g,{icon:d.icon||"",mousedown:null===(k=null===(f=d.events)||void 0===f?
void 0:f.onmousedown)||void 0===k?void 0:k.bind(this),click:null===(h=null===(q=d.events)||void 0===q?void 0:q.click)||void 0===h?void 0:h.bind(this)});if("button"===d.type)return e.renderButton(g,{callback:null===(l=null===(r=d.events)||void 0===r?void 0:r.click)||void 0===l?void 0:l.bind(this),className:d.className||"",style:d.style||{},text:m?this.menu.editMode.lang[m]:d.text||""})}update(){const b=this.options;b.events&&b.events.update&&b.events.update.apply(this,arguments)}activate(){this.update();
this.container&&(this.isActive=!0,this.container.style.display="block")}deactivate(){this.container&&(this.isActive=!1,this.container.style.display="none")}}b.defaultOptions={id:"",type:"text"};return b});p(e,"Dashboards/EditMode/Menu/MenuItemBindings.js",[],function(){return{viewFullscreen:{id:"viewFullscreen",type:"button",langKey:"viewFullscreen",events:{click:function(){const g=this.menu.editMode.board.fullscreen;g&&g.toggle()}}}}});p(e,"Dashboards/EditMode/Menu/Menu.js",[e["Dashboards/EditMode/EditGlobals.js"],
e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/MenuItem.js"],e["Dashboards/EditMode/Menu/MenuItemBindings.js"]],function(g,d,e,m){const {createElement:l,merge:b}=d;class c{constructor(a,b,c,q){this.parentElement=a;this.isVisible=!1;this.activeItems=[];this.options=b;this.items={};this.editMode=c;q&&(this.parent=q);this.container=this.setContainer()}setContainer(){return l("div",{className:g.classNames.menu+" "+(this.options.className||"")},{},this.parentElement)}initItems(a,c){const k=this.options.items||
[];let f;for(let q=0,d=k.length;q<d;++q){f=k[q];var h="string"===typeof f?a[f]:f.id?a[f.id]:{};h="string"===typeof f?b(h,{id:f}):b(h,f);h.id&&(h=new e(this,h),this.items[h.options.id]=h,c&&(h.activate(),this.activeItems.push(h)))}}setActiveItems(a){let b;for(let b=0,c=this.activeItems.length;b<c;++b)-1===a.indexOf(this.activeItems[b].options.id)&&this.activeItems[b].deactivate();this.activeItems.length=0;for(let c=0,f=a.length;c<f;++c)if(b=this.items[a[c]])b.isActive?b.update():b.activate(),this.activeItems.push(b)}deactivateActiveItems(){for(let a=
0,b=this.activeItems.length;a<b;++a)this.activeItems[a].deactivate()}updateActiveItems(){const a=this.activeItems;for(let b=0,c=a.length;b<c;++b)a[b].update()}destroy(){this.activeItems.length=0;this.container.remove();this.items={};this.options={}}}c.items=m;return c});p(e,"Dashboards/EditMode/Toolbar/EditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/Menu.js"]],function(g,d){const {defined:e,createElement:m,css:l}=g;class b{constructor(b,a){this.container=m("div",{className:a.className},
void 0,b.board.container);this.editMode=b;this.iconURLPrefix=b.iconsURLPrefix;this.menu=new d(this.container,a.menu,b,this);this.options=a;this.isVisible=!1;this.options.outline&&(this.outline=m("div",{className:a.outlineClassName},void 0,this.container))}hide(){this.setPosition(void 0,void 0)}refreshOutline(b,a,f,k=0){f=(f||{}).container;this.outline&&f&&l(this.outline,{display:"block",left:b-k+"px",top:a-k+"px",width:f.offsetWidth+2*k+"px",height:f.offsetHeight+2*k+"px"})}hideOutline(){this.outline&&
(this.outline.style.display="none")}setPosition(b,a){this.container&&l(this.container,{left:(b||"-9999")+"px",top:(a||"-9999")+"px"});this.isVisible=e(b)&&e(a)}}return b});p(e,"Dashboards/Layout/GUIElement.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"]],function(g,d){const {addEvent:e,createElement:m,uniqueKey:l,objectEach:b}=g;class c{static getOffsets(a,b){const c={left:0,top:0,right:0,bottom:0};a.container&&(a=a.container.getBoundingClientRect(),b=b?b.getBoundingClientRect():{left:0,top:0},
c.left=a.left-b.left,c.top=a.top-b.top,c.right=a.right-b.left,c.bottom=a.bottom-b.top);return c}static getDimFromOffsets(a){return{width:a.right-a.left,height:a.bottom-a.top}}static createElementId(a){return d.classNamePrefix+a+"-"+l().slice(11)}static getPercentageWidth(a){const b=/^([0-9]{1})[\-\/\.]([0-9]{1,2})$/;let c;b.test(a)?(a=a.match(b)||[],c=100*+a[1]/+a[2],c=(100>=c?c:100)+"%"):-1!==a.indexOf("%")&&(a=parseFloat(a),c=(100>=a?0<=a?a:0:100)+"%");return c}setElementContainer(a){const b=this;
a.render&&a.parentContainer?(a.attribs&&!a.attribs.id&&delete a.attribs.id,b.container=m("div",a.attribs||{},a.style||{},a.parentContainer)):a.element instanceof HTMLElement?b.container=a.element:"string"===typeof a.elementId&&(a=document.getElementById(a.elementId))&&(b.container=a);b.container&&(b.removeBindedEventFn=e(b.container,"bindedGUIElement",function(a){a.guiElement=b;a.stopImmediatePropagation()}))}destroy(){const a=this;a.removeBindedEventFn&&a.removeBindedEventFn();a.container&&a.container.parentNode&&
a.container.parentNode.removeChild(a.container);b(a,function(b,c){delete a[c]})}getType(){return this.type}changeVisibility(a=!0,b){const c=this.isVisible&&!a||!this.isVisible&&a;this.container&&c&&(this.container.style.display=a?b||"block":"none",this.isVisible=a)}hide(){this.changeVisibility(!1)}show(){this.changeVisibility()}}return c});p(e,"Dashboards/EditMode/Toolbar/CellEditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/Toolbar/EditToolbar.js"],
e["Dashboards/Layout/GUIElement.js"]],function(g,d,e,m){const {merge:l,fireEvent:b,objectEach:c}=g;class a extends e{static getItemsConfig(a,b){var c;return[...(null===(c=a.dragDrop)||void 0===c?0:c.enabled)?[{id:"drag",type:"icon",icon:b+"drag.svg",events:{onmousedown:function(a){const b=this.menu.parent,c=b.editMode.dragDrop;if(c&&b.cell)c.onDragStart(a,b.cell)}}}]:[],{id:"settings",type:"icon",icon:b+"settings.svg",events:{click:function(){this.menu.parent.onCellOptions()}}},{id:"destroy",type:"icon",
className:d.classNames.menuDestroy,icon:b+"destroy.svg",events:{click:function(){const a=this.menu.parent,b=this.menu.parent.editMode,c=b.confirmationPopup;c.show({confirmButton:{value:b.lang.confirmButton,callback:a.onCellDestroy,context:a},cancelButton:{value:b.lang.cancelButton,callback:()=>{c.closePopup()}},text:b.lang.confirmDestroyCell})}}}]}constructor(b){super(b,l(a.defaultOptions,(b.options.toolbars||{}).cell,{menu:{items:a.getItemsConfig(b.options,b.iconsURLPrefix)}}));this.menu.initItems({})}showToolbar(a){let b;
if(a.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){var f=m.getOffsets(a,this.editMode.board.container);b=f.right;f=f.top;c(this.menu.items,a=>{a.activate()});this.setPosition(b,f);this.cell=a;this.refreshOutline()}else this.isVisible&&this.hide()}refreshOutline(){this.cell&&this.cell.container&&this.outline&&super.refreshOutline(-this.cell.container.offsetWidth,0,this.cell,-1)}onCellOptions(){this.editMode.sidebar&&(this.editMode.sidebar.show(this.cell),this.cell&&this.cell.setHighlight())}onCellDestroy(){if(this.cell){const a=
this.cell.row;this.resetEditedCell();this.cell.destroy();this.cell=void 0;this.editMode.hideToolbars(["cell","row"]);a&&a.cells&&a.cells.length&&(b(this.editMode.board,"cellResize",{cell:a.cells[0]}),b(a,"cellChange",{cell:a.cells[0],row:a}))}}resetEditedCell(){this.editedCell=void 0}}a.defaultOptions={enabled:!0,className:d.classNames.editToolbar,outline:!0,outlineClassName:d.classNames.editToolbarCellOutline,menu:{className:d.classNames.editToolbarCell,itemsClassName:d.classNames.editToolbarItem,
items:[]}};return a});p(e,"Dashboards/EditMode/Toolbar/RowEditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/Toolbar/EditToolbar.js"],e["Dashboards/Layout/GUIElement.js"]],function(g,d,e,m){const {merge:l,objectEach:b}=g;class c extends e{static getMenuItemsConfig(a,b){var c;a=(null===(c=a.dragDrop)||void 0===c?0:c.enabled)?[{id:"drag",type:"icon",icon:b+"drag.svg",events:{onmousedown:function(a){const b=this.menu.parent,c=b.editMode.dragDrop;if(c&&
b.row)c.onDragStart(a,b.row)}}}]:[];c={id:"settings",type:"icon",icon:b+"settings.svg",events:{click:function(a){this.menu.parent.onRowOptions(a)}}};b={id:"destroy",type:"icon",className:d.classNames.menuDestroy,icon:b+"destroy.svg",events:{click:function(){const a=this.menu.parent,b=this.menu.parent.editMode,c=b.confirmationPopup;c.show({confirmButton:{value:b.lang.confirmButton,callback:a.onRowDestroy,context:a},cancelButton:{value:b.lang.cancelButton,callback:()=>{c.closePopup()}},text:b.lang.confirmDestroyRow})}}};
return[...a,c,b]}constructor(a){super(a,l(c.defaultOptions,(a.options.toolbars||{}).row,{menu:{items:c.getMenuItemsConfig(a.options,a.iconsURLPrefix)}}));this.menu.initItems({})}refreshOutline(a,b){this.row&&this.row.container&&super.refreshOutline(a,b,this.row,2)}showToolbar(a){let c;if(a.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){var k=m.getOffsets(a,this.editMode.board.container);var q=k.right-k.left;b(this.menu.items,a=>{a.activate()});c=q/2-this.container.clientWidth/
2;q=k.left+c;k=k.top-this.container.clientHeight;this.setPosition(q,k);this.row=a;this.refreshOutline(-c,this.container.clientHeight)}else this.isVisible&&this.hide()}onRowOptions(){this.editMode.sidebar&&this.editMode.sidebar.show(this.row)}onRowDestroy(){this.row&&(this.resetEditedRow(),this.row.destroy(),this.row=void 0,this.editMode.hideToolbars(["cell","row"]))}resetEditedRow(){this.editedRow=void 0}}c.defaultOptions={enabled:!0,className:d.classNames.editToolbar,outline:!0,outlineClassName:d.classNames.editToolbarRowOutline,
menu:{className:d.classNames.editToolbarRow,itemsClassName:d.classNames.editToolbarItem,items:[]}};return c});p(e,"Dashboards/EditMode/AccordionMenu.js",[e["Dashboards/EditMode/EditRenderer.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"]],function(g,d,e){const {createElement:m,merge:l,error:b}=d;class c{constructor(a,b){this.changedOptions={};this.chartOptionsJSON={};this.iconsURLPrefix=a;this.closeSidebar=b}renderContent(a,b){var c,f,h;const r=this,d=b.editableOptions.getOptions();
let w;const y=m("div",{className:e.classNames.accordionMenu},{},a);for(let h=0,k=d.length;h<k;h++)a=d[h],w=g.renderCollapseHeader(y,{name:a.name,iconsURLPrefix:r.iconsURLPrefix,lang:((null===(c=b.board)||void 0===c?void 0:c.editMode)||e).lang}).content,this.renderAccordion(a,w,b);c=m("div",{className:e.classNames.accordionMenuButtonsContainer},{},y);g.renderButton(c,{text:((null===(f=b.board)||void 0===f?void 0:f.editMode)||e).lang.confirmButton,callback:()=>{b.update(l(this.changedOptions,{chartOptions:this.chartOptionsJSON}));
r.changedOptions={};r.chartOptionsJSON={};r.closeSidebar()}});g.renderButton(c,{text:((null===(h=b.board)||void 0===h?void 0:h.editMode)||e).lang.cancelButton,callback:()=>{r.changedOptions={};r.chartOptionsJSON={};r.closeSidebar()}})}updateOptions(a,c){const k=a.length-1;let f=this.changedOptions;if(0===k&&"chartOptions"===a[0])try{this.chartOptionsJSON=JSON.parse(c)}catch(h){b("Dashboards Error: Wrong JSON config structure passed as a chart options.")}for(let b=0;b<k;b++){const c=a[b];f[c]||(f[c]=
{});f=f[c]}f[a[k]]=c}renderAccordion(a,b,c){if("nested"===a.type)return this.renderNested(b,a,c);const k=g.getRendererFunction(a.type);k&&k(b,Object.assign(Object.assign({},a),{iconsURLPrefix:this.iconsURLPrefix,value:c.getEditableOptionValue(a.propertyPath),onchange:b=>this.updateOptions(a.propertyPath||[],b)}))}renderNested(a,b,c){var k;if(a&&b.nestedOptions){b=b.nestedOptions;for(let f=0,d=b.length;f<d;++f){const d=b[f].options;var h=!!b[f].showToggle;const q=b[f].propertyPath||[];h=g.renderCollapseHeader(a,
{name:b[f].name,isEnabled:!!c.getEditableOptionValue(q),iconsURLPrefix:this.iconsURLPrefix,showToggle:h,onchange:a=>this.updateOptions(q,a),isNested:!0,lang:((null===(k=c.board)||void 0===k?void 0:k.editMode)||e).lang});for(let a=0,b=d.length;a<b;++a)this.renderAccordion(d[a],h.content,c)}}}}return c});p(e,"Core/Renderer/HTML/AST.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(g,d){const {SVG_NS:e,win:m}=g,{attr:l,createElement:b,css:c,error:a,isFunction:f,isString:k,objectEach:q,splat:h}=
d;({trustedTypes:d}=m);const r=d&&f(d.createPolicy)&&d.createPolicy("highcharts",{createHTML:a=>a});d=r?r.createHTML(""):"";try{var A=!!(new DOMParser).parseFromString(d,"text/html")}catch(z){A=!1}const w=A;class y{static filterUserAttributes(b){q(b,(c,h)=>{let f=!0;-1===y.allowedAttributes.indexOf(h)&&(f=!1);-1!==["background","dynsrc","href","lowsrc","src"].indexOf(h)&&(f=k(c)&&y.allowedReferences.some(a=>0===c.indexOf(a)));f||(a(33,!1,void 0,{"Invalid attribute in config":`${h}`}),delete b[h]);
k(c)&&b[h]&&(b[h]=c.replace(/</g,"&lt;"))});return b}static parseStyle(a){return a.split(";").reduce((a,b)=>{b=b.split(":").map(a=>a.trim());const c=b.shift();c&&b.length&&(a[c.replace(/-([a-z])/g,a=>a[1].toUpperCase())]=b.join(":"));return a},{})}static setElementHTML(a,b){a.innerHTML=y.emptyHTML;b&&(new y(b)).addToDOM(a)}constructor(a){this.nodes="string"===typeof a?this.parseMarkup(a):a}addToDOM(b){function k(b,f){let d;h(b).forEach(function(b){var h=b.tagName;const r=b.textContent?g.doc.createTextNode(b.textContent):
void 0,A=y.bypassHTMLFiltering;let w;if(h)if("#text"===h)w=r;else if(-1!==y.allowedTags.indexOf(h)||A){h=g.doc.createElementNS("svg"===h?e:f.namespaceURI||e,h);const a=b.attributes||{};q(b,function(b,c){"tagName"!==c&&"attributes"!==c&&"children"!==c&&"style"!==c&&"textContent"!==c&&(a[c]=b)});l(h,A?a:y.filterUserAttributes(a));b.style&&c(h,b.style);r&&h.appendChild(r);k(b.children||[],h);w=h}else a(33,!1,void 0,{"Invalid tagName in config":h});w&&f.appendChild(w);d=w});return d}return k(this.nodes,
b)}parseMarkup(a){const c=[];a=a.trim().replace(/ style=(["'])/g," data-style=$1");if(w)a=(new DOMParser).parseFromString(r?r.createHTML(a):a,"text/html");else{const c=b("div");c.innerHTML=a;a={body:c}}const h=(a,b)=>{var c=a.nodeName.toLowerCase();const k={tagName:c};"#text"===c&&(k.textContent=a.textContent||"");if(c=a.attributes){const a={};[].forEach.call(c,b=>{"data-style"===b.name?k.style=y.parseStyle(b.value):a[b.name]=b.value});k.attributes=a}if(a.childNodes.length){const b=[];[].forEach.call(a.childNodes,
a=>{h(a,b)});b.length&&(k.children=b)}b.push(k)};[].forEach.call(a.body.childNodes,a=>h(a,c));return c}}y.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill filterUnits flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" ");
y.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" ");y.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" ");y.emptyHTML=d;y.bypassHTMLFiltering=
!1;"";return y});p(e,"Shared/BaseForm.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Utilities.js"]],function(g,d){const {addEvent:e,createElement:m}=d;class l{constructor(b,c){this.iconsURL=c;this.container=this.createPopupContainer(b);this.closeButton=this.addCloseButton()}createPopupContainer(b,c="highcharts-popup highcharts-no-tooltip"){return m("div",{className:c},void 0,b)}addCloseButton(b="highcharts-popup-close"){const c=this,a=this.iconsURL,f=m("div",{className:b},void 0,this.container);f.style["background-image"]=
"url("+(a.match(/png|svg|jpeg|jpg|gif/ig)?a:a+"close.svg")+")";["click","touchstart"].forEach(a=>{e(f,a,c.closeButtonEvents.bind(c))});return f}closeButtonEvents(){this.closePopup()}showPopup(b="highcharts-annotation-toolbar"){const c=this.container,a=this.closeButton;this.type=void 0;c.innerHTML=g.emptyHTML;0<=c.className.indexOf(b)&&(c.classList.remove(b),c.removeAttribute("style"));c.appendChild(a);c.style.display="block";c.style.height=""}closePopup(){this.container.style.display="none"}}return l});
p(e,"Dashboards/Utilities.js",[e["Core/Utilities.js"]],function(g){const {isClass:d,isDOMElement:e,isObject:m,objectEach:l,uniqueKey:b}=g;return{merge:function(){let b,a=arguments,f=0,k={};const q=Error("Recursive copy depth > 100"),h=(a,b)=>{"object"!==typeof a&&(a={});if(100<++f)throw q;l(b,(c,k)=>{"__proto__"!==k&&"constructor"!==k&&(!m(c,!0)||d(c)||e(c)?a[k]=b[k]:a[k]=h(a[k]||{},c))});--f;return a};!0===a[0]&&(k=a[1],a=Array.prototype.slice.call(a,2));const r=a.length;for(b=0;b<r;b++)k=h(k,a[b]);
return k},uniqueKey:function(){return`dashboard-${b().replace("highcharts-","")}`}}});p(e,"Dashboards/Layout/Cell.js",[e["Dashboards/Actions/Bindings.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Globals.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"]],function(g,d,e,m,l){const {componentFromJSON:b}=g,{merge:c,fireEvent:a}=l;class f extends m{static fromJSON(a,b){if(b){a=a.options;let c=a.containerId;b.layout.copyId&&(c=c+"_"+b.layout.copyId);return new f(b,{id:c,parentContainerId:b.container&&
b.container.id||a.parentContainerId,mountedComponentJSON:a.mountedComponentJSON,style:a.style,layoutJSON:a.layoutJSON,width:a.width,height:a.height})}}constructor(a,b,h){super();this.type=e.guiElementType.cell;this.id=b.id;this.options=b;this.row=a;this.isVisible=!0;const k=document.getElementById(b.parentContainerId||"")||a.container;if(k){const f=a.layout.options||{},d=a.options||{},r=f.cellClassName||"";let l;b.height&&(l="number"===typeof b.height?b.height+"px":b.height);this.setElementContainer({render:a.layout.board.guiEnabled,
parentContainer:k,attribs:{id:b.id,className:e.classNames.cell+" "+r},element:h,elementId:b.id,style:c(f.style,d.style,b.style,{height:l})});this.reflow();this.options.mountedComponentJSON&&this.mountComponentFromJSON(this.options.mountedComponentJSON,this.container);this.options.layout&&this.setNestedLayout();this.options.layoutJSON&&(b=this.row.layout,a=b.board,b=b.constructor.fromJSON,this.nestedLayout=b(c(this.options.layoutJSON,{parentContainerId:this.options.id}),a,this))}}setNestedLayout(){const a=
this.row.layout.board,b=a.options.gui;this.nestedLayout=new this.row.layout.constructor(a,c({},b&&b.layoutOptions,this.options.layout,{parentContainerId:this.options.id}),this)}mountComponentFromJSON(a,c){this.id!==a.options.parentElement&&(a.options.parentElement=this.id);return(a=b(a,c))?(this.mountedComponent=a,!0):!1}destroy(){const {row:a}=this;this.mountedComponent&&this.mountedComponent.destroy();a.unmountCell(this);const b=0===a.cells.length;super.destroy();b&&a.destroy()}toJSON(){return{$class:"Dashboards.Layout.Cell",
options:{containerId:this.container.id,parentContainerId:(this.row.container||{}).id||"",width:this.options.width,height:this.options.height,mountedComponentJSON:this.mountedComponent&&this.mountedComponent.toJSON(),style:this.options.style,layoutJSON:this.nestedLayout&&this.nestedLayout.toJSON()}}}getOptions(){return this.options}changeVisibility(b=!0){super.changeVisibility(b);const c=this,h=c.row;c.row.getVisibleCells().length?c.isVisible&&!h.isVisible&&c.row.show():c.row.hide();setTimeout(()=>
{a(h,"cellChange",{row:h,cell:c})},0)}getParentCell(a){let b;if(a<=this.row.layout.level){if(this.row.layout.level===a)return this;if(0<=this.row.layout.level-1&&(b=this.row.layout.parentCell))return b.getParentCell(a)}}getOverlappingLevels(a,b,c){const h=this.row.layout.parentCell;let k=[this.row.layout.level];if(h){c=c||m.getOffsets(this)[a];const f=m.getOffsets(h)[a];Math.abs(c-f)<b&&(k=[...k,...h.getOverlappingLevels(a,b,f)])}return k}reflow(a){a=a||this.row.layout.board.getLayoutContainerSize();
const b=this.options.responsive,c=this.options.width;if(this.container){let h="";b&&b[a]&&b[a].width?h=this.convertWidthToValue(b[a].width):c&&(h=this.convertWidthToValue(c));this.setSize(h||"auto")}}setSize(b,c){const h=this.row.layout.board.editMode;this.container&&(b&&("auto"===b&&"1 1 0%"!==this.container.style.flex?this.container.style.flex="1 1 0%":((b=this.convertWidthToValue(b))&&this.container.style.flex!=="0 0 "+b&&(this.container.style.flex="0 0 "+b),this.options.width=b)),c&&(this.options.height=
this.container.style.height=c+"px"),h&&(h.hideContextPointer(),h.cellToolbar&&h.cellToolbar.isVisible&&(h.cellToolbar.cell===this?h.cellToolbar.showToolbar(this):h.cellToolbar.hide())),a(this.row.layout.board,"cellResize",{cell:this}),a(this.row,"cellChange",{cell:this,row:this.row}))}updateSize(a,b){b=b||this.row.layout.board.getLayoutContainerSize();this.options.responsive||(this.options.responsive={});this.options.responsive[b]={width:a}}setHighlight(a){var b=this.row.layout.board.editMode;if(this.container&&
b){b=this.container;const c=b.classList.contains(d.classNames.cellEditHighlight);a||c?a&&c&&(b.classList.remove(d.classNames.cellEditHighlight),this.row.layout.board.container.classList.remove(d.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!1):(b.classList.add(d.classNames.cellEditHighlight),this.row.layout.board.container.classList.add(d.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!0)}}setActiveState(){this.row.layout.board.mountedComponents.forEach(a=>{a.cell.container&&
a.cell.container.classList.remove(e.classNames.cellActive)});this.container&&this.container.classList.add(e.classNames.cellActive)}convertWidthToValue(a){return"number"===typeof a?a+"px":/px/.test(a)?a:m.getPercentageWidth(a)||""}}return f});p(e,"Dashboards/Layout/Row.js",[e["Dashboards/Globals.js"],e["Dashboards/Layout/Cell.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"]],function(g,d,e,m,l){const {pick:b,defined:c,merge:a,objectEach:f,fireEvent:k}=
m;class q extends e{static fromJSON(a,b){if(b){a=a.options;let c=a.containerId||"";c&&b.copyId&&(c=c+"_"+b.copyId);return new q(b,{id:c,parentContainerId:b.container&&b.container.id||a.parentContainerId,cellsJSON:a.cells,style:a.style})}}static setContainerHeight(a,b){b&&(a.style.height=b+"px")}constructor(b,c,f){super();this.type=g.guiElementType.row;this.layout=b;this.cells=[];this.options=c;this.isVisible=!0;const h=document.getElementById(c.parentContainerId||"")||b.container;if(h){const k=b.options||
{};this.setElementContainer({render:b.board.guiEnabled,parentContainer:h,attribs:{id:c.id,className:g.classNames.row+" "+(k.rowClassName||"")},element:f,elementId:c.id,style:a(k.style,c.style)});this.options.cells&&this.setCells();c.cellsJSON&&!this.cells.length&&this.setCellsFromJSON(c.cellsJSON)}}setCells(){var a=(this.layout.options||{}).cellClassName||"";a=b(this.options.cells,this.container&&this.container.getElementsByClassName(a))||[];let c,f,k;f=0;for(k=a.length;f<k;++f)c=a[f],this.addCell(this.layout.board.guiEnabled?
c:{id:""},c instanceof HTMLElement?c:void 0)}setCellsFromJSON(a){const b=[];let c,h;for(let f=0,k=a.length;f<k;++f)if(h=a[f],c=d.fromJSON({$class:h.$class,options:{containerId:h.options.containerId,parentContainerId:h.options.parentContainerId,width:h.options.width,height:h.options.height,style:h.options.style,layoutJSON:h.options.layoutJSON,mountedComponentJSON:void 0}},this))this.cells.push(c),h.options.mountedComponentJSON&&b.push({cell:c,mountedComponentJSON:h.options.mountedComponentJSON});for(let a=
0,h=b.length;a<h;++a)b[a].cell.mountComponentFromJSON(b[a].mountedComponentJSON,(c||{}).container)}addCell(a,b,f){a=new d(this,a,b);c(f)?this.mountCell(a,f):this.cells.push(a);this.layout.board.editMode&&this.layout.board.editMode.setCellEvents(a);return a}destroy(){const {layout:a}=this;for(let a=0,b=this.cells.length;a<b;++a)this.cells[a]&&this.cells[a].destroy();this.layout&&(this.layout.unmountRow(this),super.destroy(),0===a.rows.length&&a.destroy())}toJSON(){const a=(this.layout.container||{}).id||
"",b=[];for(let a=0,c=this.cells.length;a<c;++a)b.push(this.cells[a].toJSON());return{$class:"Dashboards.Layout.Row",options:{containerId:this.container.id,parentContainerId:a,cells:b,style:this.options.style}}}getOptions(){const a=[];for(let b=0,c=this.cells.length;b<c;++b)a.push(this.cells[b].getOptions());return{id:this.options.id,style:this.options.style,cells:a}}setSize(a){q.setContainerHeight(this.container,a)}getCellIndex(a){for(let b=0,c=this.cells.length;b<c;++b)if(this.cells[b].id===a.id)return b}mountCell(a,
b=0){const c=this,h=c.cells[b],f=c.cells[b-1];a.container&&(h&&h.container?h.container.parentNode.insertBefore(a.container,h.container):f&&f.container?f.container.parentNode.insertBefore(a.container,f.container.nextSibling):f||h||!c.container||c.container.appendChild(a.container),c.cells.splice(b,0,a),a.row=c,setTimeout(()=>{k(c,"cellChange",{row:c,cell:a})},0))}unmountCell(a){const b=this.getCellIndex(a);c(b)&&this.cells.splice(b,1);setTimeout(()=>{k(this,"cellChange",{row:this,cell:a})},0)}getVisibleCells(){const a=
[];for(let b=0,c=this.cells.length;b<c;++b)this.cells[b].isVisible&&a.push(this.cells[b]);return a}changeVisibility(a=!0,b){super.changeVisibility(a,b);this.layout.getVisibleRows().length?this.isVisible&&!this.layout.isVisible&&this.layout.show():this.layout.hide()}show(){this.changeVisibility(!0,"flex")}setHighlight(a){if(this.container){const b=this.container,c=b.classList.contains(l.classNames.rowContextHighlight);a||c?a&&c&&b.classList.remove(l.classNames.rowContextHighlight):b.classList.add(l.classNames.rowContextHighlight)}}getRowLevels(){const a=
{},b=[];let c,k;for(let b=0,h=this.cells.length;b<h;++b)c=this.cells[b],c.isVisible&&(k=e.getOffsets(c),a[k.top]||(a[k.top]={top:k.top,bottom:k.bottom,cells:[]}),a[k.top].bottom<k.bottom&&(a[k.top].bottom=k.bottom),a[k.top].cells.push(c));f(a,a=>{b.push(a)});return b}getRowLevelInfo(a){const b=this.getRowLevels();let c;for(let h=0,f=b.length;h<f;++h)b[h].top<=a&&b[h].bottom>a&&(c={index:h,rowLevels:b,rowLevel:b[h]});return c}}return q});p(e,"Dashboards/Layout/Layout.js",[e["Dashboards/Utilities.js"],
e["Core/Utilities.js"],e["Dashboards/Layout/Row.js"],e["Dashboards/Layout/GUIElement.js"],e["Dashboards/Globals.js"]],function(g,d,e,m,l){const {uniqueKey:b}=g,{pick:c,defined:a}=d;class f extends m{static fromJSON(a,c,h){var k=a.options;a=document.getElementById(a.options.containerId);(k=new f(c,{id:k.containerId,copyId:a?b():"",parentContainerId:k.parentContainerId||c.container.id,rowsJSON:k.rows,style:k.style},h),!h)&&c.layouts.push(k);return k}static importLocal(a,b){a=localStorage.getItem(l.classNamePrefix+
a);let c;a&&(c=f.fromJSON(JSON.parse(a),b));return c}constructor(a,b,c){super();this.type=l.guiElementType.layout;this.board=a;this.rows=[];this.options=b;this.isVisible=!0;const h=c?c.container:document.getElementById(b.parentContainerId||"")||a.layoutsWrapper;c?(this.parentCell=c,this.level=c.row.layout.level+1):this.level=0;h&&(b.copyId&&(this.copyId=b.copyId),this.setElementContainer({render:a.guiEnabled,parentContainer:h,attribs:{id:b.id+(this.copyId?"_"+this.copyId:""),className:l.classNames.layout+
" "+((this.options||{}).rowClassName||"")},elementId:b.id,style:this.options.style}),this.options.rows&&this.setRows(),b.rowsJSON&&!this.rows.length&&this.setRowsFromJSON(b.rowsJSON))}setRows(){const a=c(this.options.rows,this.container&&this.container.getElementsByClassName(this.options.rowClassName||""))||[];let b,h,f;h=0;for(f=a.length;h<f;++h)b=a[h],this.addRow(this.board.guiEnabled?b:{},b instanceof HTMLElement?b:void 0)}setRowsFromJSON(a){let b;for(let c=0,f=a.length;c<f;++c)(b=e.fromJSON(a[c],
this))&&this.rows.push(b)}addRow(b,c,h){b=new e(this,b,c);a(h)?this.mountRow(b,h):this.rows.push(b);this.board.editMode&&this.board.editMode.setRowEvents(b);return b}destroy(){for(var a=this.board.layouts.length-1;0<=a;a--)this.board.layouts[a]===this&&this.board.layouts.splice(a,1);for(a=this.rows.length-1;0<=a;a--)this.rows[a].destroy();this.parentCell&&this.parentCell.destroy();super.destroy()}exportLocal(){localStorage.setItem(l.classNamePrefix+this.options.id,JSON.stringify(this.toJSON()))}getRowIndex(a){for(let b=
0,c=this.rows.length;b<c;++b)if(this.rows[b]===a)return b}mountRow(a,b){const c=this.rows[b],f=this.rows[b-1];a.container&&(c&&c.container?c.container.parentNode.insertBefore(a.container,c.container):f&&f.container&&f.container.parentNode.insertBefore(a.container,f.container.nextSibling),this.rows.splice(b,0,a),a.layout=this)}unmountRow(b){b=this.getRowIndex(b);a(b)&&this.rows.splice(b,1)}getVisibleRows(){const a=[];for(let b=0,c=this.rows.length;b<c;++b)this.rows[b].isVisible&&a.push(this.rows[b]);
return a}changeVisibility(a=!0){super.changeVisibility(a);this.parentCell&&(this.isVisible&&!this.parentCell.isVisible?this.parentCell.show():!this.isVisible&&this.parentCell.isVisible&&this.parentCell.hide())}toJSON(){const a=(this.board.container||{}).id||"",b=[];for(let a=0,c=this.rows.length;a<c;++a)b.push(this.rows[a].toJSON());return{$class:"Dashboards.Layout",options:{containerId:this.container.id,parentContainerId:a,rows:b,style:this.options.style}}}getOptions(){const a=[];for(let b=0,c=this.rows.length;b<
c;++b)a.push(this.rows[b].getOptions());return{id:this.options.id,layoutClassName:this.options.layoutClassName,rowClassName:this.options.rowClassName,cellClassName:this.options.cellClassName,style:this.options.style,rows:a}}}return f});p(e,"Dashboards/EditMode/SidebarPopup.js",[e["Dashboards/EditMode/AccordionMenu.js"],e["Shared/BaseForm.js"],e["Dashboards/Actions/Bindings.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"],e["Dashboards/Layout/GUIElement.js"],e["Dashboards/Layout/Layout.js"],
e["Core/Utilities.js"]],function(e,d,v,m,l,b,c,a){const {createElement:f,merge:k}=a;class g extends d{constructor(a,b,c){super(a,b);this.isVisible=!1;this.editMode=c;this.accordionMenu=new e(this.iconsURL,this.hide.bind(this))}detectRightSidebar(a){const c=this.editMode.board.layoutsWrapper;return b.getOffsets(a,c).left<c.offsetWidth/2-10}removeClassNames(){const a=m.classNames,b=this.container.classList;b.remove(a.editSidebarShow);b.remove(a.editSidebarRight);b.remove(a.editSidebarRightShow)}addClassNames(a){const b=
this.container.classList;a&&b.add(m.classNames.editSidebarRight);setTimeout(()=>{b.add(m.classNames[a?"editSidebarRightShow":"editSidebarShow"])})}show(a){const b=this.editMode,c=!(!a||!this.detectRightSidebar(a));this.showPopup(m.classNames.editSidebarShow);this.addClassNames(c);b.resizer&&b.resizer.disableResizer();b.editCellContext&&b.editCellContext.row&&b.editCellContext.row.setHighlight(!0);b.hideToolbars(["cell","row"]);b.stopContextDetection();this.isVisible=!0;this.generateContent(a)}generateContent(a){this.renderHeader(a?
this.editMode.lang.settings:this.editMode.lang.addComponent,this.iconsURL+"settings.svg");a?"cell"===a.getType()&&(a=a.mountedComponent)&&this.accordionMenu.renderContent(this.container,a):this.renderAddComponentsList()}renderAddComponentsList(){const a=this,k=g.components;let d;const l=f("div",{className:m.classNames.editGridItems},{},a.container);for(let h=0,e=k.length;h<e;++h)d=f("div",{},{},l),d.addEventListener("mousedown",f=>{a.editMode.dragDrop&&(a.hide(),a.editMode.dragDrop.onDragStart(f,
void 0,f=>{if(0===this.editMode.board.layouts.length){f=this.editMode.board;var d=b.createElementId("layout");d=new c(f,{id:d,copyId:"",parentContainerId:f.container.id,rows:[{}],style:{}});f.layouts.push(d);f=d.rows[0]}if(f=k[h].onDrop(a,f))a.editMode.setEditCellContext(f),a.show(f),f.setHighlight()}))}),d.innerHTML=k[h].text}onDropNewComponent(a,c){const f=this.editMode.dragDrop;if(f)return a=("cell"===a.getType()?a.row:a).addCell({id:b.createElementId("col")}),f.onCellDragEnd(a),c=k(c,{cell:a.id}),
v.addComponent(c,a),a}hide(){const a=this.editMode,b=a.editCellContext;this.closePopup();this.removeClassNames();a.isEditOverlayActive&&a.setEditOverlay(!0);b&&b.row&&(a.showToolbars(["cell","row"],b),b.row.setHighlight(),b.isHighlighted&&b.setHighlight(!0));a.isContextDetectionActive=!0;this.isVisible=!1}closeButtonEvents(){this.hide()}renderHeader(a,b){if(b=l.renderIcon(this.container,{icon:b,className:m.classNames.editSidebarTitle}))b.textContent=a}addCloseButton(a=m.classNames.popupCloseButton){return super.addCloseButton.call(this,
a)}createPopupContainer(a,b=m.classNames.editSidebar){return super.createPopupContainer.call(this,a,b)}}g.components=[{text:"layout",onDrop:function(a,f){if(f){a=("cell"===f.getType()?f.row:f).layout.board;var h=b.createElementId("layout");f=b.createElementId("cell");h=new c(a,{id:h,copyId:"",parentContainerId:a.container.id,rows:[{cells:[{id:f}]}],style:{}});a.layouts.push(h);v.addComponent({type:"HTML",cell:f,elements:[{tagName:"div",style:{"text-align":"center"},textContent:"Placeholder text"}]})}}},
{text:"chart",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"Highcharts",chartOptions:{series:[{name:"Series from options",data:[1,2,1,4]}],chart:{animation:!1,type:"pie"}}})}},{text:"HTML",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"HTML",elements:[{tagName:"img",attributes:{src:"https://www.highcharts.com/samples/graphics/stock-dark.svg"}}]})}},{text:"datagrid",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"DataGrid"})}},
{text:"KPI",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"KPI",title:"Example KPI",value:70})}}];return g});p(e,"Dashboards/EditMode/EditContextMenu.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/Menu.js"]],function(e,d,v){const {addEvent:g,merge:l}=d;class b extends v{constructor(c,a,f){super(f.board.container,l(b.defaultOptions,a||{}),f);this.editMode=f;this.options=l(b.defaultOptions,a||{});this.container.style.width=
this.options.width+"px";super.initItems(b.items);if(this.options.items){c=[];for(let a=0,b=this.options.items.length;a<b;++a)"string"===typeof this.options.items[a]?c.push(this.options.items[a]):this.options.items[a].id&&c.push(this.options.items[a].id);this.setActiveItems(c)}this.initEvents()}initEvents(){const b=this;g(document,"click",a=>{a.target!==this.container&&a.target!==b.editMode.tools.contextButtonElement&&!a.target.classList.contains(e.classNames.toggleSlider)&&"INPUT"!==a.target.tagName&&
this.isVisible&&this.setVisible(!1)});g(n,"resize",()=>{b.setVisible(!1)})}setVisible(b){this.container&&(b?(this.container.style.display="block",this.isVisible=!0):(this.container.style.display="none",this.isVisible=!1))}updatePosition(b,a,f){const c=this.options.width||0;a=b?b.offsetLeft-c+b.offsetWidth:a;b=b?b.offsetTop+b.offsetHeight:f;a&&b&&(this.container.style.left=a+"px",this.container.style.top=b+"px")}}b.defaultOptions={enabled:!0,width:150,className:e.classNames.contextMenu,itemsClassName:e.classNames.contextMenuItem,
items:["editMode"]};b.items=l(v.items,{editMode:{id:"editMode",type:"toggle",getValue:function(b){return b.menu.editMode.isActive()},langKey:"editMode",events:{click:function(){this.menu.editMode.onEditModeToggle()}}}});return b});p(e,"Dashboards/Actions/ContextDetection.js",[e["Core/Utilities.js"],e["Dashboards/Layout/GUIElement.js"]],function(e,d){const {defined:g}=e;class m{static isGUIElementOnParentEdge(d,b){const c="top"===b||"bottom"===b?d.row.layout.getVisibleRows():"left"===b||"right"===
b?d.row.getVisibleCells():[],a=c.length-1;return c[a]===d&&"right"===b||c[a]===d.row&&"bottom"===b||c[0]===d&&"left"===b||c[0]===d.row&&"top"===b}static getContextLevel(d,b,c,a){const f=d.getOverlappingLevels(a,b/2);a=f[f.length-1];b=d.row.layout.level-Math.floor(c/(b/f.length));return b=b<a?a:b>d.row.layout.level?d.row.layout.level:b}static getContext(l,b,c){let a;var f=d.getOffsets(l);const {width:k,height:e}=d.getDimFromOffsets(f);k<2*c&&(c=k/2);var h=b.clientX-f.left;b=b.clientY-f.top;f=(f=h>=
-c&&h<=c?"left":h-k>=-c&&h-k<=c?"right":"")?f:b>=-c&&b<=c?"top":b-e>=-c&&b-e<=c?"bottom":"";switch(f){case "right":a=h-k+c;break;case "left":a=c-h;break;case "top":a=c-b;break;case "bottom":a=b-e+c}h={cell:l,side:f};0!==l.row.layout.level&&f&&m.isGUIElementOnParentEdge(l,f)&&g(a)&&(c=m.getContextLevel(l,c,a,f),l=l.getParentCell(c))&&(h.cell=l);return h}}return m});p(e,"Dashboards/Actions/DragDrop.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Layout/GUIElement.js"],
e["Dashboards/Actions/ContextDetection.js"]],function(e,d,v,m,l){const {addEvent:b,merge:c,css:a,fireEvent:f,createElement:k}=e;class g{constructor(a,b){this.editMode=a;this.options=c(g.defaultOptions,b);this.mockElement=k("div",{className:v.classNames.dragMock},{},a.board.container);this.dropPointer={isVisible:!1,align:"",element:k("div",{className:v.classNames.dropPointer},{},a.board.container)};this.isActive=!1;this.initEvents()}showDropPointer(b,c,f,d){this.dropPointer.isVisible=!0;a(this.dropPointer.element,
{display:"block",left:b+"px",top:c+"px",height:d+"px",width:f+"px"})}hideDropPointer(){this.dropPointer.isVisible&&(this.dropPointer.isVisible=!1,this.dropPointer.align="",this.dropPointer.element.style.display="none")}setMockElementPosition(b){const c=this.editMode.board.container.getBoundingClientRect(),f=this.mockElement.clientWidth/2;a(this.mockElement,{left:b.clientX-c.left-f+"px",top:b.clientY-c.top-f+"px"})}initEvents(){b(document,"mousemove",this.onDrag.bind(this));b(document,"mouseup",this.onDragEnd.bind(this))}onDragStart(b,
c,k){this.isActive=!0;this.editMode.hideToolbars(["cell","row"]);this.editMode.resizer&&this.editMode.resizer.disableResizer();this.setMockElementPosition(b);c?(this.context=c,c.hide(),c.getType()===d.guiElementType.cell&&(f(this.editMode.board,"cellResize",{cell:c}),f(c.row,"cellChange",{cell:c,row:c.row}))):k&&(this.dragEndCallback=k);a(this.mockElement,{cursor:"grabbing",display:"block"})}onDrag(a){if(this.isActive)if(this.setMockElementPosition(a),this.context)if(this.context.getType()===d.guiElementType.cell)this.onCellDrag(a);
else{if(this.context.getType()===d.guiElementType.row)this.onRowDrag(a)}else if(this.dragEndCallback)this.onCellDrag(a)}onDragEnd(){if(this.isActive)if(this.isActive=!1,a(this.mockElement,{cursor:"grab",display:"none"}),this.context){if(this.context.getType()===d.guiElementType.cell)this.onCellDragEnd();else if(this.context.getType()===d.guiElementType.row)this.onRowDragEnd();this.context=void 0;this.editMode.editCellContext&&(this.editMode.showToolbars(["row","cell"],this.editMode.editCellContext),
this.editMode.resizer&&this.editMode.resizer.setSnapPositions(this.editMode.editCellContext))}else this.dragEndCallback&&(this.dragEndCallback(this.dropContext),this.dragEndCallback=void 0,this.hideDropPointer())}onRowDrag(a,b){const c=this.mouseCellContext,f=this.options.dropPointerSize,h=this.options.rowDropOffset;let d=!1;if(c){a=b||l.getContext(c,a,h);b=a.side;if(this.dropPointer.align!==b||this.dropContext!==a.cell.row)d=!0,this.dropPointer.align=b,this.dropContext=a.cell.row;if(b){a=m.getOffsets(this.dropContext,
this.editMode.board.container);const {width:b,height:c}=m.getDimFromOffsets(a);this.dropPointer.isVisible&&!d||this.showDropPointer(a.left,a.top+("bottom"===this.dropPointer.align?c:0)-f/2,b,f)}else this.dropContext=void 0,this.hideDropPointer()}}onRowDragEnd(){const a=this.context,b=this.dropContext;this.dropPointer.align&&(a.layout.unmountRow(a),0===a.layout.rows.length&&a.layout.destroy(),b.layout.mountRow(a,(b.layout.getRowIndex(b)||0)+("bottom"===this.dropPointer.align?1:0)),a.cells[0]&&(f(this.editMode.board,
"cellResize",{cell:a.cells[0]}),f(a,"cellChange",{cell:a.cells[0],row:a})));this.hideDropPointer();a.show()}onCellDrag(a,b){const c=this.mouseCellContext,f=this.options.cellDropOffset;if(c||b)this.onCellDragCellCtx(a,b||l.getContext(c,a,f));else if(this.mouseRowContext)this.onCellDragRowCtx(a,this.mouseRowContext)}onCellDragCellCtx(a,b){var c=this.options.dropPointerSize;const f=b.side;let h=!1;if(this.dropPointer.align!==f||this.dropContext!==b.cell)h=!0,this.dropPointer.align=f,this.dropContext=
b.cell;if("right"===f||"left"===f){b=m.getOffsets(this.dropContext,this.editMode.board.container);const {width:d,height:k}=m.getDimFromOffsets(b);if(!this.dropPointer.isVisible||h)a=this.dropContext.row.getRowLevelInfo(a.clientY),this.showDropPointer(b.left+("right"===f?d:0)-c/2,b.top,c,a?a.rowLevel.bottom-a.rowLevel.top:k)}else if("top"===f||"bottom"===f){if(c=m.getOffsets(this.dropContext),(c=this.dropContext.row.getRowLevelInfo(c.top))&&(0===c.index&&"top"===f||c.index===c.rowLevels.length-1&&
"bottom"===f))this.onRowDrag(a,b)}else this.dropContext=void 0,this.hideDropPointer()}onCellDragRowCtx(a,b){const c=this.options.dropPointerSize,f=m.getOffsets(b);b=b.getRowLevelInfo(a.clientY);let h,d;if(b)for(let k=0,l=b.rowLevel.cells.length;k<l;++k){h=b.rowLevel.cells[k];d=m.getOffsets(h);const {width:e,height:g}=m.getDimFromOffsets(d),q=this.editMode.board.container.getBoundingClientRect(),r=b.rowLevel.bottom-b.rowLevel.top;if(h.isVisible)if(g<.8*r&&d.left<=a.clientX&&d.right>=a.clientX)!(d.top>
a.clientY)&&d.bottom<a.clientY&&(this.showDropPointer(d.left-q.left,d.top-q.top+g,e,r-g),this.dropPointer.align="nestedBottom",this.dropContext=h),k=l;else{if(0===k&&d.left>a.clientX||k===l-1&&d.right<a.clientX){if(!(d.left>a.clientX)&&d.right<a.clientX){const b=f.right-d.right;this.showDropPointer(d.left+(0===k&&d.left>a.clientX?0:e)-c/2-q.left,d.top-q.top,b>c?b:c,r||g);this.dropPointer.align="right";this.dropContext=h}k=l}}else h.isVisible||h!==this.context||(this.dropContext=void 0,this.hideDropPointer())}}onCellDragEnd(a){a=
a||this.context;let b=this.dropContext;if(this.dropPointer.align&&b&&a)if(a.row.unmountCell(a),0===a.row.cells.length&&a.row.destroy(),"top"!==this.dropPointer.align&&"bottom"!==this.dropPointer.align||b.getType()!==d.guiElementType.row)if("nestedBottom"===this.dropPointer.align&&b.getType()===d.guiElementType.cell){var c=b.row;const f=c.getCellIndex(b);c.unmountCell(b);c=c.addCell({id:m.createElementId("col-nested-"),layout:{rows:[{},{}]}},void 0,f);c.nestedLayout&&(c.nestedLayout.rows[0].mountCell(b),
c.nestedLayout.rows[1].mountCell(a))}else b.getType()===d.guiElementType.cell&&b.row.mountCell(a,(b.row.getCellIndex(b)||0)+("right"===this.dropPointer.align?1:0));else b.layout.addRow({},void 0,(b.layout.getRowIndex(b)||0)+("bottom"===this.dropPointer.align?1:0)).mountCell(a,0);f(this.editMode.board,"cellResize",{cell:a});f(a.row,"cellChange",{cell:a,row:a.row});this.hideDropPointer();a.show()}}g.defaultOptions={enabled:!0,rowDropOffset:30,cellDropOffset:30,dropPointerSize:16};return g});p(e,"Dashboards/Actions/Resizer.js",
[e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"]],function(e,d,v){const {merge:g,addEvent:l,createElement:b,fireEvent:c,removeEvent:a,pick:f}=v;class k{static fromJSON(a,b){return new k(a,b.options)}constructor(a,b){this.editMode=a;this.options=g({},k.defaultOptions,a.options.resize,b);this.currentCell=void 0;this.isX=-1<this.options.type.indexOf("x");this.isY=-1<this.options.type.indexOf("y");this.isActive=!1;this.startX=0;this.tempSiblingsWidth=
[];this.addSnaps(this.options)}addSnaps(){const a=this.options.snap.height||0,c=this.editMode.board.container;this.snapRight=b("div",{className:e.classNames.resizeSnap+" "+e.classNames.resizeSnapX},{width:(this.options.snap.width||0)+"px",left:"-9999px"},c);this.snapBottom=b("div",{className:e.classNames.resizeSnap+" "+e.classNames.resizeSnapY},{height:a+"px",top:"-9999px",left:"0px"},c);this.addResizeEvents()}disableResizer(){this.isActive=!1;this.currentCell=this.currentDimension=void 0;this.snapRight&&
(this.snapRight.style.left="-9999px");this.snapBottom&&(this.snapBottom.style.left="-9999px")}setSnapPositions(a){this.currentCell=a;var b=d.getOffsets(a,this.editMode.board.container);a=b.left||0;const c=b.top||0,{width:f,height:k}=d.getDimFromOffsets(b);b=this.options.snap.width||0;const l=this.options.snap.height||0;this.snapRight&&(this.snapRight.style.left=a+f-b+"px",this.snapRight.style.top=c+k/2-l/2+"px");this.snapBottom&&(this.snapBottom.style.top=c+k-l+"px",this.snapBottom.style.left=a+f/
2-b/2+"px")}setTempWidthSiblings(){const a=this.currentCell;if(a){const c=this.editMode.rwdMode;var b=d.getOffsets(a);b=(b=a.row.getRowLevelInfo(b.top))&&b.rowLevel.cells||[];let k,h,l;for(let d=0,e=b.length;d<e;++d){h=b[d];k=h.container;l=f(((h.options.responsive||{})[c]||{}).width,h.options.width);if(h===a)break;!k||l&&"auto"!==l||(k.style.flex="0 0 "+k.offsetWidth+"px",this.tempSiblingsWidth.push(h))}}}revertSiblingsAutoWidth(){const a=this.tempSiblingsWidth;let b,f;for(let c=0,d=a.length;c<d;++c)if(b=
a[c].container)b.style.flex="1 1 0%",f=a[c];this.tempSiblingsWidth=[];f&&(c(this.editMode.board,"cellResize",{cell:f}),c(f.row,"cellChange",{cell:f,row:f.row}))}addResizeEvents(){const a=this;let b,c,f,d;a.mouseDownSnapX=b=function(b){a.isActive=!0;a.currentDimension="x";a.editMode.hideToolbars(["row","cell"]);a.setTempWidthSiblings();a.startX=b.clientX};a.mouseDownSnapY=c=function(){a.isActive=!0;a.currentDimension="y";a.editMode.hideToolbars(["row","cell"])};a.mouseMoveSnap=f=function(b){if(a.isActive)a.onMouseMove(b)};
a.mouseUpSnap=d=function(){a.isActive&&(a.isActive=!1,a.currentDimension=void 0,a.revertSiblingsAutoWidth(),a.editMode.showToolbars(["row","cell"],a.currentCell),a.currentCell&&a.setSnapPositions(a.currentCell))};l(this.snapRight,"mousedown",b);l(this.snapBottom,"mousedown",c);l(document,"mousemove",f);l(document,"mouseup",d);l(n,"resize",()=>{a.currentCell&&a.setSnapPositions(a.currentCell)})}onMouseMove(a){const b=this.currentCell;var f=b&&b.container;const k=this.currentDimension;var l=this.editMode.sidebar;
l=l&&l.editMode.rwdMode;if(b&&f&&!((b.row.layout.board.editMode||{}).dragDrop||{}).isActive){f=d.getOffsets(b);var {width:e}=d.getDimFromOffsets(d.getOffsets(b.row));"x"===k&&(e=Math.min(a.clientX-f.left,e)/e*100+"%",b.setSize(e),b.updateSize(e,l),this.startX=a.clientX);"y"===k&&b.setSize(void 0,a.clientY-f.top);c(this.editMode.board,"cellResize",{cell:b});c(b.row,"cellChange",{cell:b,row:b.row});this.setSnapPositions(b)}}destroy(){const b=["snapRight","snapBottom"];let c;a(document,"mousemove");
a(document,"mouseup");for(let f=0,d=b.length;f<d;++f)c=this[b[f]],a(c,"mousedown"),c.remove()}toJSON(){const a=this.options;return{$class:"Dashboards.Action.Resizer",options:{enabled:a.enabled,styles:{minWidth:a.styles.minWidth,minHeight:a.styles.minHeight},type:a.type,snap:{width:a.snap.width,height:a.snap.height}}}}}k.defaultOptions={enabled:!0,styles:{minWidth:20,minHeight:50},type:"xy",snap:{width:20,height:20}};return k});p(e,"Dashboards/EditMode/ConfirmationPopup.js",[e["Core/Utilities.js"],
e["Shared/BaseForm.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"]],function(e,d,v,m){const {createElement:l}=e;class b extends d{constructor(b,a,f,d){super(b,a);this.editMode=f;this.options=d}createPopupContainer(b,a=v.classNames.confirmationPopup){return super.createPopupContainer(b,a)}addCloseButton(b=v.classNames.popupCloseButton){return super.addCloseButton(b)}renderContent(b){this.contentContainer=l("div",{className:v.classNames.popupContentContainer},{},
this.container);const a=this.contentContainer.parentNode;a.style.marginTop="0px";const c=a.getBoundingClientRect().top;a.style.marginTop=(0>c?Math.abs(c-200):200)+"px";m.renderText(this.contentContainer,{title:b.text||""});m.renderButton(this.contentContainer,{text:b.cancelButton.value,callback:b.cancelButton.callback});m.renderButton(this.contentContainer,{text:b.confirmButton.value,className:v.classNames.popupConfirmBtn,callback:()=>{b.confirmButton.callback.call(b.confirmButton.context);this.closePopup()}})}show(b){this.showPopup();
this.renderContent(b);this.editMode.setEditOverlay()}closePopup(){super.closePopup();this.editMode.setEditOverlay(!0)}}return b});p(e,"Dashboards/EditMode/EditMode.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"],e["Dashboards/EditMode/Toolbar/CellEditToolbar.js"],e["Dashboards/EditMode/Toolbar/RowEditToolbar.js"],e["Dashboards/EditMode/SidebarPopup.js"],e["Dashboards/EditMode/EditContextMenu.js"],e["Dashboards/Actions/DragDrop.js"],e["Dashboards/Actions/Resizer.js"],
e["Dashboards/EditMode/ConfirmationPopup.js"],e["Dashboards/Actions/ContextDetection.js"],e["Dashboards/Layout/GUIElement.js"]],function(e,d,v,m,l,b,c,a,f,k,q,h){const {addEvent:g,createElement:A,css:w,merge:y}=e;class p{constructor(a,b){this.active=!1;this.iconsURLPrefix="https://code.highcharts.com/dashboards/1.0.1/gfx/dashboards-icons/";this.iconsURLPrefix=b&&b.iconsURLPrefix||this.iconsURLPrefix;this.options=y({dragDrop:{enabled:!0},resize:{enabled:!0},enabled:!0,contextMenu:{icon:this.iconsURLPrefix+
"menu.svg"},tools:{addComponentBtn:{icon:this.iconsURLPrefix+"add.svg"},rwdIcons:{small:this.iconsURLPrefix+"smartphone.svg",medium:this.iconsURLPrefix+"tablet.svg",large:this.iconsURLPrefix+"computer.svg"}},confirmationPopup:{close:{icon:this.iconsURLPrefix+"close.svg"}}},b||{});this.board=a;this.lang=y({},d.lang,this.options.lang);this.contextPointer={isVisible:!1,element:A("div",{className:d.classNames.contextDetectionPointer},{},this.board.container)};this.isContextDetectionActive=this.isInitialized=
!1;this.tools={};this.rwdMenu=[];this.rwdMode=this.board.getLayoutContainerSize();this.createTools();this.confirmationPopup=new k(a.container,this.iconsURLPrefix,this,this.options.confirmationPopup);this.editOverlay=A("div",{className:d.classNames.editOverlay},{},a.container);this.isEditOverlayActive=!1}onContextBtnClick(){this.tools.contextMenu||(this.tools.contextMenu=new c(this.board.container,this.options.contextMenu||{},this));this.tools.contextMenu&&(this.tools.contextMenu.isVisible||this.tools.contextMenu.updatePosition(this.tools.contextButtonElement),
this.tools.contextMenu.setVisible(!this.tools.contextMenu.isVisible))}onEditModeToggle(){this.active?this.deactivate():this.activate()}init(){var c;if(null===(c=this.options.resize)||void 0===c?0:c.enabled)this.resizer=new f(this,this.options.resize);this.dragDrop=new a(this,this.options.dragDrop);this.rowToolbar||(this.rowToolbar=new l(this));this.cellToolbar||(this.cellToolbar=new m(this));this.sidebar||(this.sidebar=new b(this.board.container,this.iconsURLPrefix,this));this.isInitialized=!0}initEvents(){const a=
this,b=a.board;for(let c=0,f=b.layouts.length;c<f;++c)a.setLayoutEvents(b.layouts[c]);a.cellToolbar&&(g(a.cellToolbar.container,"mouseenter",function(){a.stopContextDetection()}),g(a.cellToolbar.container,"mouseleave",function(){a.isContextDetectionActive=!0}));a.rowToolbar&&(g(a.rowToolbar.container,"mouseenter",function(){a.stopContextDetection()}),g(a.rowToolbar.container,"mouseleave",function(){a.isContextDetectionActive=!0}));g(b.layoutsWrapper,"mousemove",a.onDetectContext.bind(a));g(b.layoutsWrapper,
"click",a.onContextConfirm.bind(a));g(b.layoutsWrapper,"mouseleave",()=>{a.hideContextPointer()})}setLayoutEvents(a){for(let b=0,c=a.rows.length;b<c;++b){const c=a.rows[b];this.setRowEvents(c);for(let a=0,b=c.cells.length;a<b;++a)this.setCellEvents(c.cells[a])}}setRowEvents(a){const b=this;if(b.dragDrop){const c=b.dragDrop;g(a.container,"mouseenter",function(){b.isContextDetectionActive&&(b.mouseRowContext=a)});g(a.container,"mousemove",function(b){c.isActive&&b.target===a.container&&(c.mouseRowContext=
a)});g(a.container,"mouseleave",function(){c.isActive&&c.mouseRowContext===a&&(c.mouseRowContext=void 0);b.isContextDetectionActive&&(b.mouseRowContext=void 0)})}}setCellEvents(a){const b=this;if(a.nestedLayout)b.setLayoutEvents(a.nestedLayout);else if(b.cellToolbar&&a.container&&(b.dragDrop||b.resizer)){const c=b.dragDrop;g(a.container,"mouseenter",function(){b.isContextDetectionActive&&(b.mouseCellContext=a)});g(a.container,"mousemove",function(b){c&&c.isActive&&b.target===a.container&&(c.mouseCellContext=
a,c.mouseRowContext=void 0)});g(a.container,"mouseleave",function(){c&&c.isActive&&c.mouseCellContext===a&&(c.mouseCellContext=void 0);b.isContextDetectionActive&&(b.mouseCellContext=void 0)})}}activate(){this.isInitialized||(this.init(),this.initEvents());this.board.container.classList.add(d.classNames.editModeEnabled);this.addComponentBtn&&(this.addComponentBtn.style.display="block");this.rwdMode=this.board.getLayoutContainerSize();this.showRwdButtons();this.isContextDetectionActive=this.active=
!0}deactivate(){this.board.container.classList.remove(d.classNames.editModeEnabled);this.hideToolbars();this.editCellContext&&this.editCellContext.row.setHighlight(!0);this.addComponentBtn&&(this.addComponentBtn.style.display="none");this.resizer&&this.resizer.disableResizer();this.hideRwdButtons();this.board.layoutsWrapper.style.width="100%";this.board.reflow();this.active=!1;this.stopContextDetection();this.potentialCellContext=this.editCellContext=void 0}isActive(){return this.active}hideToolbars(a){a=
a||["cell","row","sidebar"];for(let b=0,c=a.length;b<c;++b)switch(a[b]){case "cell":this.cellToolbar&&this.cellToolbar.isVisible&&this.cellToolbar.hide();break;case "row":this.rowToolbar&&this.rowToolbar.isVisible&&this.rowToolbar.hide();break;case "sidebar":this.sidebar&&this.sidebar.isVisible&&this.sidebar.hide()}}showToolbars(a,b){a=a||["cell","row","sidebar"];for(let c=0,f=a.length;c<f;++c)switch(a[c]){case "cell":b&&this.cellToolbar&&(this.cellToolbar.isVisible=!0,this.cellToolbar.showToolbar(b));
break;case "row":b&&b.row&&this.rowToolbar&&(this.rowToolbar.isVisible=!0,this.rowToolbar.showToolbar(b.row));break;case "sidebar":this.sidebar&&!this.sidebar.isVisible&&this.sidebar.show()}}createTools(){var a,b;const c=this;var f=this.options;this.tools.container=document.createElement("div");this.tools.container.classList.add(d.classNames.editTools);this.board.layoutsWrapper.parentNode.insertBefore(this.tools.container,this.board.layoutsWrapper);f.contextMenu&&f.contextMenu.enabled&&(this.tools.contextButtonElement=
v.renderContextButton(this.tools.container,c));this.createRwdMenu();f=null===(b=null===(a=null===f||void 0===f?void 0:f.tools)||void 0===a?void 0:a.addComponentBtn)||void 0===b?void 0:b.icon;this.addComponentBtn=v.renderButton(this.tools.container,{className:d.classNames.editToolsBtn,icon:f,text:this.lang.addComponent,callback:()=>{c.sidebar&&(c.sidebar.show(),c.setEditOverlay())},style:{display:"none"}})}createRwdMenu(){const a=this.board.options.responsiveBreakpoints,b=this.tools.container;var c=
this.options;c=c&&c.tools&&c.tools.rwdIcons||{};for(const f in a)if(b){const k=v.renderButton(b,{className:d.classNames.editToolsBtn,icon:c[f]||"",text:this.lang[f],callback:b=>{b=b.target;b.classList.contains("selected")?(b.classList.remove("selected"),this.rwdMode=this.board.layoutsWrapper.style.width=""):(this.rwdMenu.forEach(a=>{a.classList.remove("selected")}),b.classList.add("selected"),this.board.layoutsWrapper.style.width=a[f]+"px",this.rwdMode=f);this.board.reflow()},style:{display:"none"}});
k&&this.rwdMenu.push(k)}}showRwdButtons(){for(let a=0,b=this.rwdMenu.length;a<b;++a)this.rwdMenu[a].style.display="block"}hideRwdButtons(){for(let a=0,b=this.rwdMenu.length;a<b;++a)this.rwdMenu[a].style.display="none"}onDetectContext(a){if(this.isActive()&&this.isContextDetectionActive&&(this.mouseCellContext||this.mouseRowContext)&&!(this.dragDrop||{}).isActive){let b;this.mouseCellContext?b=q.getContext(this.mouseCellContext,a,50).cell:this.mouseRowContext&&(a=this.mouseRowContext,b=a.layout.parentCell);
if(this.potentialCellContext=b){a=h.getOffsets(b,this.board.container);const {width:c,height:f}=h.getDimFromOffsets(a);this.showContextPointer(a.left,a.top,c,f)}}}stopContextDetection(){this.isContextDetectionActive=!1;this.hideContextPointer()}onContextConfirm(){this.isContextDetectionActive&&this.potentialCellContext&&this.editCellContext!==this.potentialCellContext&&this.setEditCellContext(this.potentialCellContext,this.editCellContext)}setEditCellContext(a,b){b=b&&b.row;this.editCellContext=a;
this.showToolbars(["row","cell"],a);b&&b===a.row||(b&&b.setHighlight(!0),a.row.setHighlight());this.resizer&&this.resizer.setSnapPositions(a)}showContextPointer(a,b,c,f){this.contextPointer.isVisible=!0;w(this.contextPointer.element,{display:"block",left:a+"px",top:b+"px",height:f+"px",width:c+"px"})}hideContextPointer(){this.contextPointer.isVisible&&(this.contextPointer.isVisible=!1,this.contextPointer.element.style.display="none")}setEditOverlay(a){const b=this.editOverlay,c=b.classList.contains(d.classNames.editOverlayActive);
a||c?a&&c&&(b.classList.remove(d.classNames.editOverlayActive),this.isEditOverlayActive=!1):(b.classList.add(d.classNames.editOverlayActive),this.isEditOverlayActive=!0)}}return p});p(e,"Dashboards/EditMode/Fullscreen.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"]],function(e,d){const {addEvent:g}=e;class m{constructor(l){this.isOpen=!1;this.board=l;this.board.boardWrapper.classList.add(d.classNamePrefix+"-fullscreen")}toggle(){this[this.isOpen?"close":"open"]()}open(){if(!this.isOpen){var d=
this,b=d.board,c=g(b.boardWrapper.ownerDocument,"fullscreenchange",function(){d.isOpen?(d.isOpen=!1,d.close()):(d.isOpen=!0,d.setButtonText())});d.unbindFullscreenEvent=()=>{c()};b.boardWrapper.requestFullscreen().catch(()=>{throw Error("Full screen is not supported.");})}}close(){const d=this.board;this.isOpen&&d.boardWrapper.ownerDocument instanceof Document&&void d.boardWrapper.ownerDocument.exitFullscreen();this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent());
this.isOpen=!1;this.setButtonText()}setButtonText(){var d=this.board.editMode,b=d&&d.tools.contextMenu;(b=b&&b.items.viewFullscreen)&&b.innerElement&&(d=d.lang,b.innerElement.innerHTML=(this.isOpen?d.exitFullscreen:d.viewFullscreen)||"")}}return m});p(e,"Dashboards/CallbackRegistry.js",[],function(){class e{constructor(){this.registry={}}addCallback(d,e){this.registry[d]=e}getCallback(d){return this.registry[d]}toJSON(){const d={};Object.keys(this.registry).forEach(e=>{const g=this.getCallback(e),
{func:l,type:b}=g;d[e]={func:l.toString(),type:b}});return d}}return e});p(e,"Dashboards/Components/EditableOptions.js",[],function(){class e{constructor(d,g=e.defaultBindings){this.component=d;this.bindings=g}getOptions(){const d=this.component.options.editableOptions;for(let g=0,l=d.length;g<l;g++){const b=d[g];if("connectorName"===b.name){var e=this.component.board;e=e?e.dataPool.getConnectorIds().map(b=>({name:b})):[];b.selectOptions=e}}return d}}e.defaultBindings={keyMap:{color:"colorPicker",
title:"text",caption:"text",style:"textarea"},typeMap:{string:"text",number:"input","boolean":"toggle"},skipRedraw:[]};e.defaultTypeMap={string:"text",number:"input","boolean":"toggle"};return e});p(e,"Dashboards/Components/ComponentUtilities.js",[],function(){var e;(function(d){function e(d,b){const c=n.getComputedStyle(d);return b.map(a=>c[a])}function g(d,b){b&&(d+="number"===typeof b?b:parseFloat(b));return d}d.getMargins=function(d,b=!0){var c=["borderLeft","borderRight"],a=["borderTop","borderBottom"];
return{y:e(d,["marginTop","marginBottom",...b?a:[]]).reduce(g,0),x:e(d,["marginLeft","marginTop",...b?c:[]]).reduce(g,0)}};d.getPaddings=function(d){return{x:e(d,["paddingLeft","paddingRight"]).reduce(g,0),y:e(d,["paddingTop","paddingBottom"]).reduce(g,0)}};d.getStyles=e;d.sumPixels=g})(e||(e={}));return e});p(e,"Dashboards/Components/SharedComponentState.js",[e["Dashboards/Serializable.js"],e["Core/Utilities.js"]],function(e,d){const {addEvent:g,fireEvent:m,merge:l}=d;class b{constructor(){this.columnVisibilityMap=
{};this.hiddenRowIndexes=[];this.selection={}}emit(b){m(this,b.type,b)}getColumnOrder(){return(this.columnOrder||[]).slice()}getColumnVisibility(b){return this.columnVisibilityMap[b]}getColumnSorter(){const b=(this.columnOrder||[]).slice();return b.length?(a,c)=>{a=b.indexOf(a);c=b.indexOf(c);return-1<a&&-1<c?a-c:-1<c?1:-1<a?-1:0}:()=>0}isSet(){return!0===this.isModified}on(b,a){return g(this,b,a)}setColumnOrder(b,a){const c=(this.columnOrder||[]).slice();b=b.slice();this.emit({type:"columnOrderChange",
detail:a,newColumnOrder:b,oldColumnOrder:c});this.columnOrder=b;this.isModified=!0;this.emit({type:"afterColumnOrderChange",detail:a,newColumnOrder:b,oldColumnOrder:c})}setColumnVisibility(b,a){this.columnVisibilityMap=l(this.columnVisibilityMap,b);this.emit({type:"afterColumnVisibilityChange",visibilityMap:this.columnVisibilityMap,detail:a})}setHiddenRows(b,a=!0){b.forEach(b=>{-1===this.hiddenRowIndexes.indexOf(b)&&a&&this.hiddenRowIndexes.push(b);-1<this.hiddenRowIndexes.indexOf(b)&&!a&&this.hiddenRowIndexes.splice(this.hiddenRowIndexes.indexOf(b),
1)});this.emit({type:"afterSetHiddenRows",hiddenRows:this.hiddenRowIndexes})}getHiddenRows(){return this.hiddenRowIndexes}setHoverPoint(b,a){const c=a&&a.isDataGrid;this.hoverPoint=c?void 0:b;b instanceof HTMLElement&&(this.hoverRow=c?b:void 0);this.emit({type:"afterHoverPointChange",hoverPoint:c?void 0:this.hoverPoint,hoverRow:c?this.hoverRow:void 0,detail:a})}getHoverPoint(){return this.hoverPoint}getSelection(){return this.selection}setSelection(b,a=!1,f){Object.keys(b).forEach(a=>{this.selection[a]=
b[a]});this.emit({type:"afterSelectionChange",selection:this.selection,reset:a,detail:f})}fromJSON(c){const a=new b,{columnOrder:f,visibilityMap:d,selection:l,hoverpoint:h}=c;f&&a.setColumnOrder(f);d&&a.setColumnVisibility(d);l&&a.setSelection(l);h&&a.setHoverPoint(h);return a}toJSON(){const b={$class:"Dashboards.SharedComponentState"};this.columnOrder&&(b.columnOrder=this.columnOrder.slice());if(this.hoverPoint){const {x:a,y:c,id:d}=this.hoverPoint;b.hoverPoint={x:a,y:c,id:d}}this.selection&&(b.selection=
this.selection);this.columnVisibilityMap&&(b.columnVisibility=this.columnVisibilityMap);return b}}e.registerClassPrototype("Dashboards.SharedComponentState",b.prototype);return b});p(e,"Dashboards/Components/ComponentGroup.js",[e["Dashboards/Components/SharedComponentState.js"]],function(e){class d{static getComponentGroup(d){if(this.componentGroups[d])return this.componentGroups[d]}static addComponentGroup(d){const {id:e}=d;this.componentGroups[e]||(this.componentGroups[e]=d)}static getGroupsFromComponent(d){return Object.keys(this.componentGroups).reduce((e,
l)=>{(l=this.getComponentGroup(l))&&-1<l.components.indexOf(d)&&e.push(l);return e},[])}constructor(g){this.state=new e;this.components=[];this.id=g;d.addComponentGroup(this)}addComponents(d){for(;d.length;){const e=d.pop();if(!e)break;-1===this.components.indexOf(e)&&this.components.push(e)}}removeComponents(d){for(;d.length;){var e=d.pop();if(!e)break;e=this.components.indexOf(e);-1<e&&this.components.splice(e,1)}}getSharedState(){return this.state}on(){throw Error("Method not implemented.");}emit(){throw Error("Method not implemented.");
}}d.componentGroups={};return d});p(e,"Dashboards/Components/Sync/Emitter.js",[],function(){class e{static register(d){const {id:e}=d;this.registry[e]=d}static get(d){return this.registry[d]}constructor(d,g){this.id=d;this.func=g;e.register(this)}create(d){this.callback=this.func.call(d)}remove(){this.callback&&this.callback()}}e.registry={};return e});p(e,"Dashboards/Components/Sync/Handler.js",[],function(){class e{static register(d){const {id:e}=d;this.registry[e]=d}static get(d){return this.registry[d]}constructor(d,
g,m){this.id=d;this.presentationStateTrigger=g;this.func=m;e.register(this)}create(d){const {activeGroup:e}=d,{func:g}=this;e&&this.presentationStateTrigger&&(this.callback=e.getSharedState().on(this.presentationStateTrigger,function(e){d.id!==(e.detail?e.detail.sender:void 0)&&g.call(d,e)}))}register(d){const {func:e}=this;this.callback=e.call(d)}remove(){this.callback&&this.callback()}}e.registry={};return e});p(e,"Dashboards/Components/Sync/Sync.js",[e["Dashboards/Components/Sync/Emitter.js"],
e["Dashboards/Components/Sync/Handler.js"]],function(e,d){class g{constructor(d,e=g.defaultHandlers){this.component=d;this.syncConfig=e;this.registeredSyncHandlers={};this.registeredSyncEmitters={};this.isSyncing=!1;this.listeners=[]}registerSyncEmitter(d){const {id:e}=d;this.registeredSyncEmitters[e]=d}isRegisteredEmitter(d){return!!this.registeredSyncEmitters[d]}registerSyncHandler(d){const {id:e}=d;this.registeredSyncHandlers[e]=d}isRegisteredHandler(d){return!!this.registeredSyncHandlers[d]}start(){const {syncConfig:m,
component:l}=this;Object.keys(m).forEach(b=>{let {emitter:c,handler:a}=m[b];if(a){"boolean"===typeof a&&(a=g.defaultHandlers[b].handler);"function"===typeof a&&(a=[b,void 0,a]);const c=new d(...a);this.isRegisteredHandler(c.id)||(this.registerSyncHandler(c),void 0!==a[1]?c.create(l):c.register(l))}c&&("boolean"===typeof c&&(c=g.defaultHandlers[b].emitter),"function"===typeof c&&(c=[b,c]),b=new e(...c),this.isRegisteredEmitter(b.id)||(this.registerSyncEmitter(b),b.create(l)))});this.isSyncing=!0;this.listeners.push(l.on("update",
()=>this.stop()))}stop(){const {component:d,listeners:e,registeredSyncHandlers:b,registeredSyncEmitters:c}=this;Object.keys(b).forEach(a=>{b[a].remove();delete b[a]});Object.keys(c).forEach(a=>{c[a].remove();delete c[a]});this.isSyncing=!1;for(let a=0,b=e.length;a<b;++a)e[a]();this.listeners.length=0;this.listeners.push(d.on("afterUpdate",()=>{this.start()}))}}g.defaultHandlers={};return g});p(e,"Dashboards/Components/Component.js",[e["Dashboards/CallbackRegistry.js"],e["Dashboards/Globals.js"],e["Dashboards/Components/EditableOptions.js"],
e["Core/Utilities.js"],e["Dashboards/Components/ComponentUtilities.js"],e["Dashboards/Components/ComponentGroup.js"],e["Dashboards/Utilities.js"],e["Dashboards/Components/Sync/Sync.js"]],function(e,d,p,m,l,b,c,a){var f=this&&this.__awaiter||function(a,b,c,f){function d(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,k){function e(a){try{l(f.next(a))}catch(G){k(G)}}function h(a){try{l(f["throw"](a))}catch(G){k(G)}}function l(a){a.done?c(a.value):d(a.value).then(e,
h)}l((f=f.apply(a,b||[])).next())})};const {classNamePrefix:k}=d,{createElement:g,isArray:h,merge:r,fireEvent:A,addEvent:w,objectEach:y,isFunction:z,getStyle:t,relativeLength:x,diffObjects:v}=m,{getMargins:C,getPaddings:E}=l,{uniqueKey:F}=c;class D{static createTextElement(a,b,c){if("object"===typeof c){const {className:f,text:d,style:e}=c;return g(a,{className:f||`${k}component-${b}`,textContent:d},e)}if("string"===typeof c)return g(a,{className:`${k}component-${b}`,textContent:c})}constructor(a,
b){this.callbackRegistry=new e;this.tableEvents=[];this.cellListeners=[];this.activeGroup=void 0;this.resizeTimeouts=[];this.innerResizeTimeouts=[];this.board=a.row.layout.board;this.cell=a;this.parentElement=a.container;this.attachCellListeneres();this.options=r(D.defaultOptions,b);this.id=this.options.id&&this.options.id.length?this.options.id:F();this.hasLoaded=!1;this.shouldRedraw=!0;this.editableOptions=new p(this,b.editableOptionsBindings);this.presentationModifier=this.options.presentationModifier;
this.dimensions={width:null,height:null};this.syncHandlers=this.handleSyncOptions();this.element=g("div",{className:this.options.className});this.contentElement=g("div",{className:`${this.options.className}-content`},{height:"100%"},void 0,!0)}initConnector(){var a;return f(this,void 0,void 0,function*(){if((null===(a=this.options.connector)||void 0===a?0:a.id)&&this.connectorId!==this.options.connector.id){const a=yield this.board.dataPool.getConnector(this.options.connector.id);this.setConnector(a);
this.shouldRedraw=!0;this.redraw()}return this})}handleSyncOptions(b=a.defaultHandlers){const a=this.options.sync||{};return Object.keys(a).reduce((c,f)=>{if(f){const d=a[f];d&&"object"===typeof d&&(c[f]=d);d&&"boolean"===typeof d&&(c[f]=b[f])}return c},{})}attachCellListeneres(){for(;this.cellListeners.length;){const a=this.cellListeners.pop();a&&a()}this.cell&&Object.keys(this.cell).length&&this.cellListeners.push(w(this.cell.row.layout.board,"cellResize",()=>{this.resizeTo(this.parentElement)}),
w(this.cell.row,"cellChange",a=>{({row:a}=a);a&&this.cell&&void 0===a.getCellIndex(this.cell)&&this.cell&&this.setCell(this.cell)}))}setCell(a,b=!1){this.cell=a;a.container&&(this.parentElement=a.container);this.attachCellListeneres();b&&this.resizeTo(this.parentElement)}setupTableListeners(a){const b=this.connector;if(b){a&&["afterSetRows","afterDeleteRows","afterSetColumns","afterDeleteColumns","afterSetCell"].forEach(b=>{this.tableEvents.push(a.on(b,a=>{clearInterval(this.tableEventTimeout);this.tableEventTimeout=
setTimeout(()=>{this.emit(Object.assign(Object.assign({},a),{type:"tableChanged"}));this.tableEventTimeout=void 0},0)}))});const c=this;this.tableEvents.push(b.on("afterLoad",()=>{this.emit({target:c,type:"tableChanged"})}))}}clearTableListeners(){const a=this.connector,b=this.tableEvents;b.length&&b.forEach(a=>a());a&&b.push(a.table.on("afterSetModifier",a=>{"afterSetModifier"===a.type&&this.emit(Object.assign(Object.assign({},a),{type:"tableChanged"}))}))}setConnector(a){for(A(this,"setConnector",
{connector:a});this.tableEvents.length;){var c=this.tableEvents.pop();"function"===typeof c&&c()}if(this.connector=a)if(this.clearTableListeners(),this.setupTableListeners(a.table),a.table.on("setModifier",()=>this.clearTableListeners()),a.table.on("afterSetModifier",a=>{"afterSetModifier"===a.type&&a.modified&&this.setupTableListeners(a.modified)}),c=a.table.id,b.getComponentGroup(c)||b.addComponentGroup(new b(c)),c=b.getComponentGroup(c))c.addComponents([this.id]),this.activeGroup=c;A(this,"afterSetConnector",
{connector:a});return this}setActiveGroup(a){"string"===typeof a&&(a=b.getComponentGroup(a)||null);a instanceof b&&(this.activeGroup=a);null===a&&(this.activeGroup=void 0);this.activeGroup&&this.activeGroup.addComponents([this.id])}getContentHeight(){const a=this.dimensions.height||Number(t(this.element,"height")),b=this.titleElement?this.titleElement.clientHeight+C(this.titleElement).y:0,c=this.captionElement?this.captionElement.clientHeight+C(this.captionElement).y:0;return a-b-c}resize(a,b){if(b){var c=
E(this.element).y+C(this.element).y;this.dimensions.height=x(b,Number(t(this.parentElement,"height")))-c;this.element.style.height=this.dimensions.height+"px";this.contentElement.style.height=this.getContentHeight()+"px"}a&&(c=E(this.element).x+C(this.element).x,this.dimensions.width=x(a,Number(t(this.parentElement,"width")))-c,this.element.style.width=this.dimensions.width+"px");null===b&&(this.dimensions.height=null,this.element.style.removeProperty("height"));null===a&&(this.dimensions.width=null,
this.element.style.removeProperty("width"));A(this,"resize",{width:a,height:b})}resizeTo(a){for(;this.resizeTimeouts.length;){var b=this.resizeTimeouts.pop();b&&cancelAnimationFrame(b)}b=requestAnimationFrame(()=>{const {width:b,height:c}=a.getBoundingClientRect(),f=E(a),d=C(a);this.resize(b-f.x-d.x,c-f.y-d.y)});this.resizeTimeouts.push(b)}update(a,b=!0){var c;return f(this,void 0,void 0,function*(){const f={options:a,shouldForceRedraw:!1};A(this,"update",f);this.options=r(this.options,a);if((null===
(c=this.options.connector)||void 0===c?0:c.id)&&this.connectorId!==this.options.connector.id){const a=yield this.board.dataPool.getConnector(this.options.connector.id);this.setConnector(a);this.shouldRedraw=!0}this.options=r(this.options,a);(b||f.shouldForceRedraw)&&this.redraw()})}setTitle(a){const b=this.titleElement;if(a&&"string"!==typeof a?""===a.text:""===a)b&&b.remove();else if(a=D.createTextElement("h1","title",a))this.titleElement=a,b&&b.replaceWith(this.titleElement)}setCaption(a){const b=
this.captionElement;if(a&&"string"!==typeof a?""===a.text:""===a)b&&b.remove();else if(a=D.createTextElement("div","caption",a))this.captionElement=a,b&&b.replaceWith(this.captionElement)}load(){!this.hasLoaded&&this.connector&&this.setConnector(this.connector);this.setTitle(this.options.title);this.setCaption(this.options.caption);[this.titleElement,this.contentElement,this.captionElement].forEach(a=>{a&&this.element.appendChild(a)});const a=this.options.events;a&&(Object.keys(a).forEach(b=>{const c=
a[b];c&&this.callbackRegistry.addCallback(b,{type:"component",func:c})}),y(a,(a,b)=>{if(z(a))this.on(b,a)}));this.on("message",a=>{if("message"in a)this.onMessage(a.message)});n.addEventListener("resize",()=>this.resizeTo(this.parentElement));this.hasLoaded=!0;this.shouldRedraw=!1;return this}render(){if(this.shouldRedraw||!this.hasLoaded)this.load(),this.resizeTo(this.parentElement);return this}redraw(){A(this,"redraw",{component:this});this.shouldRedraw=!0;return this.render()}destroy(){for(;this.element.firstChild;)this.element.firstChild.remove();
this.tableEvents.forEach(a=>a());this.element.remove();D.removeInstance(this)}on(a,b){return w(this,a,b)}emit(a){a.target||(a.target=this);A(this,a.type,a)}postMessage(a,b={type:"componentType",target:"all"}){const c=D.getInstanceById(this.id);c&&D.relayMessage(c,a,b)}onMessage(a){a&&"string"===typeof a||"object"===typeof a&&"function"===typeof a.callback&&a.callback.apply(this)}toJSON(){const a={width:0,height:0};y(this.dimensions,function(b,c){null!==b&&(a[c]=b)});return{$class:this.options.type,
options:{cell:this.options.cell,parentElement:this.parentElement.id,dimensions:a,id:this.id,type:this.type}}}getOptions(){return v(this.options,D.defaultOptions)}getEditableOptions(){return r(this.options)}getEditableOptionValue(a){if(a){var b=this.getEditableOptions();for(let c=0,f=a.length;c<f;c++){if(!b)return;h(b)&&(b=b[0]);b=b[a[c]]}return b}}}D.Sync=a;D.defaultOptions={className:`${k}component`,parentElement:document.body,id:"",title:!1,caption:!1,style:{display:"flex","flex-direction":"column"},
sync:a.defaultHandlers,editableOptions:[{name:"connectorName",propertyPath:["connector","id"],type:"select"},{name:"title",propertyPath:["title"],type:"input"},{name:"caption",propertyPath:["caption"],type:"input"}]};(function(a){function c(){return Object.keys(a.instanceRegistry)}function f(b){return a.instanceRegistry[b]}a.instanceRegistry={};a.addInstance=function(b){a.instanceRegistry[b.id]=b};a.removeInstance=function(b){delete a.instanceRegistry[b.id]};a.getAllInstanceIDs=c;a.getAllInstances=
function(){return c().map(b=>a.instanceRegistry[b])};a.getInstanceById=f;a.relayMessage=function(a,d,k){const e=b=>b.emit({type:"message",detail:{sender:a.id,target:k.target},message:d,target:b});({componentID:a=>{(a=f(a))&&e(a)},componentType:b=>{c().forEach(c=>{(c=f(c))&&c.id!==a.id&&(c.type===b||"all"===b)&&e(c)})},group:c=>{(c=b.getComponentGroup(c))&&c.components.forEach(b=>{(b=f(b))&&b.id!==a.id&&e(b)})}})[k.type](k.target)}})(D||(D={}));return D});p(e,"Dashboards/Components/HTMLComponent.js",
[e["Core/Renderer/HTML/AST.js"],e["Dashboards/Components/Component.js"],e["Core/Utilities.js"]],function(e,d,p){var g=this&&this.__awaiter||function(a,b,c,d){function f(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,k){function e(a){try{l(d.next(a))}catch(x){k(x)}}function h(a){try{l(d["throw"](a))}catch(x){k(x)}}function l(a){a.done?c(a.value):f(a.value).then(e,h)}l((d=d.apply(a,b||[])).next())})};const {merge:l,diffObjects:b}=p;e.allowedTags=[...e.allowedTags,
"option","select","label","input","textarea"];e.allowedAttributes=[...e.allowedAttributes,"for","value","checked","src","name","selected"];e.allowedReferences=[...e.allowedReferences,"data:image/"];class c extends d{static fromJSON(a,b){const f=a.options,d=a.elements?a.elements.map(a=>JSON.parse(a)):[];b=new c(b,l(f,{elements:d}));b.emit({type:"fromJSON",json:a});return b}constructor(a,b){b=l(c.defaultOptions,b);super(a,b);this.options=b;this.type="HTML";this.elements=[];this.scaleElements=!!this.options.scaleElements;
this.sync=new d.Sync(this,this.syncHandlers);this.on("tableChanged",a=>{"detail"in a&&a.detail&&a.detail.sender!==this.id&&this.redraw()});d.addInstance(this)}load(){this.emit({type:"load"});super.load();const a=this.options;let b=!1;a.elements&&(this.elements=a.elements.map(function(a){if("string"===typeof a)return(new e(a)).nodes[0];a.textContent||a.tagName||!a.attributes||(b=!0);return a}));this.constructTree();this.parentElement.appendChild(this.element);this.scaleElements&&this.autoScale();this.emit({type:"afterLoad"});
if(b)throw Error("Missing tagName param in component: "+a.cell);return this}autoScale(){this.element.style.display="flex";this.element.style.flexDirection="column";this.contentElement.childNodes.forEach(a=>{a&&a instanceof HTMLElement&&(a.style.width="auto",a.style.maxWidth="100%",a.style.maxHeight="100%",a.style.flexBasis="auto",a.style.overflow="auto")});this.options.scaleElements&&this.scaleText()}scaleText(){this.contentElement.childNodes.forEach(a=>{a instanceof HTMLElement&&(a.style.fontSize=
Math.max(Math.min(a.clientWidth/10,200),20)+"px")})}render(){this.emit({type:"beforeRender"});super.render();this.emit({type:"afterRender"});return this}redraw(){super.redraw();this.constructTree();this.emit({type:"afterRedraw"});return this}resize(a,b){this.scaleElements&&this.scaleText();super.resize(a,b);return this}update(a){const b=Object.create(null,{update:{get:()=>super.update}});return g(this,void 0,void 0,function*(){yield b.update.call(this,a);this.emit({type:"afterUpdate"})})}constructTree(){for(;this.contentElement.firstChild;)this.contentElement.firstChild.remove();
(new e(this.elements)).addToDOM(this.contentElement)}toJSON(){var a=(this.options.elements||[]).map(a=>JSON.stringify(a));a=l(super.toJSON(),{elements:a,options:this.options});this.emit({type:"toJSON",json:a});return a}getOptions(){return Object.assign(Object.assign({},b(this.options,c.defaultOptions)),{type:"HTML"})}}c.defaultOptions=l(d.defaultOptions,{type:"HTML",scaleElements:!1,elements:[],editableOptions:(d.defaultOptions.editableOptions||[]).concat([{name:"scaleElements",type:"toggle"}])});
return c});p(e,"Dashboards/Board.js",[e["Dashboards/Actions/Bindings.js"],e["Dashboards/Components/ComponentRegistry.js"],e["Dashboards/Accessibility/DashboardsAccessibility.js"],e["Data/DataCursor.js"],e["Dashboards/SerializeHelper/DataCursorHelper.js"],e["Data/DataPool.js"],e["Dashboards/EditMode/EditMode.js"],e["Dashboards/EditMode/Fullscreen.js"],e["Dashboards/Globals.js"],e["Dashboards/Layout/Layout.js"],e["Dashboards/Serializable.js"],e["Core/Utilities.js"],e["Dashboards/Components/HTMLComponent.js"]],
function(e,d,p,m,l,b,c,a,f,k,q,h,r){const {merge:g,addEvent:w,error:y,objectEach:z,uniqueKey:t,createElement:x}=h;class v{static board(a,b,c){return(new v(a,b)).init(c)}constructor(d,e){this.container=this.boardWrapper=void 0;this.options=g(v.defaultOptions,e);this.dataPool=new b(e.dataPool);this.id=t();this.guiEnabled=(this.options.gui||{}).enabled;this.layouts=[];this.mountedComponents=[];this.initContainer(d);this.layoutsWrapper=x("div",{className:f.classNames.layoutsWrapper},{},this.container);
!c||this.options.editMode&&!this.options.editMode.enabled||(this.editMode=new c(this,this.options.editMode));this.dataCursor=new m;this.fullscreen=new a(this);this.index=f.boards.length;f.boards.push(this);this.a11y=new p(this)}init(a){var b=this.options;b.gui&&this.options.gui&&this.setLayouts(this.options.gui);b.layoutsJSON&&!this.layouts.length&&this.setLayoutsFromJSON(b.layoutsJSON);b.components&&this.setComponents(b.components);this.initEvents();b=[];const c=this.mountedComponents;for(let a=
0,f=c.length;a<f;++a)b.push(c[a].component.initConnector());return a?Promise.all(b).then(()=>this):this}initEvents(){const a=this;w(n,"resize",function(){a.reflow()})}initContainer(a){"string"===typeof a&&(a=n.document.getElementById(a));a||y(13,!0);a.innerHTML="";this.boardWrapper=a;this.container=x("div",{className:f.classNames.boardContainer},{},this.boardWrapper)}setLayouts(a){const b=a.layouts;for(let c=0,f=b.length;c<f;++c)this.layouts.push(new k(this,g({},a.layoutOptions,b[c])))}setLayoutsFromJSON(a){let b;
for(let c=0,f=a.length;c<f;++c)(b=k.fromJSON(a[c],this))&&this.layouts.push(b)}setComponents(a){for(let b=0,c=a.length;b<c;++b)e.addComponent(a[b])}getLayoutContainerSize(){const a=this.options.responsiveBreakpoints,b=(this.layoutsWrapper||{}).clientWidth;let c=f.responsiveBreakpoints.large;a&&(b<=a.small?c=f.responsiveBreakpoints.small:b>a.small&&b<=a.medium&&(c=f.responsiveBreakpoints.medium));return c}destroy(){const a=this;for(let b=0,c=a.layouts.length;b<c;++b)a.layouts[b].destroy();a.container.remove();
z(a,function(b,c){delete a[c]});f.boards[this.index]=void 0}exportLocal(){localStorage.setItem(f.classNamePrefix+"1",JSON.stringify(this.toJSON()))}importLayoutLocal(a){return k.importLocal(a,this)}reflow(){const a=this.getLayoutContainerSize();let b,c,f;this.editMode&&(this.editMode.hideToolbars(["cell","row"]),this.editMode.hideContextPointer());for(let d=0,e=this.layouts.length;d<e;++d){b=this.layouts[d];for(let d=0,e=b.rows.length;d<e;++d){c=b.rows[d];for(let b=0,d=c.cells.length;b<d;++b)f=c.cells[b],
f.reflow(a)}}}fromJSON(a){var b=a.options;b=new v(b.containerId,{componentOptions:b.componentOptions,responsiveBreakpoints:b.responsiveBreakpoints,dataPool:b.dataPool,layoutsJSON:b.layouts});b.dataCursor=l.fromJSON(a.dataCursor);return b}toJSON(){const a=[];for(let b=0,c=this.layouts.length;b<c;++b)a.push(this.layouts[b].toJSON());return{$class:"Board",dataCursor:l.toJSON(this.dataCursor),options:{containerId:this.container.id,dataPool:this.options.dataPool,guiEnabled:this.guiEnabled,layouts:a,componentOptions:this.options.componentOptions,
responsiveBreakpoints:this.options.responsiveBreakpoints}}}getOptions(){const a=[],b=[];for(let b=0,c=this.layouts.length;b<c;++b)a.push(this.layouts[b].getOptions());for(let a=0,c=this.mountedComponents.length;a<c;++a)this.mountedComponents[a].cell&&this.mountedComponents[a].cell.mountedComponent&&b.push(this.mountedComponents[a].component.getOptions());return Object.assign(Object.assign({},this.options),{gui:{layouts:a},components:b})}}(function(a){a.defaultOptions={gui:{enabled:!0,layoutOptions:{rowClassName:void 0,
cellClassName:void 0},layouts:[]},components:[],responsiveBreakpoints:{small:576,medium:992,large:1200}};a.componentTypes=d.types;a.importLocal=function(){const a=localStorage.getItem(f.classNamePrefix+"1");if(a)try{return q.fromJSON(JSON.parse(a))}catch(F){}}})(v||(v={}));q.registerClassPrototype("Board",v.prototype);d.registerComponent("HTML",r);return v});p(e,"Dashboards/PluginHandler.js",[e["Dashboards/Board.js"],e["Dashboards/Components/Sync/Sync.js"],e["Dashboards/Components/ComponentRegistry.js"]],
function(e,d,p){var g;(function(l){l.registry={};l.revision=0;l.addPlugin=function(b,c=b.name){const {maxRevision:a,minRevision:f,onRegister:k}=b;if(l.registry[c]){if(c!==b.name)throw Error(`Plugin '${c}' already registered.`);}else{if("number"===typeof f&&f>l.revision||"number"===typeof a&&a<l.revision)throw Error(`Plugin '${c}' does not support revision ${l.revision}.`);k({Board:e,ComponentRegistry:p,Sync:d,revision:l.revision});l.registry[c]=b}};l.removePlugin=function(b){l.registry[b]&&(l.registry[b].onUnregister({ComponentRegistry:p,
Board:e,Sync:d,revision:l.revision}),delete l.registry[b])}})(g||(g={}));return g});p(e,"Data/Converters/DataConverter.js",[e["Data/DataTable.js"],e["Core/Utilities.js"]],function(e,d){const {addEvent:g,fireEvent:m,isNumber:l,merge:b}=d;class c{constructor(a){this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})([\-\.\/])([0-9]{1,2})\2([0-9]{1,2})$/,parser:function(a){return a?Date.UTC(+a[1],a[3]-1,+a[4]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(a){return a?
Date.UTC(+a[4],a[3]-1,+a[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[4],a[1]-1,+a[3]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(a){if(!a)return NaN;let b=+a[4];b=b>(new Date).getFullYear()-2E3?b+1900:b+2E3;return Date.UTC(b,a[3]-1,+a[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(a){return a?
Date.UTC(+a[4]+2E3,a[1]-1,+a[3]):NaN}}};a=b(c.defaultOptions,a);let f=a.decimalPoint;if("."===f||","===f)this.decimalRegExp=new RegExp("^(-?[0-9]+)"+("."===f?"\\.":",")+"([0-9]+)$");this.options=a}asBoolean(a){return"boolean"===typeof a?a:"string"===typeof a?""!==a&&"0"!==a&&"false"!==a:!!this.asNumber(a)}asDate(a){if("string"===typeof a)a=this.parseDate(a);else if("number"!==typeof a){if(a instanceof Date)return a;a=this.parseDate(this.asString(a))}return new Date(a)}asGuessedType(a){return{number:this.asNumber,
Date:this.asDate,string:this.asString}[this.guessType(a)].call(this,a)}asNumber(a){if("number"===typeof a)return a;if("boolean"===typeof a)return a?1:0;if("string"===typeof a){const b=this.decimalRegExp;-1<a.indexOf(" ")&&(a=a.replace(/\s+/g,""));if(b){if(!b.test(a))return NaN;a=a.replace(b,"$1.$2")}return parseFloat(a)}return a instanceof Date?a.getDate():a?a.getRowCount():NaN}asString(a){return""+a}deduceDateFormat(a,b,c){const f=[],d=[];let e="YYYY/mm/dd",k,l=[],g=0,m=!1,p,n;if(!b||b>a.length)b=
a.length;for(;g<b;g++)if("undefined"!==typeof a[g]&&a[g]&&a[g].length)for(k=a[g].trim().replace(/[-\.\/]/g," ").split(" "),l=["","",""],n=0;n<k.length;n++)n<l.length&&(p=parseInt(k[n],10))&&(d[n]=!d[n]||d[n]<p?p:d[n],"undefined"!==typeof f[n]?f[n]!==p&&(f[n]=!1):f[n]=p,31<p?l[n]=100>p?"YY":"YYYY":12<p&&31>=p?(l[n]="dd",m=!0):l[n].length||(l[n]="mm"));if(m){for(n=0;n<f.length;n++)!1!==f[n]?12<d[n]&&"YY"!==l[n]&&"YYYY"!==l[n]&&(l[n]="YY"):12<d[n]&&"mm"===l[n]&&(l[n]="dd");3===l.length&&"dd"===l[1]&&
"dd"===l[2]&&(l[2]="YY");e=l.join("/")}c&&(this.options.dateFormat=e);return e}emit(a){m(this,a.type,a)}export(){this.emit({type:"exportError",columns:[],headers:[]});throw Error("Not implemented");}getTable(){throw Error("Not implemented");}guessType(a){var b="string";if("string"===typeof a){var c=this.trim(`${a}`),d=this.decimalRegExp;c=this.trim(c,!0);d&&(c=d.test(c)?c.replace(d,"$1.$2"):"");d=parseFloat(c);+c===d?a=d:(b=this.parseDate(a),b=l(b)?"Date":"string")}"number"===typeof a&&(b=31536E6<
a?"Date":"number");return b}on(a,b){return g(this,a,b)}parse(){this.emit({type:"parseError",columns:[],headers:[]});throw Error("Not implemented");}parseDate(a,b){var c=this.options;let d=b||c.dateFormat;b=NaN;let f,e;if(c.parseDate)b=c.parseDate(a);else{if(d)(c=this.dateFormats[d])||(c=this.dateFormats["YYYY/mm/dd"]),(e=a.match(c.regex))&&(b=c.parser(e));else for(f in this.dateFormats)if(c=this.dateFormats[f],e=a.match(c.regex)){b=c.parser(e);break}e||(e=Date.parse(a),"object"===typeof e&&null!==
e&&e.getTime?b=e.getTime()-6E4*e.getTimezoneOffset():l(e)&&(b=e-6E4*(new Date(e)).getTimezoneOffset(),-1===a.indexOf("2001")&&2001===(new Date(b)).getFullYear()&&(b=NaN)))}return b}trim(a,b){"string"===typeof a&&(a=a.replace(/^\s+|\s+$/g,""),b&&/^[0-9\s]+$/.test(a)&&(a=a.replace(/\s/g,"")));return a}}c.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1};(function(a){a.getTableFromColumns=
function(a=[],b=[]){const c=new e;for(let d=0,f=Math.max(b.length,a.length);d<f;++d)c.setColumn(b[d]||`${d}`,a[d]);return c}})(c||(c={}));return c});p(e,"Data/Converters/CSVConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g}=d;class m extends e{constructor(d){d=g(m.defaultOptions,d);super(d);this.columns=[];this.headers=[];this.dataTypes=[];this.options=d}export(d,b=this.options){const {useLocalDecimalPoint:c,lineDelimiter:a}=b;var f=!1!==this.options.firstRowAsNames;
let {decimalPoint:e,itemDelimiter:l}=b;e||(e=","!==l&&c?(1.1).toLocaleString()[1]:".");l||(l=","===e?";":",");b=d.getSortedColumns(b.usePresentationOrder);const h=Object.keys(b),g=[],m=h.length,p=[];f&&g.push(h.map(a=>`"${a}"`).join(l));for(f=0;f<m;f++){var n=h[f];const a=b[n],c=a.length;n=d.whatIs(n);let k;n&&(k=n.dataType);for(n=0;n<c;n++){var z=a[n];p[n]||(p[n]=[]);"string"===k?z='"'+z+'"':"number"===typeof z?z=String(z).replace(".",e):"string"===typeof z&&(z=`"${z}"`);p[n][f]=z;if(f===m-1){for(z=
f;2<p[n].length&&void 0===p[n][z];)p[n].pop(),z--;g.push(p[n].join(l))}}}return g.join(a)}parse(d,b){var c=this.dataTypes;d=g(this.options,d);const {beforeParse:a,lineDelimiter:f,firstRowAsNames:e,itemDelimiter:l}=d;let {csv:h,startRow:r,endRow:m}=d;this.columns=[];this.emit({type:"parse",columns:this.columns,detail:b,headers:this.headers});h&&a&&(h=a(h));if(h){d=h.replace(/\r\n|\r/g,"\n").split(f||"\n");if(!r||0>r)r=0;if(!m||m>=d.length)m=d.length-1;l||(this.guessedItemDelimiter=this.guessDelimiter(d));
if(e){var n=d[0].split(l||this.guessedItemDelimiter||",");for(var p=0;p<n.length;p++)n[p]=n[p].replace(/^["']|["']$/g,"");this.headers=n;r++}p=0;for(n=r;n<=m;n++)"#"===d[n][0]?p++:this.parseCSVRow(d[n],n-r-p);c.length&&c[0].length&&"date"===c[0][1]&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0);for(let a=0,b=this.columns.length;a<b;++a){c=this.columns[a];for(let b=0,f=c.length;b<f;++b)c[b]&&"string"===typeof c[b]&&(d=this.asGuessedType(c[b]),d instanceof Date&&(d=d.getTime()),
this.columns[a][b]=d)}}this.emit({type:"afterParse",columns:this.columns,detail:b,headers:this.headers})}parseCSVRow(d,b){const c=this,a=c.columns||[],f=c.dataTypes,{startColumn:e,endColumn:l}=c.options,h=c.options.itemDelimiter||c.guessedItemDelimiter;let {decimalPoint:g}=c.options;g&&g!==h||(g=c.guessedDecimalPoint||".");let m=0,n="",p="",v="",t="",x=0,B=0;const C=a=>{n=d[a];p=d[a-1];v=d[a+1]},E=a=>{f.length<B+1&&f.push([a]);f[B][f[B].length-1]!==a&&f[B].push(a)},F=()=>{if(e>x||x>l)++x,t="";else{"string"===
typeof t?!isNaN(parseFloat(t))&&isFinite(t)?(t=parseFloat(t),E("number")):isNaN(Date.parse(t))?E("string"):(t=t.replace(/\//g,"-"),E("date")):E("number");a.length<B+1&&a.push([]);if("number"!==typeof t&&"number"!==c.guessType(t)&&g){const a=t;t=t.replace(g,".");"number"!==c.guessType(t)&&(t=a)}a[B][b]=t;t="";++B;++x}};if(d.trim().length&&"#"!==d.trim()[0]){for(;m<d.length;m++){C(m);if("#"===n&&!/^#[0-F]{3,3}|[0-F]{6,6}/i.test(d.substring(m))){F();return}if('"'===n)for(C(++m);m<d.length&&('"'!==n||
'"'===p||'"'===v);){if('"'!==n||'"'===n&&'"'!==p)t+=n;C(++m)}else n===h?F():t+=n}F()}}guessDelimiter(d){let b=0,c=0;const a={",":0,";":0,"\t":0},f=d.length;for(let e=0;e<f;e++){let f=!1,k,l,g,m="";if(13<e)break;const n=d[e];for(let d=0;d<n.length;d++){k=n[d];l=n[d+1];g=n[d-1];if("#"===k)break;if('"'===k)if(f){if('"'!==g&&'"'!==l){for(;" "===l&&d<n.length;)l=n[++d];"undefined"!==typeof a[l]&&a[l]++;f=!1}}else f=!0;else"undefined"!==typeof a[k]?(m=m.trim(),isNaN(Date.parse(m))?!isNaN(Number(m))&&isFinite(Number(m))||
a[k]++:a[k]++,m=""):m+=k;","===k&&c++;"."===k&&b++}}d=a[";"]>a[","]?";":",";this.guessedDecimalPoint=b>c?".":",";return d}getTable(){return e.getTableFromColumns(this.columns,this.headers)}}m.defaultOptions=Object.assign(Object.assign({},e.defaultOptions),{lineDelimiter:"\n"});return m});p(e,"Data/Connectors/CSVConnector.js",[e["Data/Converters/CSVConverter.js"],e["Data/Connectors/DataConnector.js"],e["Core/Utilities.js"]],function(e,d,n){const {merge:g}=n;class l extends d{constructor(b){b=g(l.defaultOptions,
b);super(b);this.converter=new e(b);this.options=b;b.enablePolling&&this.startPolling(1E3*Math.max(b.dataRefreshRate||0,1))}load(b){const c=this,a=c.converter,d=c.table,{csv:e,csvURL:l}=c.options;if(e)d.deleteRows(),c.emit({type:"load",csv:e,detail:b,table:d}),a.parse({csv:e}),d.setColumns(a.getTable().getColumns()),c.emit({type:"afterLoad",csv:e,detail:b,table:d});else{if(l)return c.table.deleteColumns(),c.emit({type:"load",detail:b,table:c.table}),fetch(l||"").then(a=>a.text().then(a=>{c.converter.parse({csv:a});
c.table.setColumns(c.converter.getTable().getColumns());c.emit({type:"afterLoad",csv:a,detail:b,table:c.table})}))["catch"](a=>{c.emit({type:"loadError",detail:b,error:a,table:c.table});return Promise.reject(a)}).then(()=>c);c.emit({type:"loadError",detail:b,error:"Unable to load: no CSV string or URL was provided",table:d})}return Promise.resolve(c)}}l.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1,firstRowAsNames:!0};d.registerType("CSV",l);return l});p(e,"Data/Converters/HTMLTableConverter.js",
[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g}=d;class m extends e{constructor(d){d=g(m.defaultOptions,d);super(d);this.columns=[];this.headers=[];this.options=d;d.tableElement&&(this.tableElement=d.tableElement,this.tableElementID=d.tableElement.id)}export(d,b=this.options){var c=!1!==b.firstRowAsNames,a=b.useMultiLevelHeaders,f=d.getSortedColumns(b.usePresentationOrder);const e=Object.keys(f);d=[];const l=e.length,h=[];var g="";if(c)if(g=[],a){for(var m of e)a=
(f[m].shift()||"").toString(),g.push(a);g=this.getTableHeaderHTML(e,g,b)}else g=this.getTableHeaderHTML(void 0,e,b);for(m=0;m<l;m++){a=f[e[m]];c=a.length;for(let b=0;b<c;b++){let c=a[b];h[b]||(h[b]=[]);"string"!==typeof c&&"number"!==typeof c&&"undefined"!==typeof c&&(c=(c||"").toString());h[b][m]=this.getCellHTMLFromValue(m?"td":"th",null,m?"":'scope="row"',c);m===l-1&&d.push("<tr>"+h[b].join("")+"</tr>")}}f="";b.tableCaption&&(f='<caption class="highcharts-table-caption">'+b.tableCaption+"</caption>");
return"<table>"+f+g+"<tbody>"+d.join("")+"</tbody></table>"}getCellHTMLFromValue(d,b,c,a,f){let e=a;b="text"+(b?" "+b:"");"number"===typeof e?(e=e.toString(),","===f&&(e=e.replace(".",f)),b="number"):a||(e="",b="empty");return"<"+d+(c?" "+c:"")+' class="'+b+'">'+e+"</"+d+">"}getTableHeaderHTML(d=[],b=[],c=this.options){const {useMultiLevelHeaders:a,useRowspanHeaders:f}=c;c.useLocalDecimalPoint&&(1.1).toLocaleString();c="<thead>";let e=0,l=b&&b.length;var h;let g=0;if(h=a&&d&&b){a:if(h=d.length,b.length===
h){for(;--h;)if(d[h]!==b[h]){h=!1;break a}h=!0}else h=!1;h=!h}if(h){for(c+="<tr>";e<l;++e){h=d[e];var m=d[e+1];h===m?++g:g?(c+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(g+1)+'"',h),g=0):(h===b[e]?f?(m=2,delete b[e]):(m=1,b[e]=""):m=1,c+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(1<m?' valign="top" rowspan="'+m+'"':""),h))}c+="</tr>"}if(b){c+="<tr>";e=0;for(l=b.length;e<l;++e)"undefined"!==typeof b[e]&&(c+=this.getCellHTMLFromValue("th",
null,'scope="col"',b[e]));c+="</tr>"}return c+"</thead>"}parse(d,b){const c=[],a=[];var f=g(this.options,d);const {endRow:e,startColumn:l,endColumn:h,firstRowAsNames:m}=f;d=f.tableElement||this.tableElement;if(d instanceof HTMLElement){this.tableElement=d;this.tableElementID=d.id;this.emit({type:"parse",columns:this.columns,detail:b,headers:this.headers});d=d.getElementsByTagName("tr");var n=d.length,p=0;({startRow:f}=f);if(m&&n){var y=d[0].children,v=y.length;for(var t=l;t<v&&!(t>h);t++){var x=y[t];
"TD"!==x.tagName&&"TH"!==x.tagName||a.push(x.innerHTML)}f++}for(;p<n;){if(p>=f&&p<=e)for(y=d[p].children,v=y.length,t=0;t<v;){const a=t-l,b=c[a];x=y[t];if(("TD"===x.tagName||"TH"===x.tagName)&&t>=l&&t<=h)for(c[a]||(c[a]=[]),x=this.asGuessedType(x.innerHTML),x instanceof Date&&(x=x.getTime()),c[a][p-f]=x,x=1;p-f>=x&&void 0===b[p-f-x];)b[p-f-x]=null,x++;t++}p++}this.columns=c;this.headers=a;this.emit({type:"afterParse",columns:c,detail:b,headers:a})}else this.emit({type:"parseError",columns:c,detail:b,
headers:a,error:"Not a valid HTML Table"})}getTable(){return e.getTableFromColumns(this.columns,this.headers)}}m.defaultOptions=Object.assign(Object.assign({},e.defaultOptions),{useRowspanHeaders:!0,useMultiLevelHeaders:!0});return m});p(e,"Data/Connectors/HTMLTableConnector.js",[e["Data/Connectors/DataConnector.js"],e["Core/Globals.js"],e["Data/Converters/HTMLTableConverter.js"],e["Core/Utilities.js"]],function(e,d,n,m){const {win:l}=d,{merge:b}=m;class c extends e{constructor(a){a=b(c.defaultOptions,
a);super(a);this.converter=new n(a);this.options=a}load(a){this.table.deleteColumns();this.emit({type:"load",detail:a,table:this.table,tableElement:this.tableElement});var {table:c}=this.options;"string"===typeof c?(this.tableID=c,c=l.document.getElementById(c)):this.tableID=c.id;this.tableElement=c||void 0;if(!this.tableElement)return this.emit({type:"loadError",detail:a,error:"HTML table not provided, or element with ID not found",table:this.table}),Promise.reject(Error("HTML table not provided, or element with ID not found"));
this.converter.parse(b({tableElement:this.tableElement},this.options),a);this.table.setColumns(this.converter.getTable().getColumns());this.emit({type:"afterLoad",detail:a,table:this.table,tableElement:this.tableElement});return Promise.resolve(this)}}c.defaultOptions={table:""};e.registerType("HTMLTable",c);return c});p(e,"Data/Converters/GoogleSheetsConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g,uniqueKey:m}=d;class l extends e{constructor(b){b=
g(l.defaultOptions,b);super(b);this.columns=[];this.header=[];this.options=b}parse(b,c){b=g(this.options,b);const a=(b.json&&b.json.values||[]).map(a=>a.slice());if(0===a.length)return!1;this.header=[];this.columns=[];this.emit({type:"parse",columns:this.columns,detail:c,headers:this.header});this.columns=a;let d;for(let c=0,f=a.length;c<f;c++){d=a[c];this.header[c]=b.firstRowAsNames?`${d.shift()}`:m();for(let a=0,b=d.length;a<b;++a)if(d[a]&&"string"===typeof d[a]){let b=this.asGuessedType(d[a]);
b instanceof Date&&(b=b.getTime());this.columns[c][a]=b}}this.emit({type:"afterParse",columns:this.columns,detail:c,headers:this.header})}getTable(){return e.getTableFromColumns(this.columns,this.header)}}l.defaultOptions=Object.assign({},e.defaultOptions);return l});p(e,"Data/Connectors/GoogleSheetsConnector.js",[e["Data/Connectors/DataConnector.js"],e["Data/Converters/GoogleSheetsConverter.js"],e["Core/Utilities.js"]],function(e,d,n){const {merge:g,pick:l}=n;class b extends e{constructor(c){c=g(b.defaultOptions,
c);super(c);this.converter=new d(c);this.options=c}load(c){const a=this,{dataRefreshRate:d,enablePolling:e,firstRowAsNames:l,googleAPIKey:h,googleSpreadsheetKey:g}=a.options,m=b.buildFetchURL(h,g,a.options);a.table.deleteColumns();a.emit({type:"load",detail:c,table:a.table,url:m});return fetch(m).then(b=>b.json().then(b=>{if("object"===typeof b&&b&&"object"===typeof b.error&&b.error&&"number"===typeof b.error.code&&"string"===typeof b.error.message&&"string"===typeof b.error.status)throw Error(b.error.message);
a.converter.parse({firstRowAsNames:l,json:b});a.table.setColumns(a.converter.getTable().getColumns());a.emit({type:"afterLoad",detail:c,table:a.table,url:m});e&&setTimeout(()=>a.load(),1E3*Math.max(d||0,1))}))["catch"](b=>{a.emit({type:"loadError",detail:c,error:b,table:a.table});return Promise.reject(b)}).then(()=>a)}}b.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",worksheet:1,enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0};(function(b){function a(a={}){const {endColumn:b,endRow:c,
googleSpreadsheetRange:d,startColumn:f,startRow:e}=a;return d||("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[f||0]||"A")+(Math.max(e||0,0)+1)+":"+("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[l(b,25)]||"Z")+(c?Math.max(c,0):"Z")}b.buildFetchURL=function(b,c,d={}){return`https://sheets.googleapis.com/v4/spreadsheets/${c}/values/`+(d.onlyColumnNames?"A1:Z1":a(d))+"?alt=json"+(d.onlyColumnNames?"":"&dateTimeRenderOption=FORMATTED_STRING&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE")+"&prettyPrint=false"+`&key=${b}`};
b.buildQueryRange=a})(b||(b={}));e.registerType("GoogleSheets",b);return b});p(e,"Data/Modifiers/ChainModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g}=d;class m extends e{constructor(d,...b){super();this.chain=b;this.options=g(m.defaultOptions,d);d=this.options.chain||[];for(let c=0,a=d.length,f,k;c<a;++c)f=d[c],f.type&&(k=e.types[f.type])&&b.unshift(new k(f))}add(d,b){this.emit({type:"addModifier",detail:b,modifier:d});this.chain.push(d);this.emit({type:"addModifier",
detail:b,modifier:d})}clear(d){this.emit({type:"clearChain",detail:d});this.chain.length=0;this.emit({type:"afterClearChain",detail:d})}modify(d,b){const c=this.options.reverse?this.chain.slice().reverse():this.chain.slice();let a=Promise.resolve(d);for(let d=0,e=c.length;d<e;++d){const f=c[d];a=a.then(a=>f.modify(a.modified,b))}a=a.then(a=>{d.modified=a.modified;return d});return a=a["catch"](a=>{this.emit({type:"error",detail:b,table:d});throw a;})}modifyCell(d,b,c,a,e){const f=this.options.reverse?
this.chain.reverse():this.chain;if(f.length){let g=d.clone();for(let d=0,k=f.length;d<k;++d)f[d].modifyCell(g,b,c,a,e),g=g.modified;d.modified=g}return d}modifyColumns(d,b,c,a){const e=this.options.reverse?this.chain.reverse():this.chain.slice();if(e.length){let f=d.clone();for(let d=0,h=e.length;d<h;++d)e[d].modifyColumns(f,b,c,a),f=f.modified;d.modified=f}return d}modifyRows(d,b,c,a){const e=this.options.reverse?this.chain.reverse():this.chain.slice();if(e.length){let f=d.clone();for(let d=0,h=
e.length;d<h;++d)e[d].modifyRows(f,b,c,a),f=f.modified;d.modified=f}return d}modifyTable(d,b){this.emit({type:"modify",detail:b,table:d});const c=this.options.reverse?this.chain.reverse():this.chain.slice();let a=d.modified;for(let d=0,e=c.length,g;d<e;++d)g=c[d],a=g.modifyTable(a,b).modified;d.modified=a;this.emit({type:"afterModify",detail:b,table:d});return d}remove(d,b){const c=this.chain;this.emit({type:"removeModifier",detail:b,modifier:d});c.splice(c.indexOf(d),1);this.emit({type:"afterRemoveModifier",
detail:b,modifier:d})}}m.defaultOptions={type:"Chain"};e.registerType("Chain",m);return m});p(e,"Data/Modifiers/InvertModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g}=d;class m extends e{constructor(d){super();this.options=g(m.defaultOptions,d)}modifyCell(d,b,c,a,e){const f=d.modified;b=f.getRowIndexBy("columnNames",b);"undefined"===typeof b?f.setColumns(this.modifyTable(d.clone()).getColumns(),void 0,e):f.setCell(`${c}`,b,a,e);return d}modifyColumns(d,
b,c,a){const e=d.modified,g=e.getColumn("columnNames")||[];let l=d.getColumnNames(),h=d.getRowCount()!==g.length;if(!h)for(let a=0,b=l.length;a<b;++a)if(l[a]!==g[a]){h=!0;break}if(h)return this.modifyTable(d,a);l=Object.keys(b);for(let d=0,f=l.length,g,h,k;d<f;++d){h=l[d];g=b[h];k=e.getRowIndexBy("columnNames",h)||e.getRowCount();for(let b=0,d=c,f=g.length;b<f;++b,++d)e.setCell(`${d}`,k,g[b],a)}return d}modifyRows(d,b,c,a){const e=d.getColumnNames(),g=d.modified,l=g.getColumn("columnNames")||[];let h=
d.getRowCount()!==l.length;if(!h)for(let a=0,b=e.length;a<b;++a)if(e[a]!==l[a]){h=!0;break}if(h)return this.modifyTable(d,a);for(let d=0,f=c,h=b.length,k;d<h;++d,++f)if(k=b[d],k instanceof Array)g.setColumn(`${f}`,k);else for(let b=0,c=e.length;b<c;++b)g.setCell(`${f}`,b,k[e[b]],a);return d}modifyTable(d,b){this.emit({type:"modify",detail:b,table:d});const c=d.modified;if(d.hasColumns(["columnNames"])){var a=((d.deleteColumns(["columnNames"])||{}).columnNames||[]).map(a=>`${a}`);const b={};for(let c=
0,e=d.getRowCount(),f;c<e;++c)(f=d.getRow(c))&&(b[a[c]]=f);c.deleteColumns();c.setColumns(b)}else{a={};for(let b=0,c=d.getRowCount(),e;b<c;++b)(e=d.getRow(b))&&(a[`${b}`]=e);a.columnNames=d.getColumnNames();c.deleteColumns();c.setColumns(a)}this.emit({type:"afterModify",detail:b,table:d});return d}}m.defaultOptions={type:"Invert"};e.registerType("Invert",m);return m});p(e,"Data/Modifiers/RangeModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g}=d;
class m extends e{constructor(d){super();this.options=g(m.defaultOptions,d)}modifyTable(d,b){this.emit({type:"modify",detail:b,table:d});const {ranges:c,strict:a}=this.options;if(c.length){const b=d.getColumns(),e=[],g=d.modified;for(let f=0,g=c.length,k,l;f<g;++f)if(k=c[f],!a||typeof k.minValue===typeof k.maxValue){l=b[k.column]||[];for(let b=0,c=l.length,f,g;b<c;++b){f=l[b];switch(typeof f){default:continue;case "boolean":case "number":case "string":}(!a||typeof f===typeof k.minValue)&&f>=k.minValue&&
f<=k.maxValue&&(g=d.getRow(b))&&e.push(g)}}g.deleteRows();g.setRows(e)}this.emit({type:"afterModify",detail:b,table:d});return d}getModifiedTableOffset(d){var {ranges:b}=this.options;return b&&(b=b.reduce((b,a)=>{a.minValue>b.minValue&&(b=a);return b},b[0]),d=d.getRowIndexBy(b.column,b.minValue))?d:0}}m.defaultOptions={type:"Range",ranges:[],strict:!1};e.registerType("Range",m);return m});p(e,"Data/Modifiers/SortModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],
function(e,d,n){const {merge:g}=n;class l extends e{static ascending(b,c){return(b||0)<(c||0)?-1:(b||0)>(c||0)?1:0}static descending(b,c){return(c||0)<(b||0)?-1:(c||0)>(b||0)?1:0}constructor(b){super();this.options=g(l.defaultOptions,b)}getRowReferences(b){b=b.getRows();const c=[];for(let a=0,d=b.length;a<d;++a)c.push({index:a,row:b[a]});return c}modifyCell(b,c,a,e,g){const {orderByColumn:f,orderInColumn:h}=this.options;c===f&&(h?(b.modified.setCell(c,a,e),b.modified.setColumn(h,this.modifyTable(new d({columns:b.getColumns([f,
h])})).modified.getColumn(h))):this.modifyTable(b,g));return b}modifyColumns(b,c,a,e){const {orderByColumn:f,orderInColumn:g}=this.options,h=Object.keys(c);-1<h.indexOf(f)&&(g&&c[h[0]].length?(b.modified.setColumns(c,a),b.modified.setColumn(g,this.modifyTable(new d({columns:b.getColumns([f,g])})).modified.getColumn(g))):this.modifyTable(b,e));return b}modifyRows(b,c,a,e){const {orderByColumn:f,orderInColumn:g}=this.options;g&&c.length?(b.modified.setRows(c,a),b.modified.setColumn(g,this.modifyTable(new d({columns:b.getColumns([f,
g])})).modified.getColumn(g))):this.modifyTable(b,e);return b}modifyTable(b,c){this.emit({type:"modify",detail:c,table:b});var a=b.getColumnNames();const d=b.getRowCount(),e=this.getRowReferences(b),{direction:g,orderByColumn:h,orderInColumn:m}=this.options,n="asc"===g?l.ascending:l.descending,p=a.indexOf(h);a=b.modified;-1!==p&&e.sort((a,b)=>n(a.row[p],b.row[p]));if(m){var v=[];for(var z=0;z<d;++z)v[e[z].index]=z;a.setColumns({[m]:v})}else{v=[];for(z=0;z<d;++z)v.push(e[z].row);a.setRows(v,0)}this.emit({type:"afterModify",
detail:c,table:b});return b}}l.defaultOptions={type:"Sort",direction:"desc",orderByColumn:"y"};e.registerType("Sort",l);return l});p(e,"masters/dashboards.src.js",[e["Data/Connectors/DataConnector.js"],e["Dashboards/Board.js"],e["Dashboards/Components/Component.js"],e["Dashboards/Components/ComponentRegistry.js"],e["Data/DataPool.js"],e["Data/DataCursor.js"],e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Dashboards/Globals.js"],e["Dashboards/PluginHandler.js"],e["Dashboards/Components/Sync/Sync.js"],
e["Dashboards/Utilities.js"]],function(e,d,n,m,l,b,c,a,f,k,p,h){f.board=d.board;f.merge=h.merge;f.uniqueKey=h.uniqueKey;f.Board=d;f.Component=n;f.ComponentRegistry=m;f.DataConnector=e;f.DataCursor=b;f.DataModifier=c;f.DataPool=l;f.DataTable=a;f.PluginHandler=k;f.Sync=p;f.win.Dashboards||(f.win.Dashboards=f);return f});e["masters/dashboards.src.js"]._modules=e;return e["masters/dashboards.src.js"]});//# sourceMappingURL=dashboards.js.map