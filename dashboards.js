/*
 Highcharts Dashboards v1.0.0 (2023-07-04)

 (c) 2009-2023 Highsoft AS

 License: www.highcharts.com/license
*/
'use strict';var u=u||{};u.scope={};u.arrayIteratorImpl=function(p){var n=0;return function(){return n<p.length?{done:!1,value:p[n++]}:{done:!0}}};u.arrayIterator=function(p){return{next:u.arrayIteratorImpl(p)}};u.ASSUME_ES5=!1;u.ASSUME_NO_NATIVE_MAP=!1;u.ASSUME_NO_NATIVE_SET=!1;u.SIMPLE_FROUND_POLYFILL=!1;u.ISOLATE_POLYFILLS=!1;
u.defineProperty=u.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(p,n,e){if(p==Array.prototype||p==Object.prototype)return p;p[n]=e.value;return p};u.getGlobal=function(p){p=["object"==typeof globalThis&&globalThis,p,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var n=0;n<p.length;++n){var e=p[n];if(e&&e.Math==Math)return e}throw Error("Cannot find global object");};u.global=u.getGlobal(this);
u.SYMBOL_PREFIX="jscomp_symbol_";u.initSymbol=function(){u.initSymbol=function(){};u.global.Symbol||(u.global.Symbol=u.Symbol)};u.SymbolClass=function(p,n){this.$jscomp$symbol$id_=p;u.defineProperty(this,"description",{configurable:!0,writable:!0,value:n})};u.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};
u.Symbol=function(){function p(e){if(this instanceof p)throw new TypeError("Symbol is not a constructor");return new u.SymbolClass(u.SYMBOL_PREFIX+(e||"")+"_"+n++,e)}var n=0;return p}();
u.initSymbolIterator=function(){u.initSymbol();var p=u.global.Symbol.iterator;p||(p=u.global.Symbol.iterator=u.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[p]&&u.defineProperty(Array.prototype,p,{configurable:!0,writable:!0,value:function(){return u.iteratorPrototype(u.arrayIteratorImpl(this))}});u.initSymbolIterator=function(){}};
u.initSymbolAsyncIterator=function(){u.initSymbol();var p=u.global.Symbol.asyncIterator;p||(p=u.global.Symbol.asyncIterator=u.global.Symbol("Symbol.asyncIterator"));u.initSymbolAsyncIterator=function(){}};u.iteratorPrototype=function(p){u.initSymbolIterator();p={next:p};p[u.global.Symbol.iterator]=function(){return this};return p};
u.iteratorFromArray=function(p,n){u.initSymbolIterator();p instanceof String&&(p+="");var e=0,g={next:function(){if(e<p.length){var d=e++;return{value:n(d,p[d]),done:!1}}g.next=function(){return{done:!0,value:void 0}};return g.next()}};g[Symbol.iterator]=function(){return g};return g};u.polyfills={};u.propertyToPolyfillSymbol={};u.POLYFILL_PREFIX="$jscp$";u.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");
u.polyfill=function(p,n,e,g){n&&(u.ISOLATE_POLYFILLS?u.polyfillIsolated(p,n,e,g):u.polyfillUnisolated(p,n,e,g))};u.polyfillUnisolated=function(p,n){var e=u.global;p=p.split(".");for(var g=0;g<p.length-1;g++){var d=p[g];d in e||(e[d]={});e=e[d]}p=p[p.length-1];g=e[p];n=n(g);n!=g&&null!=n&&u.defineProperty(e,p,{configurable:!0,writable:!0,value:n})};
u.polyfillIsolated=function(p,n,e){var g=p.split(".");p=1===g.length;var d=g[0];d=!p&&d in u.polyfills?u.polyfills:u.global;for(var v=0;v<g.length-1;v++){var m=g[v];m in d||(d[m]={});d=d[m]}g=g[g.length-1];e=u.IS_SYMBOL_NATIVE&&"es6"===e?d[g]:null;n=n(e);null!=n&&(p?u.defineProperty(u.polyfills,g,{configurable:!0,writable:!0,value:n}):n!==e&&(u.propertyToPolyfillSymbol[g]=u.IS_SYMBOL_NATIVE?u.global.Symbol(g):u.POLYFILL_PREFIX+g,g=u.propertyToPolyfillSymbol[g],u.defineProperty(d,g,{configurable:!0,
writable:!0,value:n})))};u.polyfill("Array.prototype.values",function(p){return p?p:function(){return u.iteratorFromArray(this,function(n,e){return e})}},"es8","es3");
(function(p,n){"object"===typeof module&&module.exports?(n["default"]=n,module.exports=p.document?n(p):n):"function"===typeof define&&define.amd?define("dashboards/dashboards",function(){return n(p)}):(p.Dashboards&&p.Dashboards.error(16,!0),p.Dashboards=n(p))})("undefined"!==typeof window?window:this,function(p){function n(g,d,e,m){g.hasOwnProperty(d)||(g[d]=m.apply(null,e),"function"===typeof CustomEvent&&p.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:d,module:g[d]}})))}
var e={};n(e,"Core/Globals.js",[],function(){var g;(function(d){d.SVG_NS="http://www.w3.org/2000/svg";d.product="Highcharts";d.version="1.0.0";d.win="undefined"!==typeof p?p:{};d.doc=d.win.document;d.svg=d.doc&&d.doc.createElementNS&&!!d.doc.createElementNS(d.SVG_NS,"svg").createSVGRect;d.userAgent=d.win.navigator&&d.win.navigator.userAgent||"";d.isChrome=-1!==d.userAgent.indexOf("Chrome");d.isFirefox=-1!==d.userAgent.indexOf("Firefox");d.isMS=/(edge|msie|trident)/i.test(d.userAgent)&&!d.win.opera;
d.isSafari=!d.isChrome&&-1!==d.userAgent.indexOf("Safari");d.isTouchDevice=/(Mobile|Android|Windows Phone)/.test(d.userAgent);d.isWebKit=-1!==d.userAgent.indexOf("AppleWebKit");d.deg2rad=2*Math.PI/360;d.hasBidiBug=d.isFirefox&&4>parseInt(d.userAgent.split("Firefox/")[1],10);d.hasTouch=!!d.win.TouchEvent;d.marginNames=["plotTop","marginRight","marginBottom","plotLeft"];d.noop=function(){};d.supportsPassiveEvents=function(){let g=!1;if(!d.isMS){const m=Object.defineProperty({},"passive",{get:function(){g=
!0}});d.win.addEventListener&&d.win.removeEventListener&&(d.win.addEventListener("testPassive",d.noop,m),d.win.removeEventListener("testPassive",d.noop,m))}return g}();d.charts=[];d.dateFormats={};d.seriesTypes={};d.symbolSizes={};d.chartCount=0})(g||(g={}));"";return g});n(e,"Core/Utilities.js",[e["Core/Globals.js"]],function(g){function d(a,b,c,h){const k=b?"Highcharts error":"Highcharts warning";32===a&&(a=`${k}: Deprecated member`);const r=f(a);let q=r?`${k} #${a}: www.highcharts.com/errors/${a}/`:
a.toString();if("undefined"!==typeof h){let a="";r&&(q+="?");x(h,function(b,c){a+=`\n - ${c}: ${b}`;r&&(q+=encodeURI(c)+"="+encodeURI(b))});q+=a}D(g,"displayError",{chart:c,code:a,message:q,params:h},function(){if(b)throw Error(q);F.console&&-1===d.messages.indexOf(q)&&console.warn(q)});d.messages.push(q)}function e(a,b){return parseInt(a,b||10)}function m(a){return"string"===typeof a}function l(a){a=Object.prototype.toString.call(a);return"[object Array]"===a||"[object Array Iterator]"===a}function c(a,
b){return!!a&&"object"===typeof a&&(!b||!l(a))}function b(a){return c(a)&&"number"===typeof a.nodeType}function a(a){const h=a&&a.constructor;return!(!c(a,!0)||b(a)||!h||!h.name||"Object"===h.name)}function f(a){return"number"===typeof a&&!isNaN(a)&&Infinity>a&&-Infinity<a}function k(a){return"undefined"!==typeof a&&null!==a}function r(a,b,c){const h=m(b)&&!k(c);let f;const r=(b,c)=>{k(b)?a.setAttribute(c,b):h?(f=a.getAttribute(c))||"class"!==c||(f=a.getAttribute(c+"Name")):a.removeAttribute(c)};
m(b)?r(c,b):x(b,r);return f}function h(a){return l(a)?a:[a]}function q(a,b){let c;a||(a={});for(c in b)a[c]=b[c];return a}function z(){const a=arguments,b=a.length;for(let c=0;c<b;c++){const b=a[c];if("undefined"!==typeof b&&null!==b)return b}}function w(a,b){g.isMS&&!g.svg&&b&&k(b.opacity)&&(b.filter=`alpha(opacity=${100*b.opacity})`);q(a.style,b)}function y(a){return Math.pow(10,Math.floor(Math.log(a)/Math.LN10))}function A(a,b){return 1E14<a?a:parseFloat(a.toPrecision(b||14))}function t(a,b,c){let h;
if("width"===b)return b=Math.min(a.offsetWidth,a.scrollWidth),c=a.getBoundingClientRect&&a.getBoundingClientRect().width,c<b&&c>=b-1&&(b=Math.floor(c)),Math.max(0,b-(t(a,"padding-left",!0)||0)-(t(a,"padding-right",!0)||0));if("height"===b)return Math.max(0,Math.min(a.offsetHeight,a.scrollHeight)-(t(a,"padding-top",!0)||0)-(t(a,"padding-bottom",!0)||0));if(a=F.getComputedStyle(a,void 0))h=a.getPropertyValue(b),z(c,"opacity"!==b)&&(h=e(h));return h}function x(a,b,c){for(const h in a)Object.hasOwnProperty.call(a,
h)&&b.call(c||a[h],a[h],h,a)}function B(a,b,c){function h(b,c){const h=a.removeEventListener;h&&h.call(a,b,c,!1)}function k(c){let k,f;a.nodeName&&(b?(k={},k[b]=!0):k=c,x(k,function(a,b){if(c[b])for(f=c[b].length;f--;)h(b,c[b][f].fn)}))}var f="function"===typeof a&&a.prototype||a;if(Object.hasOwnProperty.call(f,"hcEvents")){const a=f.hcEvents;b?(f=a[b]||[],c?(a[b]=f.filter(function(a){return c!==a.fn}),h(b,c)):(k(a),a[b]=[])):(k(a),delete f.hcEvents)}}function D(a,b,c,h){c=c||{};if(n.createEvent&&
(a.dispatchEvent||a.fireEvent&&a!==g)){var k=n.createEvent("Events");k.initEvent(b,!0,!0);c=q(k,c);a.dispatchEvent?a.dispatchEvent(c):a.fireEvent(b,c)}else if(a.hcEvents){c.target||q(c,{preventDefault:function(){c.defaultPrevented=!0},target:a,type:b});k=[];let h=a,f=!1;for(;h.hcEvents;)Object.hasOwnProperty.call(h,"hcEvents")&&h.hcEvents[b]&&(k.length&&(f=!0),k.unshift.apply(k,h.hcEvents[b])),h=Object.getPrototypeOf(h);f&&k.sort((a,b)=>a.order-b.order);k.forEach(b=>{!1===b.fn.call(a,c)&&c.preventDefault()})}h&&
!c.defaultPrevented&&h.call(a,c)}const {charts:E,doc:n,win:F}=g;(d||(d={})).messages=[];Math.easeInOutSine=function(a){return-.5*(Math.cos(Math.PI*a)-1)};var H=Array.prototype.find?function(a,b){return a.find(b)}:function(a,b){let c;const h=a.length;for(c=0;c<h;c++)if(b(a[c],c))return a[c]};x({map:"map",each:"forEach",grep:"filter",reduce:"reduce",some:"some"},function(a,b){g[b]=function(c){d(32,!1,void 0,{[`Highcharts.${b}`]:`use Array.${a}`});return Array.prototype[a].apply(c,[].slice.call(arguments,
1))}});let p;const I=function(){const a=Math.random().toString(36).substring(2,9)+"-";let b=0;return function(){return"highcharts-"+(p?"":a)+b++}}();F.jQuery&&(F.jQuery.fn.highcharts=function(){const a=[].slice.call(arguments);if(this[0])return a[0]?(new (g[m(a[0])?a.shift():"Chart"])(this[0],a[0],a[1]),this):E[r(this[0],"data-highcharts-chart")]});H={addEvent:function(a,b,c,h={}){var k="function"===typeof a&&a.prototype||a;Object.hasOwnProperty.call(k,"hcEvents")||(k.hcEvents={});k=k.hcEvents;g.Point&&
a instanceof g.Point&&a.series&&a.series.chart&&(a.series.chart.runTrackerClick=!0);const f=a.addEventListener;f&&f.call(a,b,c,g.supportsPassiveEvents?{passive:void 0===h.passive?-1!==b.indexOf("touch"):h.passive,capture:!1}:!1);k[b]||(k[b]=[]);k[b].push({fn:c,order:"number"===typeof h.order?h.order:Infinity});k[b].sort((a,b)=>a.order-b.order);return function(){B(a,b,c)}},arrayMax:function(a){let b=a.length,c=a[0];for(;b--;)a[b]>c&&(c=a[b]);return c},arrayMin:function(a){let b=a.length,c=a[0];for(;b--;)a[b]<
c&&(c=a[b]);return c},attr:r,clamp:function(a,b,c){return a>b?a<c?a:c:b},clearTimeout:function(a){k(a)&&clearTimeout(a)},correctFloat:A,createElement:function(a,b,c,h,k){a=n.createElement(a);b&&q(a,b);k&&w(a,{padding:"0",border:"none",margin:"0"});c&&w(a,c);h&&h.appendChild(a);return a},css:w,defined:k,destroyObjectProperties:function(a,b){x(a,function(c,h){c&&c!==b&&c.destroy&&c.destroy();delete a[h]})},diffObjects:function(a,b,k,f){function r(a,b,q,d){const g=k?b:a;x(a,function(k,t){if(!d&&f&&-1<
f.indexOf(t)&&b[t]){k=h(k);q[t]=[];for(let a=0;a<Math.max(k.length,b[t].length);a++)b[t][a]&&(void 0===k[a]?q[t][a]=b[t][a]:(q[t][a]={},r(k[a],b[t][a],q[t][a],d+1)))}else if(c(k,!0)&&!k.nodeType)q[t]=l(k)?[]:{},r(k,b[t]||{},q[t],d+1),0!==Object.keys(q[t]).length||"colorAxis"===t&&0===d||delete q[t];else if(a[t]!==b[t]||t in a&&!(t in b))q[t]=g[t]})}const q={};r(a,b,q,0);return q},discardElement:function(a){a&&a.parentElement&&a.parentElement.removeChild(a)},erase:function(a,b){let c=a.length;for(;c--;)if(a[c]===
b){a.splice(c,1);break}},error:d,extend:q,extendClass:function(a,b){function c(){}c.prototype=new a;q(c.prototype,b);return c},find:H,fireEvent:D,getClosestDistance:function(a,b){const c=!b;let h,k,f,q;a.forEach(a=>{if(1<a.length)for(q=k=a.length-1;0<q;q--)f=a[q]-a[q-1],0>f&&!c?(null===b||void 0===b?void 0:b(),b=void 0):f&&("undefined"===typeof h||f<h)&&(h=f)});return h},getMagnitude:y,getNestedProperty:function(a,b){for(a=a.split(".");a.length&&k(b);){const h=a.shift();if("undefined"===typeof h||
"__proto__"===h)return;if("this"===h){let a;c(b)&&(a=b["@this"]);return null!==a&&void 0!==a?a:b}b=b[h];if(!k(b)||"function"===typeof b||"number"===typeof b.nodeType||b===F)return}return b},getStyle:t,inArray:function(a,b,c){d(32,!1,void 0,{"Highcharts.inArray":"use Array.indexOf"});return b.indexOf(a,c)},insertItem:function(a,b){const c=a.options.index,h=b.length;let k;for(k=a.options.isInternal?h:0;k<h+1;k++)if(!b[k]||f(c)&&c<z(b[k].options.index,b[k]._i)||b[k].options.isInternal){b.splice(k,0,
a);break}return k},isArray:l,isClass:a,isDOMElement:b,isFunction:function(a){return"function"===typeof a},isNumber:f,isObject:c,isString:m,keys:function(a){d(32,!1,void 0,{"Highcharts.keys":"use Object.keys"});return Object.keys(a)},merge:function(){function h(k,f){"object"!==typeof k&&(k={});x(f,function(q,r){"__proto__"!==r&&"constructor"!==r&&(!c(q,!0)||a(q)||b(q)?k[r]=f[r]:k[r]=h(k[r]||{},q))});return k}let k,f=arguments,q={};!0===f[0]&&(q=f[1],f=Array.prototype.slice.call(f,2));const r=f.length;
for(k=0;k<r;k++)q=h(q,f[k]);return q},normalizeTickInterval:function(a,b,c,k,h){let f=a;c=z(c,y(a));const q=a/c;b||(b=h?[1,1.2,1.5,2,2.5,3,4,5,6,8,10]:[1,2,2.5,5,10],!1===k&&(1===c?b=b.filter(function(a){return 0===a%1}):.1>=c&&(b=[1/c])));for(k=0;k<b.length&&!(f=b[k],h&&f*c>=a||!h&&q<=(b[k]+(b[k+1]||b[k]))/2);k++);return f=A(f*c,-Math.round(Math.log(.001)/Math.LN10))},objectEach:x,offset:function(a){const b=n.documentElement;a=a.parentElement||a.parentNode?a.getBoundingClientRect():{top:0,left:0,
width:0,height:0};return{top:a.top+(F.pageYOffset||b.scrollTop)-(b.clientTop||0),left:a.left+(F.pageXOffset||b.scrollLeft)-(b.clientLeft||0),width:a.width,height:a.height}},pad:function(a,b,c){return Array((b||2)+1-String(a).replace("-","").length).join(c||"0")+a},pick:z,pInt:e,pushUnique:function(a,b){return 0>a.indexOf(b)&&!!a.push(b)},relativeLength:function(a,b,c){return/%$/.test(a)?b*parseFloat(a)/100+(c||0):parseFloat(a)},removeEvent:B,splat:h,stableSort:function(a,b){const c=a.length;let k,
h;for(h=0;h<c;h++)a[h].safeI=h;a.sort(function(a,c){k=b(a,c);return 0===k?a.safeI-c.safeI:k});for(h=0;h<c;h++)delete a[h].safeI},syncTimeout:function(a,b,c){if(0<b)return setTimeout(a,b,c);a.call(0,c);return-1},timeUnits:{millisecond:1,second:1E3,minute:6E4,hour:36E5,day:864E5,week:6048E5,month:24192E5,year:314496E5},uniqueKey:I,useSerialIds:function(a){return p=z(a,p)},wrap:function(a,b,c){const k=a[b];a[b]=function(){const a=arguments,b=this;return c.apply(this,[function(){return k.apply(b,arguments.length?
arguments:a)}].concat([].slice.call(arguments)))}}};"";return H});n(e,"Data/DataTable.js",[e["Core/Utilities.js"]],function(g){const {addEvent:d,fireEvent:e,uniqueKey:m}=g;class l{static isNull(c){if(c===l.NULL)return!0;if(c instanceof Array){if(!c.length)return!1;for(let b=0,a=c.length;b<a;++b)if(null!==c[b])return!1}else{const b=Object.keys(c);if(!b.length)return!1;for(let a=0,f=b.length;a<f;++a)if(null!==c[b[a]])return!1}return!0}constructor(c={}){this.aliases={};this.autoId=!c.id;this.columns=
{};this.id=c.id||m();this.modified=this;this.rowCount=0;this.versionTag=m();var b=c.columns||{},a=Object.keys(b);const f=this.columns;let k=0;for(let c=0,h=a.length,q,l;c<h;++c)l=a[c],q=b[l].slice(),f[l]=q,k=Math.max(k,q.length);for(let b=0,c=a.length;b<c;++b)f[a[b]].length=k;this.rowCount=k;c=c.aliases||{};b=Object.keys(c);a=this.aliases;for(let k=0,h=b.length,f;k<h;++k)f=b[k],a[f]=c[f]}clone(c,b){var a={};this.emit({type:"cloneTable",detail:b});c||(a.aliases=this.aliases,a.columns=this.columns);
this.autoId||(a.id=this.id);a=new l(a);c||(a.versionTag=this.versionTag);this.emit({type:"afterCloneTable",detail:b,tableClone:a});return a}deleteColumnAlias(c){const b=this.aliases[c],a=this.modifier;b&&(delete this.aliases[c],a&&a.modifyColumns(this,{[b]:Array(this.rowCount)},0));return b}deleteColumns(c,b){const a=this.columns,f={},k={},r=this.modifier,h=this.rowCount;c=c||Object.keys(a);if(c.length){this.emit({type:"deleteColumns",columnNames:c,detail:b});for(let b=0,r=c.length,l,d;b<r;++b){d=
c[b];if(l=a[d])f[d]=l,k[d]=Array(h);delete a[d]}Object.keys(a).length||(this.rowCount=0);r&&r.modifyColumns(this,k,0,b);this.emit({type:"afterDeleteColumns",columns:f,columnNames:c,detail:b});return f}}deleteRows(c,b=1,a){const f=[],k=[],r=this.modifier;this.emit({type:"deleteRows",detail:a,rowCount:b,rowIndex:c||0});"undefined"===typeof c&&(c=0,b=this.rowCount);if(0<b&&c<this.rowCount){const a=this.columns,q=Object.keys(a);for(let h=0,r=q.length,l,d;h<r;++h){l=a[q[h]];d=l.splice(c,b);h||(this.rowCount=
l.length);for(let a=0,b=d.length;a<b;++a)f[a]=f[a]||[],f[a][h]=d[a];k.push(Array(r))}}r&&r.modifyRows(this,k,c||0,a);this.emit({type:"afterDeleteRows",detail:a,rowCount:b,rowIndex:c||0,rows:f});return f}emit(c){switch(c.type){case "afterDeleteColumns":case "afterDeleteRows":case "afterSetCell":case "afterSetColumns":case "afterSetRows":this.versionTag=m()}e(this,c.type,c)}getCell(c,b){c=this.aliases[c]||c;if(c=this.columns[c])return c[b]}getCellAsBoolean(c,b){c=this.aliases[c]||c;c=this.columns[c];
return!(!c||!c[b])}getCellAsNumber(c,b,a){c=this.aliases[c]||c;b=(c=this.columns[c])&&c[b];switch(typeof b){case "boolean":return b?1:0;case "number":return isNaN(b)&&!a?null:b}b=parseFloat(`${b}`);return isNaN(b)&&!a?null:b}getCellAsString(c,b){c=this.aliases[c]||c;c=this.columns[c];return`${c&&c[b]}`}getColumn(c,b){return this.getColumns([c],b)[c]}getColumnAliases(){const c=this.aliases,b=Object.keys(c),a={};for(let f=0,k=b.length,r;f<k;++f)r=b[f],a[r]=c[r];return a}getColumnAsNumbers(c,b){var a=
this.columns;c=this.aliases[c]||c;const f=a[c];a=[];if(f){const k=f.length;if(b)for(b=0;b<k;++b)a.push(this.getCellAsNumber(c,b,!0));else{for(let a=0,b;a<k;++a){b=f[a];if("number"===typeof b)return f.slice();if(null!==b&&"undefined"!==typeof b)break}for(b=0;b<k;++b)a.push(this.getCellAsNumber(c,b))}}return a}getColumnNames(){return Object.keys(this.columns)}getColumns(c,b){const a=this.aliases,f=this.columns,k={};c=c||Object.keys(f);for(let r=0,h=c.length,q,l;r<h;++r)l=c[r],(q=f[a[l]||l])&&(k[l]=
b?q:q.slice());return k}getModifier(){return this.modifier}getRow(c,b){return this.getRows(c,1,b)[0]}getRowCount(){return this.rowCount}getRowIndexBy(c,b,a){c=this.aliases[c]||c;if(c=this.columns[c])if(b=c.indexOf(b,a),-1!==b)return b}getRowObject(c,b){return this.getRowObjects(c,1,b)[0]}getRowObjects(c=0,b=this.rowCount-c,a){const f=this.aliases,k=this.columns,r=Array(b);a=a||Object.keys(k);for(let h=c,q=0,l=Math.min(this.rowCount,c+b),d,g;h<l;++h,++q){g=r[q]={};for(const b of a)d=k[f[b]||b],g[b]=
d?d[h]:void 0}return r}getRows(c=0,b=this.rowCount-c,a){const f=this.aliases,k=this.columns,r=Array(b);a=a||Object.keys(k);for(let h=c,q=0,l=Math.min(this.rowCount,c+b),d,g;h<l;++h,++q){g=r[q]=[];for(const b of a)d=k[f[b]||b],g.push(d?d[h]:void 0)}return r}getVersionTag(){return this.versionTag}hasColumns(c){const b=this.aliases,a=this.columns;for(let f=0,k=c.length,r;f<k;++f)if(r=c[f],!a[r]&&!b[r])return!1;return!0}hasRowWith(c,b){c=this.aliases[c]||c;return(c=this.columns[c])?-1!==c.indexOf(b):
!1}on(c,b){return d(this,c,b)}renameColumn(c,b){const a=this.columns;if(a[c]){if(c!==b){const f=this.aliases;f[b]&&delete f[b];a[b]=a[c];delete a[c]}return!0}return!1}setCell(c,b,a,f){const k=this.columns,r=this.modifier;c=this.aliases[c]||c;let h=k[c];h&&h[b]===a||(this.emit({type:"setCell",cellValue:a,columnName:c,detail:f,rowIndex:b}),h||(h=k[c]=Array(this.rowCount)),b>=this.rowCount&&(this.rowCount=b+1),h[b]=a,r&&r.modifyCell(this,c,b,a),this.emit({type:"afterSetCell",cellValue:a,columnName:c,
detail:f,rowIndex:b}))}setColumn(c,b=[],a=0,f){this.setColumns({[c]:b},a,f)}setColumnAlias(c,b){const a=this.aliases;return a[c]?!1:(a[c]=b,!0)}setColumns(c,b,a){const f=this.columns,k=this.modifier;var r="undefined"===typeof b;const h=Object.keys(c);this.emit({type:"setColumns",columns:c,columnNames:h,detail:a,rowIndex:b});for(let a=0,k=h.length,l,d;a<k;++a)if(d=h[a],l=c[d],d=this.aliases[d]||d,r)f[d]=l.slice(),this.rowCount=l.length;else{const a=f[d]?f[d]:f[d]=Array(this.rowCount);for(let c=b||
0,k=l.length;c<k;++c)a[c]=l[c];this.rowCount=Math.max(this.rowCount,a.length)}r=Object.keys(f);for(let a=0,b=r.length;a<b;++a)f[r[a]].length=this.rowCount;k&&k.modifyColumns(this,c,b||0);this.emit({type:"afterSetColumns",columns:c,columnNames:h,detail:a,rowIndex:b})}setModifier(c,b){const a=this;a.emit({type:"setModifier",detail:b,modifier:c,modified:a.modified});a.modified=a;a.modifier=c;return(c?c.modify(a):Promise.resolve(a)).then(a=>{a.emit({type:"afterSetModifier",detail:b,modifier:c,modified:a.modified});
return a})["catch"](b=>{a.emit({type:"setModifierError",error:b,modifier:c,modified:a.modified});throw b;})}setRow(c,b,a){this.setRows([c],b,a)}setRows(c,b=this.rowCount,a){var f=this.aliases;const k=this.columns,r=Object.keys(k),h=this.modifier,q=c.length;this.emit({type:"setRows",detail:a,rowCount:q,rowIndex:b,rows:c});for(let a=0,h=b,d;a<q;++a,++h)if(d=c[a],d===l.NULL)for(let a=0,b=r.length;a<b;++a)k[r[a]][h]=null;else if(d instanceof Array)for(let a=0,b=r.length;a<b;++a)k[r[a]][h]=d[a];else{const a=
Object.keys(d);for(let b=0,c=a.length,q;b<c;++b)q=a[b],q=f[q]||q,k[q]||(k[q]=Array(h+1)),k[q][h]=d[q]}f=b+q;if(f>this.rowCount){this.rowCount=f;for(let a=0,b=r.length;a<b;++a)k[r[a]].length=f}h&&h.modifyRows(this,c,b);this.emit({type:"afterSetRows",detail:a,rowCount:q,rowIndex:b,rows:c})}}l.NULL={};"";return l});n(e,"Data/Connectors/DataConnector.js",[e["Data/DataTable.js"],e["Core/Utilities.js"]],function(g,d){const {addEvent:e,fireEvent:m,merge:l,pick:c}=d;class b{constructor(a={}){this.table=new g(a.dataTable);
this.metadata=a.metadata||{columns:{}}}get polling(){return!!this.polling}describeColumn(a,b){const c=this.metadata.columns;c[a]=l(c[a]||{},b)}describeColumns(a){const b=Object.keys(a);let c;for(;"string"===typeof(c=b.pop());)this.describeColumn(c,a[c])}emit(a){m(this,a.type,a)}getColumnOrder(){const a=this.metadata.columns,b=Object.keys(a||{});if(b.length)return b.sort((b,f)=>c(a[b].index,0)-c(a[f].index,0))}getSortedColumns(a){return this.table.getColumns(this.getColumnOrder(a))}load(){m(this,"afterLoad",
{table:this.table});return Promise.resolve(this)}on(a,b){return e(this,a,b)}save(){m(this,"saveError",{table:this.table});return Promise.reject(Error("Not implemented"))}setColumnOrder(a){for(let b=0,c=a.length;b<c;++b)this.describeColumn(a[b],{index:b})}startPolling(a=1E3){const b=this;p.clearTimeout(b._polling);b._polling=p.setTimeout(()=>b.load()["catch"](a=>b.emit({type:"loadError",error:a,table:b.table})).then(()=>{b._polling&&b.startPolling(a)}),a)}stopPolling(){p.clearTimeout(this._polling);
delete this._polling}whatIs(a){return this.metadata.columns[a]}}(function(a){a.types={};a.registerType=function(b,c){return!!b&&!a.types[b]&&!!(a.types[b]=c)}})(b||(b={}));return b});n(e,"Dashboards/Components/ComponentRegistry.js",[e["Core/Utilities.js"]],function(){var g;(function(d){d.types={};d.registerComponent=function(g,e){return!!g&&!d.types[g]&&!!(d.types[g]=e)}})(g||(g={}));return g});n(e,"Dashboards/Globals.js",[],function(){var g,d=g||(g={});d.classNamePrefix="highcharts-dashboards-";
d.classNames={layout:d.classNamePrefix+"layout",cell:d.classNamePrefix+"cell",cellHover:d.classNamePrefix+"cell-state-hover",cellActive:d.classNamePrefix+"cell-state-active",row:d.classNamePrefix+"row",layoutsWrapper:d.classNamePrefix+"layouts-wrapper",boardContainer:d.classNamePrefix+"wrapper"};d.guiElementType={row:"row",cell:"cell",layout:"layout"};d.responsiveBreakpoints={small:"small",medium:"medium",large:"large"};d.boards=[];d.win=p;return g});n(e,"Dashboards/Actions/Bindings.js",[e["Dashboards/Components/ComponentRegistry.js"],
e["Dashboards/Globals.js"],e["Core/Utilities.js"]],function(g,d,e){const {addEvent:m,fireEvent:l,error:c}=e;var b;(function(a){function b(a){a="string"===typeof a?document.getElementById(a):a;let b;null!==a&&l(a,"bindedGUIElement",{},function(a){b=a.guiElement});return b}a.addComponent=function(b,f){var h,k,r,e;const y=b.states,A=b.events;if((f=f||a.getCell(b.cell||""))&&f.container&&b.type){var t=f.container,x=g.types[b.type];x||(c("The component's type `"+b.type+"` does not exist."),x=g.types.HTML,
b.title={text:null===(k=null===(h=f.row.layout.board)||void 0===h?void 0:h.editMode)||void 0===k?void 0:k.lang.errorMessage,className:d.classNamePrefix+"component-title-error "+d.classNamePrefix+"component-title"});var v=new x(f,b);try{v.render()}catch(D){v.update({title:{text:null===(e=null===(r=f.row.layout.board)||void 0===r?void 0:r.editMode)||void 0===e?void 0:e.lang.errorMessage,className:d.classNamePrefix+"component-title-error "+d.classNamePrefix+"component-title"}})}l(v,"mount");v.setCell(f);
f.mountedComponent=v;f.row.layout.board.mountedComponents.push({options:b,component:v,cell:f});A&&A.click&&m(t,"click",()=>{A.click();f&&v&&t&&y&&y.active&&f.setActiveState()});y&&y.hover&&t.classList.add(d.classNames.cellHover);l(v,"afterLoad");return v}c("The component is misconfigured and is unable to find the HTML cell element `"+b.cell+"` to render the content.")};a.componentFromJSON=function(b){let c=g.types[b.$class];if(c){var h=a.getCell(b.options.cell||"");if(h)return(b=c.fromJSON(b,h))&&
b.render(),b}};a.getCell=function(a){if((a=b(a))&&"cell"===a.getType())return a};a.getRow=function(a){if((a=b(a))&&"row"===a.getType())return a};a.getLayout=function(a){if((a=b(a))&&"layout"===a.getType())return a}})(b||(b={}));return b});n(e,"Dashboards/Accessibility/DashboardsAccessibility.js",[],function(){class g{constructor(d){this.board=d;this.addTabIndexToCells()}addTabIndexToCells(){const d=this.board.mountedComponents;let g;for(let e=0,l=d.length;e<l;++e)(g=d[e].cell)&&g.container&&g.container.setAttribute("tabindex",
-1)}}return g});n(e,"Data/DataCursor.js",[],function(){class g{constructor(d={}){this.emittingRegister=[];this.listenerMap={};this.stateMap=d}addListener(d,g,e){d=this.listenerMap[d]=this.listenerMap[d]||{};(d[g]=d[g]||[]).push(e);return this}buildEmittingTag(d){return("position"===d.cursor.type?[d.table.id,d.cursor.column,d.cursor.row,d.cursor.state,d.cursor.type]:[d.table.id,d.cursor.columns,d.cursor.firstRow,d.cursor.lastRow,d.cursor.state,d.cursor.type]).join("\x00")}emitCursor(d,e,m,l){var c=
d.id,b=e.state;if(b=this.listenerMap[c]&&this.listenerMap[c][b]){c=this.stateMap[c]=this.stateMap[c]||{};let a=c[e.state];l&&(a||(a=c[e.state]=[]),-1===g.getIndex(e,a)&&a.push(e));d={cursor:e,cursors:a||[],table:d};m&&(d.event=m);m=this.emittingRegister;e=this.buildEmittingTag(d);if(0<=m.indexOf(e))return this;try{this.emittingRegister.push(e);for(let a=0,c=b.length;a<c;++a)b[a].call(this,d)}finally{b=this.emittingRegister.indexOf(e),0<=b&&this.emittingRegister.splice(b,1)}}return this}remitCursor(d,
e){if(d=this.stateMap[d]&&this.stateMap[d][e.state])e=g.getIndex(e,d),0<=e&&d.splice(e,1);return this}removeListener(d,g,e){(d=this.listenerMap[d]&&this.listenerMap[d][g])&&(e=d.indexOf(e))&&d.splice(e,1);return this}}(function(d){function g(d,l){var c,b,a,f;if("range"===d.type)return d;l={type:"range",firstRow:null!==(b=null!==(c=d.row)&&void 0!==c?c:l&&l.firstRow)&&void 0!==b?b:0,lastRow:null!==(f=null!==(a=d.row)&&void 0!==a?a:l&&l.lastRow)&&void 0!==f?f:Number.MAX_VALUE,state:d.state};"undefined"!==
typeof d.column&&(l.columns=[d.column]);return l}d.getIndex=function(d,l){if("position"===d.type)for(let c,b=0,a=l.length;b<a;++b){if(c=l[b],"position"===c.type&&c.state===d.state&&c.column===d.column&&c.row===d.row)return b}else{const c=JSON.stringify(d.columns);for(let b,a=0,f=l.length;a<f;++a)if(b=l[a],"range"===b.type&&b.state===d.state&&b.firstRow===d.firstRow&&b.lastRow===d.lastRow&&JSON.stringify(b.columns)===c)return a}return-1};d.isEqual=function(d,l){return"position"===d.type&&"position"===
l.type?d.column===l.column&&d.row===l.row&&d.state===l.state:"range"===d.type&&"range"===l.type?d.firstRow===l.firstRow&&d.lastRow===l.lastRow&&JSON.stringify(d.columns)===JSON.stringify(l.columns):!1};d.isInRange=function(d,l){"position"===l.type&&(l=g(l));"position"===d.type&&(d=g(d,l));const c=d.columns,b=l.columns;return d.firstRow>=l.firstRow&&d.lastRow<=l.lastRow&&(!c||!b||c.every(a=>0<=b.indexOf(a)))};d.toPositions=function(d){if("position"===d.type)return[d];const l=d.columns||[],c=[],b=d.state;
for(let a=d.firstRow,f=d.lastRow;a<f;++a)if(l.length)for(let k=0,f=l.length;k<f;++k)c.push({type:"position",column:l[k],row:a,state:b});else c.push({type:"position",row:a,state:b});return c};d.toRange=g})(g||(g={}));"";return g});n(e,"Dashboards/Serializable.js",[],function(){var g;(function(d){const g={},e={};d.fromJSON=function(l){const c=l.$class;if("string"!==typeof c)throw Error("JSON has no $class property.");var b=g[c];if(b||(b=e[c]))return b.fromJSON(l);throw Error(`'${c}' unknown.`);};d.registerClassPrototype=
function(l,c){if(g[l])throw Error("A serializer for '"+l+"' is already registered.");g[l]=c};d.registerHelper=function(l){if(e[l.$class])throw Error("A serializer for '"+l.$class+"' is already registered.");e[l.$class]=l};d.toJSON=function(l){if("function"===typeof l.fromJSON&&"function"===typeof l.toJSON)return l.toJSON();const c=Object.keys(e),b=c.length;for(let f=0;f<b;++f){var a=c[f];a=e[a];if(a.jsonSupportFor(l))return a.toJSON(l)}throw Error("Object is not supported.");}})(g||(g={}));return g});
n(e,"Dashboards/SerializeHelper/DataCursorHelper.js",[e["Data/DataCursor.js"],e["Dashboards/Serializable.js"]],function(g,d){const e={$class:"Data.DataCursor",fromJSON:function(d){return new g(d.stateMap)},jsonSupportFor:function(d){return d instanceof g},toJSON:function(d){const l=d.stateMap,c={};d=Object.keys(d.stateMap);let b;let a,f;for(let r=0,h=d.length;r<h;++r){a=d[r];f=Object.keys(l[a]);c[a]={};for(let h=0,r=f.length;h<r;++h){var k=f[h];b=l[a][k];c[a][k]=k=[];for(let a=0,c=b.length;a<c;++a)k.push(Object.assign({},
b[a]))}}return{$class:"Data.DataCursor",stateMap:c}}};d.registerHelper(e);return e});n(e,"Data/Modifiers/DataModifier.js",[e["Core/Utilities.js"]],function(g){const {addEvent:d,fireEvent:e,merge:m}=g;class l{benchmark(c,b){const a=[],f=this,k=()=>{f.modifyTable(c);f.emit({type:"afterBenchmarkIteration"})},{iterations:r}=m({iterations:1},b);f.on("afterBenchmarkIteration",()=>{a.length===r?f.emit({type:"afterBenchmark",results:a}):k()});var h=0,q=0;f.on("modify",()=>{h=p.performance.now()});f.on("afterModify",
()=>{q=p.performance.now();a.push(q-h)});k();return a}emit(c){e(this,c.type,c)}modify(c,b){const a=this;return new Promise((f,k)=>{c.modified===c&&(c.modified=c.clone(!1,b));try{f(a.modifyTable(c,b))}catch(r){a.emit({type:"error",detail:b,table:c}),k(r)}})}modifyCell(c){return this.modifyTable(c)}modifyColumns(c){return this.modifyTable(c)}modifyRows(c){return this.modifyTable(c)}on(c,b){return d(this,c,b)}}(function(c){c.types={};c.registerType=function(b,a){return!!b&&!c.types[b]&&!!(c.types[b]=
a)}})(l||(l={}));return l});n(e,"Data/DataPoolDefaults.js",[],function(){return{connectors:[]}});n(e,"Data/DataPool.js",[e["Data/Connectors/DataConnector.js"],e["Data/Modifiers/DataModifier.js"],e["Data/DataPoolDefaults.js"],e["Core/Utilities.js"]],function(g,d,e,m){class l{constructor(c=e){c.connectors=c.connectors||[];this.options=c;this.connectors={}}emit(c){m.fireEvent(this,c.type,c)}getConnector(c){var b=this.connectors[c];if(b)return Promise.resolve(b);if(b=this.getConnectorOptions(c))return this.loadConnector(b);
throw Error(`Connector not found. (${c})`);}getConnectorIds(){const c=this.options.connectors,b=[];for(let a=0,f=c.length;a<f;++a)b.push(c[a].id);return b}getConnectorOptions(c){const b=this.options.connectors;for(let a=0,f=b.length;a<f;++a)if(b[a].id===c)return b[a]}getConnectorTable(c){return this.getConnector(c).then(b=>b.table)}loadConnector(c){return new Promise((b,a)=>{this.emit({type:"load",options:c});var f=g.types[c.type];if(!f)throw Error(`Connector type not found. (${c.type})`);f=new f(c.options);
this.connectors[c.id]=f;f.load().then(a=>{var b;return(null===(b=null===c||void 0===c?void 0:c.options)||void 0===b?0:b.dataModifier)?a.table.setModifier(new d.types[c.options.dataModifier.type](c.options.dataModifier)).then(()=>a):a}).then(a=>{this.emit({type:"afterLoad",options:c});b(a)})["catch"](a)})}on(c,b){return m.addEvent(this,c,b)}setConnectorOptions(c){const b=this.options.connectors;this.emit({type:"setConnectorOptions",options:c});for(let a=0,f=b.length;a<f;++a)if(b[a].id===c.id){b.splice(a,
1);break}b.push(c);this.emit({type:"afterSetConnectorOptions",options:c})}}return l});n(e,"Dashboards/EditMode/EditGlobals.js",[e["Dashboards/Globals.js"]],function(g){g=g.classNamePrefix+"edit-";return{classNames:{resizeSnap:g+"resize-snap",resizeSnapX:g+"resize-snap-x",resizeSnapY:g+"resize-snap-y",separator:g+"separator",contextMenuBtn:g+"context-menu-btn",contextMenu:g+"context-menu",contextMenuItem:g+"context-menu-item",editModeEnabled:g+"enabled",editToolbar:g+"toolbar",editToolbarCellOutline:g+
"toolbar-cell-outline",editToolbarRowOutline:g+"toolbar-row-outline",editToolbarItem:g+"toolbar-item",editToolbarRow:g+"toolbar-row",editToolbarCell:g+"toolbar-cell",editSidebar:g+"sidebar",editSidebarShow:g+"sidebar-show",editSidebarHide:g+"sidebar-hide",editSidebarTitle:g+"sidebar-title",editSidebarMenuItem:g+"sidebar-item",rowContextHighlight:g+"row-context-highlight",cellEditHighlight:g+"cell-highlight",dashboardCellEditHighlightActive:g+"cell-highlight-active",dragMock:g+"drag-mock",dropPointer:g+
"drop-pointer",contextDetectionPointer:g+"ctx-detection-pointer",resizePointer:g+"resize-pointer",currentEditedElement:g+"unmask",maskElement:g+"mask",menuItem:g+"menu-item",menu:g+"menu",menuVerticalSeparator:g+"menu-vertical-separator",menuHorizontalSeparator:g+"menu-horizontal-separator",menuDestroy:g+"menu-destroy",editSidebarWrapper:g+"sidebar-wrapper",customSelect:g+"custom-select",customSelectButton:g+"custom-option-button",toggleContainer:g+"toggle-container",toggleWrapper:g+"toggle-wrapper",
toggleSlider:g+"toggle-slider",toggleWrapperColored:g+"toggle-wrapper-colored",toggleLabels:g+"toggle-labels",button:g+"button",sidebarNavButton:g+"sidebar-button-nav",labelText:g+"label-text",editSidebarTabBtn:g+"sidebar-tab-btn",editToolsBtn:g+"tools-btn",editTools:g+"tools",editGridItems:g+"grid-items",confirmationPopup:g+"confirmation-popup",popupContentContainer:g+"confirmation-popup-content",popupConfirmBtn:g+"confirmation-popup-confirm-btn",popupCloseButton:g+"popup-close",editOverlay:g+"overlay",
editOverlayActive:g+"overlay-active",resizerMenuBtnActive:g+"resizer-menu-btn-active",sidebarCloseButton:g+"close-btn",editSidebarTabBtnWrapper:g+"tabs-buttons-wrapper",editSidebarRight:g+"sidebar-right",editSidebarRightShow:g+"sidebar-right-show",viewFullscreen:g+"view-fullscreen",accordionMenu:g+"accordion-menu",accordionContainer:g+"accordion",accordionHeader:g+"accordion-header",accordionHeaderBtn:g+"accordion-header-btn",accordionHeaderIcon:g+"accordion-header-icon",accordionContent:g+"accordion-content",
accordionNestedWrapper:g+"accordion-nested",accordionMenuButtonsContainer:g+"accordion-menu-buttons-container",accordionMenuButton:g+"accordion-menu-button",hiddenElement:g+"hidden-element",collapsableContentHeader:g+"collapsable-content-header",dropdown:g+"dropdown",dropdownContent:g+"dropdown-content",dropdownButton:g+"dropdown-button",dropdownButtonContent:g+"dropdown-button-content",dropdownIcon:g+"pointer",rotateElement:g+"rotate-element",icon:g+"icon"},lang:{addComponent:"Add component",cancelButton:"Cancel",
caption:"Caption",chartClassName:"Chart class name",chartConfig:"Chart configuration",chartID:"Chart ID",chartOptions:"Chart options",chartType:"Chart type",connectorName:"Connector name",confirmButton:"Confirm",confirmDestroyCell:"Do you want to destroy the cell?",confirmDestroyRow:"Do you want to destroy the row?",dataLabels:"Data labels",editMode:"Edit mode",errorMessage:"Something went wrong",exitFullscreen:"Exit full screen",id:"Id",large:"Large",medium:"Medium",off:"off",on:"on",pointFormat:"Point format",
scaleElements:"Scale elements",settings:"Settings",small:"Small",style:"Styles",title:"Title",viewFullscreen:"View in full screen"}}});n(e,"Dashboards/EditMode/EditRenderer.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"]],function(g,d){function e(a,b){let c;b.options.contextMenu&&(c=w("button",{className:g.classNames.contextMenuBtn,onclick:function(){b.onContextBtnClick()}},{"background-image":"url("+b.options.contextMenu.icon+")"},a));return c}function m(a,c){const {name:h,showToggle:k,
onchange:f,isEnabled:q,isNested:r,iconsURLPrefix:l,lang:d}=c;a=w("div",{className:g.classNames[r?"accordionNestedWrapper":"accordionContainer"]+" "+g.classNames.collapsableContentHeader},{},a);c=w("div",{className:g.classNames.accordionHeader},{},a);const e=w("button",{className:g.classNames.accordionHeaderBtn},{},c);w("span",{textContent:d[h]||h},{},e);k&&b(c,{enabledOnOffLabels:!0,id:h,name:h,onchange:f,value:q||!1,lang:d});const t=w("img",{className:g.classNames.accordionHeaderIcon+" "+g.classNames.rotateElement,
src:l+"dropdown-pointer.svg"},{},e),z=w("div",{className:g.classNames.accordionContent+" "+g.classNames.hiddenElement},{},a);e.addEventListener("click",function(){z.classList.toggle(g.classNames.hiddenElement);t.classList.toggle(g.classNames.rotateElement)});return{outerElement:a,content:z}}function l(b,h){if(b){h.name&&a(b,{title:h.name,isLabel:!0});var k=h.iconsURLPrefix||"";b=w("div",{className:g.classNames.dropdown+" "+g.classNames.collapsableContentHeader},{},b);var f=w("button",{className:g.classNames.dropdownButton},
{},b),q=w("div",{className:g.classNames.dropdownButtonContent},{},f),r=(d.find(h.selectOptions,a=>a.name===h.value)||{}).iconURL,l;r&&(l=w("img",{src:k+r,className:g.classNames.icon},{},q));q=w("span",{textContent:h.value,id:h.id||""},{},q);var e=w("img",{className:g.classNames.dropdownIcon+" "+g.classNames.rotateElement,src:k+"dropdown-pointer.svg"},{},f),t=w("ul",{className:g.classNames.dropdownContent+" "+g.classNames.hiddenElement},{},b);f.addEventListener("click",function(){t.classList.toggle(g.classNames.hiddenElement);
e.classList.toggle(g.classNames.rotateElement)});for(let a=0,b=h.selectOptions.length;a<b;++a)c(z(h.selectOptions[a]||{},{iconsURLPrefix:k}),t,q,h.id,e,l,h.onchange);return b}}function c(a,b,c,h,k,f,q){const r=a.iconsURLPrefix+a.iconURL;h=w("li",{},{},b);h=w("button",{className:g.classNames.customSelectButton},{},h);a.iconURL&&w("img",{src:r},{},h);w("span",{textContent:a.name||""},{},h);h.addEventListener("click",function(){b.classList.add(g.classNames.hiddenElement);k.classList.toggle(g.classNames.rotateElement);
c.textContent=a.name||"";f&&a.iconURL&&(f.src=r);if(q)return q(a.name)})}function b(b,c){if(b){var {value:k,title:f,lang:q}=c;b=w("div",{className:g.classNames.toggleContainer},{},b);f&&a(b,{title:f});c.enabledOnOffLabels&&y.renderText(b,{title:q.off,className:g.classNames.toggleLabels});var r=w("label",{className:g.classNames.toggleWrapper+" "+(c.className||"")},{},b),l=h(r,k),d=c.onchange;l&&d&&b.addEventListener("click",()=>{d(!l.checked);l.checked=!l.checked});r=w("span",{className:g.classNames.toggleSlider},
{},r);d&&r.addEventListener("click",a=>{a.preventDefault()});c.enabledOnOffLabels&&y.renderText(b,{title:q.on,className:g.classNames.toggleLabels});return b}}function a(a,b){let c;const {title:h,className:k,isLabel:f}=b;a&&(c=w(f?"label":"div",Object.assign({className:g.classNames.labelText+" "+(k||""),textContent:h},f?{htmlFor:h}:{}),{},a));return c}function f(a,b){const {icon:c,callback:h}=b;if(a){a=w("div",{onclick:h,className:b.className||""},{},a);a.style["background-image"]="url("+c+")";var k=
b.mousedown,f=b.click;k&&(a.onmousedown=function(){k.apply(this,arguments)});f&&a.addEventListener("click",function(){f.apply(this,arguments)});return a}}function k(b,c){if(b){c.name&&a(b,{title:c.name,isLabel:!0});b=w("input",{type:"text",onclick:c.callback,id:c.id||"",name:c.name||"",value:c.value&&c.value.replace(/"/g,"")||""},{},b);var h=c.onchange;h&&b.addEventListener("change",function(a){h(a.target.value)});return b}}function r(b,c){if(b){c.name&&a(b,{title:c.name,isLabel:!0});b=w("textarea",
{id:c.id,name:c.name,value:c.value||""},{},b);var h=c.onchange;h&&b.addEventListener("change",function(a){h(a.target.value)});return b}}function h(a,b){let c;a&&(c=w("input",{type:"checkbox",checked:!!b},{},a));return c}function q(a,b){if(a)return a=w("button",{className:g.classNames.button+" "+(b.className||""),onclick:b.callback,textContent:b.text},b.style||{},a),b.icon&&(a.style["background-image"]="url("+b.icon+")"),a}const {merge:z,createElement:w}=d,y={renderSelect:l,renderToggle:b,renderText:a,
renderCollapseHeader:m,renderIcon:f,renderContextButton:e,renderInput:k,renderTextarea:r,renderCheckbox:h,renderButton:q,getRendererFunction:function(c){return{select:l,toggle:b,text:a,collapse:m,icon:f,contextButton:e,input:k,textarea:r,checkbox:h,button:q}[c]}};return y});n(e,"Dashboards/EditMode/Menu/MenuItem.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditRenderer.js"]],function(g,d,e){const {createElement:m,merge:l}=d;class c{constructor(b,a){this.menu=
b;this.isActive=!1;this.options=l(c.defaultOptions,a);this.container=this.setContainer();this.innerElement=this.setInnerElement()}setContainer(){const b=this.options;let a=g.classNames.menuItem;this.menu.options.itemsClassName&&(a+=" "+this.menu.options.itemsClassName);b.className&&(a+=" "+b.className);return m("div",{className:a||""},l(this.options.style||{},this.isActive?{display:"block"}:{}),this.menu.container)}setInnerElement(){var b,a,c,k,r,h,q,l;const d=this.options,g=this.container,m=d.langKey;
if("toggle"===d.type)return e.renderToggle(g,{id:d.id,name:d.id,title:m?this.menu.editMode.lang[m]:d.text,value:!(!d.getValue||!d.getValue(this)),lang:this.menu.editMode.lang,onchange:null===(a=null===(b=d.events)||void 0===b?void 0:b.click)||void 0===a?void 0:a.bind(this)});if("text"===d.type)return e.renderText(g,{title:m?this.menu.editMode.lang[m]:d.text||"",className:d.className||""});if("icon"===d.type)return e.renderIcon(g,{icon:d.icon||"",mousedown:null===(k=null===(c=d.events)||void 0===c?
void 0:c.onmousedown)||void 0===k?void 0:k.bind(this),click:null===(h=null===(r=d.events)||void 0===r?void 0:r.click)||void 0===h?void 0:h.bind(this)});if("button"===d.type)return e.renderButton(g,{callback:null===(l=null===(q=d.events)||void 0===q?void 0:q.click)||void 0===l?void 0:l.bind(this),className:d.className||"",style:d.style||{},text:m?this.menu.editMode.lang[m]:d.text||""})}update(){const b=this.options;b.events&&b.events.update&&b.events.update.apply(this,arguments)}activate(){this.update();
this.container&&(this.isActive=!0,this.container.style.display="block")}deactivate(){this.container&&(this.isActive=!1,this.container.style.display="none")}}c.defaultOptions={id:"",type:"text"};return c});n(e,"Dashboards/EditMode/Menu/MenuItemBindings.js",[],function(){return{viewFullscreen:{id:"viewFullscreen",type:"button",langKey:"viewFullscreen",events:{click:function(){const g=this.menu.editMode.board.fullscreen;g&&g.toggle()}}}}});n(e,"Dashboards/EditMode/Menu/Menu.js",[e["Dashboards/EditMode/EditGlobals.js"],
e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/MenuItem.js"],e["Dashboards/EditMode/Menu/MenuItemBindings.js"]],function(g,d,e,m){const {createElement:l,merge:c}=d;class b{constructor(a,b,c,r){this.parentElement=a;this.isVisible=!1;this.activeItems=[];this.options=b;this.items={};this.editMode=c;r&&(this.parent=r);this.container=this.setContainer()}setContainer(){return l("div",{className:g.classNames.menu+" "+(this.options.className||"")},{},this.parentElement)}initItems(a,b){const k=this.options.items||
[];let f;for(let q=0,r=k.length;q<r;++q){f=k[q];var h="string"===typeof f?a[f]:f.id?a[f.id]:{};h="string"===typeof f?c(h,{id:f}):c(h,f);h.id&&(h=new e(this,h),this.items[h.options.id]=h,b&&(h.activate(),this.activeItems.push(h)))}}setActiveItems(a){let b;for(let b=0,c=this.activeItems.length;b<c;++b)-1===a.indexOf(this.activeItems[b].options.id)&&this.activeItems[b].deactivate();this.activeItems.length=0;for(let c=0,f=a.length;c<f;++c)if(b=this.items[a[c]])b.isActive?b.update():b.activate(),this.activeItems.push(b)}deactivateActiveItems(){for(let a=
0,b=this.activeItems.length;a<b;++a)this.activeItems[a].deactivate()}updateActiveItems(){const a=this.activeItems;for(let b=0,c=a.length;b<c;++b)a[b].update()}destroy(){this.activeItems.length=0;this.container.remove();this.items={};this.options={}}}b.items=m;return b});n(e,"Dashboards/EditMode/Toolbar/EditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/Menu.js"]],function(g,d){const {defined:e,createElement:m,css:l}=g;class c{constructor(b,a){this.container=m("div",{className:a.className},
void 0,b.board.container);this.editMode=b;this.iconURLPrefix=b.iconsURLPrefix;this.menu=new d(this.container,a.menu,b,this);this.options=a;this.isVisible=!1;this.options.outline&&(this.outline=m("div",{className:a.outlineClassName},void 0,this.container))}hide(){this.setPosition(void 0,void 0)}refreshOutline(b,a,c,k=0){c=(c||{}).container;this.outline&&c&&l(this.outline,{display:"block",left:b-k+"px",top:a-k+"px",width:c.offsetWidth+2*k+"px",height:c.offsetHeight+2*k+"px"})}hideOutline(){this.outline&&
(this.outline.style.display="none")}setPosition(b,a){this.container&&l(this.container,{left:(b||"-9999")+"px",top:(a||"-9999")+"px"});this.isVisible=e(b)&&e(a)}}return c});n(e,"Dashboards/Layout/GUIElement.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"]],function(g,d){const {addEvent:e,createElement:m,uniqueKey:l,objectEach:c}=g;class b{static getOffsets(a,b){const c={left:0,top:0,right:0,bottom:0};a.container&&(a=a.container.getBoundingClientRect(),b=b?b.getBoundingClientRect():{left:0,top:0},
c.left=a.left-b.left,c.top=a.top-b.top,c.right=a.right-b.left,c.bottom=a.bottom-b.top);return c}static getDimFromOffsets(a){return{width:a.right-a.left,height:a.bottom-a.top}}static createElementId(a){return d.classNamePrefix+a+"-"+l().slice(11)}static getPercentageWidth(a){const b=/^([0-9]{1})[\-\/\.]([0-9]{1,2})$/;let c;b.test(a)?(a=a.match(b)||[],c=100*+a[1]/+a[2],c=(100>=c?c:100)+"%"):-1!==a.indexOf("%")&&(a=parseFloat(a),c=(100>=a?0<=a?a:0:100)+"%");return c}setElementContainer(a){const b=this;
a.render&&a.parentContainer?(a.attribs&&!a.attribs.id&&delete a.attribs.id,b.container=m("div",a.attribs||{},a.style||{},a.parentContainer)):a.element instanceof HTMLElement?b.container=a.element:"string"===typeof a.elementId&&(a=document.getElementById(a.elementId))&&(b.container=a);b.container&&(b.removeBindedEventFn=e(b.container,"bindedGUIElement",function(a){a.guiElement=b;a.stopImmediatePropagation()}))}destroy(){const a=this;a.removeBindedEventFn&&a.removeBindedEventFn();a.container&&a.container.parentNode&&
a.container.parentNode.removeChild(a.container);c(a,function(b,c){delete a[c]})}getType(){return this.type}changeVisibility(a=!0,b){const c=this.isVisible&&!a||!this.isVisible&&a;this.container&&c&&(this.container.style.display=a?b||"block":"none",this.isVisible=a)}hide(){this.changeVisibility(!1)}show(){this.changeVisibility()}}return b});n(e,"Dashboards/EditMode/Toolbar/CellEditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/Toolbar/EditToolbar.js"],
e["Dashboards/Layout/GUIElement.js"]],function(g,d,e,m){const {merge:l,fireEvent:c,objectEach:b}=g;class a extends e{static getItemsConfig(a,b){var c;return[...(null===(c=a.dragDrop)||void 0===c?0:c.enabled)?[{id:"drag",type:"icon",icon:b+"drag.svg",events:{onmousedown:function(a){const b=this.menu.parent,c=b.editMode.dragDrop;if(c&&b.cell)c.onDragStart(a,b.cell)}}}]:[],{id:"settings",type:"icon",icon:b+"settings.svg",events:{click:function(){this.menu.parent.onCellOptions()}}},{id:"destroy",type:"icon",
className:d.classNames.menuDestroy,icon:b+"destroy.svg",events:{click:function(){const a=this.menu.parent,b=this.menu.parent.editMode,c=b.confirmationPopup;c.show({confirmButton:{value:b.lang.confirmButton,callback:a.onCellDestroy,context:a},cancelButton:{value:b.lang.cancelButton,callback:()=>{c.closePopup()}},text:b.lang.confirmDestroyCell})}}}]}constructor(b){super(b,l(a.defaultOptions,(b.options.toolbars||{}).cell,{menu:{items:a.getItemsConfig(b.options,b.iconsURLPrefix)}}));this.menu.initItems({})}showToolbar(a){let c;
if(a.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){var f=m.getOffsets(a,this.editMode.board.container);c=f.right;f=f.top;b(this.menu.items,a=>{a.activate()});this.setPosition(c,f);this.cell=a;this.refreshOutline()}else this.isVisible&&this.hide()}refreshOutline(){this.cell&&this.cell.container&&this.outline&&super.refreshOutline(-this.cell.container.offsetWidth,0,this.cell,-1)}onCellOptions(){this.editMode.sidebar&&(this.editMode.sidebar.show(this.cell),this.cell&&this.cell.setHighlight())}onCellDestroy(){if(this.cell){const a=
this.cell.row;this.resetEditedCell();this.cell.destroy();this.cell=void 0;this.editMode.hideToolbars(["cell","row"]);a&&a.cells&&a.cells.length&&(c(this.editMode.board,"cellResize",{cell:a.cells[0]}),c(a,"cellChange",{cell:a.cells[0],row:a}))}}resetEditedCell(){this.editedCell=void 0}}a.defaultOptions={enabled:!0,className:d.classNames.editToolbar,outline:!0,outlineClassName:d.classNames.editToolbarCellOutline,menu:{className:d.classNames.editToolbarCell,itemsClassName:d.classNames.editToolbarItem,
items:[]}};return a});n(e,"Dashboards/EditMode/Toolbar/RowEditToolbar.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/Toolbar/EditToolbar.js"],e["Dashboards/Layout/GUIElement.js"]],function(g,d,e,m){const {merge:l,objectEach:c}=g;class b extends e{static getMenuItemsConfig(a,b){var c;a=(null===(c=a.dragDrop)||void 0===c?0:c.enabled)?[{id:"drag",type:"icon",icon:b+"drag.svg",events:{onmousedown:function(a){const b=this.menu.parent,c=b.editMode.dragDrop;if(c&&
b.row)c.onDragStart(a,b.row)}}}]:[];c={id:"settings",type:"icon",icon:b+"settings.svg",events:{click:function(a){this.menu.parent.onRowOptions(a)}}};b={id:"destroy",type:"icon",className:d.classNames.menuDestroy,icon:b+"destroy.svg",events:{click:function(){const a=this.menu.parent,b=this.menu.parent.editMode,c=b.confirmationPopup;c.show({confirmButton:{value:b.lang.confirmButton,callback:a.onRowDestroy,context:a},cancelButton:{value:b.lang.cancelButton,callback:()=>{c.closePopup()}},text:b.lang.confirmDestroyRow})}}};
return[...a,c,b]}constructor(a){super(a,l(b.defaultOptions,(a.options.toolbars||{}).row,{menu:{items:b.getMenuItemsConfig(a.options,a.iconsURLPrefix)}}));this.menu.initItems({})}refreshOutline(a,b){this.row&&this.row.container&&super.refreshOutline(a,b,this.row,2)}showToolbar(a){let b;if(a.container&&this.editMode.isActive()&&!(this.editMode.dragDrop||{}).isActive){var k=m.getOffsets(a,this.editMode.board.container);var d=k.right-k.left;c(this.menu.items,a=>{a.activate()});b=d/2-this.container.clientWidth/
2;d=k.left+b;k=k.top-this.container.clientHeight;this.setPosition(d,k);this.row=a;this.refreshOutline(-b,this.container.clientHeight)}else this.isVisible&&this.hide()}onRowOptions(){this.editMode.sidebar&&this.editMode.sidebar.show(this.row)}onRowDestroy(){this.row&&(this.resetEditedRow(),this.row.destroy(),this.row=void 0,this.editMode.hideToolbars(["cell","row"]))}resetEditedRow(){this.editedRow=void 0}}b.defaultOptions={enabled:!0,className:d.classNames.editToolbar,outline:!0,outlineClassName:d.classNames.editToolbarRowOutline,
menu:{className:d.classNames.editToolbarRow,itemsClassName:d.classNames.editToolbarItem,items:[]}};return b});n(e,"Dashboards/EditMode/AccordionMenu.js",[e["Dashboards/EditMode/EditRenderer.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"]],function(g,d,e){const {createElement:m,merge:l,error:c}=d;class b{constructor(a,b){this.changedOptions={};this.chartOptionsJSON={};this.iconsURLPrefix=a;this.closeSidebar=b}renderContent(a,b){var c,f,h;const q=this,d=b.editableOptions.getOptions();
let w;const y=m("div",{className:e.classNames.accordionMenu},{},a);for(let h=0,k=d.length;h<k;h++)a=d[h],w=g.renderCollapseHeader(y,{name:a.name,iconsURLPrefix:q.iconsURLPrefix,lang:((null===(c=b.board)||void 0===c?void 0:c.editMode)||e).lang}).content,this.renderAccordion(a,w,b);c=m("div",{className:e.classNames.accordionMenuButtonsContainer},{},y);g.renderButton(c,{text:((null===(f=b.board)||void 0===f?void 0:f.editMode)||e).lang.confirmButton,callback:()=>{b.update(l(this.changedOptions,{chartOptions:this.chartOptionsJSON}));
q.changedOptions={};q.chartOptionsJSON={};q.closeSidebar()}});g.renderButton(c,{text:((null===(h=b.board)||void 0===h?void 0:h.editMode)||e).lang.cancelButton,callback:()=>{q.changedOptions={};q.chartOptionsJSON={};q.closeSidebar()}})}updateOptions(a,b){const k=a.length-1;let f=this.changedOptions;if(0===k&&"chartOptions"===a[0])try{this.chartOptionsJSON=JSON.parse(b)}catch(h){c("Dashboards Error: Wrong JSON config structure passed as a chart options.")}for(let b=0;b<k;b++){const c=a[b];f[c]||(f[c]=
{});f=f[c]}f[a[k]]=b}renderAccordion(a,b,c){if("nested"===a.type)return this.renderNested(b,a,c);const k=g.getRendererFunction(a.type);k&&k(b,Object.assign(Object.assign({},a),{iconsURLPrefix:this.iconsURLPrefix,value:c.getEditableOptionValue(a.propertyPath),onchange:b=>this.updateOptions(a.propertyPath||[],b)}))}renderNested(a,b,c){var k;if(a&&b.nestedOptions){b=b.nestedOptions;for(let f=0,d=b.length;f<d;++f){const q=b[f].options;var h=!!b[f].showToggle;const d=b[f].propertyPath||[];h=g.renderCollapseHeader(a,
{name:b[f].name,isEnabled:!!c.getEditableOptionValue(d),iconsURLPrefix:this.iconsURLPrefix,showToggle:h,onchange:a=>this.updateOptions(d,a),isNested:!0,lang:((null===(k=c.board)||void 0===k?void 0:k.editMode)||e).lang});for(let a=0,b=q.length;a<b;++a)this.renderAccordion(q[a],h.content,c)}}}}return b});n(e,"Core/Renderer/HTML/AST.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],function(g,d){const {SVG_NS:e,win:m}=g,{attr:l,createElement:c,css:b,error:a,isFunction:f,isString:k,objectEach:r,splat:h}=
d;({trustedTypes:d}=m);const q=d&&f(d.createPolicy)&&d.createPolicy("highcharts",{createHTML:a=>a});d=q?q.createHTML(""):"";try{var z=!!(new DOMParser).parseFromString(d,"text/html")}catch(A){z=!1}const w=z;class y{static filterUserAttributes(b){r(b,(c,h)=>{let f=!0;-1===y.allowedAttributes.indexOf(h)&&(f=!1);-1!==["background","dynsrc","href","lowsrc","src"].indexOf(h)&&(f=k(c)&&y.allowedReferences.some(a=>0===c.indexOf(a)));f||(a(33,!1,void 0,{"Invalid attribute in config":`${h}`}),delete b[h]);
k(c)&&b[h]&&(b[h]=c.replace(/</g,"&lt;"))});return b}static parseStyle(a){return a.split(";").reduce((a,b)=>{b=b.split(":").map(a=>a.trim());const c=b.shift();c&&b.length&&(a[c.replace(/-([a-z])/g,a=>a[1].toUpperCase())]=b.join(":"));return a},{})}static setElementHTML(a,b){a.innerHTML=y.emptyHTML;b&&(new y(b)).addToDOM(a)}constructor(a){this.nodes="string"===typeof a?this.parseMarkup(a):a}addToDOM(c){function k(c,f){let q;h(c).forEach(function(c){var h=c.tagName;const d=c.textContent?g.doc.createTextNode(c.textContent):
void 0,z=y.bypassHTMLFiltering;let w;if(h)if("#text"===h)w=d;else if(-1!==y.allowedTags.indexOf(h)||z){h=g.doc.createElementNS("svg"===h?e:f.namespaceURI||e,h);const a=c.attributes||{};r(c,function(b,c){"tagName"!==c&&"attributes"!==c&&"children"!==c&&"style"!==c&&"textContent"!==c&&(a[c]=b)});l(h,z?a:y.filterUserAttributes(a));c.style&&b(h,c.style);d&&h.appendChild(d);k(c.children||[],h);w=h}else a(33,!1,void 0,{"Invalid tagName in config":h});w&&f.appendChild(w);q=w});return q}return k(this.nodes,
c)}parseMarkup(a){const b=[];a=a.trim().replace(/ style=(["'])/g," data-style=$1");if(w)a=(new DOMParser).parseFromString(q?q.createHTML(a):a,"text/html");else{const b=c("div");b.innerHTML=a;a={body:b}}const h=(a,b)=>{var c=a.nodeName.toLowerCase();const k={tagName:c};"#text"===c&&(k.textContent=a.textContent||"");if(c=a.attributes){const a={};[].forEach.call(c,b=>{"data-style"===b.name?k.style=y.parseStyle(b.value):a[b.name]=b.value});k.attributes=a}if(a.childNodes.length){const b=[];[].forEach.call(a.childNodes,
a=>{h(a,b)});b.length&&(k.children=b)}b.push(k)};[].forEach.call(a.body.childNodes,a=>h(a,b));return b}}y.allowedAttributes="alt aria-controls aria-describedby aria-expanded aria-haspopup aria-hidden aria-label aria-labelledby aria-live aria-pressed aria-readonly aria-roledescription aria-selected class clip-path color colspan cx cy d dx dy disabled fill filterUnits flood-color flood-opacity height href id in markerHeight markerWidth offset opacity orient padding paddingLeft paddingRight patternUnits r refX refY role scope slope src startOffset stdDeviation stroke stroke-linecap stroke-width style tableValues result rowspan summary target tabindex text-align text-anchor textAnchor textLength title type valign width x x1 x2 xlink:href y y1 y2 zIndex".split(" ");
y.allowedReferences="https:// http:// mailto: / ../ ./ #".split(" ");y.allowedTags="a abbr b br button caption circle clipPath code dd defs div dl dt em feComponentTransfer feDropShadow feFuncA feFuncB feFuncG feFuncR feGaussianBlur feOffset feMerge feMergeNode filter h1 h2 h3 h4 h5 h6 hr i img li linearGradient marker ol p path pattern pre rect small span stop strong style sub sup svg table text textPath thead title tbody tspan td th tr u ul #text".split(" ");y.emptyHTML=d;y.bypassHTMLFiltering=
!1;"";return y});n(e,"Shared/BaseForm.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Utilities.js"]],function(g,d){const {addEvent:e,createElement:m}=d;class l{constructor(c,b){this.iconsURL=b;this.container=this.createPopupContainer(c);this.closeButton=this.addCloseButton()}createPopupContainer(c,b="highcharts-popup highcharts-no-tooltip"){return m("div",{className:b},void 0,c)}addCloseButton(c="highcharts-popup-close"){const b=this,a=this.iconsURL,f=m("div",{className:c},void 0,this.container);f.style["background-image"]=
"url("+(a.match(/png|svg|jpeg|jpg|gif/ig)?a:a+"close.svg")+")";["click","touchstart"].forEach(a=>{e(f,a,b.closeButtonEvents.bind(b))});return f}closeButtonEvents(){this.closePopup()}showPopup(c="highcharts-annotation-toolbar"){const b=this.container,a=this.closeButton;this.type=void 0;b.innerHTML=g.emptyHTML;0<=b.className.indexOf(c)&&(b.classList.remove(c),b.removeAttribute("style"));b.appendChild(a);b.style.display="block";b.style.height=""}closePopup(){this.container.style.display="none"}}return l});
n(e,"Dashboards/Utilities.js",[e["Core/Utilities.js"]],function(g){const {isClass:d,isDOMElement:e,isObject:m,objectEach:l,uniqueKey:c}=g;return{merge:function(){let b,a=arguments,c=0,k={};const r=Error("Recursive copy depth > 100"),h=(a,b)=>{"object"!==typeof a&&(a={});if(100<++c)throw r;l(b,(c,k)=>{"__proto__"!==k&&"constructor"!==k&&(!m(c,!0)||d(c)||e(c)?a[k]=b[k]:a[k]=h(a[k]||{},c))});--c;return a};!0===a[0]&&(k=a[1],a=Array.prototype.slice.call(a,2));const q=a.length;for(b=0;b<q;b++)k=h(k,a[b]);
return k},uniqueKey:function(){return`dashboard-${c().replace("highcharts-","")}`}}});n(e,"Dashboards/Layout/Cell.js",[e["Dashboards/Actions/Bindings.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Globals.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"]],function(g,d,e,m,l){const {componentFromJSON:c}=g,{merge:b,fireEvent:a}=l;class f extends m{static fromJSON(a,b){if(b){a=a.options;let c=a.containerId;b.layout.copyId&&(c=c+"_"+b.layout.copyId);return new f(b,{id:c,parentContainerId:b.container&&
b.container.id||a.parentContainerId,mountedComponentJSON:a.mountedComponentJSON,style:a.style,layoutJSON:a.layoutJSON,width:a.width,height:a.height})}}constructor(a,c,h){super();this.type=e.guiElementType.cell;this.id=c.id;this.options=c;this.row=a;this.isVisible=!0;const k=document.getElementById(c.parentContainerId||"")||a.container;if(k){const f=a.layout.options||{},q=a.options||{},d=f.cellClassName||"";let l;c.height&&(l="number"===typeof c.height?c.height+"px":c.height);this.setElementContainer({render:a.layout.board.guiEnabled,
parentContainer:k,attribs:{id:c.id,className:e.classNames.cell+" "+d},element:h,elementId:c.id,style:b(f.style,q.style,c.style,{height:l})});this.reflow();this.options.mountedComponentJSON&&this.mountComponentFromJSON(this.options.mountedComponentJSON,this.container);this.options.layout&&this.setNestedLayout();this.options.layoutJSON&&(c=this.row.layout,a=c.board,c=c.constructor.fromJSON,this.nestedLayout=c(b(this.options.layoutJSON,{parentContainerId:this.options.id}),a,this))}}setNestedLayout(){const a=
this.row.layout.board,c=a.options.gui;this.nestedLayout=new this.row.layout.constructor(a,b({},c&&c.layoutOptions,this.options.layout,{parentContainerId:this.options.id}),this)}mountComponentFromJSON(a,b){this.id!==a.options.parentElement&&(a.options.parentElement=this.id);return(a=c(a,b))?(this.mountedComponent=a,!0):!1}destroy(){const {row:a}=this;this.mountedComponent&&this.mountedComponent.destroy();a.unmountCell(this);const b=0===a.cells.length;super.destroy();b&&a.destroy()}toJSON(){return{$class:"Dashboards.Layout.Cell",
options:{containerId:this.container.id,parentContainerId:(this.row.container||{}).id||"",width:this.options.width,height:this.options.height,mountedComponentJSON:this.mountedComponent&&this.mountedComponent.toJSON(),style:this.options.style,layoutJSON:this.nestedLayout&&this.nestedLayout.toJSON()}}}changeVisibility(b=!0){super.changeVisibility(b);const c=this,h=c.row;c.row.getVisibleCells().length?c.isVisible&&!h.isVisible&&c.row.show():c.row.hide();setTimeout(()=>{a(h,"cellChange",{row:h,cell:c})},
0)}getParentCell(a){let b;if(a<=this.row.layout.level){if(this.row.layout.level===a)return this;if(0<=this.row.layout.level-1&&(b=this.row.layout.parentCell))return b.getParentCell(a)}}getOverlappingLevels(a,b,c){const h=this.row.layout.parentCell;let k=[this.row.layout.level];if(h){c=c||m.getOffsets(this)[a];const f=m.getOffsets(h)[a];Math.abs(c-f)<b&&(k=[...k,...h.getOverlappingLevels(a,b,f)])}return k}reflow(a){a=a||this.row.layout.board.getLayoutContainerSize();const b=this.options.responsive,
c=this.options.width;if(this.container){let h="";b&&b[a]&&b[a].width?h=this.convertWidthToValue(b[a].width):c&&(h=this.convertWidthToValue(c));this.setSize(h||"auto")}}setSize(b){const c=this.row.layout.board.editMode;this.container&&("auto"===b&&"1 1 0%"!==this.container.style.flex?this.container.style.flex="1 1 0%":(b=this.convertWidthToValue(b))&&this.container.style.flex!=="0 0 "+b&&(this.container.style.flex="0 0 "+b),c&&(c.hideContextPointer(),c.cellToolbar&&c.cellToolbar.isVisible&&(c.cellToolbar.cell===
this?c.cellToolbar.showToolbar(this):c.cellToolbar.hide())),a(this.row.layout.board,"cellResize",{cell:this}),a(this.row,"cellChange",{cell:this,row:this.row}))}updateSize(a,b){b=b||this.row.layout.board.getLayoutContainerSize();this.options.responsive||(this.options.responsive={});this.options.responsive[b]={width:a}}setHighlight(a){var b=this.row.layout.board.editMode;if(this.container&&b){b=this.container;const c=b.classList.contains(d.classNames.cellEditHighlight);a||c?a&&c&&(b.classList.remove(d.classNames.cellEditHighlight),
this.row.layout.board.container.classList.remove(d.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!1):(b.classList.add(d.classNames.cellEditHighlight),this.row.layout.board.container.classList.add(d.classNames.dashboardCellEditHighlightActive),this.isHighlighted=!0)}}setActiveState(){this.row.layout.board.mountedComponents.forEach(a=>{a.cell.container&&a.cell.container.classList.remove(e.classNames.cellActive)});this.container&&this.container.classList.add(e.classNames.cellActive)}convertWidthToValue(a){return"number"===
typeof a?a+"px":/px/.test(a)?a:m.getPercentageWidth(a)||""}}return f});n(e,"Dashboards/Layout/Row.js",[e["Dashboards/Globals.js"],e["Dashboards/Layout/Cell.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"]],function(g,d,e,m,l){const {pick:c,defined:b,merge:a,objectEach:f,fireEvent:k}=m;class r extends e{static fromJSON(a,b){if(b){a=a.options;let c=a.containerId||"";c&&b.copyId&&(c=c+"_"+b.copyId);return new r(b,{id:c,parentContainerId:b.container&&
b.container.id||a.parentContainerId,cellsJSON:a.cells,style:a.style})}}static setContainerHeight(a,b){b&&(a.style.height=b+"px")}constructor(b,c,f){super();this.type=g.guiElementType.row;this.layout=b;this.cells=[];this.options=c;this.isVisible=!0;const h=document.getElementById(c.parentContainerId||"")||b.container;if(h){const k=b.options||{};this.setElementContainer({render:b.board.guiEnabled,parentContainer:h,attribs:{id:c.id,className:g.classNames.row+" "+(k.rowClassName||"")},element:f,elementId:c.id,
style:a(k.style,c.style)});this.options.cells&&this.setCells();c.cellsJSON&&!this.cells.length&&this.setCellsFromJSON(c.cellsJSON)}}setCells(){var a=(this.layout.options||{}).cellClassName||"";a=c(this.options.cells,this.container&&this.container.getElementsByClassName(a))||[];let b,f,k;f=0;for(k=a.length;f<k;++f)b=a[f],this.addCell(this.layout.board.guiEnabled?b:{id:""},b instanceof HTMLElement?b:void 0)}setCellsFromJSON(a){const b=[];let c,h;for(let f=0,k=a.length;f<k;++f)if(h=a[f],c=d.fromJSON({$class:h.$class,
options:{containerId:h.options.containerId,parentContainerId:h.options.parentContainerId,width:h.options.width,height:h.options.height,style:h.options.style,layoutJSON:h.options.layoutJSON,mountedComponentJSON:void 0}},this))this.cells.push(c),h.options.mountedComponentJSON&&b.push({cell:c,mountedComponentJSON:h.options.mountedComponentJSON});for(let a=0,h=b.length;a<h;++a)b[a].cell.mountComponentFromJSON(b[a].mountedComponentJSON,(c||{}).container)}addCell(a,c,f){a=new d(this,a,c);b(f)?this.mountCell(a,
f):this.cells.push(a);this.layout.board.editMode&&this.layout.board.editMode.setCellEvents(a);return a}destroy(){const {layout:a}=this;for(let a=0,b=this.cells.length;a<b;++a)this.cells[a]&&this.cells[a].destroy();this.layout&&(this.layout.unmountRow(this),super.destroy(),0===a.rows.length&&a.destroy())}toJSON(){const a=(this.layout.container||{}).id||"",b=[];for(let a=0,c=this.cells.length;a<c;++a)b.push(this.cells[a].toJSON());return{$class:"Dashboards.Layout.Row",options:{containerId:this.container.id,
parentContainerId:a,cells:b,style:this.options.style}}}setSize(a){r.setContainerHeight(this.container,a)}getCellIndex(a){for(let b=0,c=this.cells.length;b<c;++b)if(this.cells[b].id===a.id)return b}mountCell(a,b=0){const c=this,h=c.cells[b],f=c.cells[b-1];a.container&&(h&&h.container?h.container.parentNode.insertBefore(a.container,h.container):f&&f.container?f.container.parentNode.insertBefore(a.container,f.container.nextSibling):f||h||!c.container||c.container.appendChild(a.container),c.cells.splice(b,
0,a),a.row=c,setTimeout(()=>{k(c,"cellChange",{row:c,cell:a})},0))}unmountCell(a){const c=this.getCellIndex(a);b(c)&&this.cells.splice(c,1);setTimeout(()=>{k(this,"cellChange",{row:this,cell:a})},0)}getVisibleCells(){const a=[];for(let b=0,c=this.cells.length;b<c;++b)this.cells[b].isVisible&&a.push(this.cells[b]);return a}changeVisibility(a=!0,b){super.changeVisibility(a,b);this.layout.getVisibleRows().length?this.isVisible&&!this.layout.isVisible&&this.layout.show():this.layout.hide()}show(){this.changeVisibility(!0,
"flex")}setHighlight(a){if(this.container){const b=this.container,c=b.classList.contains(l.classNames.rowContextHighlight);a||c?a&&c&&b.classList.remove(l.classNames.rowContextHighlight):b.classList.add(l.classNames.rowContextHighlight)}}getRowLevels(){const a={},b=[];let c,k;for(let b=0,h=this.cells.length;b<h;++b)c=this.cells[b],c.isVisible&&(k=e.getOffsets(c),a[k.top]||(a[k.top]={top:k.top,bottom:k.bottom,cells:[]}),a[k.top].bottom<k.bottom&&(a[k.top].bottom=k.bottom),a[k.top].cells.push(c));f(a,
a=>{b.push(a)});return b}getRowLevelInfo(a){const b=this.getRowLevels();let c;for(let h=0,f=b.length;h<f;++h)b[h].top<=a&&b[h].bottom>a&&(c={index:h,rowLevels:b,rowLevel:b[h]});return c}}return r});n(e,"Dashboards/Layout/Layout.js",[e["Dashboards/Utilities.js"],e["Core/Utilities.js"],e["Dashboards/Layout/Row.js"],e["Dashboards/Layout/GUIElement.js"],e["Dashboards/Globals.js"]],function(g,d,e,m,l){const {uniqueKey:c}=g,{pick:b,defined:a}=d;class f extends m{static fromJSON(a,b,h){var k=a.options;a=
document.getElementById(a.options.containerId);(k=new f(b,{id:k.containerId,copyId:a?c():"",parentContainerId:k.parentContainerId||b.container.id,rowsJSON:k.rows,style:k.style},h),!h)&&b.layouts.push(k);return k}static importLocal(a,b){a=localStorage.getItem(l.classNamePrefix+a);let c;a&&(c=f.fromJSON(JSON.parse(a),b));return c}constructor(a,b,c){super();this.type=l.guiElementType.layout;this.board=a;this.rows=[];this.options=b;this.isVisible=!0;const h=c?c.container:document.getElementById(b.parentContainerId||
"")||a.layoutsWrapper;c?(this.parentCell=c,this.level=c.row.layout.level+1):this.level=0;h&&(b.copyId&&(this.copyId=b.copyId),this.setElementContainer({render:a.guiEnabled,parentContainer:h,attribs:{id:b.id+(this.copyId?"_"+this.copyId:""),className:l.classNames.layout+" "+((this.options||{}).rowClassName||"")},elementId:b.id,style:this.options.style}),this.options.rows&&this.setRows(),b.rowsJSON&&!this.rows.length&&this.setRowsFromJSON(b.rowsJSON))}setRows(){const a=b(this.options.rows,this.container&&
this.container.getElementsByClassName(this.options.rowClassName||""))||[];let c,h,f;h=0;for(f=a.length;h<f;++h)c=a[h],this.addRow(this.board.guiEnabled?c:{},c instanceof HTMLElement?c:void 0)}setRowsFromJSON(a){let b;for(let c=0,f=a.length;c<f;++c)(b=e.fromJSON(a[c],this))&&this.rows.push(b)}addRow(b,c,h){b=new e(this,b,c);a(h)?this.mountRow(b,h):this.rows.push(b);this.board.editMode&&this.board.editMode.setRowEvents(b);return b}destroy(){for(var a=this.board.layouts.length-1;0<=a;a--)this.board.layouts[a]===
this&&this.board.layouts.splice(a,1);for(a=this.rows.length-1;0<=a;a--)this.rows[a].destroy();this.parentCell&&this.parentCell.destroy();super.destroy()}exportLocal(){localStorage.setItem(l.classNamePrefix+this.options.id,JSON.stringify(this.toJSON()))}getRowIndex(a){for(let b=0,c=this.rows.length;b<c;++b)if(this.rows[b]===a)return b}mountRow(a,b){const c=this.rows[b],f=this.rows[b-1];a.container&&(c&&c.container?c.container.parentNode.insertBefore(a.container,c.container):f&&f.container&&f.container.parentNode.insertBefore(a.container,
f.container.nextSibling),this.rows.splice(b,0,a),a.layout=this)}unmountRow(b){b=this.getRowIndex(b);a(b)&&this.rows.splice(b,1)}getVisibleRows(){const a=[];for(let b=0,c=this.rows.length;b<c;++b)this.rows[b].isVisible&&a.push(this.rows[b]);return a}changeVisibility(a=!0){super.changeVisibility(a);this.parentCell&&(this.isVisible&&!this.parentCell.isVisible?this.parentCell.show():!this.isVisible&&this.parentCell.isVisible&&this.parentCell.hide())}toJSON(){const a=(this.board.container||{}).id||"",
b=[];for(let a=0,c=this.rows.length;a<c;++a)b.push(this.rows[a].toJSON());return{$class:"Dashboards.Layout",options:{containerId:this.container.id,parentContainerId:a,rows:b,style:this.options.style}}}}return f});n(e,"Dashboards/EditMode/SidebarPopup.js",[e["Dashboards/EditMode/AccordionMenu.js"],e["Shared/BaseForm.js"],e["Dashboards/Actions/Bindings.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"],e["Dashboards/Layout/GUIElement.js"],e["Dashboards/Layout/Layout.js"],
e["Core/Utilities.js"]],function(e,d,v,m,l,c,b,a){const {createElement:f,merge:k}=a;class g extends d{constructor(a,b,c){super(a,b);this.isVisible=!1;this.editMode=c;this.accordionMenu=new e(this.iconsURL,this.hide.bind(this))}detectRightSidebar(a){const b=this.editMode.board.layoutsWrapper;return c.getOffsets(a,b).left<b.offsetWidth/2-10}removeClassNames(){const a=m.classNames,b=this.container.classList;b.remove(a.editSidebarShow);b.remove(a.editSidebarRight);b.remove(a.editSidebarRightShow)}addClassNames(a){const b=
this.container.classList;a&&b.add(m.classNames.editSidebarRight);setTimeout(()=>{b.add(m.classNames[a?"editSidebarRightShow":"editSidebarShow"])})}show(a){const b=this.editMode,c=!(!a||!this.detectRightSidebar(a));this.showPopup(m.classNames.editSidebarShow);this.addClassNames(c);b.resizer&&b.resizer.disableResizer();b.editCellContext&&b.editCellContext.row&&b.editCellContext.row.setHighlight(!0);b.hideToolbars(["cell","row"]);b.stopContextDetection();this.isVisible=!0;this.generateContent(a)}generateContent(a){this.renderHeader(a?
this.editMode.lang.settings:this.editMode.lang.addComponent,this.iconsURL+"settings.svg");a?"cell"===a.getType()&&(a=a.mountedComponent)&&this.accordionMenu.renderContent(this.container,a):this.renderAddComponentsList()}renderAddComponentsList(){const a=this,k=g.components;let d;const l=f("div",{className:m.classNames.editGridItems},{},a.container);for(let h=0,e=k.length;h<e;++h)d=f("div",{},{},l),d.addEventListener("mousedown",f=>{a.editMode.dragDrop&&(a.hide(),a.editMode.dragDrop.onDragStart(f,
void 0,f=>{if(0===this.editMode.board.layouts.length){f=this.editMode.board;var d=c.createElementId("layout");d=new b(f,{id:d,copyId:"",parentContainerId:f.container.id,rows:[{}],style:{}});f.layouts.push(d);f=d.rows[0]}if(f=k[h].onDrop(a,f))a.editMode.setEditCellContext(f),a.show(f),f.setHighlight()}))}),d.innerHTML=k[h].text}onDropNewComponent(a,b){const h=this.editMode.dragDrop;if(h)return a=("cell"===a.getType()?a.row:a).addCell({id:c.createElementId("col")}),h.onCellDragEnd(a),b=k(b,{cell:a.id}),
v.addComponent(b,a),a}hide(){const a=this.editMode,b=a.editCellContext;this.closePopup();this.removeClassNames();a.isEditOverlayActive&&a.setEditOverlay(!0);b&&b.row&&(a.showToolbars(["cell","row"],b),b.row.setHighlight(),b.isHighlighted&&b.setHighlight(!0));a.isContextDetectionActive=!0;this.isVisible=!1}closeButtonEvents(){this.hide()}renderHeader(a,b){if(b=l.renderIcon(this.container,{icon:b,className:m.classNames.editSidebarTitle}))b.textContent=a}addCloseButton(a=m.classNames.popupCloseButton){return super.addCloseButton.call(this,
a)}createPopupContainer(a,b=m.classNames.editSidebar){return super.createPopupContainer.call(this,a,b)}}g.components=[{text:"layout",onDrop:function(a,f){if(f){a=("cell"===f.getType()?f.row:f).layout.board;var h=c.createElementId("layout");f=c.createElementId("cell");h=new b(a,{id:h,copyId:"",parentContainerId:a.container.id,rows:[{cells:[{id:f}]}],style:{}});a.layouts.push(h);v.addComponent({type:"HTML",cell:f,elements:[{tagName:"div",style:{"text-align":"center"},textContent:"Placeholder text"}]})}}},
{text:"chart",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"Highcharts",chartOptions:{series:[{name:"Series from options",data:[1,2,1,4]}],chart:{animation:!1,type:"pie",zooming:{}}}})}},{text:"HTML",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"HTML",elements:[{tagName:"img",attributes:{src:"https://www.highcharts.com/samples/graphics/stock-dark.svg"}}]})}},{text:"datagrid",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",
type:"DataGrid"})}},{text:"KPI",onDrop:function(a,b){if(a&&b)return a.onDropNewComponent(b,{cell:"",type:"KPI",title:"Example KPI",value:70})}}];return g});n(e,"Dashboards/EditMode/EditContextMenu.js",[e["Dashboards/EditMode/EditGlobals.js"],e["Core/Utilities.js"],e["Dashboards/EditMode/Menu/Menu.js"]],function(e,d,v){const {addEvent:g,merge:l}=d;class c extends v{constructor(b,a,f){super(f.board.container,l(c.defaultOptions,a||{}),f);this.editMode=f;this.options=l(c.defaultOptions,a||{});this.container.style.width=
this.options.width+"px";super.initItems(c.items);if(this.options.items){b=[];for(let a=0,c=this.options.items.length;a<c;++a)"string"===typeof this.options.items[a]?b.push(this.options.items[a]):this.options.items[a].id&&b.push(this.options.items[a].id);this.setActiveItems(b)}this.initEvents()}initEvents(){const b=this;g(document,"click",a=>{a.target!==this.container&&a.target!==b.editMode.tools.contextButtonElement&&!a.target.classList.contains(e.classNames.toggleSlider)&&"INPUT"!==a.target.tagName&&
this.isVisible&&this.setVisible(!1)});g(p,"resize",()=>{b.setVisible(!1)})}setVisible(b){this.container&&(b?(this.container.style.display="block",this.isVisible=!0):(this.container.style.display="none",this.isVisible=!1))}updatePosition(b,a,c){const f=this.options.width||0;a=b?b.offsetLeft-f+b.offsetWidth:a;b=b?b.offsetTop+b.offsetHeight:c;a&&b&&(this.container.style.left=a+"px",this.container.style.top=b+"px")}}c.defaultOptions={enabled:!0,width:150,className:e.classNames.contextMenu,itemsClassName:e.classNames.contextMenuItem,
items:["editMode"]};c.items=l(v.items,{editMode:{id:"editMode",type:"toggle",getValue:function(b){return b.menu.editMode.isActive()},langKey:"editMode",events:{click:function(){this.menu.editMode.onEditModeToggle()}}}});return c});n(e,"Dashboards/Actions/ContextDetection.js",[e["Core/Utilities.js"],e["Dashboards/Layout/GUIElement.js"]],function(e,d){const {defined:g}=e;class m{static isGUIElementOnParentEdge(d,c){const b="top"===c||"bottom"===c?d.row.layout.getVisibleRows():"left"===c||"right"===
c?d.row.getVisibleCells():[],a=b.length-1;return b[a]===d&&"right"===c||b[a]===d.row&&"bottom"===c||b[0]===d&&"left"===c||b[0]===d.row&&"top"===c}static getContextLevel(d,c,b,a){const f=d.getOverlappingLevels(a,c/2);a=f[f.length-1];c=d.row.layout.level-Math.floor(b/(c/f.length));return c=c<a?a:c>d.row.layout.level?d.row.layout.level:c}static getContext(l,c,b){let a;var f=d.getOffsets(l);const {width:k,height:e}=d.getDimFromOffsets(f);k<2*b&&(b=k/2);var h=c.clientX-f.left;c=c.clientY-f.top;f=(f=h>=
-b&&h<=b?"left":h-k>=-b&&h-k<=b?"right":"")?f:c>=-b&&c<=b?"top":c-e>=-b&&c-e<=b?"bottom":"";switch(f){case "right":a=h-k+b;break;case "left":a=b-h;break;case "top":a=b-c;break;case "bottom":a=c-e+b}h={cell:l,side:f};0!==l.row.layout.level&&f&&m.isGUIElementOnParentEdge(l,f)&&g(a)&&(b=m.getContextLevel(l,b,a,f),l=l.getParentCell(b))&&(h.cell=l);return h}}return m});n(e,"Dashboards/Actions/DragDrop.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Layout/GUIElement.js"],
e["Dashboards/Actions/ContextDetection.js"]],function(e,d,v,m,l){const {addEvent:c,merge:b,css:a,fireEvent:f,createElement:k}=e;class g{constructor(a,c){this.editMode=a;this.options=b(g.defaultOptions,c);this.mockElement=k("div",{className:v.classNames.dragMock},{},a.board.container);this.dropPointer={isVisible:!1,align:"",element:k("div",{className:v.classNames.dropPointer},{},a.board.container)};this.isActive=!1;this.initEvents()}showDropPointer(b,c,f,d){this.dropPointer.isVisible=!0;a(this.dropPointer.element,
{display:"block",left:b+"px",top:c+"px",height:d+"px",width:f+"px"})}hideDropPointer(){this.dropPointer.isVisible&&(this.dropPointer.isVisible=!1,this.dropPointer.align="",this.dropPointer.element.style.display="none")}setMockElementPosition(b){const c=this.editMode.board.container.getBoundingClientRect(),f=this.mockElement.clientWidth/2;a(this.mockElement,{left:b.clientX-c.left-f+"px",top:b.clientY-c.top-f+"px"})}initEvents(){c(document,"mousemove",this.onDrag.bind(this));c(document,"mouseup",this.onDragEnd.bind(this))}onDragStart(b,
c,k){this.isActive=!0;this.editMode.hideToolbars(["cell","row"]);this.editMode.resizer&&this.editMode.resizer.disableResizer();this.setMockElementPosition(b);c?(this.context=c,c.hide(),c.getType()===d.guiElementType.cell&&(f(this.editMode.board,"cellResize",{cell:c}),f(c.row,"cellChange",{cell:c,row:c.row}))):k&&(this.dragEndCallback=k);a(this.mockElement,{cursor:"grabbing",display:"block"})}onDrag(a){if(this.isActive)if(this.setMockElementPosition(a),this.context)if(this.context.getType()===d.guiElementType.cell)this.onCellDrag(a);
else{if(this.context.getType()===d.guiElementType.row)this.onRowDrag(a)}else if(this.dragEndCallback)this.onCellDrag(a)}onDragEnd(){if(this.isActive)if(this.isActive=!1,a(this.mockElement,{cursor:"grab",display:"none"}),this.context){if(this.context.getType()===d.guiElementType.cell)this.onCellDragEnd();else if(this.context.getType()===d.guiElementType.row)this.onRowDragEnd();this.context=void 0;this.editMode.editCellContext&&(this.editMode.showToolbars(["row","cell"],this.editMode.editCellContext),
this.editMode.resizer&&this.editMode.resizer.setSnapPositions(this.editMode.editCellContext))}else this.dragEndCallback&&(this.dragEndCallback(this.dropContext),this.dragEndCallback=void 0,this.hideDropPointer())}onRowDrag(a,b){const c=this.mouseCellContext,f=this.options.dropPointerSize,h=this.options.rowDropOffset;let d=!1;if(c){a=b||l.getContext(c,a,h);b=a.side;if(this.dropPointer.align!==b||this.dropContext!==a.cell.row)d=!0,this.dropPointer.align=b,this.dropContext=a.cell.row;if(b){a=m.getOffsets(this.dropContext,
this.editMode.board.container);const {width:b,height:c}=m.getDimFromOffsets(a);this.dropPointer.isVisible&&!d||this.showDropPointer(a.left,a.top+("bottom"===this.dropPointer.align?c:0)-f/2,b,f)}else this.dropContext=void 0,this.hideDropPointer()}}onRowDragEnd(){const a=this.context,b=this.dropContext;this.dropPointer.align&&(a.layout.unmountRow(a),0===a.layout.rows.length&&a.layout.destroy(),b.layout.mountRow(a,(b.layout.getRowIndex(b)||0)+("bottom"===this.dropPointer.align?1:0)),a.cells[0]&&(f(this.editMode.board,
"cellResize",{cell:a.cells[0]}),f(a,"cellChange",{cell:a.cells[0],row:a})));this.hideDropPointer();a.show()}onCellDrag(a,b){const c=this.mouseCellContext,f=this.options.cellDropOffset;if(c||b)this.onCellDragCellCtx(a,b||l.getContext(c,a,f));else if(this.mouseRowContext)this.onCellDragRowCtx(a,this.mouseRowContext)}onCellDragCellCtx(a,b){var c=this.options.dropPointerSize;const f=b.side;let h=!1;if(this.dropPointer.align!==f||this.dropContext!==b.cell)h=!0,this.dropPointer.align=f,this.dropContext=
b.cell;if("right"===f||"left"===f){b=m.getOffsets(this.dropContext,this.editMode.board.container);const {width:d,height:k}=m.getDimFromOffsets(b);if(!this.dropPointer.isVisible||h)a=this.dropContext.row.getRowLevelInfo(a.clientY),this.showDropPointer(b.left+("right"===f?d:0)-c/2,b.top,c,a?a.rowLevel.bottom-a.rowLevel.top:k)}else if("top"===f||"bottom"===f){if(c=m.getOffsets(this.dropContext),(c=this.dropContext.row.getRowLevelInfo(c.top))&&(0===c.index&&"top"===f||c.index===c.rowLevels.length-1&&
"bottom"===f))this.onRowDrag(a,b)}else this.dropContext=void 0,this.hideDropPointer()}onCellDragRowCtx(a,b){const c=this.options.dropPointerSize,f=m.getOffsets(b);b=b.getRowLevelInfo(a.clientY);let h,d;if(b)for(let k=0,l=b.rowLevel.cells.length;k<l;++k){h=b.rowLevel.cells[k];d=m.getOffsets(h);const {width:e,height:g}=m.getDimFromOffsets(d),r=this.editMode.board.container.getBoundingClientRect(),q=b.rowLevel.bottom-b.rowLevel.top;if(h.isVisible)if(g<.8*q&&d.left<=a.clientX&&d.right>=a.clientX)!(d.top>
a.clientY)&&d.bottom<a.clientY&&(this.showDropPointer(d.left-r.left,d.top-r.top+g,e,q-g),this.dropPointer.align="nestedBottom",this.dropContext=h),k=l;else{if(0===k&&d.left>a.clientX||k===l-1&&d.right<a.clientX){if(!(d.left>a.clientX)&&d.right<a.clientX){const b=f.right-d.right;this.showDropPointer(d.left+(0===k&&d.left>a.clientX?0:e)-c/2-r.left,d.top-r.top,b>c?b:c,q||g);this.dropPointer.align="right";this.dropContext=h}k=l}}else h.isVisible||h!==this.context||(this.dropContext=void 0,this.hideDropPointer())}}onCellDragEnd(a){a=
a||this.context;let b=this.dropContext;if(this.dropPointer.align&&b&&a)if(a.row.unmountCell(a),0===a.row.cells.length&&a.row.destroy(),"top"!==this.dropPointer.align&&"bottom"!==this.dropPointer.align||b.getType()!==d.guiElementType.row)if("nestedBottom"===this.dropPointer.align&&b.getType()===d.guiElementType.cell){var c=b.row;const f=c.getCellIndex(b);c.unmountCell(b);c=c.addCell({id:m.createElementId("col-nested-"),layout:{rows:[{},{}]}},void 0,f);c.nestedLayout&&(c.nestedLayout.rows[0].mountCell(b),
c.nestedLayout.rows[1].mountCell(a))}else b.getType()===d.guiElementType.cell&&b.row.mountCell(a,(b.row.getCellIndex(b)||0)+("right"===this.dropPointer.align?1:0));else b.layout.addRow({},void 0,(b.layout.getRowIndex(b)||0)+("bottom"===this.dropPointer.align?1:0)).mountCell(a,0);f(this.editMode.board,"cellResize",{cell:a});f(a.row,"cellChange",{cell:a,row:a.row});this.hideDropPointer();a.show()}}g.defaultOptions={enabled:!0,rowDropOffset:30,cellDropOffset:30,dropPointerSize:16};return g});n(e,"Dashboards/Actions/Resizer.js",
[e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/Layout/GUIElement.js"],e["Core/Utilities.js"]],function(e,d,v){const {merge:g,addEvent:l,createElement:c,fireEvent:b,removeEvent:a,pick:f}=v;class k{static fromJSON(a,b){return new k(a,b.options)}constructor(a,b){this.editMode=a;this.options=g({},k.defaultOptions,a.options.resize,b);this.currentCell=void 0;this.isX=-1<this.options.type.indexOf("x");this.isY=-1<this.options.type.indexOf("y");this.isActive=!1;this.startX=0;this.tempSiblingsWidth=
[];this.addSnaps(this.options)}addSnaps(){const a=this.options.snap.height||0,b=this.editMode.board.container;this.snapRight=c("div",{className:e.classNames.resizeSnap+" "+e.classNames.resizeSnapX},{width:(this.options.snap.width||0)+"px",left:"-9999px"},b);this.snapBottom=c("div",{className:e.classNames.resizeSnap+" "+e.classNames.resizeSnapY},{height:a+"px",top:"-9999px",left:"0px"},b);this.addResizeEvents()}disableResizer(){this.isActive=!1;this.currentCell=this.currentDimension=void 0;this.snapRight&&
(this.snapRight.style.left="-9999px");this.snapBottom&&(this.snapBottom.style.left="-9999px")}setSnapPositions(a){this.currentCell=a;var b=d.getOffsets(a,this.editMode.board.container);a=b.left||0;const c=b.top||0,{width:f,height:k}=d.getDimFromOffsets(b);b=this.options.snap.width||0;const l=this.options.snap.height||0;this.snapRight&&(this.snapRight.style.left=a+f-b+"px",this.snapRight.style.top=c+k/2-l/2+"px");this.snapBottom&&(this.snapBottom.style.top=c+k-l+"px",this.snapBottom.style.left=a+f/
2-b/2+"px")}setTempWidthSiblings(){const a=this.currentCell;if(a){const c=this.editMode.rwdMode;var b=d.getOffsets(a);b=(b=a.row.getRowLevelInfo(b.top))&&b.rowLevel.cells||[];let k,h,l;for(let d=0,e=b.length;d<e;++d){h=b[d];k=h.container;l=f(((h.options.responsive||{})[c]||{}).width,h.options.width);if(h===a)break;!k||l&&"auto"!==l||(k.style.flex="0 0 "+k.offsetWidth+"px",this.tempSiblingsWidth.push(h))}}}revertSiblingsAutoWidth(){const a=this.tempSiblingsWidth;let c,f;for(let b=0,d=a.length;b<d;++b)if(c=
a[b].container)c.style.flex="1 1 0%",f=a[b];this.tempSiblingsWidth=[];f&&(b(this.editMode.board,"cellResize",{cell:f}),b(f.row,"cellChange",{cell:f,row:f.row}))}addResizeEvents(){const a=this;let b,c,f,d;a.mouseDownSnapX=b=function(b){a.isActive=!0;a.currentDimension="x";a.editMode.hideToolbars(["row","cell"]);a.setTempWidthSiblings();a.startX=b.clientX};a.mouseDownSnapY=c=function(){a.isActive=!0;a.currentDimension="y";a.editMode.hideToolbars(["row","cell"])};a.mouseMoveSnap=f=function(b){if(a.isActive)a.onMouseMove(b)};
a.mouseUpSnap=d=function(){a.isActive&&(a.isActive=!1,a.currentDimension=void 0,a.revertSiblingsAutoWidth(),a.editMode.showToolbars(["row","cell"],a.currentCell),a.currentCell&&a.setSnapPositions(a.currentCell))};l(this.snapRight,"mousedown",b);l(this.snapBottom,"mousedown",c);l(document,"mousemove",f);l(document,"mouseup",d);l(p,"resize",()=>{a.currentCell&&a.setSnapPositions(a.currentCell)})}onMouseMove(a){const c=this.currentCell,f=c&&c.container,k=this.currentDimension;var l=this.editMode.sidebar;
l=l&&l.editMode.rwdMode;if(c&&f&&!((c.row.layout.board.editMode||{}).dragDrop||{}).isActive){const h=d.getOffsets(c);var {width:e}=d.getDimFromOffsets(d.getOffsets(c.row));"x"===k&&(e=Math.min(a.clientX-h.left,e)/e*100+"%",c.setSize(e),c.updateSize(e,l),this.startX=a.clientX);"y"===k&&(f.style.height=a.clientY-h.top+"px");b(this.editMode.board,"cellResize",{cell:c});b(c.row,"cellChange",{cell:c,row:c.row});this.setSnapPositions(c)}}destroy(){const b=["snapRight","snapBottom"];let c;a(document,"mousemove");
a(document,"mouseup");for(let f=0,d=b.length;f<d;++f)c=this[b[f]],a(c,"mousedown"),c.remove()}toJSON(){const a=this.options;return{$class:"Dashboards.Action.Resizer",options:{enabled:a.enabled,styles:{minWidth:a.styles.minWidth,minHeight:a.styles.minHeight},type:a.type,snap:{width:a.snap.width,height:a.snap.height}}}}}k.defaultOptions={enabled:!0,styles:{minWidth:20,minHeight:50},type:"xy",snap:{width:20,height:20}};return k});n(e,"Dashboards/EditMode/ConfirmationPopup.js",[e["Core/Utilities.js"],
e["Shared/BaseForm.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"]],function(e,d,v,m){const {createElement:l}=e;class c extends d{constructor(b,a,c,d){super(b,a);this.editMode=c;this.options=d}createPopupContainer(b,a=v.classNames.confirmationPopup){return super.createPopupContainer(b,a)}addCloseButton(b=v.classNames.popupCloseButton){return super.addCloseButton(b)}renderContent(b){this.contentContainer=l("div",{className:v.classNames.popupContentContainer},{},
this.container);const a=this.contentContainer.parentNode;a.style.marginTop="0px";const c=a.getBoundingClientRect().top;a.style.marginTop=(0>c?Math.abs(c-200):200)+"px";m.renderText(this.contentContainer,{title:b.text||""});m.renderButton(this.contentContainer,{text:b.cancelButton.value,callback:b.cancelButton.callback});m.renderButton(this.contentContainer,{text:b.confirmButton.value,className:v.classNames.popupConfirmBtn,callback:()=>{b.confirmButton.callback.call(b.confirmButton.context);this.closePopup()}})}show(b){this.showPopup();
this.renderContent(b);this.editMode.setEditOverlay()}closePopup(){super.closePopup();this.editMode.setEditOverlay(!0)}}return c});n(e,"Dashboards/EditMode/EditMode.js",[e["Core/Utilities.js"],e["Dashboards/EditMode/EditGlobals.js"],e["Dashboards/EditMode/EditRenderer.js"],e["Dashboards/EditMode/Toolbar/CellEditToolbar.js"],e["Dashboards/EditMode/Toolbar/RowEditToolbar.js"],e["Dashboards/EditMode/SidebarPopup.js"],e["Dashboards/EditMode/EditContextMenu.js"],e["Dashboards/Actions/DragDrop.js"],e["Dashboards/Actions/Resizer.js"],
e["Dashboards/EditMode/ConfirmationPopup.js"],e["Dashboards/Actions/ContextDetection.js"],e["Dashboards/Layout/GUIElement.js"]],function(e,d,v,m,l,c,b,a,f,k,r,h){const {addEvent:g,createElement:n,css:w,merge:y}=e;class p{constructor(a,b){this.active=!1;this.iconsURLPrefix="https://code.highcharts.com/dashboards/1.0.0/gfx/dashboard-icons/";this.iconsURLPrefix=b&&b.iconsURLPrefix||this.iconsURLPrefix;this.options=y({dragDrop:{enabled:!0},resize:{enabled:!0},enabled:!0,contextMenu:{icon:this.iconsURLPrefix+
"menu.svg"},tools:{addComponentBtn:{icon:this.iconsURLPrefix+"add.svg"},rwdIcons:{small:this.iconsURLPrefix+"smartphone.svg",medium:this.iconsURLPrefix+"tablet.svg",large:this.iconsURLPrefix+"computer.svg"}},confirmationPopup:{close:{icon:this.iconsURLPrefix+"close.svg"}}},b||{});this.board=a;this.lang=y({},d.lang,this.options.lang);this.contextPointer={isVisible:!1,element:n("div",{className:d.classNames.contextDetectionPointer},{},this.board.container)};this.isContextDetectionActive=this.isInitialized=
!1;this.tools={};this.rwdMenu=[];this.rwdMode=this.board.getLayoutContainerSize();this.createTools();this.confirmationPopup=new k(a.container,this.iconsURLPrefix,this,this.options.confirmationPopup);this.editOverlay=n("div",{className:d.classNames.editOverlay},{},a.container);this.isEditOverlayActive=!1}onContextBtnClick(){this.tools.contextMenu||(this.tools.contextMenu=new b(this.board.container,this.options.contextMenu||{},this));this.tools.contextMenu&&(this.tools.contextMenu.isVisible||this.tools.contextMenu.updatePosition(this.tools.contextButtonElement),
this.tools.contextMenu.setVisible(!this.tools.contextMenu.isVisible))}onEditModeToggle(){this.active?this.deactivate():this.activate()}init(){var b;if(null===(b=this.options.resize)||void 0===b?0:b.enabled)this.resizer=new f(this,this.options.resize);this.dragDrop=new a(this,this.options.dragDrop);this.rowToolbar||(this.rowToolbar=new l(this));this.cellToolbar||(this.cellToolbar=new m(this));this.sidebar||(this.sidebar=new c(this.board.container,this.iconsURLPrefix,this));this.isInitialized=!0}initEvents(){const a=
this,b=a.board;for(let c=0,f=b.layouts.length;c<f;++c)a.setLayoutEvents(b.layouts[c]);a.cellToolbar&&(g(a.cellToolbar.container,"mouseenter",function(){a.stopContextDetection()}),g(a.cellToolbar.container,"mouseleave",function(){a.isContextDetectionActive=!0}));a.rowToolbar&&(g(a.rowToolbar.container,"mouseenter",function(){a.stopContextDetection()}),g(a.rowToolbar.container,"mouseleave",function(){a.isContextDetectionActive=!0}));g(b.layoutsWrapper,"mousemove",a.onDetectContext.bind(a));g(b.layoutsWrapper,
"click",a.onContextConfirm.bind(a));g(b.layoutsWrapper,"mouseleave",()=>{a.hideContextPointer()})}setLayoutEvents(a){for(let b=0,c=a.rows.length;b<c;++b){const c=a.rows[b];this.setRowEvents(c);for(let a=0,b=c.cells.length;a<b;++a)this.setCellEvents(c.cells[a])}}setRowEvents(a){const b=this;if(b.dragDrop){const c=b.dragDrop;g(a.container,"mouseenter",function(){b.isContextDetectionActive&&(b.mouseRowContext=a)});g(a.container,"mousemove",function(b){c.isActive&&b.target===a.container&&(c.mouseRowContext=
a)});g(a.container,"mouseleave",function(){c.isActive&&c.mouseRowContext===a&&(c.mouseRowContext=void 0);b.isContextDetectionActive&&(b.mouseRowContext=void 0)})}}setCellEvents(a){const b=this;if(a.nestedLayout)b.setLayoutEvents(a.nestedLayout);else if(b.cellToolbar&&a.container&&(b.dragDrop||b.resizer)){const c=b.dragDrop;g(a.container,"mouseenter",function(){b.isContextDetectionActive&&(b.mouseCellContext=a)});g(a.container,"mousemove",function(b){c&&c.isActive&&b.target===a.container&&(c.mouseCellContext=
a,c.mouseRowContext=void 0)});g(a.container,"mouseleave",function(){c&&c.isActive&&c.mouseCellContext===a&&(c.mouseCellContext=void 0);b.isContextDetectionActive&&(b.mouseCellContext=void 0)})}}activate(){this.isInitialized||(this.init(),this.initEvents());this.board.container.classList.add(d.classNames.editModeEnabled);this.addComponentBtn&&(this.addComponentBtn.style.display="block");this.rwdMode=this.board.getLayoutContainerSize();this.showRwdButtons();this.isContextDetectionActive=this.active=
!0}deactivate(){this.board.container.classList.remove(d.classNames.editModeEnabled);this.hideToolbars();this.editCellContext&&this.editCellContext.row.setHighlight(!0);this.addComponentBtn&&(this.addComponentBtn.style.display="none");this.resizer&&this.resizer.disableResizer();this.hideRwdButtons();this.board.layoutsWrapper.style.width="100%";this.board.reflow();this.active=!1;this.stopContextDetection();this.potentialCellContext=this.editCellContext=void 0}isActive(){return this.active}hideToolbars(a){a=
a||["cell","row","sidebar"];for(let b=0,c=a.length;b<c;++b)switch(a[b]){case "cell":this.cellToolbar&&this.cellToolbar.isVisible&&this.cellToolbar.hide();break;case "row":this.rowToolbar&&this.rowToolbar.isVisible&&this.rowToolbar.hide();break;case "sidebar":this.sidebar&&this.sidebar.isVisible&&this.sidebar.hide()}}showToolbars(a,b){a=a||["cell","row","sidebar"];for(let c=0,f=a.length;c<f;++c)switch(a[c]){case "cell":b&&this.cellToolbar&&(this.cellToolbar.isVisible=!0,this.cellToolbar.showToolbar(b));
break;case "row":b&&b.row&&this.rowToolbar&&(this.rowToolbar.isVisible=!0,this.rowToolbar.showToolbar(b.row));break;case "sidebar":this.sidebar&&!this.sidebar.isVisible&&this.sidebar.show()}}createTools(){var a,b;const c=this;var f=this.options;this.tools.container=document.createElement("div");this.tools.container.classList.add(d.classNames.editTools);this.board.layoutsWrapper.parentNode.insertBefore(this.tools.container,this.board.layoutsWrapper);f.contextMenu&&f.contextMenu.enabled&&(this.tools.contextButtonElement=
v.renderContextButton(this.tools.container,c));this.createRwdMenu();f=null===(b=null===(a=null===f||void 0===f?void 0:f.tools)||void 0===a?void 0:a.addComponentBtn)||void 0===b?void 0:b.icon;this.addComponentBtn=v.renderButton(this.tools.container,{className:d.classNames.editToolsBtn,icon:f,text:this.lang.addComponent,callback:()=>{c.sidebar&&(c.sidebar.show(),c.setEditOverlay())},style:{display:"none"}})}createRwdMenu(){const a=this.board.options.responsiveBreakpoints,b=this.tools.container;var c=
this.options;c=c&&c.tools&&c.tools.rwdIcons||{};for(const f in a)if(b){const k=v.renderButton(b,{className:d.classNames.editToolsBtn,icon:c[f]||"",text:this.lang[f],callback:b=>{b=b.target;b.classList.contains("selected")?(b.classList.remove("selected"),this.rwdMode=this.board.layoutsWrapper.style.width=""):(this.rwdMenu.forEach(a=>{a.classList.remove("selected")}),b.classList.add("selected"),this.board.layoutsWrapper.style.width=a[f]+"px",this.rwdMode=f);this.board.reflow()},style:{display:"none"}});
k&&this.rwdMenu.push(k)}}showRwdButtons(){for(let a=0,b=this.rwdMenu.length;a<b;++a)this.rwdMenu[a].style.display="block"}hideRwdButtons(){for(let a=0,b=this.rwdMenu.length;a<b;++a)this.rwdMenu[a].style.display="none"}onDetectContext(a){if(this.isActive()&&this.isContextDetectionActive&&(this.mouseCellContext||this.mouseRowContext)&&!(this.dragDrop||{}).isActive){let b;this.mouseCellContext?b=r.getContext(this.mouseCellContext,a,50).cell:this.mouseRowContext&&(a=this.mouseRowContext,b=a.layout.parentCell);
if(this.potentialCellContext=b){a=h.getOffsets(b,this.board.container);const {width:c,height:f}=h.getDimFromOffsets(a);this.showContextPointer(a.left,a.top,c,f)}}}stopContextDetection(){this.isContextDetectionActive=!1;this.hideContextPointer()}onContextConfirm(){this.isContextDetectionActive&&this.potentialCellContext&&this.editCellContext!==this.potentialCellContext&&this.setEditCellContext(this.potentialCellContext,this.editCellContext)}setEditCellContext(a,b){b=b&&b.row;this.editCellContext=a;
this.showToolbars(["row","cell"],a);b&&b===a.row||(b&&b.setHighlight(!0),a.row.setHighlight());this.resizer&&this.resizer.setSnapPositions(a)}showContextPointer(a,b,c,f){this.contextPointer.isVisible=!0;w(this.contextPointer.element,{display:"block",left:a+"px",top:b+"px",height:f+"px",width:c+"px"})}hideContextPointer(){this.contextPointer.isVisible&&(this.contextPointer.isVisible=!1,this.contextPointer.element.style.display="none")}setEditOverlay(a){const b=this.editOverlay,c=b.classList.contains(d.classNames.editOverlayActive);
a||c?a&&c&&(b.classList.remove(d.classNames.editOverlayActive),this.isEditOverlayActive=!1):(b.classList.add(d.classNames.editOverlayActive),this.isEditOverlayActive=!0)}}return p});n(e,"Dashboards/EditMode/Fullscreen.js",[e["Core/Utilities.js"],e["Dashboards/Globals.js"]],function(e,d){const {addEvent:g}=e;class m{constructor(l){this.isOpen=!1;this.board=l;this.board.boardWrapper.classList.add(d.classNamePrefix+"-fullscreen")}toggle(){this[this.isOpen?"close":"open"]()}open(){if(!this.isOpen){var d=
this,c=d.board,b=g(c.boardWrapper.ownerDocument,"fullscreenchange",function(){d.isOpen?(d.isOpen=!1,d.close()):(d.isOpen=!0,d.setButtonText())});d.unbindFullscreenEvent=()=>{b()};c.boardWrapper.requestFullscreen().catch(()=>{throw Error("Full screen is not supported.");})}}close(){const d=this.board;this.isOpen&&d.boardWrapper.ownerDocument instanceof Document&&void d.boardWrapper.ownerDocument.exitFullscreen();this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent());
this.isOpen=!1;this.setButtonText()}setButtonText(){var d=this.board.editMode,c=d&&d.tools.contextMenu;(c=c&&c.items.viewFullscreen)&&c.innerElement&&(d=d.lang,c.innerElement.innerHTML=(this.isOpen?d.exitFullscreen:d.viewFullscreen)||"")}}return m});n(e,"Dashboards/CallbackRegistry.js",[],function(){class e{constructor(){this.registry={}}addCallback(d,e){this.registry[d]=e}getCallback(d){return this.registry[d]}toJSON(){const d={};Object.keys(this.registry).forEach(e=>{const g=this.getCallback(e),
{func:l,type:c}=g;d[e]={func:l.toString(),type:c}});return d}}return e});n(e,"Dashboards/Components/EditableOptions.js",[],function(){class e{constructor(d,g=e.defaultBindings){this.component=d;this.bindings=g}getOptions(){const d=this.component.options.editableOptions;for(let g=0,l=d.length;g<l;g++){const c=d[g];if("connectorName"===c.name){var e=this.component.board;e=e?e.dataPool.getConnectorIds().map(b=>({name:b})):[];c.selectOptions=e}}return d}}e.defaultBindings={keyMap:{color:"colorPicker",
title:"text",caption:"text",style:"textarea"},typeMap:{string:"text",number:"input","boolean":"toggle"},skipRedraw:[]};e.defaultTypeMap={string:"text",number:"input","boolean":"toggle"};return e});n(e,"Dashboards/Components/ComponentUtilities.js",[],function(){var e;(function(d){function e(d,c){const b=p.getComputedStyle(d);return c.map(a=>b[a])}function g(d,c){c&&(d+="number"===typeof c?c:parseFloat(c));return d}d.getMargins=function(d,c=!0){var b=["borderLeft","borderRight"],a=["borderTop","borderBottom"];
return{y:e(d,["marginTop","marginBottom",...c?a:[]]).reduce(g,0),x:e(d,["marginLeft","marginTop",...c?b:[]]).reduce(g,0)}};d.getPaddings=function(d){return{x:e(d,["paddingLeft","paddingRight"]).reduce(g,0),y:e(d,["paddingTop","paddingBottom"]).reduce(g,0)}};d.getStyles=e;d.sumPixels=g})(e||(e={}));return e});n(e,"Dashboards/Components/SharedComponentState.js",[e["Dashboards/Serializable.js"],e["Core/Utilities.js"]],function(e,d){const {addEvent:g,fireEvent:m,merge:l}=d;class c{constructor(){this.columnVisibilityMap=
{};this.hiddenRowIndexes=[];this.selection={}}emit(b){m(this,b.type,b)}getColumnOrder(){return(this.columnOrder||[]).slice()}getColumnVisibility(b){return this.columnVisibilityMap[b]}getColumnSorter(){const b=(this.columnOrder||[]).slice();return b.length?(a,c)=>{a=b.indexOf(a);c=b.indexOf(c);return-1<a&&-1<c?a-c:-1<c?1:-1<a?-1:0}:()=>0}isSet(){return!0===this.isModified}on(b,a){return g(this,b,a)}setColumnOrder(b,a){const c=(this.columnOrder||[]).slice();b=b.slice();this.emit({type:"columnOrderChange",
detail:a,newColumnOrder:b,oldColumnOrder:c});this.columnOrder=b;this.isModified=!0;this.emit({type:"afterColumnOrderChange",detail:a,newColumnOrder:b,oldColumnOrder:c})}setColumnVisibility(b,a){this.columnVisibilityMap=l(this.columnVisibilityMap,b);this.emit({type:"afterColumnVisibilityChange",visibilityMap:this.columnVisibilityMap,detail:a})}setHiddenRows(b,a=!0){b.forEach(b=>{-1===this.hiddenRowIndexes.indexOf(b)&&a&&this.hiddenRowIndexes.push(b);-1<this.hiddenRowIndexes.indexOf(b)&&!a&&this.hiddenRowIndexes.splice(this.hiddenRowIndexes.indexOf(b),
1)});this.emit({type:"afterSetHiddenRows",hiddenRows:this.hiddenRowIndexes})}getHiddenRows(){return this.hiddenRowIndexes}setHoverPoint(b,a){const c=a&&a.isDataGrid;this.hoverPoint=c?void 0:b;b instanceof HTMLElement&&(this.hoverRow=c?b:void 0);this.emit({type:"afterHoverPointChange",hoverPoint:c?void 0:this.hoverPoint,hoverRow:c?this.hoverRow:void 0,detail:a})}getHoverPoint(){return this.hoverPoint}getSelection(){return this.selection}setSelection(b,a=!1,c){Object.keys(b).forEach(a=>{this.selection[a]=
b[a]});this.emit({type:"afterSelectionChange",selection:this.selection,reset:a,detail:c})}fromJSON(b){const a=new c,{columnOrder:f,visibilityMap:d,selection:l,hoverpoint:h}=b;f&&a.setColumnOrder(f);d&&a.setColumnVisibility(d);l&&a.setSelection(l);h&&a.setHoverPoint(h);return a}toJSON(){const b={$class:"Dashboards.SharedComponentState"};this.columnOrder&&(b.columnOrder=this.columnOrder.slice());if(this.hoverPoint){const {x:a,y:c,id:d}=this.hoverPoint;b.hoverPoint={x:a,y:c,id:d}}this.selection&&(b.selection=
this.selection);this.columnVisibilityMap&&(b.columnVisibility=this.columnVisibilityMap);return b}}e.registerClassPrototype("Dashboards.SharedComponentState",c.prototype);return c});n(e,"Dashboards/Components/ComponentGroup.js",[e["Dashboards/Components/SharedComponentState.js"]],function(e){class d{static getComponentGroup(d){if(this.componentGroups[d])return this.componentGroups[d]}static addComponentGroup(d){const {id:e}=d;this.componentGroups[e]||(this.componentGroups[e]=d)}static getGroupsFromComponent(d){return Object.keys(this.componentGroups).reduce((e,
l)=>{(l=this.getComponentGroup(l))&&-1<l.components.indexOf(d)&&e.push(l);return e},[])}constructor(g){this.state=new e;this.components=[];this.id=g;d.addComponentGroup(this)}addComponents(d){for(;d.length;){const e=d.pop();if(!e)break;-1===this.components.indexOf(e)&&this.components.push(e)}}removeComponents(d){for(;d.length;){var e=d.pop();if(!e)break;e=this.components.indexOf(e);-1<e&&this.components.splice(e,1)}}getSharedState(){return this.state}on(){throw Error("Method not implemented.");}emit(){throw Error("Method not implemented.");
}}d.componentGroups={};return d});n(e,"Dashboards/Components/Sync/Emitter.js",[],function(){class e{static register(d){const {id:e}=d;this.registry[e]=d}static get(d){return this.registry[d]}constructor(d,g){this.id=d;this.func=g;e.register(this)}create(d){this.callback=this.func.call(d)}remove(){this.callback&&this.callback()}}e.registry={};return e});n(e,"Dashboards/Components/Sync/Handler.js",[],function(){class e{static register(d){const {id:e}=d;this.registry[e]=d}static get(d){return this.registry[d]}constructor(d,
g,m){this.id=d;this.presentationStateTrigger=g;this.func=m;e.register(this)}create(d){const {activeGroup:e}=d,{func:g}=this;e&&this.presentationStateTrigger&&(this.callback=e.getSharedState().on(this.presentationStateTrigger,function(e){d.id!==(e.detail?e.detail.sender:void 0)&&g.call(d,e)}))}register(d){const {func:e}=this;this.callback=e.call(d)}remove(){this.callback&&this.callback()}}e.registry={};return e});n(e,"Dashboards/Components/Sync/Sync.js",[e["Dashboards/Components/Sync/Emitter.js"],
e["Dashboards/Components/Sync/Handler.js"]],function(e,d){class g{constructor(d,e=g.defaultHandlers){this.component=d;this.syncConfig=e;this.registeredSyncHandlers={};this.registeredSyncEmitters={};this.isSyncing=!1;this.listeners=[]}registerSyncEmitter(d){const {id:e}=d;this.registeredSyncEmitters[e]=d}isRegisteredEmitter(d){return!!this.registeredSyncEmitters[d]}registerSyncHandler(d){const {id:e}=d;this.registeredSyncHandlers[e]=d}isRegisteredHandler(d){return!!this.registeredSyncHandlers[d]}start(){const {syncConfig:m,
component:l}=this;Object.keys(m).forEach(c=>{let {emitter:b,handler:a}=m[c];if(a){"boolean"===typeof a&&(a=g.defaultHandlers[c].handler);"function"===typeof a&&(a=[c,void 0,a]);const b=new d(...a);this.isRegisteredHandler(b.id)||(this.registerSyncHandler(b),void 0!==a[1]?b.create(l):b.register(l))}b&&("boolean"===typeof b&&(b=g.defaultHandlers[c].emitter),"function"===typeof b&&(b=[c,b]),c=new e(...b),this.isRegisteredEmitter(c.id)||(this.registerSyncEmitter(c),c.create(l)))});this.isSyncing=!0;this.listeners.push(l.on("update",
()=>this.stop()))}stop(){const {component:d,listeners:e,registeredSyncHandlers:c,registeredSyncEmitters:b}=this;Object.keys(c).forEach(a=>{c[a].remove();delete c[a]});Object.keys(b).forEach(a=>{b[a].remove();delete b[a]});this.isSyncing=!1;for(let a=0,b=e.length;a<b;++a)e[a]();this.listeners.length=0;this.listeners.push(d.on("afterUpdate",()=>{this.start()}))}}g.defaultHandlers={};return g});n(e,"Dashboards/Components/Component.js",[e["Dashboards/CallbackRegistry.js"],e["Dashboards/Globals.js"],e["Dashboards/Components/EditableOptions.js"],
e["Core/Utilities.js"],e["Dashboards/Components/ComponentUtilities.js"],e["Dashboards/Components/ComponentGroup.js"],e["Dashboards/Utilities.js"],e["Dashboards/Components/Sync/Sync.js"]],function(e,d,n,m,l,c,b,a){var f=this&&this.__awaiter||function(a,b,c,f){function d(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,k){function e(a){try{l(f.next(a))}catch(G){k(G)}}function h(a){try{l(f["throw"](a))}catch(G){k(G)}}function l(a){a.done?c(a.value):d(a.value).then(e,
h)}l((f=f.apply(a,b||[])).next())})};const {classNamePrefix:k}=d,{createElement:g,isArray:h,merge:q,fireEvent:z,addEvent:w,objectEach:y,isFunction:A,getStyle:t,relativeLength:x}=m,{getMargins:v,getPaddings:D}=l,{uniqueKey:E}=b;class C{static createTextElement(a,b,c){if("object"===typeof c){const {className:f,text:d,style:e}=c;return g(a,{className:f||`${k}component-${b}`,textContent:d},e)}if("string"===typeof c)return g(a,{className:`${k}component-${b}`,textContent:c})}constructor(a,b){this.callbackRegistry=
new e;this.tableEvents=[];this.cellListeners=[];this.activeGroup=void 0;this.resizeTimeouts=[];this.innerResizeTimeouts=[];this.board=a.row.layout.board;this.cell=a;this.parentElement=a.container;this.attachCellListeneres();this.options=q(C.defaultOptions,b);this.id=this.options.id&&this.options.id.length?this.options.id:E();this.hasLoaded=!1;this.shouldRedraw=!0;this.editableOptions=new n(this,b.editableOptionsBindings);this.presentationModifier=this.options.presentationModifier;this.dimensions=
{width:null,height:null};this.syncHandlers=this.handleSyncOptions();this.element=g("div",{className:this.options.className});this.contentElement=g("div",{className:`${this.options.className}-content`},{height:"100%"},void 0,!0)}initConnector(){var a;return f(this,void 0,void 0,function*(){if((null===(a=this.options.connector)||void 0===a?0:a.id)&&this.connectorId!==this.options.connector.id){const a=yield this.board.dataPool.getConnector(this.options.connector.id);this.setConnector(a);this.shouldRedraw=
!0;this.redraw()}return this})}handleSyncOptions(b=a.defaultHandlers){const a=this.options.sync||{};return Object.keys(a).reduce((c,f)=>{if(f){const d=a[f];d&&"object"===typeof d&&(c[f]=d);d&&"boolean"===typeof d&&(c[f]=b[f])}return c},{})}attachCellListeneres(){for(;this.cellListeners.length;){const a=this.cellListeners.pop();a&&a()}this.cell&&Object.keys(this.cell).length&&this.cellListeners.push(w(this.cell.row.layout.board,"cellResize",()=>{this.resizeTo(this.parentElement)}),w(this.cell.row,
"cellChange",a=>{({row:a}=a);a&&this.cell&&void 0===a.getCellIndex(this.cell)&&this.cell&&this.setCell(this.cell)}))}setCell(a,b=!1){this.cell=a;a.container&&(this.parentElement=a.container);this.attachCellListeneres();b&&this.resizeTo(this.parentElement)}setupTableListeners(a){const b=this.connector;if(b){a&&["afterSetRows","afterDeleteRows","afterSetColumns","afterDeleteColumns","afterSetCell"].forEach(b=>{this.tableEvents.push(a.on(b,a=>{clearInterval(this.tableEventTimeout);this.tableEventTimeout=
setTimeout(()=>{this.emit(Object.assign(Object.assign({},a),{type:"tableChanged"}));this.tableEventTimeout=void 0},0)}))});const c=this;this.tableEvents.push(b.on("afterLoad",()=>{this.emit({target:c,type:"tableChanged"})}))}}clearTableListeners(){const a=this.connector,b=this.tableEvents;b.length&&b.forEach(a=>a());a&&b.push(a.table.on("afterSetModifier",a=>{"afterSetModifier"===a.type&&this.emit(Object.assign(Object.assign({},a),{type:"tableChanged"}))}))}setConnector(a){for(z(this,"setConnector",
{connector:a});this.tableEvents.length;){var b=this.tableEvents.pop();"function"===typeof b&&b()}if(this.connector=a)if(this.clearTableListeners(),this.setupTableListeners(a.table),a.table.on("setModifier",()=>this.clearTableListeners()),a.table.on("afterSetModifier",a=>{"afterSetModifier"===a.type&&a.modified&&this.setupTableListeners(a.modified)}),b=a.table.id,c.getComponentGroup(b)||c.addComponentGroup(new c(b)),b=c.getComponentGroup(b))b.addComponents([this.id]),this.activeGroup=b;z(this,"afterSetConnector",
{connector:a});return this}setActiveGroup(a){"string"===typeof a&&(a=c.getComponentGroup(a)||null);a instanceof c&&(this.activeGroup=a);null===a&&(this.activeGroup=void 0);this.activeGroup&&this.activeGroup.addComponents([this.id])}getContentHeight(){const a=this.dimensions.height||Number(t(this.element,"height")),b=this.titleElement?this.titleElement.clientHeight+v(this.titleElement).y:0,c=this.captionElement?this.captionElement.clientHeight+v(this.captionElement).y:0;return a-b-c}resize(a,b){if(b){var c=
D(this.element).y+v(this.element).y;this.dimensions.height=x(b,Number(t(this.parentElement,"height")))-c;this.element.style.height=this.dimensions.height+"px";this.contentElement.style.height=this.getContentHeight()+"px"}a&&(c=D(this.element).x+v(this.element).x,this.dimensions.width=x(a,Number(t(this.parentElement,"width")))-c,this.element.style.width=this.dimensions.width+"px");null===b&&(this.dimensions.height=null,this.element.style.removeProperty("height"));null===a&&(this.dimensions.width=null,
this.element.style.removeProperty("width"));z(this,"resize",{width:a,height:b})}resizeTo(a){for(;this.resizeTimeouts.length;){var b=this.resizeTimeouts.pop();b&&cancelAnimationFrame(b)}b=requestAnimationFrame(()=>{const {width:b,height:c}=a.getBoundingClientRect(),f=D(a),d=v(a);this.resize(b-f.x-d.x,c-f.y-d.y)});this.resizeTimeouts.push(b)}update(a,b=!0){var c;return f(this,void 0,void 0,function*(){const f={options:a,shouldForceRedraw:!1};z(this,"update",f);this.options=q(this.options,a);if((null===
(c=this.options.connector)||void 0===c?0:c.id)&&this.connectorId!==this.options.connector.id){const a=yield this.board.dataPool.getConnector(this.options.connector.id);this.setConnector(a);this.shouldRedraw=!0}this.options=q(this.options,a);(b||f.shouldForceRedraw)&&this.redraw()})}setTitle(a){const b=this.titleElement;if(a&&"string"!==typeof a?""===a.text:""===a)b&&b.remove();else if(a=C.createTextElement("h1","title",a))this.titleElement=a,b&&b.replaceWith(this.titleElement)}setCaption(a){const b=
this.captionElement;if(a&&"string"!==typeof a?""===a.text:""===a)b&&b.remove();else if(a=C.createTextElement("div","caption",a))this.captionElement=a,b&&b.replaceWith(this.captionElement)}load(){!this.hasLoaded&&this.connector&&this.setConnector(this.connector);this.setTitle(this.options.title);this.setCaption(this.options.caption);[this.titleElement,this.contentElement,this.captionElement].forEach(a=>{a&&this.element.appendChild(a)});const a=this.options.events;a&&(Object.keys(a).forEach(b=>{const c=
a[b];c&&this.callbackRegistry.addCallback(b,{type:"component",func:c})}),y(a,(a,b)=>{if(A(a))this.on(b,a)}));this.on("message",a=>{if("message"in a)this.onMessage(a.message)});p.addEventListener("resize",()=>this.resizeTo(this.parentElement));this.hasLoaded=!0;this.shouldRedraw=!1;return this}render(){if(this.shouldRedraw||!this.hasLoaded)this.load(),this.resizeTo(this.parentElement);return this}redraw(){z(this,"redraw",{component:this});this.shouldRedraw=!0;return this.render()}destroy(){for(;this.element.firstChild;)this.element.firstChild.remove();
this.tableEvents.forEach(a=>a());this.element.remove();C.removeInstance(this)}on(a,b){return w(this,a,b)}emit(a){a.target||(a.target=this);z(this,a.type,a)}postMessage(a,b={type:"componentType",target:"all"}){const c=C.getInstanceById(this.id);c&&C.relayMessage(c,a,b)}onMessage(a){a&&"string"===typeof a||"object"===typeof a&&"function"===typeof a.callback&&a.callback.apply(this)}toJSON(){const a={width:0,height:0};y(this.dimensions,function(b,c){null!==b&&(a[c]=b)});return{$class:this.options.type,
options:{cell:this.options.cell,parentElement:this.parentElement.id,dimensions:a,id:this.id,type:this.type}}}getEditableOptions(){return q(this.options)}getEditableOptionValue(a){if(a){var b=this.getEditableOptions();for(let c=0,f=a.length;c<f;c++){if(!b)return;h(b)&&(b=b[0]);b=b[a[c]]}return b}}}C.Sync=a;C.defaultOptions={className:`${k}component`,parentElement:document.body,id:"",title:!1,caption:!1,style:{display:"flex","flex-direction":"column"},sync:a.defaultHandlers,editableOptions:[{name:"connectorName",
propertyPath:["connector","id"],type:"select"},{name:"title",propertyPath:["title"],type:"input"},{name:"caption",propertyPath:["caption"],type:"input"}]};(function(a){function b(){return Object.keys(a.instanceRegistry)}function f(b){return a.instanceRegistry[b]}a.instanceRegistry={};a.addInstance=function(b){a.instanceRegistry[b.id]=b};a.removeInstance=function(b){delete a.instanceRegistry[b.id]};a.getAllInstanceIDs=b;a.getAllInstances=function(){return b().map(b=>a.instanceRegistry[b])};a.getInstanceById=
f;a.relayMessage=function(a,d,k){const e=b=>b.emit({type:"message",detail:{sender:a.id,target:k.target},message:d,target:b});({componentID:a=>{(a=f(a))&&e(a)},componentType:c=>{b().forEach(b=>{(b=f(b))&&b.id!==a.id&&(b.type===c||"all"===c)&&e(b)})},group:b=>{(b=c.getComponentGroup(b))&&b.components.forEach(b=>{(b=f(b))&&b.id!==a.id&&e(b)})}})[k.type](k.target)}})(C||(C={}));return C});n(e,"Dashboards/Components/HTMLComponent.js",[e["Core/Renderer/HTML/AST.js"],e["Dashboards/Components/Component.js"],
e["Core/Utilities.js"]],function(e,d,n){var g=this&&this.__awaiter||function(b,a,c,d){function f(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,e){function k(a){try{l(d.next(a))}catch(t){e(t)}}function h(a){try{l(d["throw"](a))}catch(t){e(t)}}function l(a){a.done?c(a.value):f(a.value).then(k,h)}l((d=d.apply(b,a||[])).next())})};const {merge:l}=n;e.allowedTags=[...e.allowedTags,"option","select","label","input","textarea"];e.allowedAttributes=[...e.allowedAttributes,
"for","value","checked","src","name","selected"];e.allowedReferences=[...e.allowedReferences,"data:image/"];class c extends d{static fromJSON(b,a){const f=b.options,d=b.elements?b.elements.map(a=>JSON.parse(a)):[];a=new c(a,l(f,{elements:d}));a.emit({type:"fromJSON",json:b});return a}constructor(b,a){a=l(c.defaultOptions,a);super(b,a);this.options=a;this.type="HTML";this.elements=[];this.scaleElements=!!this.options.scaleElements;this.sync=new d.Sync(this,this.syncHandlers);this.on("tableChanged",
a=>{"detail"in a&&a.detail&&a.detail.sender!==this.id&&this.redraw()});d.addInstance(this)}load(){this.emit({type:"load"});super.load();const b=this.options;let a=!1;b.elements&&(this.elements=b.elements.map(function(b){if("string"===typeof b)return(new e(b)).nodes[0];b.textContent||b.tagName||!b.attributes||(a=!0);return b}));this.constructTree();this.parentElement.appendChild(this.element);this.scaleElements&&this.autoScale();this.emit({type:"afterLoad"});if(a)throw Error("Missing tagName param in component: "+
b.cell);return this}autoScale(){this.element.style.display="flex";this.element.style.flexDirection="column";this.contentElement.childNodes.forEach(b=>{b&&b instanceof HTMLElement&&(b.style.width="auto",b.style.maxWidth="100%",b.style.maxHeight="100%",b.style.flexBasis="auto",b.style.overflow="auto")});this.options.scaleElements&&this.scaleText()}scaleText(){this.contentElement.childNodes.forEach(b=>{b instanceof HTMLElement&&(b.style.fontSize=Math.max(Math.min(b.clientWidth/10,200),20)+"px")})}render(){this.emit({type:"beforeRender"});
super.render();this.emit({type:"afterRender"});return this}redraw(){super.redraw();this.constructTree();this.emit({type:"afterRedraw"});return this}resize(b,a){this.scaleElements&&this.scaleText();super.resize(b,a);return this}update(b){const a=Object.create(null,{update:{get:()=>super.update}});return g(this,void 0,void 0,function*(){yield a.update.call(this,b);this.emit({type:"afterUpdate"})})}constructTree(){for(;this.contentElement.firstChild;)this.contentElement.firstChild.remove();(new e(this.elements)).addToDOM(this.contentElement)}toJSON(){var b=
(this.options.elements||[]).map(a=>JSON.stringify(a));b=l(super.toJSON(),{elements:b,options:this.options});this.emit({type:"toJSON",json:b});return b}}c.defaultOptions=l(d.defaultOptions,{type:"HTML",scaleElements:!1,elements:[],editableOptions:(d.defaultOptions.editableOptions||[]).concat([{name:"scaleElements",type:"toggle"}])});return c});n(e,"Dashboards/Board.js",[e["Dashboards/Actions/Bindings.js"],e["Dashboards/Components/ComponentRegistry.js"],e["Dashboards/Accessibility/DashboardsAccessibility.js"],
e["Data/DataCursor.js"],e["Dashboards/SerializeHelper/DataCursorHelper.js"],e["Data/DataPool.js"],e["Dashboards/EditMode/EditMode.js"],e["Dashboards/EditMode/Fullscreen.js"],e["Dashboards/Globals.js"],e["Dashboards/Layout/Layout.js"],e["Dashboards/Serializable.js"],e["Core/Utilities.js"],e["Dashboards/Components/HTMLComponent.js"]],function(e,d,n,m,l,c,b,a,f,k,r,h,q){const {merge:g,addEvent:w,error:y,objectEach:v,uniqueKey:t,createElement:x}=h;class B{static board(a,b,c){return(new B(a,b)).init(c)}constructor(d,
e){this.container=this.boardWrapper=void 0;this.options=g(B.defaultOptions,e);this.dataPool=new c(e.dataPool);this.id=t();this.guiEnabled=(this.options.gui||{}).enabled;this.layouts=[];this.mountedComponents=[];this.initContainer(d);this.layoutsWrapper=x("div",{className:f.classNames.layoutsWrapper},{},this.container);!b||this.options.editMode&&!this.options.editMode.enabled||(this.editMode=new b(this,this.options.editMode));this.dataCursor=new m;this.fullscreen=new a(this);this.index=f.boards.length;
f.boards.push(this);this.a11y=new n(this)}init(a){var b=this.options;b.gui&&this.options.gui&&this.setLayouts(this.options.gui);b.layoutsJSON&&!this.layouts.length&&this.setLayoutsFromJSON(b.layoutsJSON);b.components&&this.setComponents(b.components);this.initEvents();b=[];const c=this.mountedComponents;for(let a=0,f=c.length;a<f;++a)b.push(c[a].component.initConnector());return a?Promise.all(b).then(()=>this):this}initEvents(){const a=this;w(p,"resize",function(){a.reflow()})}initContainer(a){"string"===
typeof a&&(a=p.document.getElementById(a));a||y(13,!0);a.innerHTML="";this.boardWrapper=a;this.container=x("div",{className:f.classNames.boardContainer},{},this.boardWrapper)}setLayouts(a){const b=a.layouts;for(let c=0,f=b.length;c<f;++c)this.layouts.push(new k(this,g({},a.layoutOptions,b[c])))}setLayoutsFromJSON(a){let b;for(let c=0,f=a.length;c<f;++c)(b=k.fromJSON(a[c],this))&&this.layouts.push(b)}setComponents(a){for(let b=0,c=a.length;b<c;++b)e.addComponent(a[b])}getLayoutContainerSize(){const a=
this.options.responsiveBreakpoints,b=(this.layoutsWrapper||{}).clientWidth;let c=f.responsiveBreakpoints.large;a&&(b<=a.small?c=f.responsiveBreakpoints.small:b>a.small&&b<=a.medium&&(c=f.responsiveBreakpoints.medium));return c}destroy(){const a=this;for(let b=0,c=a.layouts.length;b<c;++b)a.layouts[b].destroy();a.container.remove();v(a,function(b,c){delete a[c]});f.boards[this.index]=void 0}exportLocal(){localStorage.setItem(f.classNamePrefix+"1",JSON.stringify(this.toJSON()))}importLayoutLocal(a){return k.importLocal(a,
this)}reflow(){const a=this.getLayoutContainerSize();let b,c,f;this.editMode&&(this.editMode.hideToolbars(["cell","row"]),this.editMode.hideContextPointer());for(let d=0,e=this.layouts.length;d<e;++d){b=this.layouts[d];for(let d=0,e=b.rows.length;d<e;++d){c=b.rows[d];for(let b=0,d=c.cells.length;b<d;++b)f=c.cells[b],f.reflow(a)}}}fromJSON(a){var b=a.options;b=new B(b.containerId,{componentOptions:b.componentOptions,responsiveBreakpoints:b.responsiveBreakpoints,dataPool:b.dataPool,layoutsJSON:b.layouts});
b.dataCursor=l.fromJSON(a.dataCursor);return b}toJSON(){const a=[];for(let b=0,c=this.layouts.length;b<c;++b)a.push(this.layouts[b].toJSON());return{$class:"Board",dataCursor:l.toJSON(this.dataCursor),options:{containerId:this.container.id,dataPool:this.options.dataPool,guiEnabled:this.guiEnabled,layouts:a,componentOptions:this.options.componentOptions,responsiveBreakpoints:this.options.responsiveBreakpoints}}}}(function(a){a.defaultOptions={gui:{enabled:!0,layoutOptions:{rowClassName:void 0,cellClassName:void 0},
layouts:[]},components:[],responsiveBreakpoints:{small:576,medium:992,large:1200}};a.componentTypes=d.types;a.importLocal=function(){const a=localStorage.getItem(f.classNamePrefix+"1");if(a)try{return r.fromJSON(JSON.parse(a))}catch(C){}}})(B||(B={}));r.registerClassPrototype("Board",B.prototype);d.registerComponent("HTML",q);return B});n(e,"Dashboards/PluginHandler.js",[e["Dashboards/Board.js"],e["Dashboards/Components/Sync/Sync.js"],e["Dashboards/Components/ComponentRegistry.js"]],function(e,d,
n){var g;(function(l){l.registry={};l.revision=0;l.addPlugin=function(c,b=c.name){const {maxRevision:a,minRevision:f,onRegister:k}=c;if(l.registry[b]){if(b!==c.name)throw Error(`Plugin '${b}' already registered.`);}else{if("number"===typeof f&&f>l.revision||"number"===typeof a&&a<l.revision)throw Error(`Plugin '${b}' does not support revision ${l.revision}.`);k({Board:e,ComponentRegistry:n,Sync:d,revision:l.revision});l.registry[b]=c}};l.removePlugin=function(c){l.registry[c]&&(l.registry[c].onUnregister({ComponentRegistry:n,
Board:e,Sync:d,revision:l.revision}),delete l.registry[c])}})(g||(g={}));return g});n(e,"Data/Converters/DataConverter.js",[e["Data/DataTable.js"],e["Core/Utilities.js"]],function(e,d){const {addEvent:g,fireEvent:m,isNumber:l,merge:c}=d;class b{constructor(a){this.dateFormats={"YYYY/mm/dd":{regex:/^([0-9]{4})([\-\.\/])([0-9]{1,2})\2([0-9]{1,2})$/,parser:function(a){return a?Date.UTC(+a[1],a[3]-1,+a[4]):NaN}},"dd/mm/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(a){return a?
Date.UTC(+a[4],a[3]-1,+a[1]):NaN},alternative:"mm/dd/YYYY"},"mm/dd/YYYY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{4})$/,parser:function(a){return a?Date.UTC(+a[4],a[1]-1,+a[3]):NaN}},"dd/mm/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(a){if(!a)return NaN;let b=+a[4];b=b>(new Date).getFullYear()-2E3?b+1900:b+2E3;return Date.UTC(b,a[3]-1,+a[1])},alternative:"mm/dd/YY"},"mm/dd/YY":{regex:/^([0-9]{1,2})([\-\.\/])([0-9]{1,2})\2([0-9]{2})$/,parser:function(a){return a?
Date.UTC(+a[4]+2E3,a[1]-1,+a[3]):NaN}}};a=c(b.defaultOptions,a);let f=a.decimalPoint;if("."===f||","===f)this.decimalRegExp=new RegExp("^(-?[0-9]+)"+("."===f?"\\.":",")+"([0-9]+)$");this.options=a}asBoolean(a){return"boolean"===typeof a?a:"string"===typeof a?""!==a&&"0"!==a&&"false"!==a:!!this.asNumber(a)}asDate(a){if("string"===typeof a)a=this.parseDate(a);else if("number"!==typeof a){if(a instanceof Date)return a;a=this.parseDate(this.asString(a))}return new Date(a)}asGuessedType(a){return{number:this.asNumber,
Date:this.asDate,string:this.asString}[this.guessType(a)].call(this,a)}asNumber(a){if("number"===typeof a)return a;if("boolean"===typeof a)return a?1:0;if("string"===typeof a){const b=this.decimalRegExp;-1<a.indexOf(" ")&&(a=a.replace(/\s+/g,""));if(b){if(!b.test(a))return NaN;a=a.replace(b,"$1.$2")}return parseFloat(a)}return a instanceof Date?a.getDate():a?a.getRowCount():NaN}asString(a){return""+a}deduceDateFormat(a,b,c){const d=[],f=[];let e="YYYY/mm/dd",k,l=[],g=0,m=!1,n,p;if(!b||b>a.length)b=
a.length;for(;g<b;g++)if("undefined"!==typeof a[g]&&a[g]&&a[g].length)for(k=a[g].trim().replace(/[-\.\/]/g," ").split(" "),l=["","",""],p=0;p<k.length;p++)p<l.length&&(n=parseInt(k[p],10))&&(f[p]=!f[p]||f[p]<n?n:f[p],"undefined"!==typeof d[p]?d[p]!==n&&(d[p]=!1):d[p]=n,31<n?l[p]=100>n?"YY":"YYYY":12<n&&31>=n?(l[p]="dd",m=!0):l[p].length||(l[p]="mm"));if(m){for(p=0;p<d.length;p++)!1!==d[p]?12<f[p]&&"YY"!==l[p]&&"YYYY"!==l[p]&&(l[p]="YY"):12<f[p]&&"mm"===l[p]&&(l[p]="dd");3===l.length&&"dd"===l[1]&&
"dd"===l[2]&&(l[2]="YY");e=l.join("/")}c&&(this.options.dateFormat=e);return e}emit(a){m(this,a.type,a)}export(){this.emit({type:"exportError",columns:[],headers:[]});throw Error("Not implemented");}getTable(){throw Error("Not implemented");}guessType(a){var b="string";if("string"===typeof a){var c=this.trim(`${a}`),d=this.decimalRegExp;c=this.trim(c,!0);d&&(c=d.test(c)?c.replace(d,"$1.$2"):"");d=parseFloat(c);+c===d?a=d:(b=this.parseDate(a),b=l(b)?"Date":"string")}"number"===typeof a&&(b=31536E6<
a?"Date":"number");return b}on(a,b){return g(this,a,b)}parse(){this.emit({type:"parseError",columns:[],headers:[]});throw Error("Not implemented");}parseDate(a,b){var c=this.options;let d=b||c.dateFormat;b=NaN;let f,e;if(c.parseDate)b=c.parseDate(a);else{if(d)(c=this.dateFormats[d])||(c=this.dateFormats["YYYY/mm/dd"]),(e=a.match(c.regex))&&(b=c.parser(e));else for(f in this.dateFormats)if(c=this.dateFormats[f],e=a.match(c.regex)){b=c.parser(e);break}e||(e=Date.parse(a),"object"===typeof e&&null!==
e&&e.getTime?b=e.getTime()-6E4*e.getTimezoneOffset():l(e)&&(b=e-6E4*(new Date(e)).getTimezoneOffset(),-1===a.indexOf("2001")&&2001===(new Date(b)).getFullYear()&&(b=NaN)))}return b}trim(a,b){"string"===typeof a&&(a=a.replace(/^\s+|\s+$/g,""),b&&/^[0-9\s]+$/.test(a)&&(a=a.replace(/\s/g,"")));return a}}b.defaultOptions={dateFormat:"",alternativeFormat:"",startColumn:0,endColumn:Number.MAX_VALUE,startRow:0,endRow:Number.MAX_VALUE,firstRowAsNames:!0,switchRowsAndColumns:!1};(function(a){a.getTableFromColumns=
function(a=[],b=[]){const c=new e;for(let d=0,f=Math.max(b.length,a.length);d<f;++d)c.setColumn(b[d]||`${d}`,a[d]);return c}})(b||(b={}));return b});n(e,"Data/Converters/CSVConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g}=d;class m extends e{constructor(d){d=g(m.defaultOptions,d);super(d);this.columns=[];this.headers=[];this.dataTypes=[];this.options=d}export(d,c=this.options){const {useLocalDecimalPoint:b,lineDelimiter:a}=c;var f=!1!==this.options.firstRowAsNames;
let {decimalPoint:e,itemDelimiter:l}=c;e||(e=","!==l&&b?(1.1).toLocaleString()[1]:".");l||(l=","===e?";":",");c=d.getSortedColumns(c.usePresentationOrder);const h=Object.keys(c),g=[],m=h.length,n=[];f&&g.push(h.map(a=>`"${a}"`).join(l));for(f=0;f<m;f++){var p=h[f];const a=c[p],b=a.length;p=d.whatIs(p);let k;p&&(k=p.dataType);for(p=0;p<b;p++){var v=a[p];n[p]||(n[p]=[]);"string"===k?v='"'+v+'"':"number"===typeof v?v=String(v).replace(".",e):"string"===typeof v&&(v=`"${v}"`);n[p][f]=v;if(f===m-1){for(v=
f;2<n[p].length&&void 0===n[p][v];)n[p].pop(),v--;g.push(n[p].join(l))}}}return g.join(a)}parse(d,c){var b=this.dataTypes;d=g(this.options,d);const {beforeParse:a,lineDelimiter:f,firstRowAsNames:e,itemDelimiter:l}=d;let {csv:h,startRow:q,endRow:m}=d;this.columns=[];this.emit({type:"parse",columns:this.columns,detail:c,headers:this.headers});h&&a&&(h=a(h));if(h){d=h.replace(/\r\n|\r/g,"\n").split(f||"\n");if(!q||0>q)q=0;if(!m||m>=d.length)m=d.length-1;l||(this.guessedItemDelimiter=this.guessDelimiter(d));
if(e){var n=d[0].split(l||this.guessedItemDelimiter||",");for(var p=0;p<n.length;p++)n[p]=n[p].replace(/^["']|["']$/g,"");this.headers=n;q++}p=0;for(n=q;n<=m;n++)"#"===d[n][0]?p++:this.parseCSVRow(d[n],n-q-p);b.length&&b[0].length&&"date"===b[0][1]&&!this.options.dateFormat&&this.deduceDateFormat(this.columns[0],null,!0);for(let a=0,c=this.columns.length;a<c;++a){b=this.columns[a];for(let c=0,f=b.length;c<f;++c)b[c]&&"string"===typeof b[c]&&(d=this.asGuessedType(b[c]),d instanceof Date&&(d=d.getTime()),
this.columns[a][c]=d)}}this.emit({type:"afterParse",columns:this.columns,detail:c,headers:this.headers})}parseCSVRow(d,c){const b=this,a=b.columns||[],f=b.dataTypes,{startColumn:e,endColumn:l}=b.options,h=b.options.itemDelimiter||b.guessedItemDelimiter;let {decimalPoint:g}=b.options;g&&g!==h||(g=b.guessedDecimalPoint||".");let m=0,n="",p="",v="",t="",x=0,B=0;const D=a=>{n=d[a];p=d[a-1];v=d[a+1]},E=a=>{f.length<B+1&&f.push([a]);f[B][f[B].length-1]!==a&&f[B].push(a)},C=()=>{if(e>x||x>l)++x,t="";else{"string"===
typeof t?!isNaN(parseFloat(t))&&isFinite(t)?(t=parseFloat(t),E("number")):isNaN(Date.parse(t))?E("string"):(t=t.replace(/\//g,"-"),E("date")):E("number");a.length<B+1&&a.push([]);if("number"!==typeof t&&"number"!==b.guessType(t)&&g){const a=t;t=t.replace(g,".");"number"!==b.guessType(t)&&(t=a)}a[B][c]=t;t="";++B;++x}};if(d.trim().length&&"#"!==d.trim()[0]){for(;m<d.length;m++){D(m);if("#"===n&&!/^#[0-F]{3,3}|[0-F]{6,6}/i.test(d.substring(m))){C();return}if('"'===n)for(D(++m);m<d.length&&('"'!==n||
'"'===p||'"'===v);){if('"'!==n||'"'===n&&'"'!==p)t+=n;D(++m)}else n===h?C():t+=n}C()}}guessDelimiter(d){let c=0,b=0;const a={",":0,";":0,"\t":0},f=d.length;for(let e=0;e<f;e++){let f=!1,h,k,l,g="";if(13<e)break;const m=d[e];for(let d=0;d<m.length;d++){h=m[d];k=m[d+1];l=m[d-1];if("#"===h)break;if('"'===h)if(f){if('"'!==l&&'"'!==k){for(;" "===k&&d<m.length;)k=m[++d];"undefined"!==typeof a[k]&&a[k]++;f=!1}}else f=!0;else"undefined"!==typeof a[h]?(g=g.trim(),isNaN(Date.parse(g))?!isNaN(Number(g))&&isFinite(Number(g))||
a[h]++:a[h]++,g=""):g+=h;","===h&&b++;"."===h&&c++}}d=a[";"]>a[","]?";":",";this.guessedDecimalPoint=c>b?".":",";return d}getTable(){return e.getTableFromColumns(this.columns,this.headers)}}m.defaultOptions=Object.assign(Object.assign({},e.defaultOptions),{lineDelimiter:"\n"});return m});n(e,"Data/Connectors/CSVConnector.js",[e["Data/Converters/CSVConverter.js"],e["Data/Connectors/DataConnector.js"],e["Core/Utilities.js"]],function(e,d,n){const {merge:g}=n;class l extends d{constructor(c){c=g(l.defaultOptions,
c);super(c);this.converter=new e(c);this.options=c;c.enablePolling&&this.startPolling(1E3*Math.max(c.dataRefreshRate||0,1))}load(c){const b=this,a=b.converter,d=b.table,{csv:e,csvURL:l}=b.options;if(e)d.deleteRows(),b.emit({type:"load",csv:e,detail:c,table:d}),a.parse({csv:e}),d.setColumns(a.getTable().getColumns()),b.emit({type:"afterLoad",csv:e,detail:c,table:d});else{if(l)return b.table.deleteColumns(),b.emit({type:"load",detail:c,table:b.table}),fetch(l||"").then(a=>a.text().then(a=>{b.converter.parse({csv:a});
b.table.setColumns(b.converter.getTable().getColumns());b.emit({type:"afterLoad",csv:a,detail:c,table:b.table})}))["catch"](a=>{b.emit({type:"loadError",detail:c,error:a,table:b.table});return Promise.reject(a)}).then(()=>b);b.emit({type:"loadError",detail:c,error:"Unable to load: no CSV string or URL was provided",table:d})}return Promise.resolve(b)}}l.defaultOptions={csv:"",csvURL:"",enablePolling:!1,dataRefreshRate:1,firstRowAsNames:!0};d.registerType("CSV",l);return l});n(e,"Data/Converters/HTMLTableConverter.js",
[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g}=d;class m extends e{constructor(d){d=g(m.defaultOptions,d);super(d);this.columns=[];this.headers=[];this.options=d;d.tableElement&&(this.tableElement=d.tableElement,this.tableElementID=d.tableElement.id)}export(d,c=this.options){var b=!1!==c.firstRowAsNames,a=c.useMultiLevelHeaders,f=d.getSortedColumns(c.usePresentationOrder);const e=Object.keys(f);d=[];const l=e.length,h=[];var g="";if(b)if(g=[],a){for(var m of e)a=
(f[m].shift()||"").toString(),g.push(a);g=this.getTableHeaderHTML(e,g,c)}else g=this.getTableHeaderHTML(void 0,e,c);for(m=0;m<l;m++){a=f[e[m]];b=a.length;for(let c=0;c<b;c++){let b=a[c];h[c]||(h[c]=[]);"string"!==typeof b&&"number"!==typeof b&&"undefined"!==typeof b&&(b=(b||"").toString());h[c][m]=this.getCellHTMLFromValue(m?"td":"th",null,m?"":'scope="row"',b);m===l-1&&d.push("<tr>"+h[c].join("")+"</tr>")}}f="";c.tableCaption&&(f='<caption class="highcharts-table-caption">'+c.tableCaption+"</caption>");
return"<table>"+f+g+"<tbody>"+d.join("")+"</tbody></table>"}getCellHTMLFromValue(d,c,b,a,f){let e=a;c="text"+(c?" "+c:"");"number"===typeof e?(e=e.toString(),","===f&&(e=e.replace(".",f)),c="number"):a||(e="",c="empty");return"<"+d+(b?" "+b:"")+' class="'+c+'">'+e+"</"+d+">"}getTableHeaderHTML(d=[],c=[],b=this.options){const {useMultiLevelHeaders:a,useRowspanHeaders:f}=b;b.useLocalDecimalPoint&&(1.1).toLocaleString();b="<thead>";let e=0,g=c&&c.length;var h;let l=0;if(h=a&&d&&c){a:if(h=d.length,c.length===
h){for(;--h;)if(d[h]!==c[h]){h=!1;break a}h=!0}else h=!1;h=!h}if(h){for(b+="<tr>";e<g;++e){h=d[e];var m=d[e+1];h===m?++l:l?(b+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col" colspan="'+(l+1)+'"',h),l=0):(h===c[e]?f?(m=2,delete c[e]):(m=1,c[e]=""):m=1,b+=this.getCellHTMLFromValue("th","highcharts-table-topheading",'scope="col"'+(1<m?' valign="top" rowspan="'+m+'"':""),h))}b+="</tr>"}if(c){b+="<tr>";e=0;for(g=c.length;e<g;++e)"undefined"!==typeof c[e]&&(b+=this.getCellHTMLFromValue("th",
null,'scope="col"',c[e]));b+="</tr>"}return b+"</thead>"}parse(d,c){const b=[],a=[];var f=g(this.options,d);const {endRow:e,startColumn:l,endColumn:h,firstRowAsNames:m}=f;d=f.tableElement||this.tableElement;if(d instanceof HTMLElement){this.tableElement=d;this.tableElementID=d.id;this.emit({type:"parse",columns:this.columns,detail:c,headers:this.headers});d=d.getElementsByTagName("tr");var n=d.length,p=0;({startRow:f}=f);if(m&&n){var v=d[0].children,A=v.length;for(var t=l;t<A&&!(t>h);t++){var x=v[t];
"TD"!==x.tagName&&"TH"!==x.tagName||a.push(x.innerHTML)}f++}for(;p<n;){if(p>=f&&p<=e)for(v=d[p].children,A=v.length,t=0;t<A;){const a=t-l,c=b[a];x=v[t];if(("TD"===x.tagName||"TH"===x.tagName)&&t>=l&&t<=h)for(b[a]||(b[a]=[]),x=this.asGuessedType(x.innerHTML),x instanceof Date&&(x=x.getTime()),b[a][p-f]=x,x=1;p-f>=x&&void 0===c[p-f-x];)c[p-f-x]=null,x++;t++}p++}this.columns=b;this.headers=a;this.emit({type:"afterParse",columns:b,detail:c,headers:a})}else this.emit({type:"parseError",columns:b,detail:c,
headers:a,error:"Not a valid HTML Table"})}getTable(){return e.getTableFromColumns(this.columns,this.headers)}}m.defaultOptions=Object.assign(Object.assign({},e.defaultOptions),{useRowspanHeaders:!0,useMultiLevelHeaders:!0});return m});n(e,"Data/Connectors/HTMLTableConnector.js",[e["Data/Connectors/DataConnector.js"],e["Core/Globals.js"],e["Data/Converters/HTMLTableConverter.js"],e["Core/Utilities.js"]],function(e,d,n,m){const {win:g}=d,{merge:c}=m;class b extends e{constructor(a){a=c(b.defaultOptions,
a);super(a);this.converter=new n(a);this.options=a}load(a){this.table.deleteColumns();this.emit({type:"load",detail:a,table:this.table,tableElement:this.tableElement});var {table:b}=this.options;"string"===typeof b?(this.tableID=b,b=g.document.getElementById(b)):this.tableID=b.id;this.tableElement=b||void 0;if(!this.tableElement)return this.emit({type:"loadError",detail:a,error:"HTML table not provided, or element with ID not found",table:this.table}),Promise.reject(Error("HTML table not provided, or element with ID not found"));
this.converter.parse(c({tableElement:this.tableElement},this.options),a);this.table.setColumns(this.converter.getTable().getColumns());this.emit({type:"afterLoad",detail:a,table:this.table,tableElement:this.tableElement});return Promise.resolve(this)}}b.defaultOptions={table:""};e.registerType("HTMLTable",b);return b});n(e,"Data/Converters/GoogleSheetsConverter.js",[e["Data/Converters/DataConverter.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g,uniqueKey:m}=d;class l extends e{constructor(c){c=
g(l.defaultOptions,c);super(c);this.columns=[];this.header=[];this.options=c}parse(c,b){c=g(this.options,c);const a=(c.json&&c.json.values||[]).map(a=>a.slice());if(0===a.length)return!1;this.header=[];this.columns=[];this.emit({type:"parse",columns:this.columns,detail:b,headers:this.header});this.columns=a;let d;for(let b=0,e=a.length;b<e;b++){d=a[b];this.header[b]=c.firstRowAsNames?`${d.shift()}`:m();for(let a=0,c=d.length;a<c;++a)if(d[a]&&"string"===typeof d[a]){let c=this.asGuessedType(d[a]);
c instanceof Date&&(c=c.getTime());this.columns[b][a]=c}}this.emit({type:"afterParse",columns:this.columns,detail:b,headers:this.header})}getTable(){return e.getTableFromColumns(this.columns,this.header)}}l.defaultOptions=Object.assign({},e.defaultOptions);return l});n(e,"Data/Connectors/GoogleSheetsConnector.js",[e["Data/Connectors/DataConnector.js"],e["Data/Converters/GoogleSheetsConverter.js"],e["Core/Utilities.js"]],function(e,d,n){const {merge:g,pick:l}=n;class c extends e{constructor(b){b=g(c.defaultOptions,
b);super(b);this.converter=new d(b);this.options=b}load(b){const a=this,{dataRefreshRate:d,enablePolling:e,firstRowAsNames:g,googleAPIKey:h,googleSpreadsheetKey:l}=a.options,m=c.buildFetchURL(h,l,a.options);a.table.deleteColumns();a.emit({type:"load",detail:b,table:a.table,url:m});return fetch(m).then(c=>c.json().then(c=>{if("object"===typeof c&&c&&"object"===typeof c.error&&c.error&&"number"===typeof c.error.code&&"string"===typeof c.error.message&&"string"===typeof c.error.status)throw Error(c.error.message);
a.converter.parse({firstRowAsNames:g,json:c});a.table.setColumns(a.converter.getTable().getColumns());a.emit({type:"afterLoad",detail:b,table:a.table,url:m});e&&setTimeout(()=>a.load(),1E3*Math.max(d||0,1))}))["catch"](c=>{a.emit({type:"loadError",detail:b,error:c,table:a.table});return Promise.reject(c)}).then(()=>a)}}c.defaultOptions={googleAPIKey:"",googleSpreadsheetKey:"",worksheet:1,enablePolling:!1,dataRefreshRate:2,firstRowAsNames:!0};(function(b){function a(a={}){const {endColumn:b,endRow:c,
googleSpreadsheetRange:d,startColumn:e,startRow:f}=a;return d||("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[e||0]||"A")+(Math.max(f||0,0)+1)+":"+("ABCDEFGHIJKLMNOPQRSTUVWXYZ"[l(b,25)]||"Z")+(c?Math.max(c,0):"Z")}b.buildFetchURL=function(b,c,d={}){return`https://sheets.googleapis.com/v4/spreadsheets/${c}/values/`+(d.onlyColumnNames?"A1:Z1":a(d))+"?alt=json"+(d.onlyColumnNames?"":"&dateTimeRenderOption=FORMATTED_STRING&majorDimension=COLUMNS&valueRenderOption=UNFORMATTED_VALUE")+"&prettyPrint=false"+`&key=${b}`};
b.buildQueryRange=a})(c||(c={}));e.registerType("GoogleSheets",c);return c});n(e,"Data/Modifiers/ChainModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g}=d;class m extends e{constructor(d,...c){super();this.chain=c;this.options=g(m.defaultOptions,d);d=this.options.chain||[];for(let b=0,a=d.length,f,g;b<a;++b)f=d[b],f.type&&(g=e.types[f.type])&&c.unshift(new g(f))}add(d,c){this.emit({type:"addModifier",detail:c,modifier:d});this.chain.push(d);this.emit({type:"addModifier",
detail:c,modifier:d})}clear(d){this.emit({type:"clearChain",detail:d});this.chain.length=0;this.emit({type:"afterClearChain",detail:d})}modify(d,c){const b=this.options.reverse?this.chain.slice().reverse():this.chain.slice();let a=Promise.resolve(d);for(let d=0,e=b.length;d<e;++d){const e=b[d];a=a.then(a=>e.modify(a.modified,c))}a=a.then(a=>{d.modified=a.modified;return d});return a=a["catch"](a=>{this.emit({type:"error",detail:c,table:d});throw a;})}modifyCell(d,c,b,a,e){const f=this.options.reverse?
this.chain.reverse():this.chain;if(f.length){let g=d.clone();for(let d=0,k=f.length;d<k;++d)f[d].modifyCell(g,c,b,a,e),g=g.modified;d.modified=g}return d}modifyColumns(d,c,b,a){const e=this.options.reverse?this.chain.reverse():this.chain.slice();if(e.length){let f=d.clone();for(let d=0,h=e.length;d<h;++d)e[d].modifyColumns(f,c,b,a),f=f.modified;d.modified=f}return d}modifyRows(d,c,b,a){const e=this.options.reverse?this.chain.reverse():this.chain.slice();if(e.length){let f=d.clone();for(let d=0,h=
e.length;d<h;++d)e[d].modifyRows(f,c,b,a),f=f.modified;d.modified=f}return d}modifyTable(d,c){this.emit({type:"modify",detail:c,table:d});const b=this.options.reverse?this.chain.reverse():this.chain.slice();let a=d.modified;for(let d=0,e=b.length,g;d<e;++d)g=b[d],a=g.modifyTable(a,c).modified;d.modified=a;this.emit({type:"afterModify",detail:c,table:d});return d}remove(d,c){const b=this.chain;this.emit({type:"removeModifier",detail:c,modifier:d});b.splice(b.indexOf(d),1);this.emit({type:"afterRemoveModifier",
detail:c,modifier:d})}}m.defaultOptions={type:"Chain"};e.registerType("Chain",m);return m});n(e,"Data/Modifiers/InvertModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g}=d;class m extends e{constructor(d){super();this.options=g(m.defaultOptions,d)}modifyCell(d,c,b,a,e){const f=d.modified;c=f.getRowIndexBy("columnNames",c);"undefined"===typeof c?f.setColumns(this.modifyTable(d.clone()).getColumns(),void 0,e):f.setCell(`${b}`,c,a,e);return d}modifyColumns(d,
c,b,a){const e=d.modified,g=e.getColumn("columnNames")||[];let l=d.getColumnNames(),h=d.getRowCount()!==g.length;if(!h)for(let a=0,b=l.length;a<b;++a)if(l[a]!==g[a]){h=!0;break}if(h)return this.modifyTable(d,a);l=Object.keys(c);for(let d=0,f=l.length,h,g,k;d<f;++d){g=l[d];h=c[g];k=e.getRowIndexBy("columnNames",g)||e.getRowCount();for(let c=0,d=b,f=h.length;c<f;++c,++d)e.setCell(`${d}`,k,h[c],a)}return d}modifyRows(d,c,b,a){const e=d.getColumnNames(),g=d.modified,l=g.getColumn("columnNames")||[];let h=
d.getRowCount()!==l.length;if(!h)for(let a=0,b=e.length;a<b;++a)if(e[a]!==l[a]){h=!0;break}if(h)return this.modifyTable(d,a);for(let d=0,f=b,h=c.length,k;d<h;++d,++f)if(k=c[d],k instanceof Array)g.setColumn(`${f}`,k);else for(let b=0,c=e.length;b<c;++b)g.setCell(`${f}`,b,k[e[b]],a);return d}modifyTable(d,c){this.emit({type:"modify",detail:c,table:d});const b=d.modified;if(d.hasColumns(["columnNames"])){var a=((d.deleteColumns(["columnNames"])||{}).columnNames||[]).map(a=>`${a}`);const c={};for(let b=
0,e=d.getRowCount(),f;b<e;++b)(f=d.getRow(b))&&(c[a[b]]=f);b.deleteColumns();b.setColumns(c)}else{a={};for(let b=0,c=d.getRowCount(),e;b<c;++b)(e=d.getRow(b))&&(a[`${b}`]=e);a.columnNames=d.getColumnNames();b.deleteColumns();b.setColumns(a)}this.emit({type:"afterModify",detail:c,table:d});return d}}m.defaultOptions={type:"Invert"};e.registerType("Invert",m);return m});n(e,"Data/Modifiers/RangeModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Core/Utilities.js"]],function(e,d){const {merge:g}=d;
class m extends e{constructor(d){super();this.options=g(m.defaultOptions,d)}modifyTable(d,c){this.emit({type:"modify",detail:c,table:d});const {ranges:b,strict:a}=this.options;if(b.length){const c=d.getColumns(),e=[],g=d.modified;for(let f=0,g=b.length,k,l;f<g;++f)if(k=b[f],!a||typeof k.minValue===typeof k.maxValue){l=c[k.column]||[];for(let b=0,c=l.length,f,g;b<c;++b){f=l[b];switch(typeof f){default:continue;case "boolean":case "number":case "string":}(!a||typeof f===typeof k.minValue)&&f>=k.minValue&&
f<=k.maxValue&&(g=d.getRow(b))&&e.push(g)}}g.deleteRows();g.setRows(e)}this.emit({type:"afterModify",detail:c,table:d});return d}getModifiedTableOffset(d){var {ranges:c}=this.options;return c&&(c=c.reduce((b,a)=>{a.minValue>b.minValue&&(b=a);return b},c[0]),d=d.getRowIndexBy(c.column,c.minValue))?d:0}}m.defaultOptions={type:"Range",ranges:[],strict:!1};e.registerType("Range",m);return m});n(e,"Data/Modifiers/SortModifier.js",[e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Core/Utilities.js"]],
function(e,d,n){const {merge:g}=n;class l extends e{static ascending(c,b){return(c||0)<(b||0)?-1:(c||0)>(b||0)?1:0}static descending(c,b){return(b||0)<(c||0)?-1:(b||0)>(c||0)?1:0}constructor(c){super();this.options=g(l.defaultOptions,c)}getRowReferences(c){c=c.getRows();const b=[];for(let a=0,d=c.length;a<d;++a)b.push({index:a,row:c[a]});return b}modifyCell(c,b,a,e,g){const {orderByColumn:f,orderInColumn:h}=this.options;b===f&&(h?(c.modified.setCell(b,a,e),c.modified.setColumn(h,this.modifyTable(new d({columns:c.getColumns([f,
h])})).modified.getColumn(h))):this.modifyTable(c,g));return c}modifyColumns(c,b,a,e){const {orderByColumn:f,orderInColumn:g}=this.options,h=Object.keys(b);-1<h.indexOf(f)&&(g&&b[h[0]].length?(c.modified.setColumns(b,a),c.modified.setColumn(g,this.modifyTable(new d({columns:c.getColumns([f,g])})).modified.getColumn(g))):this.modifyTable(c,e));return c}modifyRows(c,b,a,e){const {orderByColumn:f,orderInColumn:g}=this.options;g&&b.length?(c.modified.setRows(b,a),c.modified.setColumn(g,this.modifyTable(new d({columns:c.getColumns([f,
g])})).modified.getColumn(g))):this.modifyTable(c,e);return c}modifyTable(c,b){this.emit({type:"modify",detail:b,table:c});var a=c.getColumnNames();const d=c.getRowCount(),e=this.getRowReferences(c),{direction:g,orderByColumn:h,orderInColumn:m}=this.options,n="asc"===g?l.ascending:l.descending,p=a.indexOf(h);a=c.modified;-1!==p&&e.sort((a,b)=>n(a.row[p],b.row[p]));if(m){var v=[];for(var A=0;A<d;++A)v[e[A].index]=A;a.setColumns({[m]:v})}else{v=[];for(A=0;A<d;++A)v.push(e[A].row);a.setRows(v,0)}this.emit({type:"afterModify",
detail:b,table:c});return c}}l.defaultOptions={type:"Sort",direction:"desc",orderByColumn:"y"};e.registerType("Sort",l);return l});n(e,"masters/dashboards.src.js",[e["Data/Connectors/DataConnector.js"],e["Dashboards/Board.js"],e["Dashboards/Components/Component.js"],e["Dashboards/Components/ComponentRegistry.js"],e["Data/DataPool.js"],e["Data/DataCursor.js"],e["Data/Modifiers/DataModifier.js"],e["Data/DataTable.js"],e["Dashboards/Globals.js"],e["Dashboards/PluginHandler.js"],e["Dashboards/Components/Sync/Sync.js"],
e["Dashboards/Utilities.js"]],function(e,d,n,m,l,c,b,a,f,k,p,h){f.board=d.board;f.merge=h.merge;f.uniqueKey=h.uniqueKey;f.Board=d;f.Component=n;f.ComponentRegistry=m;f.DataConnector=e;f.DataCursor=c;f.DataModifier=b;f.DataPool=l;f.DataTable=a;f.PluginHandler=k;f.Sync=p;f.win.Dashboards||(f.win.Dashboards=f);return f});e["masters/dashboards.src.js"]._modules=e;return e["masters/dashboards.src.js"]});//# sourceMappingURL=dashboards.js.map