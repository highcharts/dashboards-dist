/*
 Highcharts Dashboards v1.0.0 (2023-07-04)

 (c) 2009-2023 Highsoft AS

 License: www.highcharts.com/license
*/
'use strict';(function(d){"object"===typeof module&&module.exports?(d["default"]=d,module.exports=d):"function"===typeof define&&define.amd?define("dashboards/modules/dashboards-plugin",["dashboards"],function(t){d(t);d.Dashboards=t;return d}):d("undefined"!==typeof Dashboards?Dashboards:void 0)})(function(d){function t(d,m,e,y){d.hasOwnProperty(m)||(d[m]=y.apply(null,e),"function"===typeof CustomEvent&&window.dispatchEvent(new CustomEvent("DashboardsModuleLoaded",{detail:{path:m,module:d[m]}})))}
d=d?d._modules:{};t(d,"Dashboards/Plugins/HighchartsSyncHandlers.js",[d["Core/Utilities.js"]],function(d){const {addEvent:q}=d;return{extremes:{emitter:function(){if("Highcharts"===this.type){const e=this,d=[];this.on("afterRender",()=>{const {chart:h,connector:k,board:c}=e,g=k&&k.table,{dataCursor:b}=c;if(g&&h){const a=a=>{var n=!!a.resetSelection;if((!a.trigger||a.trigger&&"dashboards-sync"!==a.trigger)&&!n){var f=a.target;const l=f.series.filter(f=>g.hasColumns([f.name])),[w]=l.length?l:f.series;
if(w){n=w.points.filter(f=>f.isInside||!1);const c={type:"position",state:`${f.coll}.extremes.min`},e={type:"position",state:`${f.coll}.extremes.max`};l.length&&"xAxis"===f.coll&&n.length&&(f=f.dateTime&&g.hasColumns(["x"])?"x":w.name,c.row=n[0].index,c.column=f,e.row=n[n.length-1].index,e.column=f);b.emitCursor(g,c,a,!0).emitCursor(g,e,a,!0)}}},c=()=>h.axes.map(b=>q(b,"afterSetExtremes",a));let e=c();const k=()=>{e.forEach(a=>{a()});e=[]};d.push(q(h,"selection",a=>{a.resetSelection&&(k(),b.emitCursor(g,
{type:"position",state:"chart.zoomOut"},a),e.push(...c()))}));d.push(()=>{b.remitCursor(g.id,{type:"position",state:"xAxis.extremes.min"});b.remitCursor(g.id,{type:"position",state:"xAxis.extremes.max"});k()})}});return function(){d.forEach(e=>e())}}},handler:function(){const {chart:e,board:d}=this;e&&d&&["xAxis","yAxis"].forEach(h=>{const k=[],c=a=>{const {cursor:b,event:c}=a;if("position"===b.type){const a=c&&c.target;if(a&&e){let b=!1;e[h].forEach(n=>{a.coll===n.coll&&a!==n&&null!==a.min&&null!==
a.max&&n.max!==a.max&&n.min!==a.min&&(n.setExtremes(a.min,a.max,!1,void 0,{trigger:"dashboards-sync"}),b=!0)});b&&!e.resetZoomButton&&e.showResetZoom();e.redraw()}}},g=()=>{const {dataCursor:a}=d,{connector:b}=this;if(b){const {table:g}=b;a.addListener(g.id,`${h}.extremes.min`,c);a.addListener(g.id,`${h}.extremes.max`,c);const d=()=>{e.zoomOut();setTimeout(()=>{this.element.querySelectorAll(".highcharts-reset-zoom").forEach(a=>{a.remove()})})};a.addListener(g.id,"chart.zoomOut",d);k.push(()=>{a.removeListener(g.id,
`${h}.extremes.min`,c);a.removeListener(g.id,`${h}.extremes.max`,c);a.removeListener(g.id,"chart.zoomOut",d)})}},b=()=>{k.forEach(a=>a())};d&&(g(),this.on("setConnector",()=>b()),this.on("afterSetConnector",()=>g()))})}},highlight:{emitter:["highlightEmitter",function(){if("Highcharts"===this.type){const {chart:e,board:d}=this;if(d){const {dataCursor:h}=d;this.on("afterRender",()=>{const d=this.connector&&this.connector.table;e&&e.series&&d&&e.series.forEach(c=>{c.update({point:{events:{mouseOver:function(){let g=
0;const b=d.getModifier();b&&"getModifiedTableOffset"in b&&(g=b.getModifiedTableOffset(d));h.emitCursor(d,{type:"position",row:g+this.index,column:c.name,state:"point.mouseOver"})},mouseOut:function(){let g=0;const b=d.getModifier();b&&"getModifiedTableOffset"in b&&(g=b.getModifiedTableOffset(d));h.emitCursor(d,{type:"position",row:g+this.index,column:c.name,state:"point.mouseOut"})}}}})})});return function(){e&&e.series&&e.series.forEach(e=>{e.update({point:{events:{mouseOver:void 0,mouseOut:void 0}}})})}}}}],
handler:function(){const {chart:e,board:d}=this,h=b=>{const a=this.connector&&this.connector.table;if(a){var c=0,g=a.getModifier();g&&"getModifiedTableOffset"in g&&(c=g.getModifiedTableOffset(a));if(e&&e.series.length){const a=b.cursor;"position"===a.type&&([b]=1<e.series.length&&a.column?e.series.filter(b=>b.name===a.column):e.series,b&&b.visible&&void 0!==a.row&&(c=b.points[a.row-c])&&e.tooltip&&e.tooltip.refresh(c))}}},k=()=>{e&&e.series.length&&e.tooltip&&e.tooltip.hide()},c=()=>{const {dataCursor:b}=
d;if(b){const a=this.connector&&this.connector.table;a&&(b.addListener(a.id,"point.mouseOver",h),b.addListener(a.id,"dataGrid.hoverRow",h),b.addListener(a.id,"point.mouseOut",k),b.addListener(a.id,"dataGrid.hoverOut",k))}},g=()=>{const b=this.connector&&this.connector.table;b&&(d.dataCursor.removeListener(b.id,"point.mouseOver",h),d.dataCursor.removeListener(b.id,"dataGrid.hoverRow",h),d.dataCursor.removeListener(b.id,"point.mouseOut",k),d.dataCursor.removeListener(b.id,"dataGrid.hoverOut",k))};d&&
(c(),this.on("setConnector",()=>g()),this.on("afterSetConnector",()=>c()))}},visibility:{emitter:function(){if("Highcharts"===this.type){const d=this;return this.on("afterRender",()=>{const {chart:e,connector:h,board:k}=d,c=h&&h.table;if(c&&k&&e){const {dataCursor:g}=k,{series:b}=e;b.forEach(a=>{a.update({events:{show:function(){g.emitCursor(c,{type:"position",state:"series.show",column:this.name})},hide:function(){g.emitCursor(c,{type:"position",state:"series.hide",column:this.name})}}})})}})}},
handler:function(){const d=this,{board:q}=this,h=(a,b)=>{for(const c of a)if(c.name===b)return c},k=a=>{const b=d.chart;b&&"position"===a.cursor.type&&void 0!==a.cursor.column&&(a=h(b.series,a.cursor.column))&&a.setVisible(!0,!0)},c=a=>{const b=d.chart;b&&"position"===a.cursor.type&&void 0!==a.cursor.column&&(a=h(b.series,a.cursor.column))&&a.setVisible(!1,!0)},g=()=>{const {dataCursor:a}=q;if(a){var b=this.connector&&this.connector.table;b&&(a.addListener(b.id,"series.show",k),a.addListener(b.id,
"series.hide",c))}},b=()=>{const a=this.connector&&this.connector.table;a&&(q.dataCursor.removeListener(a.id,"series.show",k),q.dataCursor.removeListener(a.id,"series.hide",c))};q&&(g(),this.on("setConnector",()=>b()),this.on("afterSetConnector",()=>g()))}}}});t(d,"Dashboards/Plugins/HighchartsComponent.js",[d["Dashboards/Components/Component.js"],d["Data/Converters/DataConverter.js"],d["Data/DataTable.js"],d["Core/Globals.js"],d["Dashboards/Plugins/HighchartsSyncHandlers.js"],d["Core/Utilities.js"]],
function(d,m,e,y,h,k){var c=this&&this.__awaiter||function(a,f,l,b){function n(a){return a instanceof l?a:new l(function(f){f(a)})}return new (l||(l=Promise))(function(l,c){function g(a){try{d(b.next(a))}catch(F){c(F)}}function w(a){try{d(b["throw"](a))}catch(F){c(F)}}function d(a){a.done?l(a.value):n(a.value).then(g,w)}d((b=b.apply(a,f||[])).next())})};const {addEvent:g,createElement:b,merge:a,splat:x,uniqueKey:q,error:p}=k;class v extends d{static fromJSON(b,f){const l=b.options,c=JSON.parse(b.options.chartOptions||
"{}");f=new v(f,a(l,{chartOptions:c,syncHandlers:v.syncHandlers}));f.emit({type:"fromJSON",json:b});return f}constructor(c,f){f=a(v.defaultOptions,f);super(c,f);this.options=f;this.chartConstructor=this.options.chartConstructor;this.type="Highcharts";this.chartContainer=b("figure",void 0,void 0,void 0,!0);this.setOptions();this.sync=new v.Sync(this,this.syncHandlers);this.chartOptions=a(this.options.chartOptions||{chart:{}},{tooltip:{}});this.on("tableChanged",()=>this.updateSeries());if(this.connector)this.connector.on("afterLoad",
a=>{a.table&&this.connector&&this.connector.table.setColumns(a.table.getColumns())});this.innerResizeTimeouts=[];d.addInstance(this)}load(){this.emit({type:"load"});super.load();this.parentElement.appendChild(this.element);this.contentElement.appendChild(this.chartContainer);this.hasLoaded=!0;this.emit({type:"afterLoad"});return this}render(){this.emit({type:"beforeRender"});super.render();this.chart=this.getChart();this.updateSeries();this.sync.start();this.emit({type:"afterRender"});this.setupConnectorUpdate();
return this}resize(a,f){for(super.resize(a,f);this.innerResizeTimeouts.length;)(a=this.innerResizeTimeouts.pop())&&clearTimeout(a);this.innerResizeTimeouts.push(setTimeout(()=>{this.chart&&this.chart.setSize(null,this.contentElement.clientHeight,!1)},33));return this}setupConnectorUpdate(){const {connector:a,chart:f}=this;a&&f&&this.options.allowConnectorUpdate&&f.series.forEach(f=>{f.points.forEach(f=>{g(f,"drag",()=>{this.onChartUpdate(f,a)})})})}setOptions(){this.options.chartClassName&&this.chartContainer.classList.add(this.options.chartClassName);
this.options.chartID&&(this.chartContainer.id=this.options.chartID);this.syncHandlers=this.handleSyncOptions(h)}onChartUpdate(a,f){f=f.table;const b=a.series.name,c=a.x;a=(new m).asNumber(a.y);f.setCell(b,c,a)}update(b,f=!0){const l=Object.create(null,{update:{get:()=>super.update}});return c(this,void 0,void 0,function*(){yield l.update.call(this,b,!1);this.setOptions();this.chart&&this.chart.update(a(this.options.chartOptions)||{});this.emit({type:"afterUpdate"});f&&this.redraw()})}updateSeries(){if(this.chart&&
this.connector){this.presentationTable=this.presentationModifier?this.connector.table.modified.clone():this.connector.table;const {id:a}=this.connector.table,{chart:f}=this,b=this.options.columnAssignment||{},c={};this.presentationModifier&&(this.presentationTable=this.presentationModifier.modifyTable(this.presentationTable).modified);const g=this.presentationTable;this.emit({type:"afterPresentationModifier",table:g});const d=g.modified.getColumnNames().filter(a=>this.activeGroup&&!1===this.activeGroup.getSharedState().getColumnVisibility(a)&&
!b[a]||null===b[a]?!1:"x"===b[a]?(c[a]=a,!1):!0);d.map((b,l)=>{let c=0;for(;c<f.series.length;){const b=f.series[c],g=b.options.id===`${a}-series-${l}`,n=-1!==d.indexOf(b.name);c++;if(n&&g)return b;!n&&g&&b.destroy()}return f.addSeries({name:b,id:`${a}-series-${l}`},!1)}).forEach(a=>{var b=Object.keys(c)[0];const f=new e({columns:g.modified.getColumns([b,a.name])});f.renameColumn(a.name,"y");b&&f.renameColumn(b,"x");b=f.getRowObjects().reduce((a,b)=>{a.push([b.x,b.y]);return a},[]);a.setData(b)})}}getChart(){return this.chart||
this.createChart()}createChart(){const a=v.charter||y;if("chart"!==this.chartConstructor){const b=a[this.chartConstructor]||y.chart;if(b)try{return b(this.chartContainer,this.chartOptions)}catch(l){p("The Highcharts component is misconfigured: `"+this.cell.id+"`")}}if("function"!==typeof a.chart)throw Error("Chart constructor not found");return this.chart=a.chart(this.chartContainer,this.chartOptions)}registerChartEvents(){if(this.chart&&this.chart.options){const a=this.chart.options;"chart series yAxis xAxis colorAxis annotations navigation".split(" ").map(b=>
{let f=a[b]||{};!Array.isArray(f)&&f.events&&(f=[f]);return f&&"object"===typeof f&&Array.isArray(f)?f.reduce((a,f,c)=>{f&&f.events&&(a[f.id||`${b}-${c}`]=f.events);return a},{})||{}:{}}).forEach(a=>{Object.keys(a).forEach(b=>{const f=a[b];Object.keys(f).forEach(a=>{this.callbackRegistry.addCallback(`${b}-${a}`,{type:"seriesEvent",func:f[a]})})})})}}setConnector(a){var b;const c=this.chart;if(this.connector&&c&&c.series&&this.connector.table.id!==(null===a||void 0===a?void 0:a.table.id)){const a=
this.connector.table.id;for(let f=c.series.length-1;0<=f;f--){const l=c.series[f];-1!==(null===(b=l.options.id)||void 0===b?void 0:b.indexOf(a))&&l.remove(!1)}}super.setConnector(a);return this}toJSON(){var a=JSON.stringify(this.options.chartOptions);const b=this.options.chartConstructor;this.registerChartEvents();const c=super.toJSON();a=Object.assign(Object.assign({},c),{type:"Highcharts",options:Object.assign(Object.assign({},c.options),{chartOptions:a,chartConstructor:b,type:"Highcharts",sync:{}})});
this.emit({type:"toJSON",json:a});return a}getEditableOptions(){const b=this.chart,f=b&&b.options,c=f&&f.chart.type||"line";return a(this.options,{chartOptions:f},{chartOptions:{yAxis:x(b&&b.yAxis[0].options),xAxis:x(b&&b.xAxis[0].options),plotOptions:{series:(f&&f.plotOptions||{})[c]}}})}getEditableOptionValue(a){if(a)return 1===a.length&&"chartOptions"===a[0]?JSON.stringify(this.options.chartOptions,null,2):super.getEditableOptionValue.call(this,a)}}v.syncHandlers=h;v.defaultOptions=a(d.defaultOptions,
{allowConnectorUpdate:!0,chartClassName:"chart-container",chartID:"chart-"+q(),chartOptions:{chart:{styledMode:!0},series:[]},chartConstructor:"",editableOptions:(d.defaultOptions.editableOptions||[]).concat([{name:"chartOptions",type:"nested",nestedOptions:[{name:"chart",options:[{name:"title",propertyPath:["chartOptions","title","text"],type:"input"},{name:"subtitle",propertyPath:["chartOptions","subtitle","text"],type:"input"},{name:"type",propertyPath:["chartOptions","chart","type"],type:"select",
selectOptions:[{name:"column",iconURL:"series-types/icon-column.svg"},{name:"line",iconURL:"series-types/icon-line.svg"},{name:"scatter",iconURL:"series-types/icon-scatter.svg"},{name:"pie",iconURL:"series-types/icon-pie.svg"}]}]},{name:"xAxis",options:[{name:"title",propertyPath:["chartOptions","xAxis","title","text"],type:"input"},{name:"type",propertyPath:["chartOptions","xAxis","type"],type:"select",selectOptions:[{name:"linear"},{name:"datetime"},{name:"logarithmic"}]}]},{name:"yAxis",options:[{name:"title",
propertyPath:["chartOptions","yAxis","title","text"],type:"input"},{name:"type",propertyPath:["chartOptions","yAxis","type"],type:"select",selectOptions:[{name:"linear"},{name:"datetime"},{name:"logarithmic"}]}]},{name:"legend",showToggle:!0,propertyPath:["chartOptions","legend","enabled"],options:[{name:"align",propertyPath:["chartOptions","legend","align"],type:"select",selectOptions:[{name:"left"},{name:"center"},{name:"right"}]}]},{name:"tooltip",showToggle:!0,propertyPath:["chartOptions","tooltip",
"enabled"],options:[{name:"split",propertyPath:["chartOptions","tooltip","split"],type:"toggle"}]},{name:"dataLabels",propertyPath:["chartOptions","plotOptions","series","dataLabels","enabled"],showToggle:!0,options:[{name:"align",propertyPath:["chartOptions","plotOptions","series","dataLabels","align"],type:"select",selectOptions:[{name:"left"},{name:"center"},{name:"right"}]}]},{name:"credits",showToggle:!0,propertyPath:["chartOptions","credits","enabled"],options:[{name:"name",propertyPath:["chartOptions",
"credits","text"],type:"input"},{name:"url",propertyPath:["chartOptions","credits","href"],type:"input"}]}]},{name:"chartConfig",propertyPath:["chartOptions"],type:"textarea"},{name:"chartClassName",propertyPath:["chartClassName"],type:"input"},{name:"chartID",propertyPath:["chartID"],type:"input"}]),syncHandlers:h,editableOptionsBindings:a(d.defaultOptions.editableOptionsBindings,{skipRedraw:["chartOptions","chartConfig"]}),columnAssignment:{}});return v});t(d,"Core/Chart/ChartDefaults.js",[],function(){return{alignThresholds:!1,
panning:{enabled:!1,type:"x"},styledMode:!1,borderRadius:0,colorCount:10,allowMutatingData:!0,ignoreHiddenSeries:!0,spacing:[10,10,15,10],resetZoomButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}},reflow:!0,type:"line",zooming:{singleTouch:!1,resetButton:{theme:{zIndex:6},position:{align:"right",x:-10,y:10}}},width:null,height:null,borderColor:"#334eff",backgroundColor:"#ffffff",plotBorderColor:"#cccccc"}});t(d,"Core/Color/Color.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(d,
m){const {isNumber:e,merge:q,pInt:h}=m;class k{static parse(c){return c?new k(c):k.None}constructor(c){this.rgba=[NaN,NaN,NaN,NaN];this.input=c;const g=d.Color;if(g&&g!==k)return new g(c);this.init(c)}init(c){let g;let b;if("object"===typeof c&&"undefined"!==typeof c.stops)this.stops=c.stops.map(a=>new k(a[1]));else if("string"===typeof c){this.input=c=k.names[c.toLowerCase()]||c;if("#"===c.charAt(0)){var a=c.length;var d=parseInt(c.substr(1),16);7===a?g=[(d&16711680)>>16,(d&65280)>>8,d&255,1]:4===
a&&(g=[(d&3840)>>4|(d&3840)>>8,(d&240)>>4|d&240,(d&15)<<4|d&15,1])}if(!g)for(d=k.parsers.length;d--&&!g;)b=k.parsers[d],(a=b.regex.exec(c))&&(g=b.parse(a))}g&&(this.rgba=g)}get(c){const d=this.input,b=this.rgba;if("object"===typeof d&&"undefined"!==typeof this.stops){const a=q(d);a.stops=[].slice.call(a.stops);this.stops.forEach((b,d)=>{a.stops[d]=[a.stops[d][0],b.get(c)]});return a}return b&&e(b[0])?"rgb"===c||!c&&1===b[3]?"rgb("+b[0]+","+b[1]+","+b[2]+")":"a"===c?`${b[3]}`:"rgba("+b.join(",")+")":
d}brighten(c){const d=this.rgba;if(this.stops)this.stops.forEach(function(b){b.brighten(c)});else if(e(c)&&0!==c)for(let b=0;3>b;b++)d[b]+=h(255*c),0>d[b]&&(d[b]=0),255<d[b]&&(d[b]=255);return this}setOpacity(c){this.rgba[3]=c;return this}tweenTo(c,d){const b=this.rgba,a=c.rgba;if(!e(b[0])||!e(a[0]))return c.input||"none";c=1!==a[3]||1!==b[3];return(c?"rgba(":"rgb(")+Math.round(a[0]+(b[0]-a[0])*(1-d))+","+Math.round(a[1]+(b[1]-a[1])*(1-d))+","+Math.round(a[2]+(b[2]-a[2])*(1-d))+(c?","+(a[3]+(b[3]-
a[3])*(1-d)):"")+")"}}k.names={white:"#ffffff",black:"#000000"};k.parsers=[{regex:/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]?(?:\.[0-9]+)?)\s*\)/,parse:function(c){return[h(c[1]),h(c[2]),h(c[3]),parseFloat(c[4],10)]}},{regex:/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/,parse:function(c){return[h(c[1]),h(c[2]),h(c[3]),1]}}];k.None=new k("");"";return k});t(d,"Core/Color/Palettes.js",[],function(){return{colors:"#2caffe #544fc5 #00e272 #fe6a35 #6b8abc #d568fb #2ee0ca #fa4b42 #feb56a #91e8e1".split(" ")}});
t(d,"Core/Time.js",[d["Core/Globals.js"],d["Core/Utilities.js"]],function(d,m){const {win:e}=d,{defined:q,error:h,extend:k,isObject:c,merge:g,objectEach:b,pad:a,pick:x,splat:z,timeUnits:p}=m,v=d.isSafari&&e.Intl&&e.Intl.DateTimeFormat.prototype.formatRange,n=d.isSafari&&e.Intl&&!e.Intl.DateTimeFormat.prototype.formatRange;class f{constructor(a){this.options={};this.variableTimezone=this.useUTC=!1;this.Date=e.Date;this.getTimezoneOffset=this.timezoneOffsetFunction();this.update(a)}get(a,b){if(this.variableTimezone||
this.timezoneOffset){const f=b.getTime(),d=f-this.getTimezoneOffset(b);b.setTime(d);a=b["getUTC"+a]();b.setTime(f);return a}return this.useUTC?b["getUTC"+a]():b["get"+a]()}set(a,b,f){if(this.variableTimezone||this.timezoneOffset){if("Milliseconds"===a||"Seconds"===a||"Minutes"===a&&0===this.getTimezoneOffset(b)%36E5)return b["setUTC"+a](f);var d=this.getTimezoneOffset(b);d=b.getTime()-d;b.setTime(d);b["setUTC"+a](f);a=this.getTimezoneOffset(b);d=b.getTime()+a;return b.setTime(d)}return this.useUTC||
v&&"FullYear"===a?b["setUTC"+a](f):b["set"+a](f)}update(a={}){const b=x(a.useUTC,!0);this.options=a=g(!0,this.options,a);this.Date=a.Date||e.Date||Date;this.timezoneOffset=(this.useUTC=b)&&a.timezoneOffset||void 0;this.getTimezoneOffset=this.timezoneOffsetFunction();this.variableTimezone=b&&!(!a.getTimezoneOffset&&!a.timezone)}makeTime(a,b,f,d,c,g){let l,e,D;this.useUTC?(l=this.Date.UTC.apply(0,arguments),e=this.getTimezoneOffset(l),l+=e,D=this.getTimezoneOffset(l),e!==D?l+=D-e:e-36E5!==this.getTimezoneOffset(l-
36E5)||n||(l-=36E5)):l=(new this.Date(a,b,x(f,1),x(d,0),x(c,0),x(g,0))).getTime();return l}timezoneOffsetFunction(){const a=this,b=this.options,f=b.getTimezoneOffset,d=b.moment||e.moment;if(!this.useUTC)return function(a){return 6E4*(new Date(a.toString())).getTimezoneOffset()};if(b.timezone){if(d)return function(a){return 6E4*-d.tz(a,b.timezone).utcOffset()};h(25)}return this.useUTC&&f?function(a){return 6E4*f(a.valueOf())}:function(){return 6E4*(a.timezoneOffset||0)}}dateFormat(f,c,g){if(!q(c)||
isNaN(c))return d.defaultOptions.lang&&d.defaultOptions.lang.invalidDate||"";f=x(f,"%Y-%m-%d %H:%M:%S");const l=this;var e=new this.Date(c);const n=this.get("Hours",e),h=this.get("Day",e),w=this.get("Date",e),p=this.get("Month",e),m=this.get("FullYear",e),B=d.defaultOptions.lang,r=B&&B.weekdays,z=B&&B.shortWeekdays;e=k({a:z?z[h]:r[h].substr(0,3),A:r[h],d:a(w),e:a(w,2," "),w:h,b:B.shortMonths[p],B:B.months[p],m:a(p+1),o:p+1,y:m.toString().substr(2,2),Y:m,H:a(n),k:n,I:a(n%12||12),l:n%12||12,M:a(this.get("Minutes",
e)),p:12>n?"AM":"PM",P:12>n?"am":"pm",S:a(e.getSeconds()),L:a(Math.floor(c%1E3),3)},d.dateFormats);b(e,function(a,b){for(;-1!==f.indexOf("%"+b);)f=f.replace("%"+b,"function"===typeof a?a.call(l,c):a)});return g?f.substr(0,1).toUpperCase()+f.substr(1):f}resolveDTLFormat(a){return c(a,!0)?a:(a=z(a),{main:a[0],from:a[1],to:a[2]})}getTimeTicks(a,b,f,d){const c=this,g=[],e={};var l=new c.Date(b);const n=a.unitRange,h=a.count||1;let w;d=x(d,1);if(q(b)){c.set("Milliseconds",l,n>=p.second?0:h*Math.floor(c.get("Milliseconds",
l)/h));n>=p.second&&c.set("Seconds",l,n>=p.minute?0:h*Math.floor(c.get("Seconds",l)/h));n>=p.minute&&c.set("Minutes",l,n>=p.hour?0:h*Math.floor(c.get("Minutes",l)/h));n>=p.hour&&c.set("Hours",l,n>=p.day?0:h*Math.floor(c.get("Hours",l)/h));n>=p.day&&c.set("Date",l,n>=p.month?1:Math.max(1,h*Math.floor(c.get("Date",l)/h)));if(n>=p.month){c.set("Month",l,n>=p.year?0:h*Math.floor(c.get("Month",l)/h));var m=c.get("FullYear",l)}n>=p.year&&c.set("FullYear",l,m-m%h);n===p.week&&(m=c.get("Day",l),c.set("Date",
l,c.get("Date",l)-m+d+(m<d?-7:0)));m=c.get("FullYear",l);d=c.get("Month",l);const a=c.get("Date",l),k=c.get("Hours",l);b=l.getTime();!c.variableTimezone&&c.useUTC||!q(f)||(w=f-b>4*p.month||c.getTimezoneOffset(b)!==c.getTimezoneOffset(f));b=l.getTime();for(l=1;b<f;)g.push(b),b=n===p.year?c.makeTime(m+l*h,0):n===p.month?c.makeTime(m,d+l*h):!w||n!==p.day&&n!==p.week?w&&n===p.hour&&1<h?c.makeTime(m,d,a,k+l*h):b+n*h:c.makeTime(m,d,a+l*h*(n===p.day?1:7)),l++;g.push(b);n<=p.hour&&1E4>g.length&&g.forEach(function(a){0===
a%18E5&&"000000000"===c.dateFormat("%H%M%S%L",a)&&(e[a]="day")})}g.info=k(a,{higherRanks:e,totalRange:n*h});return g}getDateFormat(a,b,f,c){const d=this.dateFormat("%m-%d %H:%M:%S.%L",b),g={millisecond:15,second:12,minute:9,hour:6,day:3};let l,n="millisecond";for(l in p){if(a===p.week&&+this.dateFormat("%w",b)===f&&"00:00:00.000"===d.substr(6)){l="week";break}if(p[l]>a){l=n;break}if(g[l]&&d.substr(g[l])!=="01-01 00:00:00.000".substr(g[l]))break;"week"!==l&&(n=l)}return this.resolveDTLFormat(c[l]).main}}
"";return f});t(d,"Core/Defaults.js",[d["Core/Chart/ChartDefaults.js"],d["Core/Color/Color.js"],d["Core/Globals.js"],d["Core/Color/Palettes.js"],d["Core/Time.js"],d["Core/Utilities.js"]],function(d,m,e,y,h,k){const {isTouchDevice:c,svg:g}=e,{merge:b}=k,a={colors:y.colors,symbols:["circle","diamond","square","triangle","triangle-down"],lang:{loading:"Loading...",months:"January February March April May June July August September October November December".split(" "),shortMonths:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),
weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),decimalPoint:".",numericSymbols:"kMGTPE".split(""),resetZoom:"Reset zoom",resetZoomTitle:"Reset zoom level 1:1",thousandsSep:" "},global:{},time:{Date:void 0,getTimezoneOffset:void 0,timezone:void 0,timezoneOffset:0,useUTC:!0},chart:d,title:{style:{color:"#333333",fontWeight:"bold"},text:"Chart title",align:"center",margin:15,widthAdjust:-44},subtitle:{style:{color:"#666666",fontSize:"0.8em"},text:"",align:"center",widthAdjust:-44},
caption:{margin:15,style:{color:"#666666",fontSize:"0.8em"},text:"",align:"left",verticalAlign:"bottom"},plotOptions:{},legend:{enabled:!0,align:"center",alignColumns:!0,className:"highcharts-no-tooltip",layout:"horizontal",itemMarginBottom:2,itemMarginTop:2,labelFormatter:function(){return this.name},borderColor:"#999999",borderRadius:0,navigation:{style:{fontSize:"0.8em"},activeColor:"#0022ff",inactiveColor:"#cccccc"},itemStyle:{color:"#333333",cursor:"pointer",fontSize:"0.8em",textDecoration:"none",
textOverflow:"ellipsis"},itemHoverStyle:{color:"#000000"},itemHiddenStyle:{color:"#666666",textDecoration:"line-through"},shadow:!1,itemCheckboxStyle:{position:"absolute",width:"13px",height:"13px"},squareSymbol:!0,symbolPadding:5,verticalAlign:"bottom",x:0,y:0,title:{style:{fontSize:"0.8em",fontWeight:"bold"}}},loading:{labelStyle:{fontWeight:"bold",position:"relative",top:"45%"},style:{position:"absolute",backgroundColor:"#ffffff",opacity:.5,textAlign:"center"}},tooltip:{enabled:!0,animation:g,
borderRadius:3,dateTimeLabelFormats:{millisecond:"%A, %e %b, %H:%M:%S.%L",second:"%A, %e %b, %H:%M:%S",minute:"%A, %e %b, %H:%M",hour:"%A, %e %b, %H:%M",day:"%A, %e %b %Y",week:"Week from %A, %e %b %Y",month:"%B %Y",year:"%Y"},footerFormat:"",headerShape:"callout",hideDelay:500,padding:8,shape:"callout",shared:!1,snap:c?25:10,headerFormat:'<span style="font-size: 0.8em">{point.key}</span><br/>',pointFormat:'<span style="color:{point.color}">\u25cf</span> {series.name}: <b>{point.y}</b><br/>',backgroundColor:"#ffffff",
borderWidth:void 0,shadow:!0,stickOnContact:!1,style:{color:"#333333",cursor:"default",fontSize:"0.8em"},useHTML:!1},credits:{enabled:!0,href:"https://www.highcharts.com?credits",position:{align:"right",x:-10,verticalAlign:"bottom",y:-5},style:{cursor:"pointer",color:"#999999",fontSize:"0.6em"},text:"Highcharts.com"}};a.chart.styledMode=!1;"";const q=new h(a.time);d={defaultOptions:a,defaultTime:q,getOptions:function(){return a},setOptions:function(c){b(!0,a,c);if(c.time||c.global)e.time?e.time.update(b(a.global,
a.time,c.global,c.time)):e.time=q;return a}};"";return d});t(d,"Core/Templating.js",[d["Core/Defaults.js"],d["Core/Utilities.js"]],function(d,m){function e(a="",b,c){const f=/\{([a-zA-Z0-9:\.,;\-\/<>%_@"'= #\(\)]+)\}/g,d=/\(([a-zA-Z0-9:\.,;\-\/<>%_@"'= ]+)\)/g,l=[],n=/f$/,m=/\.([0-9])/,p=h.lang,x=c&&c.time||k,y=c&&c.numberFormatter||q,t=(a="")=>{let c;return"true"===a?!0:"false"===a?!1:(c=Number(a)).toString()===a?c:g(a,b)};let u,r,G=0,H;for(;null!==(u=f.exec(a));){const c=d.exec(u[1]);c&&(u=c,H=
!0);r&&r.isBlock||(r={ctx:b,expression:u[1],find:u[0],isBlock:"#"===u[1].charAt(0),start:u.index,startInner:u.index+u[0].length,length:u[0].length});var A=u[1].split(" ")[0].replace("#","");v[A]&&(r.isBlock&&A===r.fn&&G++,r.fn||(r.fn=A));A="else"===u[1];if(r.isBlock&&r.fn&&(u[1]===`/${r.fn}`||A))if(G)A||G--;else{var C=r.startInner;C=a.substr(C,u.index-C);void 0===r.body?(r.body=C,r.startInner=u.index+u[0].length):r.elseBody=C;r.find+=C+u[0];A||(l.push(r),r=void 0)}else r.isBlock||l.push(r);if(c&&
(null===r||void 0===r||!r.isBlock))break}l.forEach(c=>{const {body:f,elseBody:d,expression:l,fn:g}=c;var h;if(g){var k=[c],w=l.split(" ");for(h=v[g].length;h--;)k.unshift(t(w[h+1]));h=v[g].apply(b,k);c.isBlock&&"boolean"===typeof h&&(h=e(h?f:d,b))}else k=l.split(":"),h=t(k.shift()||""),k.length&&"number"===typeof h&&(k=k.join(":"),n.test(k)?(w=parseInt((k.match(m)||["","-1"])[1],10),null!==h&&(h=y(h,w,p.decimalPoint,-1<k.indexOf(",")?p.thousandsSep:""))):h=x.dateFormat(k,h));a=a.replace(c.find,z(h,
""))});return H?e(a,b,c):a}function q(b,c,d,g){b=+b||0;c=+c;const f=h.lang;var l=(b.toString().split(".")[1]||"").split("e")[0].length;const e=b.toString().split("e"),n=c;if(-1===c)c=Math.min(l,20);else if(!a(c))c=2;else if(c&&e[1]&&0>e[1]){var k=c+ +e[1];0<=k?(e[0]=(+e[0]).toExponential(k).split("e")[0],c=k):(e[0]=e[0].split(".")[0]||0,b=20>c?(e[0]*Math.pow(10,e[1])).toFixed(c):0,e[1]=0)}k=(Math.abs(e[1]?e[0]:b)+Math.pow(10,-Math.max(c,l)-1)).toFixed(c);l=String(p(k));const m=3<l.length?l.length%
3:0;d=z(d,f.decimalPoint);g=z(g,f.thousandsSep);b=(0>b?"-":"")+(m?l.substr(0,m)+g:"");b=0>+e[1]&&!n?"0":b+l.substr(m).replace(/(\d{3})(?=\d)/g,"$1"+g);c&&(b+=d+k.slice(-c));e[1]&&0!==+b&&(b+="e"+e[1]);return b}const {defaultOptions:h,defaultTime:k}=d,{extend:c,getNestedProperty:g,isArray:b,isNumber:a,isObject:x,pick:z,pInt:p}=m,v={add:(a,b)=>a+b,divide:(a,b)=>0!==b?a/b:"",eq:(a,b)=>a==b,each:function(a){const d=arguments[arguments.length-1];return b(a)?a.map((b,f)=>e(d.body,c(x(b)?b:{"@this":b},{"@index":f,
"@first":0===f,"@last":f===a.length-1}))).join(""):!1},ge:(a,b)=>a>=b,gt:(a,b)=>a>b,"if":a=>!!a,le:(a,b)=>a<=b,lt:(a,b)=>a<b,multiply:(a,b)=>a*b,ne:(a,b)=>a!=b,subtract:(a,b)=>a-b,unless:a=>!a};return{dateFormat:function(a,b,c){return k.dateFormat(a,b,c)},format:e,helpers:v,numberFormat:q}});t(d,"Dashboards/Components/KPIComponent.js",[d["Core/Renderer/HTML/AST.js"],d["Dashboards/Components/Component.js"],d["Core/Templating.js"],d["Core/Globals.js"],d["Core/Utilities.js"]],function(d,m,e,y,h){var k=
this&&this.__awaiter||function(a,b,c,d){function f(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,g){function e(a){try{h(d.next(a))}catch(u){g(u)}}function l(a){try{h(d["throw"](a))}catch(u){g(u)}}function h(a){a.done?c(a.value):f(a.value).then(e,l)}h((d=d.apply(a,b||[])).next())})};const {format:c}=e,{createElement:g,css:b,defined:a,getStyle:q,isArray:z,isNumber:p,merge:v}=h;class n extends m{static fromJSON(a,b){a=a.options;const c=a.chartOptions&&JSON.parse(a.chartOptions),
d=JSON.parse(a.subtitle||"{}"),f=a.title&&JSON.parse(a.title);return new n(b,v(a,{chartOptions:c,title:f,subtitle:d}))}constructor(a,b){b=v(n.defaultOptions,b);super(a,b);this.options=b;this.type="KPI";this.sync=new m.Sync(this,this.syncHandlers);this.value=g("span",{className:`${m.defaultOptions.className}-kpi-value`},{},this.contentElement);this.subtitle=g("span",{className:this.getSubtitleClassName()},{},this.contentElement);this.options.chartOptions&&(this.chartContainer=g("div",{className:`${m.defaultOptions.className}-kpi-chart-container`},
{},this.contentElement))}load(){super.load();this.contentElement.style.display="flex";this.contentElement.style.flexDirection="column";this.parentElement.appendChild(this.element);this.updateElements();return this}resize(a,b){super.resize(a,b);!this.updatingSize&&this.dimensions.width&&this.dimensions.height&&this.updateSize(this.dimensions.width,this.dimensions.height);this.chart&&this.chart.reflow();this.updatingSize=!1;return this}updateTitleSize(a,b){this.titleElement&&(this.titleElement.style.fontSize=
this.getFontSize(a,b,.08*(this.chart?1:1.7)))}getFontSize(a,b,c){return Math.max(this.options.minFontSize,Math.round(c*Math.min(a,b)))+"px"}updateSize(a,b){this.updateTitleSize(a,b);const c=this.chart?1:1.7;this.value.style.fontSize=this.getFontSize(a,b,.15*c*(this.options.title?.7:1));this.subtitle.style.fontSize=this.getFontSize(a,b,.08*c);this.updatingSize=!0;super.resize(Number(q(this.parentElement,"width")),Number(q(this.parentElement,"height")))}render(){super.render();const a=n.charter||y;
this.options.chartOptions&&!this.chart&&this.chartContainer?this.chart=a.chart(this.chartContainer,v(n.defaultChartOptions,this.options.chartOptions)):this.chart&&!this.options.chartOptions&&"chartOptions"in this.options&&(this.chart.destroy(),this.chart=void 0);return this}redraw(){super.redraw();this.updateElements();return this}update(a){const b=Object.create(null,{update:{get:()=>super.update}});return k(this,void 0,void 0,function*(){yield b.update.call(this,a);a.chartOptions&&this.chart&&this.chart.update(a.chartOptions);
this.redraw()})}updateElements(){const {style:f,subtitle:g,valueFormat:e,valueFormatter:h}=this.options;this.options.title&&(this.setTitle(this.options.title),this.dimensions.width&&this.dimensions.height&&this.updateTitleSize(this.dimensions.width,this.dimensions.height));let k=this.options.value;if(a(k)){let a;p(k)&&(a=k);h?k=h.call(this,k):e?k=c(e,{value:k}):p(k)&&(k=k.toLocaleString());d.setElementHTML(this.value,k);d.setElementHTML(this.subtitle,this.getSubtitle());this.prevValue=a}f&&b(this.element,
f);"object"===typeof g&&(g.style&&b(this.subtitle,g.style),this.subtitle.className=this.getSubtitleClassName());this.chartContainer&&(this.chartContainer.style.flex=this.options.chartOptions?"1":"0");this.chart&&this.chart.reflow();this.value.style.color=this.getValueColor()}getSubtitle(){const {subtitle:a,value:b}=this.options;if("string"===typeof a)return a;if(a){if(p(this.prevValue)&&p(b)){const d=b-this.prevValue;let f;if(0<d)f='<span style="color:green">&#9650;</span> +';else if(0>d)f='<span style="color:red">&#9660;</span> ';
else return this.subtitle.innerHTML;if("diff"===a.type)return f+d.toLocaleString();if("diffpercent"===a.type)return f+c("{v:,.2f}%",{v:d/this.prevValue*100})}return a.text||""}return""}getSubtitleClassName(){const {subtitle:a}=this.options;return`${m.defaultOptions.className}-kpi-subtitle`+("object"===typeof a&&a.className||"")}getValueColor(){const {threshold:a,thresholdColors:b,value:c}=this.options;if(b&&a&&p(c)){if(z(a))for(let d=a.length-1;0<=d;d--){if(c>=a[d])return d+1<b.length?b[d+1]:b[b.length-
1]}else if(c>=a)return b[1];return b[0]}return""}toJSON(){const a=super.toJSON(),b=Object.assign(Object.assign({},a),{type:"KPI",options:Object.assign(Object.assign({},a.options),{type:"KPI",value:this.options.value,subtitle:JSON.stringify(this.options.subtitle),title:JSON.stringify(this.options.title),threshold:this.options.threshold,thresholdColors:this.options.thresholdColors,chartOptions:JSON.stringify(this.options.chartOptions),valueFormat:this.options.valueFormat})});this.emit({type:"toJSON",
json:a});return b}}n.defaultOptions=v(m.defaultOptions,{type:"KPI",className:[m.defaultOptions.className,`${m.defaultOptions.className}-kpi`].join(" "),minFontSize:20,thresholdColors:["#f45b5b","#90ed7d"]});n.defaultChartOptions={chart:{type:"spline",backgroundColor:"transparent"},title:{text:void 0},xAxis:{visible:!1},yAxis:{visible:!1,title:{text:null}},legend:{enabled:!1},credits:{enabled:!1},tooltip:{outside:!0},plotOptions:{series:{marker:{enabled:!1}}}};return n});t(d,"Dashboards/Plugins/HighchartsPlugin.js",
[d["Dashboards/Plugins/HighchartsComponent.js"],d["Dashboards/Components/KPIComponent.js"],d["Dashboards/Plugins/HighchartsSyncHandlers.js"]],function(d,m,e){return{custom:{connectHighcharts:function(e){d.charter=e;m.charter=e}},name:"Highcharts.DashboardPlugin",onRegister:function(q){const {Sync:h,ComponentRegistry:k}=q;k.registerComponent("Highcharts",d);k.registerComponent("KPI",m);h.defaultHandlers=Object.assign(Object.assign({},h.defaultHandlers),e)},onUnregister:function(d){const {Sync:h}=d;
Object.keys(e).forEach(d=>{h.defaultHandlers[d]===e[d]&&delete h.defaultHandlers[d]})}}});t(d,"Dashboards/Plugins/DataGridSyncHandlers.js",[d["Core/Utilities.js"]],function(d){const {addEvent:m}=d;return{highlight:{emitter:["highlightEmitter",function(){if("DataGrid"===this.type){const {dataGrid:d,board:q}=this;if(q){const {dataCursor:e}=q,k=[];if(d)return k.push(m(d.container,"dataGridHover",c=>{const d=this.connector&&this.connector.table;if(d){c=c.row;const b=c.querySelector(`.highcharts-datagrid-cell[data-original-data="${c.dataset.rowXIndex}"]`);
e.emitCursor(d,{type:"position",row:parseInt(c.dataset.rowIndex,10),column:b?b.dataset.columnName:void 0,state:"dataGrid.hoverRow"})}})),k.push(m(d.container,"mouseout",()=>{const c=this.connector&&this.connector.table;c&&e.emitCursor(c,{type:"position",state:"dataGrid.hoverOut"})})),function(){k.forEach(c=>c())}}}}],handler:["highlightHandler",void 0,function(){const {board:d}=this,m=c=>{c=c.cursor;if("position"===c.type){var {row:b}=c;({dataGrid:c}=this);void 0!==b&&c&&(b=c.container.querySelector(`.highcharts-datagrid-row[data-row-index="${b}"]`))&&
(c.toggleRowHighlight(b),c.hoveredRow=b)}},h=()=>{const {dataGrid:c}=this;c&&c.toggleRowHighlight(void 0)},k=()=>{const {dataCursor:c}=d;if(c){var b=this.connector&&this.connector.table;b&&(c.addListener(b.id,"point.mouseOver",m),c.addListener(b.id,"point.mouseOut",h))}},c=()=>{const c=d.dataCursor,b=this.connector&&this.connector.table;b&&(c.addListener(b.id,"point.mouseOver",m),c.addListener(b.id,"point.mouseOut",h))};d&&(k(),this.on("setConnector",()=>c()),this.on("afterSetConnector",()=>k()))}]},
extremes:{handler:function(){const {board:d}=this,m=c=>{"position"===c.cursor.type&&this.dataGrid&&c.cursors.length&&(c=c.cursors[c.cursors.length-1],"row"in c&&"number"===typeof c.row&&({row:c}=c,this.dataGrid.scrollToRow(c)))},h=()=>{const {dataCursor:c}=d;if(c){var e=this.connector&&this.connector.table;e&&c.addListener(e.id,"xAxis.extremes.min",m)}},k=()=>{const c=this.connector&&this.connector.table,{dataCursor:e}=d;c&&e.removeListener(c.id,"xAxis.extremes.min",m)};d&&(h(),this.on("setConnector",
()=>k()),this.on("afterSetConnector",()=>h()))}}}});t(d,"Dashboards/Plugins/DataGridComponent.js",[d["Dashboards/Components/Component.js"],d["Data/Converters/DataConverter.js"],d["Core/Utilities.js"],d["Dashboards/Plugins/DataGridSyncHandlers.js"]],function(d,m,e,t){var h=this&&this.__awaiter||function(b,a,c,d){function e(a){return a instanceof c?a:new c(function(b){b(a)})}return new (c||(c=Promise))(function(c,g){function f(a){try{k(d.next(a))}catch(E){g(E)}}function h(a){try{k(d["throw"](a))}catch(E){g(E)}}
function k(a){a.done?c(a.value):e(a.value).then(f,h)}k((d=d.apply(b,a||[])).next())})};const {merge:k,uniqueKey:c}=e;class g extends d{static onUpdate(b,a){if(b=b.target){var c=b.closest(".highcharts-datagrid-row"),d=b.closest(".highcharts-datagrid-cell");const e=new m;c&&c instanceof HTMLElement&&d&&d instanceof HTMLElement&&(c=c.dataset.rowIndex,{columnName:d}=d.dataset,void 0!==c&&void 0!==d&&(a=a.table.modified))&&(b=e.asGuessedType(b.value),b instanceof Date&&(b=b.toString()),a.setCell(d,parseInt(c,
10),b))}}static fromJSON(b,a){const c=b.options,d=JSON.parse(b.options.dataGridOptions||"");a=new g(a,k(c,{dataGridOptions:d,syncHandlers:g.syncHandlers}));a.emit({type:"fromJSON",json:b});return a}constructor(b,a){a=k(g.defaultOptions,a);super(b,a);this.connectorListeners=[];this.options=a;this.type="DataGrid";this.options.dataGridClassName&&this.contentElement.classList.add(this.options.dataGridClassName);this.options.dataGridID&&(this.contentElement.id=this.options.dataGridID);this.syncHandlers=
this.handleSyncOptions(t);this.sync=new g.Sync(this,this.syncHandlers);this.dataGridOptions=this.options.dataGridOptions||{};this.innerResizeTimeouts=[];d.addInstance(this)}load(){this.emit({type:"load"});super.load();this.parentElement.appendChild(this.element);this.hasLoaded=!0;if(this.connector&&!this.connectorListeners.length){const b=this.connectorListeners;b.push(this.connector.on("afterLoad",a=>{a.table&&this.connector&&this.connector.table.setColumns(a.table.getColumns())}));b.push(this.connector.table.on("afterSetCell",
a=>{const b=this.dataGrid;let c=!0;b&&Array.prototype.slice.call(b.rowElements[a.rowIndex].childNodes).forEach(b=>{if(0<b.childElementCount){var d=b.childNodes[0];d="string"===typeof a.cellValue?d.value:+d.value;b.dataset.columnName===a.columnName&&d===a.cellValue&&(c=!1)}});c?this.update({}):void 0}))}this.emit({type:"afterLoad"});return this}render(){this.emit({type:"beforeRender"});super.render();this.dataGrid||(this.dataGrid=this.constructDataGrid());this.connector&&this.dataGrid&&this.dataGrid.dataTable.modified!==
this.connector.table.modified&&this.dataGrid.update({dataTable:this.connector.table.modified});this.sync.start();this.emit({type:"afterRender"});this.setupConnectorUpdate();return this}redraw(){super.redraw();return this.render()}resize(b,a){this.dataGrid&&(super.resize(b,a),this.dataGrid.setSize(b,a))}update(b){const a=Object.create(null,{update:{get:()=>super.update}});var c;return h(this,void 0,void 0,function*(){if((null===(c=b.connector)||void 0===c?void 0:c.id)!==this.connectorId){const a=this.connectorListeners;
for(let b=0,c=a.length;b<c;++b)a[b]();a.length=0}yield a.update.call(this,b);this.dataGrid&&this.dataGrid.update(this.options.dataGridOptions||{});this.emit({type:"afterUpdate"})})}constructDataGrid(){if(g.DataGridConstructor)return this.dataGrid=new g.DataGridConstructor(this.contentElement,Object.assign(Object.assign({},this.options.dataGridOptions),{dataTable:this.connector&&this.connector.table.modified}));throw Error("DataGrid not connected.");}setupConnectorUpdate(){const {connector:b,dataGrid:a}=
this;if(b&&a)a.on("cellClick",a=>{"input"in a&&a.input.addEventListener("keyup",a=>this.options.onUpdate(a,b))})}toJSON(){var b=JSON.stringify(this.options.dataGridOptions);const a=super.toJSON();b=Object.assign(Object.assign({},a),{options:Object.assign(Object.assign({},a.options),{dataGridOptions:b})});this.emit({type:"toJSON",json:b});return b}}g.syncHandlers=t;g.defaultOptions=k(d.defaultOptions,{dataGridClassName:"dataGrid-container",dataGridID:"dataGrid-"+c(),dataGridOptions:{},editableOptions:[{name:"connectorName",
propertyPath:["connector","id"],type:"select"}],syncHandlers:t,onUpdate:g.onUpdate});return g});t(d,"Dashboards/Plugins/DataGridPlugin.js",[d["Dashboards/Plugins/DataGridComponent.js"]],function(d){return{custom:{connectDataGrid:function(m){d.DataGridConstructor=m}},name:"DataGrid.DashboardPlugin",onRegister:function(m){({ComponentRegistry:m}=m);m.registerComponent("DataGrid",d)},onUnregister:function(){}}});t(d,"masters/modules/dashboards-plugin.src.js",[d["Dashboards/Globals.js"],d["Dashboards/Plugins/HighchartsPlugin.js"],
d["Dashboards/Plugins/DataGridPlugin.js"]],function(d,m,e){d.DataGridPlugin=e;d.HighchartsPlugin=m;d.win.Highcharts&&(m.custom.connectHighcharts(d.win.Highcharts),d.PluginHandler.addPlugin(m));d.win.DataGrid&&(e.custom.connectDataGrid(d.win.DataGrid.DataGrid),d.PluginHandler.addPlugin(e));return d})});//# sourceMappingURL=dashboards-plugin.js.map