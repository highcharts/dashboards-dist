{"version":3,"sources":["<anon>"],"sourcesContent":["// SPDX-License-Identifier: LicenseRef-Highcharts\n/**\n * @license Highcharts Dashboards Layout 4.1.0 (2026-01-21)\n * @module dashboards/modules/layout\n * @requires dashboards\n *\n * (c) 2009-2026 Highsoft AS\n *\n * A commercial license may be required depending on use.\n * See www.highcharts.com/license\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(root[\"_Dashboards\"], root[\"_Dashboards\"][\"AST\"], root[\"_Dashboards\"][\"ComponentRegistry\"]);\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"dashboards/modules/layout\", [\"dashboards/dashboards\"], function (amd1) {return factory(amd1,amd1[\"AST\"],amd1[\"ComponentRegistry\"]);});\n\telse if(typeof exports === 'object')\n\t\texports[\"dashboards/modules/layout\"] = factory(root[\"_Dashboards\"], root[\"_Dashboards\"][\"AST\"], root[\"_Dashboards\"][\"ComponentRegistry\"]);\n\telse\n\t\troot[\"Dashboards\"] = factory(root[\"Dashboards\"], root[\"Dashboards\"][\"AST\"], root[\"Dashboards\"][\"ComponentRegistry\"]);\n})(typeof window === 'undefined' ? this : window, (__WEBPACK_EXTERNAL_MODULE__668__, __WEBPACK_EXTERNAL_MODULE__160__, __WEBPACK_EXTERNAL_MODULE__376__) => {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 160:\n/***/ ((module) => {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__160__;\n\n/***/ }),\n\n/***/ 376:\n/***/ ((module) => {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__376__;\n\n/***/ }),\n\n/***/ 668:\n/***/ ((module) => {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__668__;\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t(() => {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = (module) => {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\t() => (module['default']) :\n/******/ \t\t\t\t() => (module);\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ layout_src)\n});\n\n// EXTERNAL MODULE: external {\"amd\":[\"dashboards/dashboards\"],\"commonjs\":[\"dashboards\"],\"commonjs2\":[\"dashboards\"],\"root\":[\"Dashboards\"]}\nvar dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_ = __webpack_require__(668);\nvar dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default = /*#__PURE__*/__webpack_require__.n(dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_);\n;// ./code/dashboards/es-modules/Dashboards/EditMode/EditGlobals.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\nconst PREFIX = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + 'edit-';\nconst EditGlobals = {\n    classNames: {\n        resizeSnap: PREFIX + 'resize-snap',\n        resizeSnapX: PREFIX + 'resize-snap-x',\n        resizeSnapY: PREFIX + 'resize-snap-y',\n        separator: PREFIX + 'separator',\n        contextMenuBtn: PREFIX + 'context-menu-btn',\n        contextMenuBtnText: PREFIX + 'context-menu-btn-text',\n        contextMenu: PREFIX + 'context-menu',\n        contextMenuItem: PREFIX + 'context-menu-item',\n        editModeEnabled: PREFIX + 'enabled',\n        editToolbar: PREFIX + 'toolbar',\n        editToolbarCellOutline: PREFIX + 'toolbar-cell-outline',\n        editToolbarRowOutline: PREFIX + 'toolbar-row-outline',\n        editToolbarItem: PREFIX + 'toolbar-item',\n        editToolbarRow: PREFIX + 'toolbar-row',\n        editToolbarCell: PREFIX + 'toolbar-cell',\n        editSidebar: PREFIX + 'sidebar',\n        editSidebarShow: PREFIX + 'sidebar-show',\n        editSidebarHide: PREFIX + 'sidebar-hide',\n        editSidebarHeader: PREFIX + 'sidebar-header',\n        editSidebarTitle: PREFIX + 'sidebar-title',\n        editSidebarMenuItem: PREFIX + 'sidebar-item',\n        rowContextHighlight: PREFIX + 'row-context-highlight',\n        cellEditHighlight: PREFIX + 'cell-highlight',\n        dashboardCellEditHighlightActive: PREFIX + 'cell-highlight-active',\n        dragMock: PREFIX + 'drag-mock',\n        dropPointer: PREFIX + 'drop-pointer',\n        contextDetectionPointer: PREFIX + 'ctx-detection-pointer',\n        resizePointer: PREFIX + 'resize-pointer',\n        currentEditedElement: PREFIX + 'unmask',\n        maskElement: PREFIX + 'mask',\n        menuItem: PREFIX + 'menu-item',\n        menu: PREFIX + 'menu',\n        menuVerticalSeparator: PREFIX + 'menu-vertical-separator',\n        menuHorizontalSeparator: PREFIX + 'menu-horizontal-separator',\n        menuDestroy: PREFIX + 'menu-destroy',\n        editSidebarWrapper: PREFIX + 'sidebar-wrapper',\n        customSelect: PREFIX + 'custom-select',\n        customSelectButton: PREFIX + 'custom-option-button',\n        toggleContainer: PREFIX + 'toggle-container',\n        toggleWrapper: PREFIX + 'toggle-wrapper',\n        toggleSlider: PREFIX + 'toggle-slider',\n        toggleWrapperColored: PREFIX + 'toggle-wrapper-colored',\n        toggleLabels: PREFIX + 'toggle-labels',\n        labeledToggleWrapper: PREFIX + 'labeled-toggle-wrapper',\n        button: PREFIX + 'button',\n        sidebarNavButton: PREFIX + 'sidebar-button-nav',\n        labelText: PREFIX + 'label-text',\n        editSidebarTabBtn: PREFIX + 'sidebar-tab-btn',\n        editToolsBtn: PREFIX + 'tools-btn',\n        editTools: PREFIX + 'tools',\n        editGridItems: PREFIX + 'grid-items',\n        editStandaloneToggle: PREFIX + 'standalone-toggle',\n        // Confirmation popup\n        confirmationPopup: PREFIX + 'confirmation-popup',\n        popupButtonContainer: PREFIX + 'confirmation-popup-button-container',\n        popupContentContainer: PREFIX + 'confirmation-popup-content',\n        popupCancelBtn: PREFIX + 'confirmation-popup-cancel-btn',\n        popupConfirmBtn: PREFIX + 'confirmation-popup-confirm-btn',\n        popupCloseButton: PREFIX + 'popup-close',\n        editOverlay: PREFIX + 'overlay',\n        editOverlayActive: PREFIX + 'overlay-active',\n        resizerMenuBtnActive: PREFIX + 'resizer-menu-btn-active',\n        sidebarCloseButton: PREFIX + 'close-btn',\n        editSidebarTabBtnWrapper: PREFIX + 'tabs-buttons-wrapper',\n        editSidebarRight: PREFIX + 'sidebar-right',\n        editSidebarRightShow: PREFIX + 'sidebar-right-show',\n        viewFullscreen: PREFIX + 'view-fullscreen',\n        // Accordion\n        accordionMenu: PREFIX + 'accordion-menu',\n        accordionContainer: PREFIX + 'accordion',\n        accordionHeader: PREFIX + 'accordion-header',\n        accordionHeaderBtn: PREFIX + 'accordion-header-btn',\n        accordionHeaderWrapper: PREFIX + 'accordion-header-wrapper',\n        accordionHeaderIcon: PREFIX + 'accordion-header-icon',\n        accordionContent: PREFIX + 'accordion-content',\n        accordionNestedWrapper: PREFIX + 'accordion-nested',\n        accordionMenuButtonsContainer: PREFIX + 'accordion-menu-buttons-container',\n        accordionMenuButton: PREFIX + 'accordion-menu-button',\n        accordionStandaloneWrapper: PREFIX + 'accordion-standalone-wrapper',\n        hiddenElement: PREFIX + 'hidden-element',\n        collapsableContentHeader: PREFIX + 'collapsable-content-header',\n        standaloneElement: PREFIX + 'standalone-element',\n        // Custom dropdown with icons\n        collapsedElement: PREFIX + 'collapsed-element',\n        dropdown: PREFIX + 'dropdown',\n        dropdownContent: PREFIX + 'dropdown-content',\n        dropdownButton: PREFIX + 'dropdown-button',\n        dropdownButtonContent: PREFIX + 'dropdown-button-content',\n        dropdownIcon: PREFIX + 'pointer',\n        icon: PREFIX + 'icon'\n    },\n    lang: {\n        accessibility: {\n            contextMenu: {\n                button: 'Context menu'\n            },\n            editMode: {\n                editMode: 'Edit mode toggle button'\n            }\n        },\n        addComponent: 'Add component',\n        cancelButton: 'Cancel',\n        caption: 'Caption',\n        chartClassName: 'Chart class name',\n        chartConfig: 'Chart configuration',\n        chartID: 'Chart ID',\n        chartOptions: 'Chart options',\n        chartType: 'Chart type',\n        connectorName: 'Connector name',\n        confirmButton: 'Confirm',\n        confirmDestroyCell: 'Do you really want to destroy the cell?',\n        confirmDestroyRow: 'Do you really want to destroy the row?',\n        confirmDiscardChanges: 'Do you really want to discard the changes?',\n        dataLabels: 'Data labels',\n        editMode: 'Edit mode',\n        errorMessage: 'Something went wrong',\n        exitFullscreen: 'Exit full screen',\n        htmlInput: 'HTML',\n        id: 'Id',\n        off: 'off',\n        on: 'on',\n        pointFormat: 'Point format',\n        settings: 'Settings',\n        style: 'Styles',\n        title: 'Title',\n        viewFullscreen: 'View in full screen',\n        sidebar: {\n            HTML: 'HTML',\n            row: 'Row',\n            Highcharts: 'Highcharts',\n            Grid: 'Grid',\n            KPI: 'KPI'\n        }\n    }\n};\n/* harmony default export */ const EditMode_EditGlobals = (EditGlobals);\n\n;// ./code/dashboards/es-modules/Dashboards/Layout/GUIElement.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\nconst { addEvent, createElement, uniqueKey, objectEach, error } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nclass GUIElement {\n    /* *\n    *\n    *  Static Properties\n    *\n    * */\n    /**\n     * Get offsets of the guiElement relative to the referenceElement or the\n     * Viewport.\n     *\n     * @param guiElement\n     * The element to get the offsets from.\n     *\n     * @param referenceElement\n     * The element to get the offsets relative to.\n     *\n     * @returns\n     * The offsets of the guiElement.\n     */\n    static getOffsets(guiElement, referenceElement) {\n        const offset = { left: 0, top: 0, right: 0, bottom: 0 };\n        if (!guiElement.container) {\n            return offset;\n        }\n        const guiElementClientRect = guiElement.container.getBoundingClientRect();\n        const referenceClientRect = referenceElement ?\n            referenceElement.getBoundingClientRect() : { left: 0, top: 0 };\n        offset.left = guiElementClientRect.left - referenceClientRect.left;\n        offset.top = guiElementClientRect.top - referenceClientRect.top;\n        offset.right =\n            guiElementClientRect.right - referenceClientRect.left;\n        offset.bottom =\n            guiElementClientRect.bottom - referenceClientRect.top;\n        return offset;\n    }\n    /**\n     * Get dimensions of the guiElement container from offsets.\n     *\n     * @param offsets\n     * The offsets of the guiElement container.\n     *\n     * @returns\n     * The dimensions of the guiElement container.\n     */\n    static getDimFromOffsets(offsets) {\n        return {\n            width: offsets.right - offsets.left,\n            height: offsets.bottom - offsets.top\n        };\n    }\n    /**\n     * Based on the element provided, generate an unique id.\n     *\n     * @param elementType\n     * Type of the element.\n     *\n     * @returns\n     * The unique id.\n     */\n    static getElementId(elementType) {\n        return ((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + elementType + '-' +\n            uniqueKey().slice(11));\n    }\n    /**\n     * Get width in percentages (0% - 100%).\n     *\n     * @param width\n     * The width of the element. Supported formats '50%' or '1/2'.\n     *\n     * @returns\n     * The width in percentages.\n     */\n    static getPercentageWidth(width) {\n        const fractionRegEx = /^(\\d{1})[\\-\\/\\.](\\d{1,2})$/;\n        let result;\n        if (fractionRegEx.test(width)) {\n            const match = width.match(fractionRegEx) || [], multiplier = +match[1], divider = +match[2];\n            result = 100 * multiplier / divider;\n            result = (result <= 100 ? result : 100) + '%';\n        }\n        else if (width.indexOf('%') !== -1) {\n            const value = parseFloat(width);\n            result = (value <= 100 ?\n                (value >= 0 ? value : 0) : 100) + '%';\n        }\n        return result;\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Create or get existing HTML element as a GUIElement container.\n     *\n     * @param {GetElementContainerOptions} options\n     * Options.\n     *\n     * @returns\n     * The HTML element for the element container.\n     */\n    getElementContainer(options) {\n        const guiElement = this;\n        let elem;\n        if (options.render) {\n            if (options.attribs && !options.attribs.id) {\n                delete options.attribs.id;\n            }\n        }\n        else if (typeof options.elementId === 'string') {\n            const div = document.getElementById(options.elementId);\n            if (div) {\n                guiElement.container = div;\n            }\n            else {\n                error('Element ' + options.elementId + ' does not exist');\n            }\n        }\n        if (options.element instanceof HTMLElement) {\n            elem = options.element;\n        }\n        else {\n            elem = createElement('div', options.attribs || {}, options.style || {}, options.parentContainer);\n        }\n        // Set bindedGUIElement event on GUIElement container.\n        guiElement.removeBindedEventFn = addEvent(elem, 'bindedGUIElement', function (e) {\n            e.guiElement = guiElement;\n            e.stopImmediatePropagation();\n        });\n        return elem;\n    }\n    /**\n     * Destroy the element, its container, event hooks and all properties.\n     */\n    destroy() {\n        const guiElement = this;\n        // Remove bindedGUIElement event.\n        if (guiElement.removeBindedEventFn) {\n            guiElement.removeBindedEventFn();\n        }\n        // Remove HTML container.\n        if (guiElement.container && guiElement.container.parentNode) {\n            guiElement.container.parentNode.removeChild(guiElement.container);\n        }\n        // Delete all properties.\n        objectEach(guiElement, function (val, key) {\n            delete guiElement[key];\n        });\n    }\n    /**\n     * Return the GUIElement instance type.\n     *\n     * @returns\n     * The GUIElement instance type\n     */\n    getType() {\n        return this.type;\n    }\n    changeVisibility(setVisible = true, displayStyle) {\n        const visibilityChanged = (this.isVisible && !setVisible ||\n            !this.isVisible && setVisible);\n        if (this.container && visibilityChanged) {\n            this.container.style.display = (setVisible ?\n                (displayStyle || 'block') :\n                'none');\n            this.isVisible = setVisible;\n        }\n    }\n    hide() {\n        this.changeVisibility(false);\n    }\n    show() {\n        this.changeVisibility();\n    }\n}\n/* harmony default export */ const Layout_GUIElement = (GUIElement);\n\n;// ./code/dashboards/es-modules/Dashboards/Layout/Cell.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\nconst { merge, fireEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Class\n *\n * */\n/**\n * @internal\n **/\nclass Cell extends Layout_GUIElement {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    /**\n     * Constructs an instance of the Cell class.\n     *\n     * @param {Row} row\n     * Reference to the row instance.\n     *\n     * @param {Options} options\n     * Options for the cell.\n     *\n     * @param {HTMLElement} cellElement\n     * The container of the cell HTML element.\n     */\n    constructor(row, options, cellElement) {\n        super();\n        /**\n         * The type of GUI element.\n         */\n        this.type = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell;\n        this.id = options.id;\n        this.options = options;\n        this.row = row;\n        this.isVisible = true;\n        // Get parent container\n        const parentContainer = document.getElementById(options.parentContainerId || '') ||\n            row.container;\n        const layoutOptions = row.layout.options || {}, rowOptions = row.options || {}, cellClassName = layoutOptions.cellClassName || '';\n        this.container = this.getElementContainer({\n            render: row.layout.board.guiEnabled,\n            parentContainer: parentContainer,\n            attribs: {\n                id: options.id,\n                className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cell + ' ' +\n                    cellClassName\n            },\n            element: cellElement,\n            elementId: options.id,\n            style: merge(layoutOptions.style, rowOptions.style, options.style, {\n                height: this.height\n            })\n        });\n        // Nested layout\n        if (this.options.layout) {\n            this.setNestedLayout();\n        }\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Create a nested layout in the cell and assign it to the nestedCell\n     * property.\n     * @internal\n     */\n    setNestedLayout() {\n        const board = this.row.layout.board, Layout = this.row.layout.constructor;\n        const optionsGui = board.options.gui;\n        this.nestedLayout = new Layout(board, merge({}, optionsGui && optionsGui.layoutOptions, this.options.layout, {\n            parentContainerId: this.options.id\n        }), this);\n    }\n    /**\n     * Destroy the element, its container, event hooks\n     * and mounted component.\n     */\n    destroy() {\n        const cell = this;\n        const { row } = cell;\n        // Destroy mounted component.\n        cell.mountedComponent?.destroy();\n        // If layout exists in the cell - destroy it\n        cell.nestedLayout?.destroy();\n        row.unmountCell(cell);\n        const destroyRow = row.cells?.length === 0;\n        super.destroy();\n        if (destroyRow) {\n            row.destroy();\n        }\n    }\n    /**\n     * Get the cell's options.\n     * @returns\n     * The JSON of cell's options.\n     *\n     * @internal\n     *\n     */\n    getOptions() {\n        const cell = this;\n        if (cell.options.layout && cell.nestedLayout) {\n            return {\n                ...cell.options,\n                layout: cell.nestedLayout.getOptions()\n            };\n        }\n        return cell.options;\n    }\n    changeVisibility(setVisible = true) {\n        super.changeVisibility(setVisible);\n        const cell = this, row = cell.row;\n        // Change row visibility if needed.\n        if (!cell.row.getVisibleCells().length) {\n            cell.row.hide();\n        }\n        else if (cell.isVisible && !row.isVisible) {\n            cell.row.show();\n        }\n        setTimeout(() => {\n            fireEvent(row, 'cellChange', { row, cell });\n        }, 0);\n    }\n    getParentCell(level) {\n        const cell = this;\n        let parentCell;\n        if (level <= cell.row.layout.level) {\n            if (cell.row.layout.level === level) {\n                return cell;\n            }\n            if (cell.row.layout.level - 1 >= 0) {\n                parentCell = cell.row.layout.parentCell;\n                if (parentCell) {\n                    return parentCell.getParentCell(level);\n                }\n            }\n        }\n    }\n    // Method to get array of overlapping levels.\n    getOverlappingLevels(align, levelMaxGap, // Max distance between levels\n    offset // Analyzed cell offset\n    ) {\n        const cell = this, parentCell = cell.row.layout.parentCell;\n        let levels = [cell.row.layout.level];\n        if (parentCell) {\n            const cellOffset = offset || Layout_GUIElement.getOffsets(cell)[align];\n            const parentCellOffset = Layout_GUIElement.getOffsets(parentCell)[align];\n            if (Math.abs(cellOffset - parentCellOffset) < levelMaxGap) {\n                levels = [\n                    ...levels,\n                    ...parentCell.getOverlappingLevels(align, levelMaxGap, parentCellOffset)\n                ];\n            }\n        }\n        return levels;\n    }\n    /**\n     * Set cell size.\n     *\n     * @param width\n     * % value or 'auto' or px\n     *\n     * @param height\n     * value in px\n     */\n    setSize(width, height) {\n        const cell = this, editMode = cell.row.layout.board.editMode;\n        if (cell.container) {\n            if (width) {\n                if (width === 'auto' &&\n                    cell.container.style.flex !== '1 1 0%') {\n                    cell.container.style.flex = '1 1 0%';\n                }\n                else {\n                    const cellWidth = cell.convertWidthToValue(width);\n                    if (cellWidth &&\n                        cell.container.style.flex !== '0 0 ' + cellWidth) {\n                        cell.container.style.flex = '0 0 ' + cellWidth;\n                    }\n                }\n            }\n            if (height) {\n                cell.height = cell.container.style.height = height + 'px';\n            }\n            if (editMode) {\n                editMode.hideContextPointer();\n                if (editMode.cellToolbar &&\n                    editMode.cellToolbar.isVisible) {\n                    if (editMode.cellToolbar.cell === cell) {\n                        editMode.cellToolbar.showToolbar(cell);\n                    }\n                    else {\n                        editMode.cellToolbar.hide();\n                    }\n                }\n            }\n            // Call cellResize board event.\n            fireEvent(cell.row.layout.board, 'cellResize', { cell: cell });\n            fireEvent(cell.row, 'cellChange', { cell: cell, row: cell.row });\n        }\n    }\n    setHighlight(remove) {\n        const cell = this, editMode = cell.row?.layout.board.editMode;\n        if (cell.container && editMode) {\n            const cnt = cell.container, isSet = cnt.classList.contains(EditMode_EditGlobals.classNames.cellEditHighlight);\n            if (!remove && !isSet) {\n                cnt.classList.add(EditMode_EditGlobals.classNames.cellEditHighlight);\n                cell.row.layout.board.container.classList.add(EditMode_EditGlobals.classNames.dashboardCellEditHighlightActive);\n                cell.isHighlighted = true;\n            }\n            else if (remove && isSet) {\n                cnt.classList.remove(EditMode_EditGlobals.classNames.cellEditHighlight);\n                cell.row.layout.board.container.classList.remove(EditMode_EditGlobals.classNames.dashboardCellEditHighlightActive);\n                cell.isHighlighted = false;\n            }\n        }\n    }\n    /**\n     * Sets the active state of the cell and resets the state of other cells.\n     */\n    setActiveState() {\n        const cell = this;\n        // Reset other boxes\n        cell.row.layout.board.mountedComponents.forEach((mountedComponent) => {\n            if (mountedComponent.cell.container) {\n                mountedComponent.cell.container.classList.remove((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cellActive);\n            }\n            mountedComponent.component.isActive = false;\n        });\n        // Apply class\n        if (cell.container) {\n            cell.container.classList.add((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cellActive);\n        }\n    }\n    /**\n     * Enables or disables the loading indicator in the cell.\n     *\n     * @internal\n     */\n    setLoadingState(enabled = true) {\n        this.container?.classList?.toggle((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cellLoading, enabled);\n    }\n    convertWidthToValue(width) {\n        if (typeof width === 'number') {\n            return width + 'px';\n        }\n        if (/px/.test(width)) {\n            return width;\n        }\n        return Layout_GUIElement.getPercentageWidth(width) || '';\n    }\n}\n/**\n * Checks if a valid cell instance.\n */\nfunction isCell(cell) {\n    return (!!cell && 'row' in cell && cell.type === 'cell');\n}\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const Layout_Cell = (Cell);\n\n;// ./code/dashboards/es-modules/Dashboards/Layout/CellHTML.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n/* *\n *\n *  Class\n *\n * */\n/**\n * @internal\n **/\nclass CellHTML extends Layout_GUIElement {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    /**\n     * Constructs an instance of the CellHTML class.\n     *\n     * @param {Options} options\n     * Options for the cell.\n     */\n    constructor(options) {\n        super();\n        /**\n         * The type of a GUIElement instance.\n         */\n        this.type = 'cell-html';\n        this.options = options;\n        this.id = options.id;\n        this.container = options.container;\n        this.mountedComponent = options.mountedComponent;\n    }\n    /**\n     * Destroy the element, its container, event hooks\n     * and mounted component.\n     */\n    destroy() {\n        const cell = this;\n        // Destroy mounted component.\n        cell.mountedComponent?.destroy();\n        super.destroy();\n    }\n    /**\n     * Highlight the cell.\n     */\n    setHighlight() {\n        const cell = this;\n        cell.container.classList.toggle(EditMode_EditGlobals.classNames.cellEditHighlight);\n        cell.mountedComponent?.board.container.classList.toggle(EditMode_EditGlobals.classNames.dashboardCellEditHighlightActive);\n    }\n    setActiveState() {\n        const cell = this;\n        // Apply class\n        if (cell.container) {\n            cell.container.classList.add((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cellActive);\n        }\n    }\n}\n/* *\n *\n *  Type Declarations\n *\n * */\n/**\n * Checks if a valid cell HTML instance.\n */\nfunction isCellHTML(cellHTML) {\n    return cellHTML instanceof CellHTML;\n}\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const Layout_CellHTML = (CellHTML);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/EditRenderer.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\nconst { merge: EditRenderer_merge, createElement: EditRenderer_createElement, defined } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Functions\n *\n * */\n/**\n * Function to create a context button.\n * @internal\n *\n * @param parentElement\n * The element to which the new element should be appended.\n *\n * @param editMode\n * EditMode instance.\n *\n * @returns\n * Context button element.\n */\nfunction renderContextButton(parentNode, editMode) {\n    const contextMenuOptions = editMode.options.contextMenu;\n    let contextButton;\n    if (contextMenuOptions) {\n        contextButton = EditRenderer_createElement('button', {\n            className: EditMode_EditGlobals.classNames.contextMenuBtn,\n            onclick: function (event) {\n                event.stopPropagation();\n                editMode.onContextBtnClick();\n            }\n        }, {}, parentNode);\n        // Add the icon if defined.\n        if (contextMenuOptions.icon) {\n            EditRenderer_createElement('img', {\n                src: contextMenuOptions.icon,\n                className: EditMode_EditGlobals.classNames.icon\n            }, {}, contextButton);\n        }\n        // Add text next to the icon if defined.\n        if (contextMenuOptions.text) {\n            EditRenderer_createElement('span', {\n                className: EditMode_EditGlobals.classNames.contextMenuBtnText,\n                textContent: contextMenuOptions.text\n            }, {}, contextButton);\n        }\n        contextButton.setAttribute('aria-label', editMode.lang.accessibility.contextMenu.button);\n        contextButton.setAttribute('aria-expanded', 'false');\n    }\n    return contextButton;\n}\n/**\n * Creates the collapsable header element.\n * @internal\n *\n * @param parentElement\n * The HTMLElement to which the element should be rendered to.\n *\n * @param options\n * Nested header options.\n *\n * @returns the outer element and content in the collapsable div.\n */\nfunction renderCollapseHeader(parentElement, options) {\n    const { name, showToggle, onchange, isEnabled, isNested, isStandalone, lang } = options;\n    const accordion = EditRenderer_createElement('div', {\n        className: EditMode_EditGlobals.classNames[(isNested ? 'accordionNestedWrapper' : 'accordionContainer')] + ' ' +\n            (isStandalone ?\n                EditMode_EditGlobals.classNames.accordionStandaloneWrapper : '') + ' ' + EditMode_EditGlobals.classNames.collapsableContentHeader\n    }, {}, parentElement);\n    const header = EditRenderer_createElement('div', {\n        className: EditMode_EditGlobals.classNames.accordionHeader\n    }, {}, accordion);\n    let headerBtn;\n    if (!isStandalone || showToggle) {\n        headerBtn = EditRenderer_createElement(isStandalone && showToggle ? 'span' : 'button', {\n            className: EditMode_EditGlobals.classNames[isStandalone ?\n                'accordionHeaderWrapper' : 'accordionHeaderBtn']\n        }, {}, header);\n    }\n    EditRenderer_createElement('span', {\n        textContent: lang[name] || name\n    }, {}, headerBtn);\n    if (showToggle && header) {\n        renderToggle(header, {\n            enabledOnOffLabels: true,\n            id: name,\n            name: '',\n            onchange: onchange,\n            value: isEnabled || false,\n            lang\n        });\n    }\n    if (!isStandalone) {\n        const headerIcon = EditRenderer_createElement('span', {\n            className: EditMode_EditGlobals.classNames.accordionHeaderIcon + ' ' +\n                EditMode_EditGlobals.classNames.collapsedElement\n        }, {}, headerBtn);\n        headerBtn?.addEventListener('click', function () {\n            content.classList.toggle(EditMode_EditGlobals.classNames.hiddenElement);\n            headerIcon?.classList.toggle(EditMode_EditGlobals.classNames.collapsedElement);\n        });\n    }\n    const content = EditRenderer_createElement('div', {\n        className: EditMode_EditGlobals.classNames.accordionContent + ' ' +\n            (isStandalone ?\n                EditMode_EditGlobals.classNames.standaloneElement :\n                EditMode_EditGlobals.classNames.hiddenElement)\n    }, {}, accordion);\n    return { outerElement: accordion, content: content };\n}\n/**\n * Function to create select element.\n *\n * @param parentElement\n * The element to which the new element should be appended.\n *\n * @param options\n * Select form field options.\n *\n * @returns\n * Select element\n */\nfunction renderSelect(parentElement, options) {\n    if (!parentElement) {\n        return;\n    }\n    if (options.name) {\n        renderText(parentElement, { title: options.name, isLabel: true });\n    }\n    const iconsURLPrefix = options.iconsURLPrefix || '';\n    const customSelect = EditRenderer_createElement('div', {\n        className: EditMode_EditGlobals.classNames.dropdown +\n            ' ' +\n            EditMode_EditGlobals.classNames.collapsableContentHeader\n    }, {}, parentElement);\n    const btn = EditRenderer_createElement('button', {\n        className: EditMode_EditGlobals.classNames.dropdownButton\n    }, {}, customSelect);\n    const btnContent = EditRenderer_createElement('div', {\n        className: EditMode_EditGlobals.classNames.dropdownButtonContent\n    }, {}, btn);\n    const iconURL = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default().find(options.selectOptions, (item) => item.name === options.value) || {}).iconURL;\n    let headerIcon;\n    if (iconURL) {\n        headerIcon = EditRenderer_createElement('img', {\n            src: iconsURLPrefix + iconURL,\n            className: EditMode_EditGlobals.classNames.icon\n        }, {}, btnContent);\n    }\n    const placeholder = EditRenderer_createElement('span', {\n        textContent: options.value,\n        id: options.id || ''\n    }, {}, btnContent);\n    const dropdownPointer = EditRenderer_createElement('img', {\n        className: EditMode_EditGlobals.classNames.dropdownIcon +\n            ' ' +\n            EditMode_EditGlobals.classNames.collapsedElement,\n        src: iconsURLPrefix + 'dropdown-pointer.svg'\n    }, {}, btn);\n    const dropdown = EditRenderer_createElement('ul', {\n        className: EditMode_EditGlobals.classNames.dropdownContent +\n            ' ' +\n            EditMode_EditGlobals.classNames.hiddenElement\n    }, {}, customSelect);\n    btn.addEventListener('click', function () {\n        dropdown.classList.toggle(EditMode_EditGlobals.classNames.hiddenElement);\n        dropdownPointer.classList.toggle(EditMode_EditGlobals.classNames.collapsedElement);\n    });\n    for (let i = 0, iEnd = options.selectOptions.length; i < iEnd; ++i) {\n        renderSelectElement(EditRenderer_merge(options.selectOptions[i] || {}, { iconsURLPrefix }), dropdown, placeholder, options.id, dropdownPointer, headerIcon, options.onchange);\n    }\n    return customSelect;\n}\n/**\n * @internal\n */\nfunction renderSelectElement(option, dropdown, placeholder, id, dropdownPointer, headerIcon, callback) {\n    const iconURL = option.iconsURLPrefix + option.iconURL;\n    const selectOption = EditRenderer_createElement('li', {}, {}, dropdown);\n    const selectOptionBtn = EditRenderer_createElement('button', { className: EditMode_EditGlobals.classNames.customSelectButton }, {}, selectOption);\n    if (option.iconURL) {\n        EditRenderer_createElement('img', {\n            src: iconURL\n        }, {}, selectOptionBtn);\n    }\n    EditRenderer_createElement('span', { textContent: option.name || '' }, {}, selectOptionBtn);\n    selectOptionBtn.addEventListener('click', function () {\n        dropdown.classList.add(EditMode_EditGlobals.classNames.hiddenElement);\n        dropdownPointer.classList.toggle(EditMode_EditGlobals.classNames.collapsedElement);\n        placeholder.textContent = option.name || '';\n        if (headerIcon && option.iconURL) {\n            headerIcon.src = iconURL;\n        }\n        if (callback) {\n            return callback(option.name);\n        }\n    });\n}\n/**\n * Function to create toggle element.\n *\n * @param parentElement\n * The element to which the new element should be appended.\n *\n * @param options\n * Form field options.\n *\n * @returns\n * Toggle element.\n */\nfunction renderToggle(parentElement, options) {\n    if (!parentElement) {\n        return;\n    }\n    const lang = options.lang, value = options.value, title = options.title || options.name, langKey = options.langKey;\n    if (options.isNested) {\n        const labeledToggleWrapper = EditRenderer_createElement('div', {\n            className: EditMode_EditGlobals.classNames.labeledToggleWrapper\n        }, {}, parentElement);\n        parentElement = labeledToggleWrapper;\n    }\n    const toggleContainer = EditRenderer_createElement('button', {\n        className: EditMode_EditGlobals.classNames.toggleContainer,\n        type: 'button',\n        role: 'switch',\n        ariaChecked: false,\n        ariaLabel: langKey ? lang.accessibility[langKey][options.name] : ''\n    }, {}, parentElement);\n    if (title) {\n        renderText(options.isNested ? parentElement : toggleContainer, { title });\n    }\n    if (options.enabledOnOffLabels) {\n        renderText(toggleContainer, {\n            title: lang.off,\n            className: EditMode_EditGlobals.classNames.toggleLabels\n        });\n    }\n    const toggle = EditRenderer_createElement('label', {\n        className: EditMode_EditGlobals.classNames.toggleWrapper +\n            ' ' + (options.className || '')\n    }, {}, toggleContainer);\n    const input = renderCheckbox(toggle, value), callbackFn = options.onchange;\n    callbackFn && toggleContainer.addEventListener('click', (e) => {\n        callbackFn(!input.checked);\n        input.checked = !input.checked;\n        toggleContainer.setAttribute('aria-checked', input.checked);\n        e.stopPropagation();\n    });\n    const slider = EditRenderer_createElement('span', {\n        className: EditMode_EditGlobals.classNames.toggleSlider\n    }, {}, toggle);\n    callbackFn && slider.addEventListener('click', (e) => {\n        e.preventDefault();\n    });\n    if (options.enabledOnOffLabels) {\n        renderText(toggleContainer, {\n            title: lang.on,\n            className: EditMode_EditGlobals.classNames.toggleLabels\n        });\n    }\n    return toggleContainer;\n}\n/**\n * Function to create text element.\n *\n * @param parentElement\n * The element to which the new element should be appended\n *\n * @param text\n * Text to be displayed\n *\n * @param callback\n * Callback function to be fired on the click\n *\n * @returns text Element\n */\nfunction renderText(parentElement, options) {\n    let textElem;\n    const { title: text, className, isLabel } = options;\n    if (parentElement) {\n        const labelFor = isLabel ? { htmlFor: text } : {};\n        textElem = EditRenderer_createElement(isLabel ? 'label' : 'div', {\n            className: EditMode_EditGlobals.classNames.labelText + ' ' + (className || ''),\n            textContent: text,\n            ...labelFor\n        }, {}, parentElement);\n    }\n    return textElem;\n}\n/**\n * Function to create Icon element.\n *\n * @param parentElement\n * The element to which the new element should be appended.\n *\n * @param icon\n * Icon URL\n *\n * @param callback\n * Callback function\n *\n * @returns\n * Icon Element\n */\nfunction renderIcon(parentElement, options) {\n    const { icon, callback } = options;\n    if (!parentElement) {\n        return;\n    }\n    const iconElem = EditRenderer_createElement('div', {\n        onclick: callback,\n        className: options.className || ''\n    }, {}, parentElement);\n    iconElem.style['background-image'] = 'url(' + icon + ')';\n    const mousedown = options.mousedown;\n    const click = options.click;\n    if (mousedown) {\n        iconElem.onmousedown = function () {\n            mousedown.apply(this, arguments);\n        };\n    }\n    if (click) {\n        iconElem.addEventListener('click', function () {\n            click.apply(this, arguments);\n        });\n    }\n    return iconElem;\n}\n/**\n * Function to create input element.\n *\n * @param parentElement\n * the element to which the new element should be appended\n *\n * @param options\n * Form field options\n *\n * @returns\n * Input Element\n */\nfunction renderInput(parentElement, options) {\n    if (!parentElement) {\n        return;\n    }\n    if (options.name) {\n        renderText(parentElement, { title: options.name, isLabel: true });\n    }\n    const input = EditRenderer_createElement('input', {\n        type: 'text',\n        onclick: options.callback,\n        id: options.id || '',\n        name: options.name || '',\n        value: ((defined(options.value) &&\n            options.value.toString().replace(/\\\"/g, '')) || '')\n    }, {}, parentElement);\n    const onchange = options.onchange;\n    if (onchange) {\n        input.addEventListener('change', function (e) {\n            onchange(e.target.value);\n        });\n    }\n    return input;\n}\n/**\n * Function to create textarea element.\n *\n * @param parentElement\n * The element to which the new element should be appended\n *\n * @param options\n * Form field options\n *\n * @returns\n * textarea Element\n */\nfunction renderTextarea(parentElement, options) {\n    if (!parentElement) {\n        return;\n    }\n    if (options.name) {\n        renderText(parentElement, { title: options.name, isLabel: true });\n    }\n    const textarea = EditRenderer_createElement('textarea', {\n        id: options.id,\n        name: options.name,\n        value: options.value || ''\n    }, {}, parentElement);\n    const onchange = options.onchange;\n    if (onchange) {\n        textarea.addEventListener('change', function (e) {\n            onchange(e.target.value);\n        });\n    }\n    return textarea;\n}\n/**\n * Function to render the input of type checkbox.\n *\n * @param parentElement\n * An element to which render the checkbox to\n *\n * @param checked\n * Whether the checkbox should be checked or not.\n *\n * @returns\n * The checkbox element\n */\nfunction renderCheckbox(parentElement, checked) {\n    let input;\n    if (parentElement) {\n        input = EditRenderer_createElement('input', {\n            type: 'checkbox',\n            checked: !!checked\n        }, {}, parentElement);\n    }\n    return input;\n}\n/**\n * Function to create button element.\n *\n * @param parentElement\n * the element to which the new element should be appended\n *\n * @param options\n * Button field options\n *\n * @returns\n * Button Element\n */\nfunction renderButton(parentElement, options) {\n    if (!parentElement) {\n        return;\n    }\n    const button = EditRenderer_createElement('button', {\n        className: (EditMode_EditGlobals.classNames.button + ' ' +\n            (options.className || '')),\n        onclick: options.callback,\n        textContent: options.text\n    }, options.style || {}, parentElement);\n    if (options.icon) {\n        button.style['background-image'] =\n            'url(' + options.icon + ')';\n    }\n    return button;\n}\n/**\n * Get the renderer function based on the type of the element to render.\n *\n * @param type\n * Type of the element to render\n *\n * @returns\n * function to render a specific element\n */\nfunction getRendererFunction(type) {\n    return {\n        select: renderSelect,\n        toggle: renderToggle,\n        text: renderText,\n        collapse: renderCollapseHeader,\n        icon: renderIcon,\n        contextButton: renderContextButton,\n        input: renderInput,\n        textarea: renderTextarea,\n        checkbox: renderCheckbox,\n        button: renderButton\n    }[type];\n}\nconst EditRenderer = {\n    renderSelect,\n    renderToggle,\n    renderText,\n    renderCollapseHeader,\n    renderIcon,\n    renderContextButton,\n    renderInput,\n    renderTextarea,\n    renderCheckbox,\n    renderButton,\n    getRendererFunction\n};\n/* harmony default export */ const EditMode_EditRenderer = (EditRenderer);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Menu/MenuItem.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\nconst { createElement: MenuItem_createElement, merge: MenuItem_merge } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nclass MenuItem {\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    constructor(menu, options) {\n        this.menu = menu;\n        this.isActive = false;\n        this.options = MenuItem_merge(MenuItem.defaultOptions, options);\n        this.container = this.setContainer();\n        this.innerElement = this.setInnerElement();\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    setContainer() {\n        const item = this, options = item.options;\n        let className = EditMode_EditGlobals.classNames.menuItem;\n        if (item.menu.options.itemsClassName) {\n            className += ' ' + item.menu.options.itemsClassName;\n        }\n        if (options.className) {\n            className += ' ' + options.className;\n        }\n        return MenuItem_createElement('div', { className: className || '' }, MenuItem_merge(this.options.style || {}, \n        // To remove\n        this.isActive ? { display: 'block' } : {}), this.menu.container);\n    }\n    setInnerElement() {\n        const item = this, options = item.options, container = item.container, langKey = options.langKey;\n        if (options.type === 'toggle') {\n            return EditMode_EditRenderer.renderToggle(container, {\n                id: options.id,\n                name: options.id,\n                title: langKey ?\n                    this.menu.editMode.lang[langKey] :\n                    options.text,\n                value: !!(options.getValue && options.getValue(item)),\n                lang: this.menu.editMode.lang,\n                langKey: langKey,\n                onchange: options.events?.click?.bind(item)\n            });\n        }\n        if (options.type === 'text') {\n            return EditMode_EditRenderer.renderText(container, {\n                title: langKey ?\n                    this.menu.editMode.lang[langKey] :\n                    options.text || '',\n                className: options.className || ''\n            });\n        }\n        if (options.type === 'icon') {\n            return EditMode_EditRenderer.renderIcon(container, {\n                icon: options.icon || '',\n                mousedown: options.events?.onmousedown?.bind(item),\n                click: options.events?.click?.bind(item)\n            });\n        }\n        if (options.type === 'button') {\n            return EditMode_EditRenderer.renderButton(container, {\n                callback: options.events?.click?.bind(item),\n                className: options.className || '',\n                style: options.style || {},\n                text: langKey ?\n                    this.menu.editMode.lang[langKey] :\n                    (options.text || '')\n            });\n        }\n    }\n    update() {\n        const item = this, options = item.options;\n        if (options.events && options.events.update) {\n            options.events.update.apply(item, arguments);\n        }\n    }\n    activate() {\n        const item = this;\n        item.update();\n        // Temp.\n        if (item.container) {\n            item.isActive = true;\n            item.container.style.display = 'block';\n        }\n    }\n    deactivate() {\n        const item = this;\n        // Temp.\n        if (item.container) {\n            item.isActive = false;\n            item.container.style.display = 'none';\n        }\n    }\n}\n/* *\n*\n*  Static Properties\n*\n* */\nMenuItem.defaultOptions = {\n    type: 'text'\n};\n/* harmony default export */ const Menu_MenuItem = (MenuItem);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Menu/MenuItemBindings.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\nconst MenuItemBindings = {\n    /* *\n    *\n    *  Context menu\n    *\n    * */\n    viewFullscreen: {\n        id: 'viewFullscreen',\n        type: 'button',\n        langKey: 'viewFullscreen',\n        events: {\n            click: function () {\n                const fullScreen = this.menu.editMode.board.fullscreen;\n                if (fullScreen) {\n                    fullScreen.toggle();\n                }\n            }\n        }\n    }\n};\n/* harmony default export */ const Menu_MenuItemBindings = (MenuItemBindings);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Menu/Menu.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\nconst { createElement: Menu_createElement, merge: Menu_merge } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nclass Menu {\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    constructor(parentElement, options, editMode, parent) {\n        this.parentElement = parentElement;\n        this.isVisible = false;\n        this.activeItems = [];\n        this.options = options;\n        this.items = {};\n        this.editMode = editMode;\n        if (parent) {\n            this.parent = parent;\n        }\n        this.container = this.setContainer();\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    setContainer() {\n        return Menu_createElement('div', {\n            className: EditMode_EditGlobals.classNames.menu +\n                ' ' + (this.options.className || '')\n        }, {}, this.parentElement);\n    }\n    // ItemsSchemas - default items definitions.\n    initItems(itemsSchemas, activeItems) {\n        const menu = this, optionsItems = menu.options.items || [];\n        let itemSchema, itemConfig, item, options;\n        for (let i = 0, iEnd = optionsItems.length; i < iEnd; ++i) {\n            itemConfig = optionsItems[i];\n            itemSchema =\n                typeof itemConfig === 'string' ? itemsSchemas[itemConfig] :\n                    itemConfig.id ? itemsSchemas[itemConfig.id] :\n                        {};\n            options = typeof itemConfig === 'string' ?\n                Menu_merge(itemSchema, { id: itemConfig }) :\n                Menu_merge(itemSchema, itemConfig);\n            if (options.id) {\n                item = new Menu_MenuItem(menu, options);\n                // Save initialized item.\n                menu.items[item.options.id] = item;\n                if (activeItems) {\n                    item.activate();\n                    menu.activeItems.push(item);\n                }\n            }\n            else {\n                // Error - defined item needs an id.\n            }\n        }\n    }\n    setActiveItems(items) {\n        const menu = this;\n        let item;\n        // Deactivate items.\n        for (let i = 0, iEnd = menu.activeItems.length; i < iEnd; ++i) {\n            if (items.indexOf(menu.activeItems[i].options.id) === -1) {\n                menu.activeItems[i].deactivate();\n            }\n        }\n        menu.activeItems.length = 0;\n        for (let j = 0, jEnd = items.length; j < jEnd; ++j) {\n            item = menu.items[items[j]];\n            if (item) {\n                // Activate item.\n                if (!item.isActive) {\n                    item.activate();\n                }\n                else {\n                    item.update();\n                }\n                menu.activeItems.push(item);\n            }\n        }\n    }\n    deactivateActiveItems() {\n        const menu = this;\n        for (let i = 0, iEnd = menu.activeItems.length; i < iEnd; ++i) {\n            menu.activeItems[i].deactivate();\n        }\n    }\n    updateActiveItems() {\n        const activeItems = this.activeItems;\n        for (let i = 0, iEnd = activeItems.length; i < iEnd; ++i) {\n            activeItems[i].update();\n        }\n    }\n    destroy() {\n        this.activeItems.length = 0;\n        this.container.remove();\n        this.items = {};\n        this.options = {};\n    }\n}\n/* *\n*\n*  Static Properties\n*\n* */\nMenu.items = Menu_MenuItemBindings;\n/* harmony default export */ const Menu_Menu = (Menu);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Toolbar/EditToolbar.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\nconst { defined: EditToolbar_defined, createElement: EditToolbar_createElement, css } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n\n/**\n * Abstract Class of Edit Toolbar.\n * @internal\n */\nclass EditToolbar {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(editMode, options) {\n        this.container = EditToolbar_createElement('div', {\n            className: options.className\n        }, void 0, editMode.board.container);\n        this.editMode = editMode;\n        this.iconURLPrefix = editMode.iconsURLPrefix;\n        this.menu = new Menu_Menu(this.container, options.menu, editMode, this);\n        this.options = options;\n        this.isVisible = false;\n        if (this.options.outline) {\n            this.outline = EditToolbar_createElement('div', {\n                className: options.outlineClassName\n            }, void 0, this.container);\n        }\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    hide() {\n        this.setPosition(void 0, void 0);\n    }\n    refreshOutline(x, y, guiElement, offset = 0) {\n        const toolbar = this, guiElemCnt = (guiElement || {}).container;\n        if (toolbar.outline && guiElemCnt) {\n            css(toolbar.outline, {\n                display: 'block',\n                left: x - offset + 'px',\n                top: y - offset + 'px',\n                width: guiElemCnt.offsetWidth + offset * 2 + 'px',\n                height: guiElemCnt.offsetHeight + offset * 2 + 'px'\n            });\n        }\n    }\n    hideOutline() {\n        if (this.outline) {\n            this.outline.style.display = 'none';\n        }\n    }\n    setPosition(x, y) {\n        const toolbar = this;\n        if (toolbar.container) {\n            css(toolbar.container, {\n                left: (x || '-9999') + 'px',\n                top: (y || '-9999') + 'px'\n            });\n        }\n        toolbar.isVisible = EditToolbar_defined(x) && EditToolbar_defined(y);\n    }\n}\n/* harmony default export */ const Toolbar_EditToolbar = (EditToolbar);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Toolbar/CellEditToolbar.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\nconst { isFirefox } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n\nconst { merge: CellEditToolbar_merge, fireEvent: CellEditToolbar_fireEvent, objectEach: CellEditToolbar_objectEach } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * @internal\n */\nclass CellEditToolbar extends Toolbar_EditToolbar {\n    static getItemsConfig(options, iconURLPrefix) {\n        const items = [];\n        if (options.dragDrop?.enabled) {\n            items.push({\n                id: 'drag',\n                type: 'icon',\n                icon: iconURLPrefix + 'drag.svg',\n                events: {\n                    onmousedown: function (e) {\n                        // #22546, workaround for Firefox, where mouseenter\n                        // event is not fired when triggering it while dragging\n                        // another element.\n                        if (isFirefox) {\n                            e.preventDefault();\n                        }\n                        const cellEditToolbar = this.menu\n                            .parent;\n                        const dragDrop = cellEditToolbar.editMode.dragDrop;\n                        if (dragDrop &&\n                            cellEditToolbar.cell &&\n                            isCell(cellEditToolbar.cell)) {\n                            dragDrop.onDragStart(e, cellEditToolbar.cell);\n                        }\n                    }\n                }\n            });\n        }\n        if (options.settings?.enabled) {\n            items.push({\n                id: 'settings',\n                type: 'icon',\n                icon: iconURLPrefix + 'settings.svg',\n                events: {\n                    click: function () {\n                        this.menu.parent.editMode.setEditOverlay();\n                        this.menu.parent.onCellOptions();\n                    }\n                }\n            });\n        }\n        items.push({\n            id: 'destroy',\n            type: 'icon',\n            className: EditMode_EditGlobals.classNames.menuDestroy,\n            icon: iconURLPrefix + 'destroy.svg',\n            events: {\n                click: function () {\n                    const parentNode = this.menu.parent, editMode = this.menu.parent.editMode, popup = editMode.confirmationPopup;\n                    popup.show({\n                        confirmButton: {\n                            value: editMode.lang.confirmButton,\n                            callback: parentNode.onCellDestroy,\n                            context: parentNode\n                        },\n                        cancelButton: {\n                            value: editMode.lang.cancelButton,\n                            callback: () => {\n                                popup.closePopup();\n                            }\n                        },\n                        text: editMode.lang.confirmDestroyCell\n                    });\n                }\n            }\n        });\n        if (options.viewFullscreen?.enabled) {\n            items.push({\n                id: 'viewFullscreen',\n                type: 'icon',\n                className: EditMode_EditGlobals.classNames.viewFullscreen,\n                icon: iconURLPrefix + 'fullscreen.svg',\n                events: {\n                    click: function () {\n                        const fullScreen = this.menu.parent.editMode.board.fullscreen;\n                        const container = this.menu.parent.cell.container.firstElementChild;\n                        if (fullScreen) {\n                            fullScreen.toggle(container);\n                        }\n                    }\n                }\n            });\n        }\n        return items;\n    }\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(editMode) {\n        super(editMode, CellEditToolbar_merge(CellEditToolbar.defaultOptions, (editMode.options.toolbars || {}).cell, {\n            menu: {\n                items: CellEditToolbar.getItemsConfig(editMode.options, editMode.iconsURLPrefix)\n            }\n        }));\n        if (editMode.customHTMLMode) {\n            this.filterOptionsAvailableInCustomHTMLMode();\n        }\n        this.menu.initItems({});\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Show toolbar for given cell.\n     *\n     * @param cell\n     * Cell to show toolbar for.\n     */\n    showToolbar(cell) {\n        const toolbar = this;\n        const cellCnt = cell.container;\n        const toolbarWidth = 30;\n        const toolbarMargin = 10;\n        const cellToolbar = toolbar.editMode.cellToolbar;\n        if (!cellToolbar) {\n            return;\n        }\n        if (cellCnt && toolbar.editMode.isActive() &&\n            !(toolbar.editMode.dragDrop || {}).isActive) {\n            const cellOffsets = Layout_GUIElement.getOffsets(cell, toolbar.editMode.board.container);\n            const x = cellOffsets.right - toolbarWidth - toolbarMargin;\n            const y = cellOffsets.top + toolbarMargin;\n            CellEditToolbar_objectEach(toolbar.menu.items, (item) => {\n                if (!cell.options?.editMode?.toolbarItems) {\n                    item.activate();\n                    return;\n                }\n                const toolbarItems = cell.options.editMode.toolbarItems;\n                if (toolbarItems[item.options.id]\n                    ?.enabled === false) {\n                    item.deactivate();\n                    return;\n                }\n                item.activate();\n            });\n            toolbar.setPosition(x, y);\n            toolbar.cell = cell;\n            toolbar.refreshOutline();\n            cellToolbar.isVisible = true;\n        }\n        else if (toolbar.isVisible) {\n            toolbar.hide();\n            cellToolbar.isVisible = false;\n        }\n    }\n    refreshOutline() {\n        const toolbar = this, offsetWidth = -1;\n        if (toolbar.cell && toolbar.cell.container && toolbar.outline) {\n            super.refreshOutline(-toolbar.cell.container.offsetWidth, 0, this.cell, offsetWidth);\n        }\n    }\n    /**\n     * When options icon is clicked, show sidebar with options.\n     */\n    onCellOptions() {\n        const toolbar = this;\n        const editMode = toolbar.editMode;\n        if (!editMode.sidebar) {\n            return;\n        }\n        editMode.sidebar.show(toolbar.cell);\n        toolbar.highlightCell();\n    }\n    onCellDestroy() {\n        const toolbar = this;\n        if (toolbar.cell && isCell(toolbar.cell)) {\n            const row = toolbar.cell.row;\n            const board = toolbar.editMode.board;\n            const editMode = toolbar.editMode;\n            const cellId = toolbar.cell.id;\n            // Disable row highlight.\n            toolbar.cell.row.setHighlight();\n            toolbar.resetEditedCell();\n            toolbar.cell.destroy();\n            toolbar.cell = void 0;\n            // Hide row and cell toolbars.\n            editMode.hideToolbars(['cell', 'row']);\n            // Disable resizer.\n            editMode.resizer?.disableResizer();\n            // Call cellResize dashboard event.\n            if (row && row.cells && row.cells.length) {\n                CellEditToolbar_fireEvent(board, 'cellResize', {\n                    cell: row.cells[0]\n                });\n                CellEditToolbar_fireEvent(row, 'cellChange', { cell: row.cells[0], row });\n            }\n            CellEditToolbar_fireEvent(editMode, 'cellDestroyed', {\n                target: cellId,\n                board: board\n            });\n        }\n    }\n    resetEditedCell() {\n        this.editedCell = void 0;\n    }\n    /**\n     * Filter options available in custom HTML mode, only settings available.\n     */\n    filterOptionsAvailableInCustomHTMLMode() {\n        this.options.menu.items = this.options.menu.items?.filter((item) => {\n            if (typeof item === 'string') {\n                return false;\n            }\n            return item.id === 'settings';\n        });\n    }\n    /**\n     * Highlight cell and gray out the rest of the dashboard.\n     */\n    highlightCell() {\n        const toolbar = this;\n        if (!toolbar.cell) {\n            return;\n        }\n        if (toolbar.cell.setHighlight) {\n            toolbar.cell.setHighlight();\n        }\n        else {\n            toolbar.cell.container.classList.add(EditMode_EditGlobals.classNames.cellEditHighlight);\n            toolbar.editMode.board.container.classList.add(EditMode_EditGlobals.classNames.dashboardCellEditHighlightActive);\n        }\n    }\n}\n/* *\n *\n *  Static Properties\n *\n * */\nCellEditToolbar.defaultOptions = {\n    enabled: true,\n    className: EditMode_EditGlobals.classNames.editToolbar,\n    outline: false,\n    outlineClassName: EditMode_EditGlobals.classNames.editToolbarCellOutline,\n    menu: {\n        className: EditMode_EditGlobals.classNames.editToolbarCell,\n        itemsClassName: EditMode_EditGlobals.classNames.editToolbarItem,\n        items: []\n    }\n};\n/* harmony default export */ const Toolbar_CellEditToolbar = (CellEditToolbar);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Toolbar/RowEditToolbar.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\nconst { fireEvent: RowEditToolbar_fireEvent, merge: RowEditToolbar_merge, objectEach: RowEditToolbar_objectEach } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * @internal\n */\nclass RowEditToolbar extends Toolbar_EditToolbar {\n    static getMenuItemsConfig(options, iconURLPrefix) {\n        const items = [];\n        if (options.dragDrop?.enabled) {\n            items.push({\n                id: 'drag',\n                type: 'icon',\n                icon: iconURLPrefix + 'drag.svg',\n                events: {\n                    onmousedown: function (e) {\n                        const rowEditToolbar = this.menu\n                            .parent, dragDrop = rowEditToolbar.editMode.dragDrop;\n                        e.preventDefault();\n                        if (dragDrop && rowEditToolbar.row) {\n                            dragDrop.onDragStart(e, rowEditToolbar.row);\n                        }\n                    }\n                }\n            });\n        }\n        items.push({\n            id: 'destroy',\n            type: 'icon',\n            className: EditMode_EditGlobals.classNames.menuDestroy,\n            icon: iconURLPrefix + 'destroy.svg',\n            events: {\n                click: function () {\n                    const parentNode = this.menu.parent, editMode = this.menu.parent.editMode, popup = editMode.confirmationPopup;\n                    popup.show({\n                        confirmButton: {\n                            value: editMode.lang.confirmButton,\n                            callback: parentNode.onRowDestroy,\n                            context: parentNode\n                        },\n                        cancelButton: {\n                            value: editMode.lang.cancelButton,\n                            callback: () => {\n                                popup.closePopup();\n                            }\n                        },\n                        text: editMode.lang.confirmDestroyRow\n                    });\n                }\n            }\n        });\n        return items;\n    }\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(editMode) {\n        super(editMode, RowEditToolbar_merge(RowEditToolbar.defaultOptions, (editMode.options.toolbars || {}).row, {\n            menu: {\n                items: RowEditToolbar.getMenuItemsConfig(editMode.options, editMode.iconsURLPrefix)\n            }\n        }));\n        this.menu.initItems({});\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    refreshOutline(x, y) {\n        const toolbar = this, offsetWidth = 2;\n        if (toolbar.row && toolbar.row.container) {\n            super.refreshOutline(x, y, this.row, offsetWidth);\n        }\n    }\n    showToolbar(row) {\n        const toolbar = this;\n        const rowCnt = row.container;\n        const rowToolbar = toolbar.editMode.rowToolbar;\n        let x;\n        let y;\n        let offsetX;\n        if (!rowToolbar) {\n            return;\n        }\n        if (rowCnt &&\n            toolbar.editMode.isActive() &&\n            !(toolbar.editMode.dragDrop || {}).isActive) {\n            const rowOffsets = Layout_GUIElement.getOffsets(row, toolbar.editMode.board.container);\n            const rowWidth = rowOffsets.right - rowOffsets.left;\n            RowEditToolbar_objectEach(toolbar.menu.items, (item) => {\n                if (!row.options?.editMode?.toolbarItems) {\n                    item.activate();\n                    return;\n                }\n                const toolbarItems = row.options.editMode.toolbarItems;\n                if (toolbarItems[item.options.id]\n                    ?.enabled === false) {\n                    item.deactivate();\n                    return;\n                }\n                item.activate();\n            });\n            offsetX = rowWidth / 2 - toolbar.container.clientWidth / 2;\n            x = rowOffsets.left + offsetX;\n            y = rowOffsets.top - toolbar.container.clientHeight;\n            toolbar.setPosition(x, y);\n            toolbar.row = row;\n            toolbar.refreshOutline(-offsetX, toolbar.container.clientHeight);\n            rowToolbar.isVisible = true;\n        }\n        else if (toolbar.isVisible) {\n            toolbar.hide();\n            rowToolbar.isVisible = false;\n        }\n    }\n    onRowOptions() {\n        const toolbar = this;\n        if (toolbar.editMode.sidebar) {\n            toolbar.editMode.sidebar.show(toolbar.row);\n        }\n    }\n    onRowDestroy() {\n        const toolbar = this;\n        if (toolbar.row) {\n            const rowId = toolbar.row.options.id || -1;\n            this.resetEditedRow();\n            toolbar.row.destroy();\n            toolbar.row = void 0;\n            // Hide row and cell toolbars.\n            toolbar.editMode.hideToolbars(['cell', 'row']);\n            toolbar.editMode.resizer?.disableResizer();\n            RowEditToolbar_fireEvent(toolbar.editMode, 'layoutChanged', {\n                type: 'rowDestroyed',\n                target: rowId,\n                board: toolbar.editMode.board\n            });\n        }\n    }\n    resetEditedRow() {\n        /// super.resetCurrentElements(this.row as Row, true);\n        this.editedRow = void 0;\n    }\n}\n/* *\n *\n *  Static Properties\n *\n * */\nRowEditToolbar.defaultOptions = {\n    enabled: true,\n    className: EditMode_EditGlobals.classNames.editToolbar,\n    outline: true,\n    outlineClassName: EditMode_EditGlobals.classNames.editToolbarRowOutline,\n    menu: {\n        className: EditMode_EditGlobals.classNames.editToolbarRow,\n        itemsClassName: EditMode_EditGlobals.classNames.editToolbarItem,\n        items: []\n    }\n};\n/* harmony default export */ const Toolbar_RowEditToolbar = (RowEditToolbar);\n\n// EXTERNAL MODULE: external {\"amd\":[\"dashboards/dashboards\",\"AST\"],\"commonjs\":[\"dashboards\",\"AST\"],\"commonjs2\":[\"dashboards\",\"AST\"],\"root\":[\"Dashboards\",\"AST\"]}\nvar dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_ = __webpack_require__(160);\nvar dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_default = /*#__PURE__*/__webpack_require__.n(dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_);\n;// ./code/dashboards/es-modules/Shared/BaseForm.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n * */\n\n/* *\n *\n *  Imports\n *\n * */\n\n\nconst { addEvent: BaseForm_addEvent, createElement: BaseForm_createElement } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Class\n *\n * */\nclass BaseForm {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(parentDiv, iconsURL) {\n        this.iconsURL = iconsURL;\n        this.container = this.createPopupContainer(parentDiv);\n        this.closeButton = this.addCloseButton();\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Create popup div container.\n     *\n     * @param {HTMLElement} parentDiv\n     * Parent div to attach popup.\n     *\n     * @param  {string} className\n     * Class name of the popup.\n     *\n     * @return {HTMLElement}\n     * Popup div.\n     */\n    createPopupContainer(parentDiv, className = 'highcharts-popup highcharts-no-tooltip') {\n        return BaseForm_createElement('div', { className }, void 0, parentDiv);\n    }\n    /**\n     * Create HTML element and attach click event to close popup.\n     *\n     * @param {string} className\n     * Class name of the close button.\n     *\n     * @return {HTMLElement}\n     * Close button.\n     */\n    addCloseButton(className = 'highcharts-popup-close') {\n        const popup = this, iconsURL = this.iconsURL;\n        // Create close popup button.\n        const closeButton = BaseForm_createElement('button', { className }, void 0, this.container);\n        BaseForm_createElement('span', {\n            className: 'highcharts-icon'\n        }, {\n            backgroundImage: 'url(' + (iconsURL.match(/png|svg|jpeg|jpg|gif/ig) ?\n                iconsURL : iconsURL + 'close.svg') + ')'\n        }, closeButton);\n        ['click', 'touchstart'].forEach((eventName) => {\n            BaseForm_addEvent(closeButton, eventName, popup.closeButtonEvents.bind(popup));\n        });\n        // Close popup when press ESC\n        BaseForm_addEvent(document, 'keydown', function (event) {\n            if (event.code === 'Escape') {\n                popup.closeButtonEvents();\n            }\n        });\n        return closeButton;\n    }\n    /**\n     * Close button events.\n     * @return {void}\n     */\n    closeButtonEvents() {\n        this.closePopup();\n    }\n    /**\n     * Reset content of the current popup and show.\n     *\n     * @param {string} toolbarClass\n     * Class name of the toolbar which styles should be reset.\n     */\n    showPopup(toolbarClass = 'highcharts-annotation-toolbar') {\n        const popupDiv = this.container, popupCloseButton = this.closeButton;\n        this.type = void 0;\n        // Reset content.\n        popupDiv.innerHTML = (dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_default()).emptyHTML;\n        // Reset toolbar styles if exists.\n        if (popupDiv.className.indexOf(toolbarClass) >= 0) {\n            popupDiv.classList.remove(toolbarClass);\n            // Reset toolbar inline styles\n            popupDiv.removeAttribute('style');\n        }\n        // Add close button.\n        popupDiv.appendChild(popupCloseButton);\n        popupDiv.style.display = 'block';\n        popupDiv.style.height = '';\n    }\n    /**\n     * Hide popup.\n     */\n    closePopup() {\n        this.container.style.display = 'none';\n    }\n}\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const Shared_BaseForm = (BaseForm);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/ConfirmationPopup.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\nconst { createElement: ConfirmationPopup_createElement } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * Class to create confirmation popup.\n */\nclass ConfirmationPopup extends Shared_BaseForm {\n    /* *\n    *\n    *  Static Properties\n    *\n    * */\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    /**\n     * Constructs an instance of the ConfirmationPopup.\n     *\n     * @param parentDiv\n     * Parent div where the popup will be added.\n     *\n     * @param iconsURL\n     * URL to the icons.\n     *\n     * @param editMode\n     * The EditMode instance.\n     *\n     * @param options\n     * Options for confirmation popup.\n     */\n    constructor(parentDiv, iconsURL, editMode, options) {\n        iconsURL =\n            options && options.close && options.close.icon ?\n                options.close.icon :\n                iconsURL;\n        super(parentDiv, iconsURL);\n        this.editMode = editMode;\n        this.options = options;\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Returns popup container.\n     *\n     * @param parentDiv\n     * Parent div where the popup will be added.\n     *\n     * @param className\n     * Class name added to the popup container.\n     */\n    createPopupContainer(parentDiv, className = EditMode_EditGlobals.classNames.confirmationPopup) {\n        return super.createPopupContainer(parentDiv, className);\n    }\n    /**\n     * Adds close button to the popup.\n     *\n     * @param className\n     * Class name added to the close button.\n     */\n    addCloseButton(className = EditMode_EditGlobals.classNames.popupCloseButton) {\n        return super.addCloseButton(className);\n    }\n    /**\n     * Adds events to the close button.\n     *\n     * @override BaseForm.closeButtonEvents\n     */\n    closeButtonEvents() {\n        const cancelCallback = this.contentOptions?.cancelButton.callback;\n        if (!cancelCallback) {\n            return;\n        }\n        cancelCallback();\n    }\n    /**\n     * Adds content inside the popup.\n     */\n    renderContent() {\n        const options = this.contentOptions;\n        if (!options) {\n            return;\n        }\n        // Render content wrapper\n        this.contentContainer = ConfirmationPopup_createElement('div', {\n            className: EditMode_EditGlobals.classNames.popupContentContainer\n        }, {}, this.container);\n        const popupContainer = this.contentContainer.parentNode;\n        popupContainer.style.marginTop = '0px';\n        const offsetTop = popupContainer.getBoundingClientRect().top;\n        popupContainer.style.marginTop = (offsetTop < 0 ? Math.abs(offsetTop - 200) : 200) + 'px';\n        // Render text\n        EditMode_EditRenderer.renderText(this.contentContainer, {\n            title: options.text || ''\n        });\n        // Render button wrapper\n        this.buttonContainer = ConfirmationPopup_createElement('div', {\n            className: EditMode_EditGlobals.classNames.popupButtonContainer\n        }, {}, this.container);\n        // Render cancel buttons\n        EditMode_EditRenderer.renderButton(this.buttonContainer, {\n            text: options.cancelButton.value,\n            className: EditMode_EditGlobals.classNames.popupCancelBtn,\n            callback: options.cancelButton.callback\n        });\n        // Confirm\n        EditMode_EditRenderer.renderButton(this.buttonContainer, {\n            text: options.confirmButton.value,\n            className: EditMode_EditGlobals.classNames.popupConfirmBtn,\n            callback: () => {\n                options.confirmButton.callback.call(options.confirmButton.context);\n                this.closePopup();\n            }\n        });\n    }\n    /**\n     * Shows confirmation popup.\n     *\n     * @param options\n     * Options for confirmation popup.\n     */\n    show(options) {\n        this.contentOptions = options;\n        this.showPopup();\n        this.renderContent();\n        this.editMode.setEditOverlay();\n    }\n    /**\n     * Hides confirmation popup.\n     */\n    closePopup() {\n        super.closePopup();\n        this.editMode.setEditOverlay(true);\n    }\n}\n/* harmony default export */ const EditMode_ConfirmationPopup = (ConfirmationPopup);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/AccordionMenu.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Pawel Lysy\n *  - Sebastian Bochan\n *\n * */\n\n\n\n\n\nconst { createElement: AccordionMenu_createElement, merge: AccordionMenu_merge, error: AccordionMenu_error, fireEvent: AccordionMenu_fireEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Class\n *\n * */\n/**\n * Accordion menu class.\n */\nclass AccordionMenu {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(iconsURLPrefix, closeSidebar) {\n        this.changedOptions = {};\n        this.chartOptionsJSON = {};\n        this.oldOptionsBuffer = {};\n        this.waitingForConfirmation = false;\n        this.iconsURLPrefix = iconsURLPrefix;\n        this.closeSidebar = closeSidebar;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Renders the menu for given component.\n     *\n     * @param container\n     * The HTML Element to render the menu in.\n     *\n     * @param component\n     * The component to render the menu for.\n\n     * @param sidebarMainContainer\n     * The main container of the sidebar.\n     */\n    renderContent(container, component, sidebarMainContainer) {\n        const { editMode } = component.board;\n        const menu = this;\n        const editableOptions = component.editableOptions.getOptions();\n        let options;\n        let content;\n        this.component = component;\n        this.oldOptionsBuffer = component.getEditableOptions();\n        if (editMode) {\n            this.confirmationPopup = new EditMode_ConfirmationPopup(component.board.container, editMode.iconsURLPrefix, editMode, { close: { icon: '' } });\n        }\n        const accordionContainer = AccordionMenu_createElement('div', {\n            className: EditMode_EditGlobals.classNames.accordionMenu\n        }, {}, container);\n        for (let i = 0, end = editableOptions.length; i < end; i++) {\n            options = editableOptions[i];\n            content = EditMode_EditRenderer.renderCollapseHeader(accordionContainer, AccordionMenu_merge({\n                iconsURLPrefix: menu.iconsURLPrefix,\n                lang: (component.board?.editMode || EditMode_EditGlobals).lang\n            }, options)).content;\n            this.renderAccordion(options, content, component);\n        }\n        const buttonContainer = AccordionMenu_createElement('div', {\n            className: EditMode_EditGlobals.classNames.accordionMenuButtonsContainer\n        }, {}, sidebarMainContainer);\n        EditMode_EditRenderer.renderButton(buttonContainer, {\n            text: (component.board?.editMode || EditMode_EditGlobals)\n                .lang.confirmButton,\n            className: EditMode_EditGlobals.classNames.popupConfirmBtn,\n            callback: async () => {\n                await this.confirmChanges();\n                AccordionMenu_fireEvent(editMode, 'confirmEditing');\n            }\n        });\n        EditMode_EditRenderer.renderButton(buttonContainer, {\n            text: (component.board?.editMode || EditMode_EditGlobals)\n                .lang.cancelButton,\n            className: EditMode_EditGlobals.classNames.popupCancelBtn,\n            callback: () => {\n                this.cancelChanges();\n                AccordionMenu_fireEvent(editMode, 'cancelEditing');\n            }\n        });\n        sidebarMainContainer.appendChild(buttonContainer);\n    }\n    /**\n     * Update the options object with new nested value, based on the property\n     * path. If the objects in the path are not defined, the function will\n     * create them.\n     *\n     * @param propertyPath\n     * Path of the property for which the value should be updated.\n     * Example: ```['chartOptions', 'chart', 'type']```\n     *\n     * @param value\n     * New value of the property.\n     */\n    updateOptions(propertyPath, value) {\n        const pathLength = propertyPath.length - 1;\n        let currentLevel = this.changedOptions;\n        let currentChartOptionsLevel;\n        let currentOldChartOptionsBufferLevel;\n        let currentGridOptionsLevel;\n        let currentOldGridOptionsBufferLevel;\n        if (pathLength === 0 && propertyPath[0] === 'chartOptions') {\n            try {\n                const parsedValue = JSON.parse(value);\n                this.chartOptionsJSON = parsedValue;\n            }\n            catch (e) {\n                // TODO: Handle the wrong config passed from the user.\n                AccordionMenu_error(`Dashboards Error: Wrong JSON config structure passed as a chart options. \\n____________\\n${e}`);\n            }\n        }\n        for (let i = 0; i < pathLength; i++) {\n            const key = propertyPath[i];\n            if (!currentLevel[key]) {\n                currentLevel[key] = {};\n            }\n            currentLevel = currentLevel[key];\n            if (key === 'gridOptions') {\n                const realGridOptions = this.component.grid?.options;\n                if (realGridOptions) {\n                    const oldOptionsBuffer = this.oldOptionsBuffer;\n                    if (!oldOptionsBuffer.gridOptions) {\n                        oldOptionsBuffer.gridOptions = {};\n                    }\n                    currentOldGridOptionsBufferLevel =\n                        oldOptionsBuffer.gridOptions;\n                    currentGridOptionsLevel = realGridOptions;\n                }\n            }\n            else if (currentGridOptionsLevel &&\n                currentOldGridOptionsBufferLevel) {\n                currentGridOptionsLevel = currentGridOptionsLevel[key];\n                if (currentOldGridOptionsBufferLevel[key] === void 0) {\n                    currentOldGridOptionsBufferLevel[key] = {};\n                }\n                currentOldGridOptionsBufferLevel =\n                    currentOldGridOptionsBufferLevel[key];\n            }\n            if (key === 'chartOptions') {\n                const realChartOptions = this.component.chart?.options;\n                if (realChartOptions) {\n                    const oldOptionsBuffer = this.oldOptionsBuffer;\n                    if (!oldOptionsBuffer.chartOptions) {\n                        oldOptionsBuffer.chartOptions = {};\n                    }\n                    currentOldChartOptionsBufferLevel =\n                        oldOptionsBuffer.chartOptions;\n                    currentChartOptionsLevel = realChartOptions;\n                }\n            }\n            else if (currentChartOptionsLevel &&\n                currentOldChartOptionsBufferLevel) {\n                currentChartOptionsLevel = currentChartOptionsLevel[key];\n                if (currentOldChartOptionsBufferLevel[key] === void 0) {\n                    currentOldChartOptionsBufferLevel[key] = {};\n                }\n                currentOldChartOptionsBufferLevel =\n                    currentOldChartOptionsBufferLevel[key];\n            }\n        }\n        const lastKey = propertyPath[pathLength];\n        currentLevel[lastKey] = value;\n        if (currentOldChartOptionsBufferLevel && currentChartOptionsLevel) {\n            currentOldChartOptionsBufferLevel[lastKey] = (currentOldChartOptionsBufferLevel[lastKey] ??\n                currentChartOptionsLevel[lastKey]);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this.component?.update(this.changedOptions);\n    }\n    /**\n     * Renders either a basic or nested element. This function can be\n     * recursively called, if there are multiple nested options.\n     *\n     * @param options\n     * Configuration object of the Component options.\n     *\n     * @param parentNode\n     * A container where the accordion is rendered.\n     *\n     * @param component\n     * the component for which the menu should be rendered.\n     */\n    renderAccordion(options, parentNode, component) {\n        if (options.type === 'nested') {\n            return this.renderNested(parentNode, options, component);\n        }\n        const renderFunction = EditMode_EditRenderer.getRendererFunction(options.type);\n        const lang = (component.board?.editMode || EditMode_EditGlobals).lang;\n        if (!renderFunction) {\n            return;\n        }\n        renderFunction(parentNode, {\n            ...options,\n            iconsURLPrefix: this.iconsURLPrefix,\n            value: component.getEditableOptionValue(options.propertyPath),\n            enabledOnOffLabels: options.type === 'toggle',\n            lang,\n            onchange: (value) => this.updateOptions(options.propertyPath || [], value)\n        });\n    }\n    /**\n     * Render nested menu for the component.\n     *\n     * @param parentElement\n     * HTML element to which the nested structure should be rendered to\n     *\n     * @param options\n     * configuration object for the options\n     *\n     * @param component\n     * The component instance for the options should be rendered\n     */\n    renderNested(parentElement, options, component) {\n        if (!parentElement || !options.nestedOptions) {\n            return;\n        }\n        const nestedOptions = options.nestedOptions;\n        for (let i = 0, iEnd = nestedOptions.length; i < iEnd; ++i) {\n            const name = nestedOptions[i].name;\n            const accordionOptions = nestedOptions[i].options;\n            const showToggle = !!nestedOptions[i].showToggle;\n            const propertyPath = nestedOptions[i].propertyPath || [];\n            const lang = (component.board?.editMode || EditMode_EditGlobals).lang;\n            const collapsedHeader = EditMode_EditRenderer.renderCollapseHeader(parentElement, {\n                name,\n                isEnabled: !!component.getEditableOptionValue(propertyPath),\n                iconsURLPrefix: this.iconsURLPrefix,\n                showToggle: showToggle,\n                onchange: (value) => this.updateOptions(propertyPath, value),\n                isNested: !!accordionOptions,\n                isStandalone: !accordionOptions,\n                lang\n            });\n            for (let j = 0, jEnd = accordionOptions?.length; j < jEnd; ++j) {\n                this.renderAccordion(AccordionMenu_merge(accordionOptions[j], { lang, isNested: true }), collapsedHeader.content, component);\n            }\n        }\n        return;\n    }\n    /**\n     * Closes the sidebar discarding changes. If there are any changes, it will\n     * show a confirmation popup. If no changes, it will close the sidebar.\n     */\n    cancelChanges() {\n        if (Object.keys(this.changedOptions).length < 1) {\n            this.closeSidebar();\n        }\n        else {\n            this.showCancelConfirmationPopup();\n        }\n    }\n    /**\n     * Confirms changes made in the component.\n     *\n     * @fires EditMode#componentChanged\n     */\n    async confirmChanges() {\n        const component = this.component;\n        if (!component) {\n            return;\n        }\n        if (component.type === 'Highcharts' &&\n            Object.keys(this.chartOptionsJSON).length) {\n            await component.update({\n                chartOptions: this.chartOptionsJSON\n            });\n        }\n        else if (component.type === 'HTML') {\n            const options = this.changedOptions;\n            await component.update(options, true);\n        }\n        AccordionMenu_fireEvent(component.board.editMode, 'componentChanged', {\n            target: component,\n            changedOptions: AccordionMenu_merge({}, this.changedOptions),\n            oldOptions: AccordionMenu_merge({}, this.oldOptionsBuffer)\n        });\n        this.changedOptions = {};\n        this.chartOptionsJSON = {};\n        this.closeSidebar();\n    }\n    /**\n     * Discards changes made in the component.\n     *\n     * @fires EditMode#componentChangesDiscarded\n     */\n    async discardChanges() {\n        const component = this.component;\n        if (!component) {\n            return;\n        }\n        await component.update(this.oldOptionsBuffer);\n        AccordionMenu_fireEvent(component.board.editMode, 'componentChangesDiscarded', {\n            target: component,\n            changedOptions: AccordionMenu_merge({}, this.changedOptions),\n            oldOptions: AccordionMenu_merge({}, this.oldOptionsBuffer)\n        });\n        this.changedOptions = {};\n        this.chartOptionsJSON = {};\n    }\n    /**\n     * Shows a confirmation popup when the user tries to discard changes.\n     */\n    showCancelConfirmationPopup() {\n        const popup = this.confirmationPopup;\n        const editMode = this.component?.board?.editMode;\n        if (!popup || !editMode || this.waitingForConfirmation) {\n            return;\n        }\n        this.waitingForConfirmation = true;\n        popup.show({\n            text: editMode.lang.confirmDiscardChanges,\n            confirmButton: {\n                value: editMode.lang.confirmButton,\n                callback: async () => {\n                    await this.discardChanges();\n                    this.waitingForConfirmation = false;\n                    this.closeSidebar();\n                },\n                context: this\n            },\n            cancelButton: {\n                value: editMode.lang.cancelButton,\n                callback: () => {\n                    popup.closePopup();\n                    editMode.setEditOverlay();\n                    setTimeout(() => {\n                        this.waitingForConfirmation = false;\n                    }, 100);\n                }\n            }\n        });\n    }\n}\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const EditMode_AccordionMenu = (AccordionMenu);\n\n// EXTERNAL MODULE: external {\"amd\":[\"dashboards/dashboards\",\"ComponentRegistry\"],\"commonjs\":[\"dashboards\",\"ComponentRegistry\"],\"commonjs2\":[\"dashboards\",\"ComponentRegistry\"],\"root\":[\"Dashboards\",\"ComponentRegistry\"]}\nvar dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_ = __webpack_require__(376);\nvar dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_default = /*#__PURE__*/__webpack_require__.n(dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_);\n;// ./code/dashboards/es-modules/Dashboards/Actions/Bindings.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\nconst { addEvent: Bindings_addEvent, fireEvent: Bindings_fireEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Functions\n *\n * */\nfunction getGUIElement(idOrElement, parentElement) {\n    let guiElement;\n    if (typeof idOrElement === 'string' &&\n        document.querySelectorAll('#' + idOrElement).length > 1) {\n        // eslint-disable-next-line no-console\n        console.warn(`Multiple cells have identical ID %c${idOrElement}%c, potentially leading to unexpected behavior. \\nEnsure that each cell has a unique ID on the page.`, 'font-weight: bold', '');\n    }\n    const container = parentElement ?\n        parentElement.querySelector('#' + idOrElement) :\n        document.getElementById(idOrElement);\n    if (container !== null) {\n        Bindings_fireEvent(container, 'bindedGUIElement', {}, function (e) {\n            guiElement = e.guiElement;\n        });\n    }\n    return guiElement;\n}\nasync function addComponent(options, board, cell) {\n    const optionsStates = options.states;\n    const optionsEvents = options.events;\n    const renderTo = options.renderTo;\n    if (!renderTo) {\n        // eslint-disable-next-line no-console\n        console.error('The%c renderTo%c option is required to render the component.', 'font-weight: bold', '');\n        return;\n    }\n    if (board.mountedComponents.filter((el) => el.options.renderTo === renderTo).length > 0) {\n        // eslint-disable-next-line no-console\n        console.error(`A component has already been declared in the cell %c${renderTo}%c use a different cell.`, 'font-weight: bold', '');\n        return;\n    }\n    cell = cell || Bindings.getCell(renderTo, board.container);\n    const componentContainer = cell?.container || document.querySelector('#' + renderTo);\n    if (!componentContainer || !options.type) {\n        // eslint-disable-next-line no-console\n        console.error(`The component is unable to find the HTML cell element %c${renderTo}%c to render the content.`, 'font-weight: bold', '');\n        return;\n    }\n    let ComponentClass = (dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_default()).types[options.type];\n    if (!ComponentClass) {\n        // eslint-disable-next-line no-console\n        console.error(`The component's type %c${options.type}%c does not exist.`, 'font-weight: bold', '');\n        if (cell) {\n            ComponentClass =\n                (dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_default()).types['HTML'];\n            options.title = {\n                text: board.editMode?.lang.errorMessage ||\n                    'Something went wrong',\n                className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + 'component-title-error ' +\n                    (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + 'component-title'\n            };\n        }\n    }\n    const component = new ComponentClass(cell, options, board);\n    const promise = component.load()['catch']((e) => {\n        // eslint-disable-next-line no-console\n        console.error(e);\n        component.update({\n            connector: {\n                id: ''\n            },\n            title: {\n                text: board.editMode?.lang.errorMessage ||\n                    'Something went wrong',\n                className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + 'component-title-error ' +\n                    (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + 'component-title'\n            }\n        });\n    });\n    if (cell) {\n        component.setCell(cell);\n        cell.mountedComponent = component;\n    }\n    board.mountedComponents.push({\n        options: options,\n        component: component,\n        cell: cell || new Layout_CellHTML({\n            id: renderTo,\n            container: componentContainer,\n            mountedComponent: component\n        })\n    });\n    if (cell &&\n        optionsStates?.active?.enabled &&\n        optionsStates?.active?.isActive) {\n        cell.setActiveState();\n        component.isActive = true;\n    }\n    Bindings_fireEvent(component, 'mount');\n    // Events\n    Bindings_addEvent(componentContainer, 'click', () => {\n        // Call the component's click callback\n        if (optionsEvents && optionsEvents.click) {\n            optionsEvents.click.call(component);\n        }\n        // Default behavior\n        if (cell &&\n            component &&\n            componentContainer &&\n            optionsStates?.active?.enabled) {\n            cell.setActiveState();\n            component.isActive = true;\n        }\n    });\n    // States\n    if (optionsStates?.hover?.enabled) {\n        componentContainer.classList.add((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cellHover);\n    }\n    Bindings_fireEvent(component, 'afterLoad');\n    return promise;\n}\nfunction getCell(idOrElement, parentElement) {\n    const cell = getGUIElement(idOrElement, parentElement);\n    if (!(cell && cell.getType() === 'cell')) {\n        return;\n    }\n    return cell;\n}\nfunction getRow(idOrElement, parentElement) {\n    const row = getGUIElement(idOrElement, parentElement);\n    if (!(row && row.getType() === 'row')) {\n        return;\n    }\n    return row;\n}\nfunction getLayout(idOrElement, parentElement) {\n    const layout = getGUIElement(idOrElement, parentElement);\n    if (!(layout && layout.getType() === 'layout')) {\n        return;\n    }\n    return layout;\n}\n/* *\n *\n *  Default Export\n *\n * */\nconst Bindings = {\n    addComponent,\n    getCell,\n    getLayout,\n    getRow\n};\n/* harmony default export */ const Actions_Bindings = (Bindings);\n\n;// ./code/dashboards/es-modules/Dashboards/Layout/Row.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\n\nconst { pick, defined: Row_defined, merge: Row_merge, objectEach: Row_objectEach, fireEvent: Row_fireEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * @internal\n **/\nclass Row extends Layout_GUIElement {\n    /* *\n    *\n    *  Static Properties\n    *\n    * */\n    static setContainerHeight(rowContainer, height) {\n        if (height) {\n            rowContainer.style.height = height + 'px';\n        }\n    }\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    /**\n     * Constructs an instance of the Row class.\n     *\n     * @param {Layout} layout\n     * Reference to the layout instance.\n     *\n     * @param {Options} options\n     * Options for the row.\n     *\n     * @param {HTMLElement} rowElement\n     * The container of the row HTML element.\n     */\n    constructor(layout, options, rowElement) {\n        super();\n        /**\n         * The type of GUI element.\n         */\n        this.type = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.row;\n        this.layout = layout;\n        this.cells = [];\n        this.options = options;\n        this.isVisible = true;\n        // Get parent container\n        const parentContainer = document.getElementById(options.parentContainerId || '') ||\n            layout.container;\n        const layoutOptions = (layout.options || {}), rowClassName = layoutOptions.rowClassName || '';\n        this.container = this.getElementContainer({\n            render: layout.board.guiEnabled,\n            parentContainer: parentContainer,\n            attribs: {\n                id: options.id,\n                className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.row + ' ' +\n                    rowClassName\n            },\n            element: rowElement,\n            elementId: options.id,\n            style: Row_merge(layoutOptions.style, options.style)\n        });\n        // Init rows from options.\n        if (this.options.cells) {\n            this.setCells();\n        }\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Set the row cells using cell options or cellClassName.\n     */\n    setCells() {\n        const row = this, cellClassName = (row.layout.options || {}).cellClassName || '', cellsElements = pick(row.options.cells, row.container && row.container.getElementsByClassName(cellClassName)) || [];\n        let cellElement, i, iEnd;\n        for (i = 0, iEnd = cellsElements.length; i < iEnd; ++i) {\n            cellElement = cellsElements[i];\n            row.addCell(row.layout.board.guiEnabled ? cellElement : { id: '' }, cellElement instanceof HTMLElement ? cellElement : void 0);\n        }\n    }\n    /**\n     * Add a new Cell instance to the row cells array.\n     *\n     * @param {CellOptions} [options]\n     * Options for the row cell.\n     *\n     * @param {HTMLElement} [cellElement]\n     * The container for a new cell HTML element.\n     *\n     * @return {Cell}\n     * Returns the Cell object.\n     */\n    addCell(options, cellElement, index) {\n        const row = this, cell = new Layout_Cell(row, options, cellElement);\n        if (!Row_defined(index)) {\n            row.cells.push(cell);\n        }\n        else {\n            row.mountCell(cell, index);\n        }\n        // Set editMode events.\n        if (row.layout.board.editMode) {\n            row.layout.board.editMode.setCellEvents(cell);\n        }\n        return cell;\n    }\n    /**\n     * Destroy the element, its container, event hooks\n     * and inner cells.\n     */\n    destroy() {\n        const row = this;\n        const { layout } = row;\n        const board = row.layout.board;\n        const editMode = board.editMode;\n        // Destroy cells.\n        if (row.cells) {\n            // Copy to avoid problem with index when shifting array of cells\n            // during the destroy.\n            const rowCells = [...row.cells];\n            for (let i = 0, iEnd = rowCells.length; i < iEnd; ++i) {\n                if (rowCells[i]) {\n                    rowCells[i].destroy();\n                }\n            }\n        }\n        if (row.layout) {\n            row.layout.unmountRow(row);\n            super.destroy();\n            if (layout.rows?.length === 0) {\n                layout.destroy();\n            }\n        }\n        Row_fireEvent(editMode, 'rowDestroyed', {\n            target: row,\n            board: board\n        });\n    }\n    /**\n     * Get the row's options.\n     * @returns\n     * The JSON of row's options.\n     *\n     * @internal\n     *\n     */\n    getOptions() {\n        const row = this, cells = [];\n        for (let i = 0, iEnd = row.cells.length; i < iEnd; ++i) {\n            cells.push(row.cells[i].getOptions());\n        }\n        return {\n            id: this.options.id,\n            style: this.options.style,\n            cells\n        };\n    }\n    setSize(height) {\n        Row.setContainerHeight(this.container, height);\n    }\n    // Get cell index from the row.cells array.\n    getCellIndex(cell) {\n        for (let i = 0, iEnd = this.cells?.length; i < iEnd; ++i) {\n            if (this.cells[i].id === cell.id) {\n                return i;\n            }\n        }\n    }\n    // Add cell to the row.cells array and move cell container.\n    mountCell(cell, index = 0) {\n        const row = this, nextCell = row.cells[index], prevCell = row.cells[index - 1];\n        if (cell.container) {\n            if (nextCell && nextCell.container) {\n                nextCell.container.parentNode.insertBefore(cell.container, nextCell.container);\n            }\n            else if (prevCell && prevCell.container) {\n                prevCell.container.parentNode.insertBefore(cell.container, prevCell.container.nextSibling);\n            }\n            else if (!prevCell && !nextCell && row.container) {\n                row.container.appendChild(cell.container);\n            }\n            row.cells.splice(index, 0, cell);\n            cell.row = row;\n            setTimeout(() => {\n                Row_fireEvent(row, 'cellChange', { row, cell });\n            }, 0);\n        }\n    }\n    // Remove cell from the row.cells array.\n    unmountCell(cell) {\n        const cellIndex = this.getCellIndex(cell);\n        if (Row_defined(cellIndex)) {\n            this.cells.splice(cellIndex, 1);\n        }\n        setTimeout(() => {\n            Row_fireEvent(this, 'cellChange', { row: this, cell });\n        }, 0);\n    }\n    getVisibleCells() {\n        const cells = [];\n        for (let i = 0, iEnd = this.cells.length; i < iEnd; ++i) {\n            if (this.cells[i].isVisible) {\n                cells.push(this.cells[i]);\n            }\n        }\n        return cells;\n    }\n    changeVisibility(setVisible = true, displayStyle) {\n        const row = this;\n        super.changeVisibility(setVisible, displayStyle);\n        // Change layout visibility if needed.\n        if (!row.layout.getVisibleRows().length) {\n            row.layout.hide();\n        }\n        else if (row.isVisible && !row.layout.isVisible) {\n            row.layout.show();\n        }\n    }\n    show() {\n        this.changeVisibility(true, 'flex');\n    }\n    setHighlight(remove) {\n        const classList = this.container.classList;\n        const highlightClass = EditMode_EditGlobals.classNames.rowContextHighlight;\n        if (remove === true) {\n            classList.remove(highlightClass);\n        }\n        else {\n            classList.toggle(highlightClass, !remove);\n        }\n    }\n    // Row can have cells below each others.\n    // This method returns cells split into levels.\n    getRowLevels() {\n        const row = this, rowLevels = {}, rowLevelsArray = [];\n        let cell, cellOffsets;\n        for (let k = 0, kEnd = row.cells.length; k < kEnd; ++k) {\n            cell = row.cells[k];\n            if (cell.isVisible) {\n                cellOffsets = Layout_GUIElement.getOffsets(cell);\n                if (!rowLevels[cellOffsets.top]) {\n                    rowLevels[cellOffsets.top] = {\n                        top: cellOffsets.top,\n                        bottom: cellOffsets.bottom,\n                        cells: []\n                    };\n                }\n                if (rowLevels[cellOffsets.top].bottom < cellOffsets.bottom) {\n                    rowLevels[cellOffsets.top].bottom = cellOffsets.bottom;\n                }\n                rowLevels[cellOffsets.top].cells.push(cell);\n            }\n        }\n        Row_objectEach(rowLevels, (value) => {\n            rowLevelsArray.push(value);\n        });\n        return rowLevelsArray;\n    }\n    // Get row level with additional info\n    // on a specific Y position.\n    getRowLevelInfo(posY) {\n        const rowLevels = this.getRowLevels();\n        let rowLevelInfo;\n        for (let i = 0, iEnd = rowLevels.length; i < iEnd; ++i) {\n            if (rowLevels[i].top <= posY && rowLevels[i].bottom > posY) {\n                rowLevelInfo = {\n                    index: i,\n                    rowLevels: rowLevels,\n                    rowLevel: rowLevels[i]\n                };\n            }\n        }\n        return rowLevelInfo;\n    }\n}\n/* harmony default export */ const Layout_Row = (Row);\n\n;// ./code/dashboards/es-modules/Dashboards/Layout/Layout.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\nconst { pick: Layout_pick, defined: Layout_defined } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n\n\n\n/**\n * @internal\n **/\nclass Layout extends Layout_GUIElement {\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    /**\n     * Constructs an instance of the Layout class.\n     *\n     * @param {Dashboard} board\n     * Reference to the dashboard instance.\n     *\n     * @param {Options} options\n     * Options for the layout.\n     */\n    constructor(board, options, parentCell) {\n        super();\n        /**\n         * The type of GUI element.\n         */\n        this.type = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.layout;\n        this.board = board;\n        this.rows = [];\n        this.options = options;\n        this.isVisible = true;\n        // Get parent container\n        const parentContainer = parentCell ? parentCell.container :\n            document.getElementById(options.parentContainerId || '') || board.layoutsWrapper;\n        // Set layout level.\n        if (parentCell) {\n            this.parentCell = parentCell;\n            this.level = parentCell.row.layout.level + 1;\n        }\n        else {\n            this.level = 0;\n        }\n        // GUI structure\n        if (options.copyId) {\n            this.copyId = options.copyId;\n        }\n        const layoutOptions = (this.options || {}), layoutClassName = layoutOptions.rowClassName || '';\n        this.container = this.getElementContainer({\n            render: board.guiEnabled,\n            parentContainer: parentContainer,\n            attribs: {\n                id: (options.id || '') + (this.copyId ? '_' + this.copyId : ''),\n                className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.layout + ' ' +\n                    layoutClassName\n            },\n            elementId: options.id,\n            style: this.options.style\n        });\n        // Init rows from options.\n        if (this.options.rows) {\n            this.setRows();\n        }\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Set the layout rows using rows options or rowClassName.\n     */\n    setRows() {\n        const layout = this, rowsElements = Layout_pick(layout.options.rows, layout.container && layout.container.getElementsByClassName(layout.options.rowClassName || '')) || [];\n        let rowElement, i, iEnd;\n        for (i = 0, iEnd = rowsElements.length; i < iEnd; ++i) {\n            rowElement = rowsElements[i];\n            layout.addRow(layout.board.guiEnabled ? rowElement : {}, rowElement instanceof HTMLElement ? rowElement : void 0);\n        }\n    }\n    /**\n     * Add a new Row instance to the layout rows array.\n     *\n     * @param {RowOptions} options\n     * Options of a row.\n     *\n     * @param {HTMLElement} rowElement\n     * The container for a new row HTML element.\n     *\n     * @return {Row}\n     * Returns the Row object.\n     */\n    addRow(options, rowElement, index) {\n        const layout = this, row = new Layout_Row(layout, options, rowElement);\n        if (!Layout_defined(index)) {\n            layout.rows.push(row);\n        }\n        else {\n            layout.mountRow(row, index);\n        }\n        // Set editMode events.\n        if (layout.board.editMode) {\n            layout.board.editMode.setRowEvents(row);\n        }\n        return row;\n    }\n    /**\n     * Destroy the element, its container, event hooks\n     * and inner rows.\n     */\n    destroy() {\n        const layout = this;\n        for (let i = layout.board.layouts.length - 1; i >= 0; i--) {\n            if (layout.board.layouts[i] === layout) {\n                layout.board.layouts.splice(i, 1);\n            }\n        }\n        if (layout.parentCell) {\n            delete layout.parentCell.nestedLayout;\n        }\n        // Destroy rows.\n        for (let i = layout.rows.length - 1; i >= 0; i--) {\n            layout.rows[i].destroy();\n        }\n        if (layout.parentCell) {\n            layout.parentCell.destroy();\n        }\n        super.destroy();\n    }\n    // Get row index from the layout.rows array.\n    getRowIndex(row) {\n        for (let i = 0, iEnd = this.rows.length; i < iEnd; ++i) {\n            if (this.rows[i] === row) {\n                return i;\n            }\n        }\n    }\n    // Add cell to the layout.rows array and move row container.\n    mountRow(row, index) {\n        const nextRow = this.rows[index], prevRow = this.rows[index - 1];\n        if (row.container) {\n            if (nextRow && nextRow.container) {\n                nextRow.container.parentNode.insertBefore(row.container, nextRow.container);\n            }\n            else if (prevRow && prevRow.container) {\n                prevRow.container.parentNode.insertBefore(row.container, prevRow.container.nextSibling);\n            }\n            this.rows.splice(index, 0, row);\n            row.layout = this;\n        }\n    }\n    // Remove row from the layout.rows array.\n    unmountRow(row) {\n        const rowIndex = this.getRowIndex(row);\n        if (Layout_defined(rowIndex)) {\n            this.rows.splice(rowIndex, 1);\n        }\n    }\n    getVisibleRows() {\n        const rows = [];\n        for (let i = 0, iEnd = this.rows.length; i < iEnd; ++i) {\n            if (this.rows[i].isVisible) {\n                rows.push(this.rows[i]);\n            }\n        }\n        return rows;\n    }\n    changeVisibility(setVisible = true) {\n        const layout = this;\n        super.changeVisibility(setVisible);\n        // Change parentCell visibility.\n        if (layout.parentCell) {\n            if (layout.isVisible && !layout.parentCell.isVisible) {\n                layout.parentCell.show();\n            }\n            else if (!layout.isVisible && layout.parentCell.isVisible) {\n                layout.parentCell.hide();\n            }\n        }\n    }\n    /**\n     * Get the layout's options.\n     * @returns\n     * Layout's options.\n     *\n     * @internal\n     *\n     */\n    getOptions() {\n        const layout = this, rows = [];\n        // Get rows JSON.\n        for (let i = 0, iEnd = layout.rows.length; i < iEnd; ++i) {\n            rows.push(layout.rows[i].getOptions());\n        }\n        return {\n            id: this.options.id,\n            layoutClassName: this.options.layoutClassName,\n            rowClassName: this.options.rowClassName,\n            cellClassName: this.options.cellClassName,\n            style: this.options.style,\n            rows\n        };\n    }\n}\n/* harmony default export */ const Layout_Layout = (Layout);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/SidebarPopup.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  Pawel Lysy\n *\n * */\n\n\n\n\n\n\n\n\n\n\n\n\nconst { addEvent: SidebarPopup_addEvent, createElement: SidebarPopup_createElement, fireEvent: SidebarPopup_fireEvent, merge: SidebarPopup_merge } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Class\n *\n * */\n/**\n * Class which creates the sidebar and handles its behavior.\n *\n * @internal\n */\nclass SidebarPopup extends Shared_BaseForm {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    /**\n     * Constructor of the SidebarPopup class.\n     *\n     * @param parentDiv\n     * Element to which the sidebar will be appended.\n     *\n     * @param iconsURL\n     * URL to the icons.\n     *\n     * @param editMode\n     * Instance of EditMode.\n     */\n    constructor(parentDiv, iconsURL, editMode) {\n        super(parentDiv, iconsURL);\n        /**\n         * Options used in the sidebar.\n         */\n        this.options = {\n            components: ['HTML', 'row', 'Highcharts', 'Grid', 'KPI']\n        };\n        /**\n         * Whether the sidebar is visible.\n         */\n        this.isVisible = false;\n        /**\n         * List of components that can be added to the board.\n         */\n        this.componentsList = [];\n        this.editMode = editMode;\n        this.options = SidebarPopup_merge(this.options, editMode.options.toolbars?.sidebar || {});\n        this.componentsList = this.getComponentsList(this.options.components || []);\n        this.accordionMenu = new EditMode_AccordionMenu(this.iconsURL, this.hide.bind(this));\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Function to detect on which side of the screen should the sidebar be.\n     *\n     * @param context\n     * The cell or row which is the context of the sidebar.\n     *\n     * @returns\n     * Whether the sidebar should be on the right side of the screen.\n     */\n    detectRightSidebar(context) {\n        const editMode = this.editMode;\n        const layoutWrapper = editMode.customHTMLMode ?\n            editMode.board.container : editMode.board.layoutsWrapper;\n        if (!layoutWrapper) {\n            return false;\n        }\n        return Layout_GUIElement.getOffsets(context, layoutWrapper).left < ((layoutWrapper.offsetWidth / 2) - 10); // 10 = snap\n    }\n    /**\n     * Function to remove the class names from the sidebar.\n     */\n    removeClassNames() {\n        const classNames = EditMode_EditGlobals.classNames, classList = this.container.classList;\n        classList.remove(classNames.editSidebarShow);\n        classList.remove(classNames.editSidebarRightShow);\n    }\n    /**\n     * Function to add the class names to the sidebar depending on the position\n     * of the sidebar.\n     *\n     * @param isRightSidebar\n     * Whether the sidebar should be on the right side of the screen.\n     */\n    addClassNames(isRightSidebar) {\n        const classList = this.container.classList;\n        if (isRightSidebar) {\n            classList.add(EditMode_EditGlobals.classNames.editSidebarRight);\n        }\n        else {\n            classList.remove(EditMode_EditGlobals.classNames.editSidebarRight);\n        }\n        setTimeout(() => {\n            classList.add(EditMode_EditGlobals.classNames[isRightSidebar ? 'editSidebarRightShow' : 'editSidebarShow']);\n        });\n    }\n    /**\n     * Function to show the sidebar.\n     *\n     * @param context\n     * The cell or row which is the context of the sidebar.\n     */\n    show(context) {\n        const editMode = this.editMode, isRightSidebar = !!(context && this.detectRightSidebar(context));\n        this.showPopup(EditMode_EditGlobals.classNames.editSidebarShow);\n        this.addClassNames(isRightSidebar);\n        if (editMode.resizer) {\n            editMode.resizer.disableResizer();\n        }\n        // Remove highlight from the row.\n        if (isCell(editMode.editCellContext) &&\n            editMode.editCellContext.row) {\n            editMode.editCellContext.row.setHighlight();\n        }\n        editMode.hideToolbars(['cell', 'row']);\n        editMode.stopContextDetection();\n        this.isVisible = true;\n        this.generateContent(context);\n    }\n    generateContent(context) {\n        // Reset\n        this.container.innerHTML = (dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_default()).emptyHTML;\n        // Title\n        this.renderHeader(context ?\n            this.editMode.lang.settings :\n            this.editMode.lang.addComponent, '');\n        // Render content wrapper\n        this.sidebarWrapper = SidebarPopup_createElement('div', {\n            className: EditMode_EditGlobals.classNames.editSidebarWrapper\n        }, void 0, this.container);\n        if (!context) {\n            this.renderAddComponentsList();\n            return;\n        }\n        this.type = context.getType();\n        if (this.type === 'cell-html' || this.type === 'cell') {\n            const component = context.mountedComponent;\n            if (!component) {\n                return;\n            }\n            this.accordionMenu.renderContent(this.sidebarWrapper, component, this.container);\n        }\n    }\n    renderAddComponentsList() {\n        const sidebar = this;\n        const components = this.componentsList;\n        let gridElement;\n        const gridWrapper = SidebarPopup_createElement('div', {\n            className: EditMode_EditGlobals.classNames.editGridItems\n        }, {}, sidebar.sidebarWrapper);\n        for (let i = 0, iEnd = components.length; i < iEnd; ++i) {\n            gridElement = SidebarPopup_createElement('div', {}, {}, gridWrapper);\n            // Drag drop new component.\n            gridElement.addEventListener('mousedown', (e) => {\n                e.preventDefault();\n                const dragDrop = sidebar.editMode.dragDrop;\n                if (dragDrop) {\n                    // Workaround for Firefox, where mouseleave is not triggered\n                    // correctly when dragging.\n                    const onMouseMove = (event) => {\n                        const rect = sidebar.container.getBoundingClientRect();\n                        if (event.clientX < rect.left ||\n                            event.clientX > rect.right ||\n                            event.clientY < rect.top ||\n                            event.clientY > rect.bottom) {\n                            sidebar.hide();\n                            document.removeEventListener('mousemove', onMouseMove);\n                        }\n                    };\n                    // Clean up event listeners\n                    const onMouseUp = () => {\n                        document.removeEventListener('mousemove', onMouseMove);\n                        document.removeEventListener('mouseup', onMouseUp);\n                    };\n                    // Add event listeners\n                    document.addEventListener('mousemove', onMouseMove);\n                    document.addEventListener('mouseup', onMouseUp);\n                    dragDrop.onDragStart(e, void 0, (dropContext) => {\n                        // Add component if there is no layout yet.\n                        if (this.editMode.board.layouts.length === 0) {\n                            const board = this.editMode.board, newLayoutId = Layout_GUIElement.getElementId('layout'), layout = new Layout_Layout(board, {\n                                id: newLayoutId,\n                                copyId: '',\n                                parentContainerId: board.container.id,\n                                rows: [{}],\n                                style: {}\n                            });\n                            if (layout) {\n                                board.layouts.push(layout);\n                            }\n                            dropContext = layout.rows[0];\n                        }\n                        if (!dropContext?.type) {\n                            const layouts = sidebar.editMode.board.layouts;\n                            dragDrop.dropContext = dropContext =\n                                layouts[layouts.length - 1].addRow({}, void 0);\n                        }\n                        const newCell = components[i].onDrop(sidebar, dropContext);\n                        /* eslint-disable max-len */\n                        const unbindLayoutChanged = SidebarPopup_addEvent(this.editMode, 'layoutChanged', (e) => {\n                            if (newCell && e.type === 'newComponent') {\n                                const chart = newCell.mountedComponent?.chart;\n                                const settingsEnabled = this.editMode.options.settings?.enabled;\n                                if (chart?.isDirtyBox) {\n                                    const unbind = SidebarPopup_addEvent(chart, 'render', () => {\n                                        sidebar.editMode.setEditCellContext(newCell);\n                                        if (settingsEnabled) {\n                                            sidebar.show(newCell);\n                                            newCell.setHighlight();\n                                        }\n                                        unbind();\n                                        unbindLayoutChanged();\n                                    });\n                                }\n                                else {\n                                    sidebar.editMode.setEditCellContext(newCell);\n                                    if (settingsEnabled) {\n                                        sidebar.show(newCell);\n                                        newCell.setHighlight();\n                                    }\n                                    unbindLayoutChanged();\n                                }\n                            }\n                        });\n                        /* eslint-enable max-len */\n                        // Clean up event listener after drop is complete\n                        document.removeEventListener('mousemove', onMouseMove);\n                    });\n                }\n            });\n            gridElement.innerHTML = components[i].text;\n        }\n        return;\n    }\n    onDropNewComponent(dropContext, componentOptions) {\n        const sidebar = this, dragDrop = sidebar.editMode.dragDrop;\n        if (!dragDrop) {\n            return;\n        }\n        const row = (dropContext.getType() === 'cell' ?\n            dropContext.row :\n            dropContext), newCell = row.addCell({\n            id: Layout_GUIElement.getElementId('col')\n        });\n        dragDrop.onCellDragEnd(newCell);\n        const options = SidebarPopup_merge(componentOptions, {\n            renderTo: newCell.id\n        });\n        const componentPromise = Actions_Bindings.addComponent(options, sidebar.editMode.board, newCell);\n        sidebar.editMode.setEditOverlay(!this.editMode.options.settings?.enabled);\n        void (async () => {\n            const component = await componentPromise;\n            if (!component) {\n                return;\n            }\n            SidebarPopup_fireEvent(this.editMode, 'layoutChanged', {\n                type: 'newComponent',\n                target: component\n            });\n        })();\n        return newCell;\n    }\n    /**\n     * Function to hide the sidebar.\n     */\n    hide() {\n        const editMode = this.editMode;\n        const editCellContext = editMode.editCellContext;\n        this.removeClassNames();\n        this.container.style.display = 'none';\n        // Remove edit overlay if active.\n        if (editMode.isEditOverlayActive) {\n            editMode.setEditOverlay(true);\n        }\n        if (isCell(editCellContext) && editCellContext.row) {\n            editMode.showToolbars(['cell', 'row'], editCellContext);\n            editCellContext.row.setHighlight(true);\n            editCellContext.setHighlight(true);\n            if (editMode.resizer) {\n                editMode.resizer.setSnapPositions(editMode.editCellContext);\n            }\n        }\n        else if (isCellHTML(editCellContext) && editMode.cellToolbar) {\n            editMode.cellToolbar.showToolbar(editCellContext);\n            editCellContext.setHighlight();\n        }\n        editMode.isContextDetectionActive = true;\n        this.isVisible = false;\n    }\n    /**\n     * Function called when the close button is pressed.\n     *\n     * @override BaseForm.closeButtonEvents\n     */\n    closeButtonEvents() {\n        if (this.type === 'cell' || this.type === 'cell-html') {\n            this.accordionMenu.cancelChanges();\n        }\n        else {\n            this.hide();\n        }\n    }\n    renderHeader(title, iconURL) {\n        if (!this.container) {\n            return;\n        }\n        const headerWrapper = SidebarPopup_createElement('div', {\n            className: EditMode_EditGlobals.classNames.editSidebarHeader\n        }, {}, this.container);\n        this.container.appendChild(headerWrapper);\n        this.headerWrapper = headerWrapper;\n        const icon = EditMode_EditRenderer.renderIcon(this.headerWrapper, {\n            icon: iconURL,\n            className: EditMode_EditGlobals.classNames.editSidebarTitle\n        });\n        if (icon) {\n            icon.textContent = title;\n        }\n        this.headerWrapper?.appendChild(this.closeButton);\n    }\n    /**\n     * Based on the provided components list, it returns the list of components\n     * with its names and functions that are called when the component is\n     * dropped.\n     *\n     * @param components\n     * List of components that can be added to the board.\n     */\n    getComponentsList(components) {\n        const sidebar = this, editMode = sidebar.editMode, componentTypes = editMode.board.componentTypes, componentList = [];\n        components.forEach((componentName) => {\n            const component = componentTypes[componentName];\n            if (component) {\n                componentList.push({\n                    text: editMode.lang?.sidebar[componentName] ||\n                        component.name,\n                    onDrop: function (sidebar, dropContext) {\n                        const options = component.prototype.getOptionsOnDrop(sidebar);\n                        if (options) {\n                            return sidebar.onDropNewComponent(dropContext, options);\n                        }\n                    }\n                });\n            }\n            else if (componentName === 'row') {\n                componentList.push({\n                    ...SidebarPopup.addRow,\n                    text: editMode.lang?.sidebar[componentName] ||\n                        SidebarPopup.addRow.text\n                });\n            }\n        });\n        return componentList;\n    }\n    /**\n     * Function to create and add the close button to the sidebar.\n     *\n     * @param className\n     * Class name of the close button.\n     * @returns Close button element\n     */\n    addCloseButton(className = EditMode_EditGlobals.classNames.popupCloseButton) {\n        // Close popup when click outside the popup\n        SidebarPopup_addEvent(document, 'click', (event) => {\n            event.stopPropagation();\n            if (this.container.style.display === 'block' &&\n                !this.container.contains(event.target) &&\n                this.container.classList.value.includes('show')) {\n                if (this.type === 'cell' || this.type === 'cell-html') {\n                    this.accordionMenu.cancelChanges();\n                }\n                else {\n                    this.hide();\n                }\n            }\n        });\n        return super.addCloseButton.call(this, className);\n    }\n    /**\n     * Function that creates the container of the sidebar.\n     *\n     * @param parentDiv\n     * The parent div to which the sidebar will be appended.\n     * @param className\n     * Class name of the sidebar.\n     * @returns The container of the sidebar.\n     */\n    createPopupContainer(parentDiv, className = EditMode_EditGlobals.classNames.editSidebar) {\n        return super.createPopupContainer.call(this, parentDiv, className);\n    }\n}\nSidebarPopup.addRow = {\n    text: EditMode_EditGlobals.lang.sidebar.row,\n    onDrop: function (sidebar, dropContext) {\n        if (!dropContext) {\n            return;\n        }\n        const isCellType = dropContext.getType() === 'cell', row = isCellType ? dropContext.row :\n            dropContext, board = row.layout.board, cellId = Layout_GUIElement.getElementId('cell');\n        if (isCellType) {\n            const newLayoutId = Layout_GUIElement.getElementId('layout');\n            const layout = new Layout_Layout(board, {\n                id: newLayoutId,\n                copyId: '',\n                parentContainerId: board.container.id,\n                rows: [{\n                        cells: [{\n                                id: cellId\n                            }]\n                    }],\n                style: {}\n            });\n            board.layouts.push(layout);\n            SidebarPopup_fireEvent(board.editMode, 'layoutChanged', {\n                type: 'newLayout',\n                target: layout,\n                board\n            });\n        }\n        else {\n            dropContext.layout.rows[0].addCell({\n                id: cellId\n            });\n        }\n        void Actions_Bindings.addComponent({\n            type: 'HTML',\n            renderTo: cellId,\n            className: 'highcharts-dashboards-component-placeholder',\n            html: `\n                    <h2> Placeholder </h2>\n                    <span> This placeholder can be deleted when you add extra\n                        components to this row.\n                    </span>\n                    `\n        }, board);\n    }\n};\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const EditMode_SidebarPopup = (SidebarPopup);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/EditContextMenu.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\nconst { addEvent: EditContextMenu_addEvent, merge: EditContextMenu_merge } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * Class to create context menu.\n * @internal\n */\nclass EditContextMenu extends Menu_Menu {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(parentElement, options, editMode) {\n        super(editMode.board.container, EditContextMenu_merge(EditContextMenu.defaultOptions, options || {}), editMode);\n        this.editMode = editMode;\n        this.options = EditContextMenu_merge(EditContextMenu.defaultOptions, options || {});\n        // Move it in the DOM after the edit tools so it is better accessible.\n        this.editMode.board.layoutsWrapper?.parentNode.insertBefore(this.container, this.editMode.board.layoutsWrapper);\n        // Set the context menu container width.\n        this.container.style.width = this.options.width + 'px';\n        super.initItems(EditContextMenu.items);\n        if (this.options.items) {\n            const items = [];\n            for (let i = 0, iEnd = this.options.items.length; i < iEnd; ++i) {\n                if (typeof this.options.items[i] === 'string') {\n                    items.push(this.options.items[i]);\n                }\n                else if (this.options.items[i].id) {\n                    items.push(this.options.items[i].id);\n                }\n            }\n            this.setActiveItems(items);\n        }\n        this.initEvents();\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    initEvents() {\n        const contextMenu = this;\n        // Click on document close the context menu\n        // TODO refactor\n        EditContextMenu_addEvent(document, 'click', (event) => {\n            if (event.target !== this.container &&\n                event.target !==\n                    contextMenu.editMode.tools.contextButtonElement &&\n                !event.target.classList\n                    .contains(EditMode_EditGlobals.classNames.toggleSlider) &&\n                event.target.tagName !== 'INPUT' &&\n                this.isVisible) {\n                this.setVisible(false);\n            }\n        });\n    }\n    setVisible(visible) {\n        const contextMenu = this, contextButtonElement = contextMenu.editMode.tools.contextButtonElement;\n        if (contextMenu.container && contextButtonElement) {\n            if (visible) {\n                contextMenu.container.style.display = 'block';\n                contextMenu.isVisible = true;\n                contextButtonElement.setAttribute('aria-expanded', 'true');\n            }\n            else {\n                contextMenu.container.style.display = 'none';\n                contextMenu.isVisible = false;\n                contextButtonElement.setAttribute('aria-expanded', 'false');\n            }\n        }\n        // Set editMode toggle state\n        const toggleEditMode = this.activeItems.find((item) => item.options.langKey === 'editMode');\n        if (toggleEditMode) {\n            toggleEditMode.options.setValue(toggleEditMode, this.editMode.isActive());\n        }\n    }\n    updatePosition(ctxButton, x, y) {\n        const contextMenu = this, width = contextMenu.options.width || 0, left = (ctxButton ?\n            ctxButton.offsetLeft - width + ctxButton.offsetWidth :\n            x), top = ctxButton ? ctxButton.offsetTop + ctxButton.offsetHeight : y;\n        if (left && top) {\n            contextMenu.container.style.left = left + 'px';\n            contextMenu.container.style.top = top + 'px';\n        }\n    }\n}\n/* *\n*\n*  Static Properties\n*\n* */\nEditContextMenu.defaultOptions = {\n    enabled: true,\n    width: 150,\n    className: EditMode_EditGlobals.classNames.contextMenu,\n    itemsClassName: EditMode_EditGlobals.classNames.contextMenuItem,\n    items: ['editMode']\n};\n/**\n * Default Context menu items.\n */\nEditContextMenu.items = EditContextMenu_merge(Menu_Menu.items, {\n    editMode: {\n        id: 'editMode',\n        type: 'toggle',\n        getValue: function (item) {\n            return item.menu.editMode.isActive();\n        },\n        setValue: function (item, value) {\n            const inputElem = item.innerElement?.querySelector('input');\n            if (inputElem) {\n                inputElem.checked = value;\n            }\n        },\n        langKey: 'editMode',\n        events: {\n            click: function () {\n                this.menu.editMode.toggleEditMode();\n            }\n        }\n    }\n});\n/* harmony default export */ const EditMode_EditContextMenu = (EditContextMenu);\n\n;// ./code/dashboards/es-modules/Dashboards/Actions/ContextDetection.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\nconst { defined: ContextDetection_defined } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nclass ContextDetection {\n    static isGUIElementOnParentEdge(mouseContext, side) {\n        const visibleElements = (side === 'top' || side === 'bottom') ?\n            mouseContext.row.layout.getVisibleRows() :\n            (side === 'left' || side === 'right') ?\n                mouseContext.row.getVisibleCells() :\n                [];\n        const lastElementIndex = (visibleElements.length - 1);\n        return ((visibleElements[lastElementIndex] === mouseContext &&\n            side === 'right') ||\n            (visibleElements[lastElementIndex] === mouseContext.row &&\n                side === 'bottom') ||\n            (visibleElements[0] === mouseContext && side === 'left') ||\n            (visibleElements[0] === mouseContext.row && side === 'top'));\n    }\n    static getContextLevel(mouseContext, offset, sideOffset, side) {\n        // Array of overlapped levels.\n        const overlappedLevels = mouseContext.getOverlappingLevels(side, offset / 2);\n        // Divide offset to level sections (eg 3 nested layouts -\n        // cell edge will have 3 sections each 1/3 offset width).\n        const divOffset = offset / overlappedLevels.length;\n        // Overlapped nested layout level.\n        const lastOverlappedLevel = overlappedLevels[overlappedLevels.length - 1];\n        let level = mouseContext.row.layout.level - Math.floor(sideOffset / divOffset);\n        level = level < lastOverlappedLevel ? lastOverlappedLevel : (level > mouseContext.row.layout.level ?\n            mouseContext.row.layout.level : level);\n        return level;\n    }\n    static getContext(mouseCellContext, e, offset) {\n        let sideOffset;\n        // Get cell offsets, width, height\n        const mouseCellContextOffsets = Layout_GUIElement.getOffsets(mouseCellContext);\n        const { width, height } = Layout_GUIElement.getDimFromOffsets(mouseCellContextOffsets);\n        // Correct offset when element to small.\n        if (width < 2 * offset) {\n            offset = width / 2;\n        }\n        // Get mouse position relative to the mouseContext sides.\n        const leftSideX = e.clientX - mouseCellContextOffsets.left;\n        const topSideY = e.clientY - mouseCellContextOffsets.top;\n        // Get cell side - right, left, top, bottom\n        let side = 'bottom';\n        if (leftSideX >= -offset && leftSideX <= offset) {\n            side = 'left';\n        }\n        else if (leftSideX - width >= -offset && leftSideX - width <= offset) {\n            side = 'right';\n        }\n        else if (topSideY >= -offset && topSideY <= offset) {\n            side = 'top';\n        }\n        else if (topSideY - height >= -offset && topSideY - height <= offset) {\n            side = 'bottom';\n        }\n        switch (side) {\n            case 'right':\n                sideOffset = leftSideX - width + offset;\n                break;\n            case 'left':\n                sideOffset = offset - leftSideX;\n                break;\n            case 'top':\n                sideOffset = offset - topSideY;\n                break;\n            case 'bottom':\n                sideOffset = topSideY - height + offset;\n                break;\n        }\n        const context = {\n            cell: mouseCellContext,\n            side: side\n        };\n        // Nested layouts.\n        if (mouseCellContext.row?.layout.level &&\n            side &&\n            ContextDetection.isGUIElementOnParentEdge(mouseCellContext, side) &&\n            ContextDetection_defined(sideOffset)) {\n            const level = ContextDetection.getContextLevel(mouseCellContext, offset, sideOffset, side);\n            const cell = mouseCellContext.getParentCell(level);\n            if (cell) {\n                context.cell = cell;\n            }\n        }\n        return context;\n    }\n}\n/* harmony default export */ const Actions_ContextDetection = (ContextDetection);\n\n;// ./code/dashboards/es-modules/Dashboards/Actions/DragDrop.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\nconst { addEvent: DragDrop_addEvent, merge: DragDrop_merge, css: DragDrop_css, fireEvent: DragDrop_fireEvent, createElement: DragDrop_createElement } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * Class providing a drag and drop functionality.\n * @internal\n */\nclass DragDrop {\n    /* *\n     *\n     *  Constructors\n     *\n     * */\n    /**\n     * Constructor for the DragDrop class.\n     * @internal\n     *\n     * @param {EditMode} editMode\n     * The parent editMode reference.\n     *\n     * @param {Options} options\n     * Options for the DragDrop.\n     */\n    constructor(editMode, options) {\n        this.editMode = editMode;\n        this.options = DragDrop_merge(DragDrop.defaultOptions, options);\n        this.mockElement = DragDrop_createElement('div', { className: EditMode_EditGlobals.classNames.dragMock }, {}, editMode.board.container);\n        this.dropPointer = {\n            isVisible: false,\n            align: '',\n            element: DragDrop_createElement('div', { className: EditMode_EditGlobals.classNames.dropPointer }, {}, editMode.board.container)\n        };\n        this.isActive = false;\n        this.initEvents();\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Method for showing and positioning drop pointer.\n     *\n     * @param {number} left\n     * Drop pointer left position.\n     *\n     * @param {number} top\n     * Drop pointer top position.\n     *\n     * @param {number} width\n     * Drop pointer width.\n     *\n     * @param {number} height\n     * Drop pointer height.\n     */\n    showDropPointer(left, top, width, height) {\n        this.dropPointer.isVisible = true;\n        DragDrop_css(this.dropPointer.element, {\n            display: 'block',\n            left: left + 'px',\n            top: top + 'px',\n            height: height + 'px',\n            width: width + 'px'\n        });\n    }\n    /**\n     * Method for hiding drop pointer.\n     */\n    hideDropPointer() {\n        if (this.dropPointer.isVisible) {\n            this.dropPointer.isVisible = false;\n            this.dropPointer.align = '';\n            this.dropPointer.element.style.display = 'none';\n        }\n    }\n    /**\n     * Method for positioning drag mock element.\n     *\n     * @param {PointerEvent} mouseEvent\n     * Mouse event.\n     */\n    setMockElementPosition(mouseEvent) {\n        const dragDrop = this, dashBoundingRect = dragDrop.editMode.board.container.getBoundingClientRect(), offset = dragDrop.mockElement.clientWidth / 2, x = mouseEvent.clientX - dashBoundingRect.left - offset, y = mouseEvent.clientY - dashBoundingRect.top - offset;\n        DragDrop_css(this.mockElement, { left: x + 'px', top: y + 'px' });\n    }\n    /**\n     * Method for initializing drag drop events.\n     */\n    initEvents() {\n        const dragDrop = this;\n        // DragDrop events.\n        DragDrop_addEvent(document, 'mousemove', dragDrop.onDrag.bind(dragDrop));\n        DragDrop_addEvent(document, 'mouseup', dragDrop.onDragEnd.bind(dragDrop));\n    }\n    /**\n     * General method used on drag start.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     *\n     * @param {Cell|Row} context\n     * Reference to the dragged context.\n     *\n     * @param {Function} dragEndCallback\n     * Callback invoked on drag end.\n     */\n    onDragStart(e, context, dragEndCallback) {\n        this.isActive = true;\n        this.editMode.hideToolbars(['cell', 'row']);\n        if (this.editMode.resizer) {\n            this.editMode.resizer.disableResizer();\n        }\n        this.setMockElementPosition(e);\n        if (context) {\n            this.context = context;\n            context.hide();\n            if (context.getType() === (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell) {\n                const draggedCell = context;\n                // Call cellResize board event.\n                DragDrop_fireEvent(this.editMode.board, 'cellResize', { cell: context });\n                DragDrop_fireEvent(draggedCell.row, 'cellChange', { cell: context, row: draggedCell.row });\n            }\n        }\n        else if (dragEndCallback) {\n            this.dragEndCallback = dragEndCallback;\n        }\n        DragDrop_css(this.mockElement, {\n            cursor: 'grabbing',\n            display: 'block'\n        });\n    }\n    /**\n     * General method used while dragging.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     */\n    onDrag(e) {\n        const dragDrop = this;\n        if (dragDrop.isActive) {\n            e.preventDefault();\n            dragDrop.setMockElementPosition(e);\n            if (dragDrop.context) {\n                if (dragDrop.context.getType() ===\n                    (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell) {\n                    dragDrop.onCellDrag(e);\n                }\n                else if (dragDrop.context.getType() ===\n                    (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.row) {\n                    dragDrop.onRowDrag(e);\n                }\n            }\n            else if (dragDrop.dragEndCallback) {\n                dragDrop.onCellDrag(e);\n            }\n        }\n    }\n    /**\n     * General method used when drag finish.\n     */\n    onDragEnd() {\n        const dragDrop = this;\n        if (dragDrop.isActive) {\n            dragDrop.isActive = false;\n            DragDrop_css(dragDrop.mockElement, {\n                cursor: 'grab',\n                display: 'none'\n            });\n            if (dragDrop.context) {\n                if (dragDrop.context.getType() ===\n                    (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell) {\n                    dragDrop.onCellDragEnd();\n                }\n                else if (dragDrop.context.getType() ===\n                    (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.row) {\n                    dragDrop.onRowDragEnd();\n                }\n                dragDrop.context = void 0;\n                // Show toolbars and snaps.\n                if (dragDrop.editMode.editCellContext) {\n                    dragDrop.editMode.showToolbars(['row', 'cell'], dragDrop.editMode.editCellContext);\n                    if (dragDrop.editMode.resizer) {\n                        dragDrop.editMode.resizer.setSnapPositions(dragDrop.editMode.editCellContext);\n                    }\n                }\n            }\n            else if (dragDrop.dragEndCallback) {\n                dragDrop.dragEndCallback(dragDrop.dropContext);\n                dragDrop.dragEndCallback = void 0;\n                dragDrop.hideDropPointer();\n            }\n        }\n    }\n    /**\n     * Sets appropriate drop context and refresh drop pointer position when\n     * row is dragged or cell is dragged as a row.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     *\n     * @param {ContextDetails} contextDetails\n     * Context details (cell, side)\n     */\n    onRowDrag(e, contextDetails) {\n        const dragDrop = this, mouseCellContext = dragDrop.mouseCellContext, dropPointerSize = dragDrop.options.dropPointerSize || 0, offset = dragDrop.options.rowDropOffset || 0;\n        let updateDropPointer = false;\n        if (mouseCellContext) {\n            const context = (contextDetails ||\n                Actions_ContextDetection.getContext(mouseCellContext, e, offset));\n            const align = context.side;\n            if (dragDrop.dropPointer.align !== align ||\n                dragDrop.dropContext !== context.cell.row) {\n                updateDropPointer = true;\n                dragDrop.dropPointer.align = align;\n                dragDrop.dropContext = context.cell.row;\n            }\n            if (align) {\n                const dropContextRowOffsets = Layout_GUIElement.getOffsets(dragDrop.dropContext, dragDrop.editMode.board.container);\n                const { width, height } = Layout_GUIElement\n                    .getDimFromOffsets(dropContextRowOffsets);\n                // Update or show drop pointer.\n                if (!dragDrop.dropPointer.isVisible || updateDropPointer) {\n                    dragDrop.showDropPointer(dropContextRowOffsets.left, dropContextRowOffsets.top + (dragDrop.dropPointer.align === 'bottom' ?\n                        height :\n                        0) - dropPointerSize / 2, width, dropPointerSize);\n                }\n            }\n            else {\n                dragDrop.dropContext = void 0;\n                dragDrop.hideDropPointer();\n            }\n        }\n    }\n    /**\n     * Unmounts dropped row and mounts it in a new position.\n     *\n     * @fires DragDrop#layoutChanged\n     */\n    onRowDragEnd() {\n        const dragDrop = this, draggedRow = dragDrop.context, dropContext = dragDrop.dropContext;\n        if (dragDrop.dropPointer.align) {\n            draggedRow.layout.unmountRow(draggedRow);\n            // Destroy layout when empty.\n            if (draggedRow.layout.rows.length === 0) {\n                draggedRow.layout.destroy();\n            }\n            dropContext.layout.mountRow(draggedRow, (dropContext.layout.getRowIndex(dropContext) || 0) +\n                (dragDrop.dropPointer.align === 'bottom' ? 1 : 0));\n            // Call cellResize board event.\n            if (draggedRow.cells[0]) {\n                DragDrop_fireEvent(dragDrop.editMode.board, 'cellResize', { cell: draggedRow.cells[0] });\n                DragDrop_fireEvent(draggedRow, 'cellChange', { cell: draggedRow.cells[0], row: draggedRow });\n            }\n        }\n        dragDrop.hideDropPointer();\n        draggedRow.show();\n        DragDrop_fireEvent(dragDrop.editMode, 'layoutChanged', {\n            type: 'rowDragEnd',\n            target: draggedRow,\n            board: dragDrop.editMode.board\n        });\n    }\n    /**\n     * Method used as middleware when cell is dragged.\n     * Decides where to pass an event depending on the mouse context.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     *\n     * @param {ContextDetails} contextDetails\n     * Context details (cell, side)\n     */\n    onCellDrag(e, contextDetails) {\n        const dragDrop = this, mouseCellContext = dragDrop.mouseCellContext, offset = dragDrop.options.cellDropOffset || 0;\n        if (mouseCellContext || contextDetails) {\n            dragDrop.onCellDragCellCtx(e, contextDetails ||\n                Actions_ContextDetection.getContext(mouseCellContext, e, offset));\n        }\n        else if (dragDrop.mouseRowContext) {\n            dragDrop.onCellDragRowCtx(e, dragDrop.mouseRowContext);\n        }\n    }\n    /**\n     * Sets appropriate drop context and refreshes the drop pointer\n     * position when a cell is dragged and a cell context is detected.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     *\n     * @param {ContextDetails} context\n     * Context details (cell, side)\n     */\n    onCellDragCellCtx(e, context) {\n        const dragDrop = this, dropPointerSize = dragDrop.options.dropPointerSize || 0, align = context.side;\n        let updateDropPointer = false;\n        if (dragDrop.dropPointer.align !== align ||\n            dragDrop.dropContext !== context.cell) {\n            updateDropPointer = true;\n            dragDrop.dropPointer.align = align;\n            dragDrop.dropContext = context.cell;\n        }\n        if (align === 'right' || align === 'left') {\n            const dropContextOffsets = Layout_GUIElement.getOffsets(dragDrop.dropContext, dragDrop.editMode.board.container);\n            const { width, height } = Layout_GUIElement.getDimFromOffsets(dropContextOffsets);\n            // Update or show drop pointer.\n            if (!dragDrop.dropPointer.isVisible || updateDropPointer) {\n                const rowLevelInfo = dragDrop.dropContext.row.getRowLevelInfo(e.clientY), pointerHeight = (rowLevelInfo ?\n                    (rowLevelInfo.rowLevel.bottom -\n                        rowLevelInfo.rowLevel.top) :\n                    height);\n                dragDrop.showDropPointer(dropContextOffsets.left + (align === 'right' ? width : 0) -\n                    dropPointerSize / 2, dropContextOffsets.top, dropPointerSize, pointerHeight);\n            }\n        }\n        else if (align === 'top' || align === 'bottom') {\n            const dropContextOffsets = Layout_GUIElement.getOffsets(dragDrop.dropContext), rowLevelInfo = dragDrop.dropContext.row\n                .getRowLevelInfo(dropContextOffsets.top);\n            if (rowLevelInfo &&\n                ((rowLevelInfo.index === 0 && align === 'top') ||\n                    (rowLevelInfo.index ===\n                        rowLevelInfo.rowLevels.length - 1 &&\n                        align === 'bottom'))) {\n                // Checks if a cell is dragged as a row\n                // (only when a cell edge is on a row edge)\n                dragDrop.onRowDrag(e, context);\n            }\n        }\n        else {\n            dragDrop.dropContext = void 0;\n            dragDrop.hideDropPointer();\n        }\n    }\n    /**\n     * Sets appropriate drop context and refreshes the drop pointer\n     * position when a cell is dragged and a row context is detected.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     *\n     * @param {Row} mouseRowContext\n     * Row context.\n     */\n    onCellDragRowCtx(e, mouseRowContext) {\n        const dragDrop = this, dropPointerSize = dragDrop.options.dropPointerSize || 0, rowOffsets = Layout_GUIElement.getOffsets(mouseRowContext), rowLevelInfo = mouseRowContext.getRowLevelInfo(e.clientY);\n        let cell, cellOffsets;\n        if (rowLevelInfo) {\n            for (let i = 0, iEnd = rowLevelInfo.rowLevel.cells.length; i < iEnd; ++i) {\n                cell = rowLevelInfo.rowLevel.cells[i];\n                cellOffsets = Layout_GUIElement.getOffsets(cell);\n                const { width, height } = Layout_GUIElement\n                    .getDimFromOffsets(cellOffsets), dashOffsets = dragDrop.editMode.board.container\n                    .getBoundingClientRect(), levelHeight = (rowLevelInfo.rowLevel.bottom -\n                    rowLevelInfo.rowLevel.top);\n                if (cell.isVisible) {\n                    if (height < 0.8 * levelHeight &&\n                        cellOffsets.left <= e.clientX &&\n                        cellOffsets.right >= e.clientX) {\n                        if (cellOffsets.top > e.clientY) {\n                            // @ToDo - Mouse above the cell.\n                        }\n                        else if (cellOffsets.bottom < e.clientY) {\n                            // Mouse below the cell.\n                            dragDrop.showDropPointer(cellOffsets.left - dashOffsets.left, cellOffsets.top - dashOffsets.top + height, width, levelHeight - height);\n                            dragDrop.dropPointer.align = 'nestedBottom';\n                            dragDrop.dropContext = cell;\n                        }\n                        i = iEnd; // Stop the loop\n                    }\n                    else if ((i === 0 && cellOffsets.left > e.clientX) ||\n                        (i === iEnd - 1 && cellOffsets.right < e.clientX)) {\n                        if (cellOffsets.left > e.clientX) {\n                            // @ToDo - Mouse on the cell left side.\n                        }\n                        else if (cellOffsets.right < e.clientX) {\n                            // Mouse on the cell right side.\n                            const pointerWidth = rowOffsets.right - cellOffsets.right;\n                            dragDrop.showDropPointer(cellOffsets.left + ((i === 0 && cellOffsets.left > e.clientX) ?\n                                0 :\n                                width) - dropPointerSize / 2 - dashOffsets.left, cellOffsets.top - dashOffsets.top, pointerWidth > dropPointerSize ?\n                                pointerWidth :\n                                dropPointerSize, levelHeight || height);\n                            dragDrop.dropPointer.align = 'right';\n                            dragDrop.dropContext = cell;\n                        }\n                        i = iEnd; // Stop the loop\n                    }\n                }\n                else if (!cell.isVisible && cell === dragDrop.context) {\n                    // Element is not visible.\n                    dragDrop.dropContext = void 0;\n                    dragDrop.hideDropPointer();\n                }\n            }\n        }\n    }\n    /**\n     * Unmounts dropped cell and mounts it in a new position.\n     * When cell is dragged as a row also creates a new row\n     * and mounts cell there.\n     *\n     * @param {Cell} contextCell\n     * Cell used as a dragDrop context.\n     *\n     * @fires DragDrop#layoutChanged\n     */\n    onCellDragEnd(contextCell) {\n        const dragDrop = this, draggedCell = contextCell || dragDrop.context;\n        let dropContext = dragDrop.dropContext;\n        if (dragDrop.dropPointer.align && dropContext && draggedCell) {\n            draggedCell.row.unmountCell(draggedCell);\n            // Destroy row when empty.\n            if (draggedCell.row.cells.length === 0) {\n                draggedCell.row.destroy();\n            }\n            if ((dragDrop.dropPointer.align === 'top' ||\n                dragDrop.dropPointer.align === 'bottom') &&\n                dropContext.getType() === (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.row) {\n                dropContext = dropContext;\n                const newRow = dropContext.layout.addRow({}, void 0, (dropContext.layout.getRowIndex(dropContext) || 0) +\n                    (dragDrop.dropPointer.align === 'bottom' ? 1 : 0));\n                newRow.mountCell(draggedCell, 0);\n            }\n            else if (dragDrop.dropPointer.align === 'nestedBottom' &&\n                dropContext.getType() === (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell) {\n                // Create nesting.\n                const dropContextCell = dropContext;\n                const row = dropContextCell.row;\n                const dropContextCellIndex = row.getCellIndex(dropContextCell);\n                row.unmountCell(dropContextCell);\n                const newCell = row.addCell({\n                    id: Layout_GUIElement.getElementId('col-nested'),\n                    layout: {\n                        rows: [{}, {}]\n                    }\n                }, void 0, dropContextCellIndex);\n                if (newCell.nestedLayout) {\n                    newCell.nestedLayout.rows[0].mountCell(dropContextCell);\n                    newCell.nestedLayout.rows[1].mountCell(draggedCell);\n                }\n            }\n            else if (dropContext.getType() === (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell) {\n                dropContext = dropContext;\n                dropContext.row.mountCell(draggedCell, (dropContext.row.getCellIndex(dropContext) || 0) +\n                    (dragDrop.dropPointer.align === 'right' ? 1 : 0));\n            }\n        }\n        // Call cellResize board event.\n        DragDrop_fireEvent(dragDrop.editMode.board, 'cellResize', { cell: draggedCell });\n        DragDrop_fireEvent(draggedCell.row, 'cellChange', { cell: draggedCell, row: draggedCell.row });\n        dragDrop.hideDropPointer();\n        draggedCell.show();\n        DragDrop_fireEvent(dragDrop.editMode, 'layoutChanged', {\n            type: 'cellDragEnd',\n            target: draggedCell,\n            board: dragDrop.editMode.board\n        });\n    }\n}\n/* *\n *\n *  Static Properties\n *\n * */\nDragDrop.defaultOptions = {\n    enabled: true,\n    rowDropOffset: 30,\n    cellDropOffset: 30,\n    dropPointerSize: 16\n};\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const Actions_DragDrop = (DragDrop);\n\n;// ./code/dashboards/es-modules/Dashboards/Actions/Resizer.js\n\n\n\nconst { merge: Resizer_merge, addEvent: Resizer_addEvent, createElement: Resizer_createElement, fireEvent: Resizer_fireEvent, removeEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * Class providing a resizing functionality.\n */\nclass Resizer {\n    /* *\n    *\n    *  Static Properties\n    *\n    * */\n    /**\n     * Creates a new instance of the Resizer class based on JSON.\n     * @internal\n     */\n    static fromJSON(editMode, json) {\n        return new Resizer(editMode, json.options);\n    }\n    /* *\n    *\n    *  Constructors\n    *\n    * */\n    /**\n     * Constructor for the Resizer class.\n     *\n     * @param {EditMode} editMode\n     * The parent editMode reference.\n     *\n     * @param {Options} options\n     * Options for the Resizer.\n     */\n    constructor(editMode, options) {\n        this.editMode = editMode;\n        this.options = Resizer_merge({}, Resizer.defaultOptions, editMode.options.resize, options);\n        this.currentCell = void 0;\n        this.isX = this.options.type.indexOf('x') > -1;\n        this.isY = this.options.type.indexOf('y') > -1;\n        this.isActive = false;\n        this.startX = 0;\n        this.tempSiblingsWidth = [];\n        this.addSnaps();\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Add Snap - create snaps and add events.\n     *\n     */\n    addSnaps() {\n        const iconsURLPrefix = this.editMode.iconsURLPrefix;\n        const snapWidth = this.options.snap.width || 0;\n        const snapHeight = this.options.snap.height || 0;\n        const dashboardContainer = this.editMode.board.container;\n        // Right snap\n        this.snapRight = Resizer_createElement('img', {\n            className: EditMode_EditGlobals.classNames.resizeSnap + ' ' +\n                EditMode_EditGlobals.classNames.resizeSnapX,\n            src: iconsURLPrefix + 'resize-handle.svg'\n        }, {\n            width: snapWidth + 'px',\n            height: snapHeight + 'px',\n            left: -9999 + 'px'\n        }, dashboardContainer);\n        // Bottom snap\n        this.snapBottom = Resizer_createElement('img', {\n            className: EditMode_EditGlobals.classNames.resizeSnap + ' ' +\n                EditMode_EditGlobals.classNames.resizeSnapY,\n            src: iconsURLPrefix + 'resize-handle.svg'\n        }, {\n            width: snapWidth + 'px',\n            height: snapHeight + 'px',\n            top: -9999 + 'px',\n            left: '0px'\n        }, dashboardContainer);\n        this.addResizeEvents();\n    }\n    /**\n     * Hide snaps\n     *\n     */\n    disableResizer() {\n        this.isActive = false;\n        this.currentDimension = void 0;\n        this.currentCell = void 0;\n        if (this.snapRight) {\n            this.snapRight.style.left = '-9999px';\n        }\n        if (this.snapBottom) {\n            this.snapBottom.style.left = '-9999px';\n        }\n    }\n    /**\n     * Update snap position.\n     *\n     * @param cell\n     * Cell reference\n     */\n    setSnapPositions(cell) {\n        // Set current cell\n        this.currentCell = cell;\n        // Set position of snaps\n        const cellOffsets = Layout_GUIElement.getOffsets(cell, this.editMode.board.container);\n        const left = cellOffsets.left || 0;\n        const top = cellOffsets.top || 0;\n        const { width, height } = Layout_GUIElement.getDimFromOffsets(cellOffsets);\n        const snapWidth = (this.options.snap.width || 0);\n        const snapHeight = (this.options.snap.height || 0);\n        if (this.snapRight) {\n            this.snapRight.style.left = (left + width - snapWidth) + 'px';\n            this.snapRight.style.top = top + (height / 2) - (snapHeight / 2) + 'px';\n        }\n        if (this.snapBottom) {\n            this.snapBottom.style.top = (top + height - snapHeight) + 'px';\n            this.snapBottom.style.left = (left + (width / 2) - (snapWidth / 2)) + 'px';\n        }\n    }\n    /**\n     * Method detects siblings and auto-width applied by flex. The resizer\n     * requires static widths for correct calculations, so we need to apply\n     * temporary width on siblings.\n     */\n    setTempWidthSiblings() {\n        const currentCell = this.currentCell;\n        if (currentCell) {\n            const cellOffsets = Layout_GUIElement.getOffsets(currentCell), rowLevelInfo = currentCell.row.getRowLevelInfo(cellOffsets.top), rowLevelCells = (rowLevelInfo && rowLevelInfo.rowLevel.cells) || [];\n            let cellContainer, cell;\n            for (let i = 0, iEnd = rowLevelCells.length; i < iEnd; ++i) {\n                cell = rowLevelCells[i];\n                cellContainer = cell.container;\n                // Do not convert width on the current cell and next siblings.\n                if (cell === currentCell) {\n                    break;\n                }\n                if (cellContainer) {\n                    cellContainer.style.flex =\n                        '0 0 ' + cellContainer.offsetWidth + 'px';\n                    this.tempSiblingsWidth.push(cell);\n                }\n            }\n        }\n    }\n    /**\n     * Revert widths to auto.\n     */\n    revertSiblingsAutoWidth() {\n        const tempSiblingsWidth = this.tempSiblingsWidth;\n        let cellContainer, cellResize;\n        for (let i = 0, iEnd = tempSiblingsWidth.length; i < iEnd; ++i) {\n            cellContainer = tempSiblingsWidth[i].container;\n            if (cellContainer) {\n                cellContainer.style.flex = '1 1 0%';\n                cellResize = tempSiblingsWidth[i];\n            }\n        }\n        this.tempSiblingsWidth = [];\n        // Call cellResize dashboard event.\n        if (cellResize) {\n            Resizer_fireEvent(this.editMode.board, 'cellResize', {\n                cell: cellResize\n            });\n            Resizer_fireEvent(cellResize.row, 'cellChange', {\n                cell: cellResize,\n                row: cellResize.row\n            });\n        }\n    }\n    /**\n     * Add mouse events to snaps\n     *\n     */\n    addResizeEvents() {\n        const resizer = this;\n        let mouseDownSnapX, mouseDownSnapY, mouseMoveSnap, mouseUpSnap;\n        resizer.mouseDownSnapX = mouseDownSnapX = function (e) {\n            resizer.isActive = true;\n            resizer.currentDimension = 'x';\n            resizer.editMode.hideToolbars(['row', 'cell']);\n            resizer.setTempWidthSiblings();\n            resizer.startX = e.clientX;\n        };\n        resizer.mouseDownSnapY = mouseDownSnapY = function () {\n            resizer.isActive = true;\n            resizer.currentDimension = 'y';\n            resizer.editMode.hideToolbars(['row', 'cell']);\n        };\n        resizer.mouseMoveSnap = mouseMoveSnap = function (e) {\n            if (resizer.isActive) {\n                resizer.onMouseMove(e);\n            }\n        };\n        resizer.mouseUpSnap = mouseUpSnap = function () {\n            if (resizer.isActive) {\n                resizer.isActive = false;\n                resizer.currentDimension = void 0;\n                resizer.revertSiblingsAutoWidth();\n                resizer.editMode.showToolbars(['row', 'cell'], resizer.currentCell);\n                if (resizer.currentCell) {\n                    resizer.setSnapPositions(resizer.currentCell);\n                }\n            }\n        };\n        // Add mouse events\n        Resizer_addEvent(this.snapRight, 'mousedown', mouseDownSnapX);\n        Resizer_addEvent(this.snapBottom, 'mousedown', mouseDownSnapY);\n        Resizer_addEvent(document, 'mousemove', mouseMoveSnap);\n        Resizer_addEvent(document, 'mouseup', mouseUpSnap);\n        // Touch events\n        // addEvent(snapX, 'touchstart', mouseDownSnapX);\n        // addEvent(snapY, 'touchstart', mouseDownSnapY);\n        // if (!rowContainer.hcEvents.mousemove) {\n        //     addEvent(rowContainer, 'touchmove', mouseMoveSnap);\n        //     addEvent(rowContainer, 'touchend', mouseUpSnap);\n        // }\n        const runReflow = () => {\n            if (resizer.currentCell) {\n                resizer.setSnapPositions(resizer.currentCell);\n            }\n        };\n        if (typeof ResizeObserver === 'function') {\n            this.resizeObserver = new ResizeObserver(runReflow);\n            this.resizeObserver.observe(resizer.editMode.board.container);\n        }\n        else {\n            const unbind = Resizer_addEvent(window, 'resize', runReflow);\n            Resizer_addEvent(this, 'destroy', unbind);\n        }\n    }\n    /**\n     * General method used on resizing.\n     *\n     * @param {global.Event} e\n     * A mouse event.\n     *\n     */\n    onMouseMove(e) {\n        const currentCell = this.currentCell;\n        const cellContainer = currentCell && currentCell.container;\n        const currentDimension = this.currentDimension;\n        if (currentCell &&\n            cellContainer &&\n            !((currentCell.row.layout.board.editMode || {}).dragDrop || {})\n                .isActive) {\n            const cellOffsets = Layout_GUIElement.getOffsets(currentCell);\n            const { width: parentRowWidth } = Layout_GUIElement.getDimFromOffsets(Layout_GUIElement.getOffsets(currentCell.row));\n            // Resize width\n            if (currentDimension === 'x') {\n                const newWidth = (Math.min(e.clientX - cellOffsets.left, parentRowWidth) /\n                    parentRowWidth) *\n                    100 +\n                    '%';\n                currentCell.setSize(newWidth);\n                this.startX = e.clientX;\n            }\n            // Resize height\n            if (currentDimension === 'y') {\n                currentCell.setSize(void 0, e.clientY - cellOffsets.top);\n            }\n            // Call cellResize dashboard event.\n            Resizer_fireEvent(this.editMode.board, 'cellResize', {\n                cell: currentCell\n            });\n            Resizer_fireEvent(currentCell.row, 'cellChange', {\n                cell: currentCell,\n                row: currentCell.row\n            });\n            this.setSnapPositions(currentCell);\n        }\n    }\n    /**\n     * Destroy resizer\n     */\n    destroy() {\n        const snaps = ['snapRight', 'snapBottom'];\n        let snap;\n        // Unbind events\n        removeEvent(document, 'mousemove');\n        removeEvent(document, 'mouseup');\n        this.resizeObserver?.unobserve(this.editMode.board.container);\n        for (let i = 0, iEnd = snaps.length; i < iEnd; ++i) {\n            snap = this[snaps[i]];\n            // Unbind event\n            removeEvent(snap, 'mousedown');\n            // Destroy snap\n            snap.remove();\n        }\n    }\n    /**\n     * Converts the class instance to a class JSON.\n     * @internal\n     *\n     * @return {JSON}\n     * Class JSON of this Resizer instance.\n     */\n    toJSON() {\n        const options = this.options;\n        return {\n            $class: 'Dashboards.Action.Resizer',\n            options: {\n                enabled: options.enabled,\n                styles: {\n                    minWidth: options.styles.minWidth,\n                    minHeight: options.styles.minHeight\n                },\n                type: options.type,\n                snap: {\n                    width: options.snap.width,\n                    height: options.snap.height\n                }\n            }\n        };\n    }\n}\nResizer.defaultOptions = {\n    enabled: true,\n    styles: {\n        minWidth: 20,\n        minHeight: 50\n    },\n    type: 'xy',\n    snap: {\n        width: 9,\n        height: 17\n    }\n};\n/* harmony default export */ const Actions_Resizer = (Resizer);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/EditMode.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst { addEvent: EditMode_addEvent, createElement: EditMode_createElement, css: EditMode_css, merge: EditMode_merge } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Class\n *\n * */\nclass EditMode {\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    /**\n     * Edit mode constructor.\n     * @internal\n     *\n     * @param board\n     * Board instance\n     *\n     * @param options\n     * Edit mode options\n     */\n    constructor(board, options) {\n        /* *\n        *\n        *  Properties\n        *\n        * */\n        /**\n         * @internal\n         */\n        this.active = false;\n        /**\n         * Whether the board is generated with custom HTML.\n         */\n        this.customHTMLMode = false;\n        /**\n         * URL from which the icons will be fetched.\n         */\n        this.iconsURLPrefix = 'https://code.highcharts.com/dashboards/4.1.0/gfx/dashboards-icons/';\n        this.iconsURLPrefix =\n            (options && options.iconsURLPrefix) || this.iconsURLPrefix;\n        this.options = EditMode_merge(\n        // Default options.\n        {\n            confirmationPopup: {\n                close: {\n                    icon: this.iconsURLPrefix + 'close.svg'\n                }\n            },\n            contextMenu: {\n                icon: this.iconsURLPrefix + 'menu.svg'\n            },\n            dragDrop: {\n                enabled: true\n            },\n            viewFullscreen: {\n                enabled: true\n            },\n            enabled: true,\n            resize: {\n                enabled: true\n            },\n            settings: {\n                enabled: true\n            },\n            toolbars: {\n                cell: {\n                    enabled: true\n                },\n                row: {\n                    enabled: true\n                }\n            },\n            tools: {\n                addComponentBtn: {\n                    enabled: true,\n                    icon: this.iconsURLPrefix + 'add.svg'\n                }\n            }\n        }, options || {});\n        this.board = board;\n        this.lang = EditMode_merge({}, EditMode_EditGlobals.lang, this.options.lang);\n        board.boardWrapper = board.container;\n        if (board.guiEnabled) {\n            this.initLayout();\n        }\n        this.isInitialized = false;\n        this.isContextDetectionActive = false;\n        this.tools = {};\n        if (board.editModeEnabled) {\n            this.customHTMLMode = !this.board.layoutsWrapper;\n            this.contextPointer = {\n                isVisible: false,\n                element: EditMode_createElement('div', {\n                    className: EditMode_EditGlobals.classNames.contextDetectionPointer\n                }, {}, board.container)\n            };\n            this.createTools();\n            this.confirmationPopup = new EditMode_ConfirmationPopup(board.container, this.iconsURLPrefix, this, this.options.confirmationPopup);\n            // Create edit overlay.\n            this.editOverlay = EditMode_createElement('div', {\n                className: EditMode_EditGlobals.classNames.editOverlay\n            }, {}, board.container);\n            this.isEditOverlayActive = false;\n            board.fullscreen = new (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).win.Dashboards.Fullscreen(board);\n            if (this.customHTMLMode) {\n                board.container.classList.add((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.boardContainer);\n            }\n        }\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Event to fire on click of the context button.\n     * @internal\n     */\n    onContextBtnClick() {\n        const editMode = this;\n        // Toggle context menu visibility.\n        if (editMode.tools.contextMenu) {\n            if (!editMode.tools.contextMenu.isVisible) {\n                editMode.tools.contextMenu\n                    .updatePosition(editMode.tools.contextButtonElement);\n            }\n            editMode.tools.contextMenu.setVisible(!editMode.tools.contextMenu.isVisible);\n        }\n    }\n    /**\n     * Activate or deactivate edit mode.\n     */\n    toggleEditMode() {\n        const editMode = this;\n        if (editMode.active) {\n            editMode.deactivate();\n        }\n        else {\n            editMode.activate();\n        }\n    }\n    /**\n     * Init the instance of edit mode.\n     * @internal\n     */\n    init() {\n        const editMode = this;\n        if (this.options.resize?.enabled && !editMode.customHTMLMode) {\n            editMode.resizer = new Actions_Resizer(editMode, editMode.options.resize);\n        }\n        editMode.dragDrop = new Actions_DragDrop(editMode, editMode.options.dragDrop);\n        // Init rowToolbar.\n        if (editMode.options.toolbars?.row?.enabled &&\n            !editMode.rowToolbar &&\n            !editMode.customHTMLMode) {\n            editMode.rowToolbar = new Toolbar_RowEditToolbar(editMode);\n        }\n        // Init cellToolbar.\n        if (editMode.options.toolbars?.cell?.enabled && !editMode.cellToolbar) {\n            editMode.cellToolbar = new Toolbar_CellEditToolbar(editMode);\n        }\n        // Init Sidebar.\n        if (!editMode.sidebar) {\n            editMode.sidebar = new EditMode_SidebarPopup(this.board.container, this.iconsURLPrefix, editMode);\n        }\n        editMode.isInitialized = true;\n    }\n    /**\n     * Init events for edit mode.\n     * @internal\n     */\n    initEvents() {\n        const editMode = this, board = editMode.board;\n        if (this.customHTMLMode) {\n            const length = board.mountedComponents.length;\n            for (let i = 0, iEnd = length; i < iEnd; ++i) {\n                editMode.setCellEvents(board.mountedComponents[i].cell);\n            }\n        }\n        else {\n            for (let i = 0, iEnd = board.layouts.length; i < iEnd; ++i) {\n                editMode.setLayoutEvents(board.layouts[i]);\n            }\n        }\n        EditMode_addEvent(document, 'keydown', (e) => {\n            if (e.key === 'Escape' && editMode.isActive()) {\n                editMode.hideToolbars(['cell', 'row']);\n                editMode.editCellContext = void 0;\n                editMode.resizer?.disableResizer();\n            }\n        });\n        if (editMode.cellToolbar) {\n            // Stop context detection when mouse on cell toolbar.\n            EditMode_addEvent(editMode.cellToolbar.container, 'mouseenter', function () {\n                editMode.stopContextDetection();\n            });\n            EditMode_addEvent(editMode.cellToolbar.container, 'mouseleave', function () {\n                editMode.isContextDetectionActive = true;\n            });\n        }\n        if (editMode.rowToolbar) {\n            // Stop context detection when mouse on row toolbar.\n            EditMode_addEvent(editMode.rowToolbar.container, 'mouseenter', function () {\n                editMode.stopContextDetection();\n            });\n            EditMode_addEvent(editMode.rowToolbar.container, 'mouseleave', function () {\n                editMode.isContextDetectionActive = true;\n            });\n        }\n        const elementForEvents = this.customHTMLMode ?\n            board.container : board.layoutsWrapper;\n        EditMode_addEvent(elementForEvents, 'mousemove', editMode.onDetectContext.bind(editMode));\n        EditMode_addEvent(elementForEvents, 'click', editMode.onContextConfirm.bind(editMode));\n        EditMode_addEvent(elementForEvents, 'mouseleave', () => {\n            editMode.hideContextPointer();\n        });\n    }\n    /**\n     * Initialize the container for the layouts.\n     * @internal\n     *\n     */\n    initLayout() {\n        const board = this.board;\n        // Clear the container from any content.\n        board.container.innerHTML = '';\n        // Add container for the board.\n        board.container = EditMode_createElement('div', {\n            className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.boardContainer\n        }, {}, board.boardWrapper);\n        // Create layouts wrapper.\n        board.layoutsWrapper = EditMode_createElement('div', {\n            className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.layoutsWrapper\n        }, {}, board.container);\n        if (board.options.gui) {\n            this.setLayouts(board.options.gui);\n        }\n    }\n    /**\n     * Creates a new layouts and adds it to the dashboard based on the options.\n     * @internal\n     *\n     * @param guiOptions\n     * The GUI options for the layout.\n     *\n     */\n    setLayouts(guiOptions) {\n        const board = this.board, layoutsOptions = guiOptions.layouts;\n        for (let i = 0, iEnd = layoutsOptions.length; i < iEnd; ++i) {\n            board.layouts.push(new Layout_Layout(board, EditMode_merge({}, guiOptions.layoutOptions, layoutsOptions[i])));\n        }\n    }\n    /**\n     * Set events for the layout.\n     * @internal\n     */\n    setLayoutEvents(layout) {\n        const editMode = this;\n        for (let j = 0, jEnd = layout.rows.length; j < jEnd; ++j) {\n            const row = layout.rows[j];\n            editMode.setRowEvents(row);\n            for (let k = 0, kEnd = row.cells.length; k < kEnd; ++k) {\n                editMode.setCellEvents(row.cells[k]);\n            }\n        }\n    }\n    /**\n     * Set events for the row.\n     * @internal\n     */\n    setRowEvents(row) {\n        const editMode = this;\n        // Init dragDrop row events.\n        if (editMode.dragDrop) {\n            const dragDrop = editMode.dragDrop;\n            EditMode_addEvent(row.container, 'mouseenter', function () {\n                if (editMode.isContextDetectionActive) {\n                    editMode.mouseRowContext = row;\n                }\n            });\n            EditMode_addEvent(row.container, 'mousemove', function (e) {\n                if (dragDrop.isActive && e.target === row.container) {\n                    dragDrop.mouseRowContext = row;\n                }\n            });\n            EditMode_addEvent(row.container, 'mouseleave', function () {\n                if (dragDrop.isActive && dragDrop.mouseRowContext === row) {\n                    dragDrop.mouseRowContext = void 0;\n                }\n                if (editMode.isContextDetectionActive) {\n                    editMode.mouseRowContext = void 0;\n                }\n            });\n        }\n    }\n    /**\n     * Set events for the cell.\n     * @internal\n     */\n    setCellEvents(cell) {\n        const editMode = this;\n        if (isCellHTML(cell)) {\n            EditMode_addEvent(cell.container, 'mouseenter', function () {\n                if (editMode.isContextDetectionActive) {\n                    editMode.mouseCellContext = cell;\n                }\n            });\n        }\n        else {\n            if (cell.nestedLayout) {\n                editMode.setLayoutEvents(cell.nestedLayout);\n            }\n            else if (editMode.cellToolbar && cell.container) {\n                EditMode_addEvent(cell.container, 'mouseenter', function () {\n                    if (editMode.isContextDetectionActive) {\n                        editMode.mouseCellContext = cell;\n                    }\n                });\n                // Init dragDrop cell events only when using layouts.\n                if ((editMode.dragDrop || editMode.resizer)) {\n                    const dragDrop = editMode.dragDrop;\n                    EditMode_addEvent(cell.container, 'mousemove', function (e) {\n                        if (dragDrop &&\n                            dragDrop.isActive &&\n                            e.target === cell.container) {\n                            dragDrop.mouseCellContext = cell;\n                            dragDrop.mouseRowContext = void 0;\n                        }\n                    });\n                    EditMode_addEvent(cell.container, 'mouseleave', function () {\n                        if (dragDrop &&\n                            dragDrop.isActive &&\n                            dragDrop.mouseCellContext === cell) {\n                            dragDrop.mouseCellContext = void 0;\n                        }\n                        if (editMode.isContextDetectionActive) {\n                            editMode.mouseCellContext = void 0;\n                        }\n                    });\n                }\n            }\n        }\n    }\n    /**\n     * Activate the edit mode.\n     * @internal\n     */\n    activate() {\n        const editMode = this;\n        // Init edit mode.\n        if (!editMode.isInitialized) {\n            editMode.init();\n            editMode.initEvents();\n        }\n        // Set edit mode active class to dashboard.\n        editMode.board.container.classList.add(EditMode_EditGlobals.classNames.editModeEnabled);\n        if (this.addComponentBtn) {\n            this.addComponentBtn.style.display = 'block';\n        }\n        editMode.active = true;\n        editMode.isContextDetectionActive = true;\n    }\n    /**\n     * Deactivate the edit mode.\n     * @internal\n     */\n    deactivate() {\n        const editMode = this, dashboardCnt = editMode.board.container;\n        dashboardCnt.classList.remove(EditMode_EditGlobals.classNames.editModeEnabled);\n        // Hide toolbars.\n        editMode.hideToolbars();\n        // Remove highlight from the context row if exists.\n        if (this.editCellContext && isCell(this.editCellContext)) {\n            this.editCellContext.row?.setHighlight();\n        }\n        // TODO all buttons should be deactivated.\n        if (this.addComponentBtn) {\n            this.addComponentBtn.style.display = 'none';\n        }\n        if (editMode.resizer) {\n            editMode.resizer.disableResizer();\n        }\n        // Disable responsive width and restore elements to their original\n        // positions and sizes.\n        if (this.board.layoutsWrapper) {\n            this.board.layoutsWrapper.style.width = '100%';\n        }\n        this.board.reflow();\n        editMode.active = false;\n        editMode.stopContextDetection();\n        this.editCellContext = void 0;\n        this.potentialCellContext = void 0;\n    }\n    /**\n     * Function to check whether the edit mode is activated.\n     * @internal\n     *\n     * @returns\n     * Whether the edit mode is activated.\n     */\n    isActive() {\n        return this.active;\n    }\n    /**\n     * Method for hiding edit toolbars.\n     * @internal\n     *\n     * @param toolbarTypes\n     * The array of toolbar names to hide ('cell', 'row', 'sidebar').\n     */\n    hideToolbars(toolbarTypes) {\n        const editMode = this, toolbarsToHide = toolbarTypes || ['cell', 'row', 'sidebar'];\n        for (let i = 0, iEnd = toolbarsToHide.length; i < iEnd; ++i) {\n            switch (toolbarsToHide[i]) {\n                case 'cell': {\n                    if (editMode.cellToolbar &&\n                        editMode.cellToolbar.isVisible) {\n                        editMode.cellToolbar.hide();\n                    }\n                    break;\n                }\n                case 'row': {\n                    if (editMode.rowToolbar && editMode.rowToolbar.isVisible) {\n                        editMode.rowToolbar.hide();\n                    }\n                    break;\n                }\n                case 'sidebar': {\n                    if (editMode.sidebar && editMode.sidebar.isVisible) {\n                        editMode.sidebar.hide();\n                    }\n                    break;\n                }\n                default: {\n                    break;\n                }\n            }\n        }\n    }\n    /**\n     * Method for hiding edit toolbars.\n     * @internal\n     *\n     * @param toolbarTypes\n     * The array of toolbar names to hide ('cell', 'row', 'sidebar').\n     *\n     * @param currentCell\n     * The cell reference for toolbar.\n     *\n     */\n    showToolbars(toolbarTypes, currentCell) {\n        const editMode = this, toolbarsToShow = toolbarTypes || ['cell', 'row', 'sidebar'];\n        for (let i = 0, iEnd = toolbarsToShow.length; i < iEnd; ++i) {\n            switch (toolbarsToShow[i]) {\n                case 'cell': {\n                    if (currentCell && editMode.cellToolbar) {\n                        editMode.cellToolbar.showToolbar(currentCell);\n                    }\n                    break;\n                }\n                case 'row': {\n                    if (currentCell && currentCell.row && editMode.rowToolbar) {\n                        editMode.rowToolbar.showToolbar(currentCell.row);\n                    }\n                    break;\n                }\n                case 'sidebar': {\n                    if (editMode.sidebar && !editMode.sidebar.isVisible) {\n                        editMode.sidebar.show();\n                    }\n                    break;\n                }\n                default: {\n                    break;\n                }\n            }\n        }\n    }\n    /**\n     * Creates the buttons such as `addComponent` button, context menu button\n     * and its container.\n     * @internal\n     */\n    createTools() {\n        const editMode = this;\n        const { board, options, tools } = editMode;\n        // Create tools container\n        tools.container = document.createElement('div');\n        tools.container.classList.add(EditMode_EditGlobals.classNames.editTools);\n        if (board.layoutsWrapper) {\n            // For the generated layout\n            board.layoutsWrapper.parentNode.insertBefore(tools.container, board.layoutsWrapper);\n        }\n        else {\n            // For the custom layout\n            board.container.insertBefore(tools.container, board.container.firstChild);\n        }\n        // Create context a menu button or edit mode toggle\n        if (options.contextMenu && options.contextMenu.enabled) {\n            if (options.contextMenu.items?.length) {\n                tools.contextButtonElement = EditMode_EditRenderer.renderContextButton(tools.container, editMode);\n                // Init contextMenu if doesn't exist.\n                if (!editMode.tools.contextMenu) {\n                    editMode.tools.contextMenu = new EditMode_EditContextMenu(editMode.board.container, editMode.options.contextMenu || {}, editMode);\n                }\n            }\n            else {\n                // Render the edit mode toggle when no items are provided\n                tools.standaloneEditToggle =\n                    EditMode_EditRenderer.renderToggle(tools.container, {\n                        id: EditMode_EditContextMenu.items.editMode.id,\n                        name: EditMode_EditContextMenu.items.editMode.id,\n                        className: EditMode_EditGlobals.classNames.editStandaloneToggle,\n                        title: editMode.lang.editMode,\n                        value: editMode.isActive(),\n                        lang: editMode.lang,\n                        langKey: 'editMode',\n                        onchange() {\n                            editMode.toggleEditMode();\n                        }\n                    });\n            }\n        }\n        // Create add component button\n        if (options.tools?.addComponentBtn?.enabled &&\n            options.toolbars?.cell?.enabled &&\n            !this.customHTMLMode) {\n            const addIconURL = options.tools.addComponentBtn.icon;\n            this.addComponentBtn = EditMode_EditRenderer.renderButton(tools.container, {\n                className: EditMode_EditGlobals.classNames.editToolsBtn,\n                icon: addIconURL,\n                text: this.lang.addComponent,\n                callback: () => {\n                    // Sidebar trigger\n                    if (editMode.sidebar) {\n                        editMode.sidebar.show();\n                        editMode.setEditOverlay();\n                    }\n                },\n                style: {\n                    display: 'none'\n                }\n            });\n        }\n    }\n    /**\n     * Event fired when detecting context on drag&drop.\n     */\n    onDetectContext() {\n        const editMode = this;\n        if (!editMode.isActive() ||\n            !editMode.isContextDetectionActive ||\n            (!editMode.mouseCellContext && !editMode.mouseRowContext) ||\n            (editMode.dragDrop || {}).isActive) {\n            return;\n        }\n        let cellContext;\n        let rowContext;\n        if (editMode.mouseCellContext) {\n            cellContext = editMode.mouseCellContext;\n        }\n        else if (editMode.mouseRowContext) {\n            rowContext = editMode.mouseRowContext;\n            cellContext = rowContext.layout.parentCell;\n        }\n        this.potentialCellContext = cellContext;\n        if (cellContext) {\n            const cellContextOffsets = Layout_GUIElement\n                .getOffsets(cellContext, editMode.board.container);\n            const { width, height } = Layout_GUIElement\n                .getDimFromOffsets(cellContextOffsets);\n            editMode.showContextPointer(cellContextOffsets.left, cellContextOffsets.top, width, height);\n        }\n    }\n    /**\n     * Stops the context detection.\n     */\n    stopContextDetection() {\n        this.isContextDetectionActive = false;\n        if (this.dragDrop) {\n            this.dragDrop.mouseCellContext = void 0;\n        }\n        this.mouseCellContext = void 0;\n        this.hideContextPointer();\n    }\n    /**\n     * Confirms the selected context.\n     */\n    onContextConfirm() {\n        if (this.isContextDetectionActive &&\n            this.potentialCellContext &&\n            this.editCellContext !== this.potentialCellContext) {\n            this.setEditCellContext(this.potentialCellContext, this.editCellContext);\n        }\n    }\n    /**\n     * Sets the edit cell context.\n     * @internal\n     */\n    setEditCellContext(editCellContext, oldEditCellContext) {\n        const editMode = this;\n        const oldContext = oldEditCellContext;\n        if (isCellHTML(editCellContext) ||\n            isCellHTML(oldContext)) {\n            editMode.editCellContext = editCellContext;\n            editMode.cellToolbar?.showToolbar(editCellContext);\n        }\n        else {\n            const oldContextRow = oldContext?.row;\n            editMode.editCellContext = editCellContext;\n            editMode.showToolbars(['row', 'cell'], editCellContext);\n            if (!oldContextRow || oldContextRow !== editCellContext.row) {\n                if (oldContextRow) {\n                    // Remove highlight from the previous row.\n                    oldContextRow.setHighlight(true);\n                }\n                // Add highlight to the context row.\n                if (editCellContext.row) {\n                    editCellContext.row.setHighlight();\n                }\n            }\n            if (editMode.resizer) {\n                editMode.resizer.setSnapPositions(editCellContext);\n            }\n        }\n    }\n    /**\n     * Method for showing and positioning context pointer.\n     * @internal\n     */\n    showContextPointer(left, top, width, height) {\n        if (!this.contextPointer) {\n            return;\n        }\n        this.contextPointer.isVisible = true;\n        EditMode_css(this.contextPointer.element, {\n            display: 'block',\n            left: left + 'px',\n            top: top + 'px',\n            height: height + 'px',\n            width: width + 'px'\n        });\n    }\n    /**\n     * Method for hiding context pointer.\n     * @internal\n     */\n    hideContextPointer() {\n        if (this.contextPointer?.isVisible) {\n            this.contextPointer.isVisible = false;\n            this.contextPointer.element.style.display = 'none';\n        }\n    }\n    /**\n     * Adds/Removes the edit mode overlay.\n     * @internal\n     *\n     * @param remove\n     * Whether the edit overlay should be removed.\n     */\n    setEditOverlay(remove) {\n        const editMode = this, cnt = editMode.editOverlay, isSet = cnt?.classList.contains(EditMode_EditGlobals.classNames.editOverlayActive);\n        if (!remove && !isSet) {\n            cnt?.classList.add(EditMode_EditGlobals.classNames.editOverlayActive);\n            editMode.isEditOverlayActive = true;\n        }\n        else if (remove && isSet) {\n            cnt?.classList.remove(EditMode_EditGlobals.classNames.editOverlayActive);\n            editMode.isEditOverlayActive = false;\n        }\n    }\n}\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const EditMode_EditMode = (EditMode);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Fullscreen.js\n/* *\n *\n *  (c) 2009-2026 Highsoft AS\n *\n *  A commercial license may be required depending on use.\n *  See www.highcharts.com/license\n *\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\nconst { addEvent: Fullscreen_addEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nclass Fullscreen {\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    constructor(DashboardClass) {\n        this.isOpen = false;\n        this.board = DashboardClass;\n        // Add class to allow scroll element\n        this.board.boardWrapper.classList.add((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + '-fullscreen');\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Toggles displaying the board in fullscreen mode.\n     *\n     * @param container\n     * The container to be displayed in fullscreen mode.\n     */\n    toggle(container) {\n        const fullscreen = this, isOpen = this.isOpen;\n        fullscreen[isOpen ? 'close' : 'open'](container);\n    }\n    /**\n     * Display board in fullscreen.\n     */\n    open(container) {\n        if (this.isOpen) {\n            return;\n        }\n        const fullscreen = this;\n        const board = fullscreen.board;\n        const elementToFullscreen = container || board.boardWrapper;\n        // Handle exitFullscreen() method when user clicks 'Escape' button.\n        const unbindChange = Fullscreen_addEvent(board.boardWrapper.ownerDocument, // Dashboard's document\n        'fullscreenchange', function () {\n            if (fullscreen.isOpen) {\n                fullscreen.isOpen = false;\n                fullscreen.close();\n            }\n            else {\n                fullscreen.isOpen = true;\n                fullscreen.setButtonText();\n            }\n        });\n        fullscreen.unbindFullscreenEvent = () => {\n            unbindChange();\n        };\n        const promise = elementToFullscreen.requestFullscreen();\n        promise['catch'](() => {\n            throw new Error('Full screen is not supported.');\n        });\n    }\n    /**\n     * Stops displaying the dashboard in fullscreen mode.\n     */\n    close() {\n        const fullscreen = this;\n        const board = fullscreen.board;\n        // Don't fire exitFullscreen() when user exited using 'Escape' button.\n        if (fullscreen.isOpen &&\n            board.boardWrapper.ownerDocument instanceof Document) {\n            void board.boardWrapper.ownerDocument.exitFullscreen();\n        }\n        // Unbind event as it's necessary only before exiting from fullscreen.\n        if (fullscreen.unbindFullscreenEvent) {\n            fullscreen.unbindFullscreenEvent =\n                fullscreen.unbindFullscreenEvent();\n        }\n        fullscreen.isOpen = false;\n        this.setButtonText();\n    }\n    /**\n     * Set the correct text depending of the fullscreen is on or of.\n     */\n    setButtonText() {\n        const editMode = this.board.editMode, contextMenu = editMode && editMode.tools.contextMenu, button = contextMenu && contextMenu.items.viewFullscreen;\n        if (button && button.innerElement) {\n            const lang = editMode.lang;\n            button.innerElement.innerHTML =\n                (this.isOpen ? lang.exitFullscreen : lang.viewFullscreen) || '';\n        }\n    }\n}\n/* harmony default export */ const EditMode_Fullscreen = (Fullscreen);\n\n;// ./code/dashboards/es-modules/masters/modules/layout.js\n\n\n/* *\n *\n *  Imports\n *\n * */\n\n// Fill registries\n\n\n\n\n/* *\n *\n *  Namespace\n *\n * */\nconst G = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nG.EditMode = EditMode_EditMode;\nG.Fullscreen = EditMode_Fullscreen;\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const layout_src = (G);\n\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"names":["root","factory","exports","module","define","amd","amd1","window","__WEBPACK_EXTERNAL_MODULE__668__","__WEBPACK_EXTERNAL_MODULE__160__","__WEBPACK_EXTERNAL_MODULE__376__","__webpack_modules__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","__webpack_exports__","layout_src","dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_","dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default","PREFIX","classNamePrefix","EditMode_EditGlobals","classNames","resizeSnap","resizeSnapX","resizeSnapY","separator","contextMenuBtn","contextMenuBtnText","contextMenu","contextMenuItem","editModeEnabled","editToolbar","editToolbarCellOutline","editToolbarRowOutline","editToolbarItem","editToolbarRow","editToolbarCell","editSidebar","editSidebarShow","editSidebarHide","editSidebarHeader","editSidebarTitle","editSidebarMenuItem","rowContextHighlight","cellEditHighlight","dashboardCellEditHighlightActive","dragMock","dropPointer","contextDetectionPointer","resizePointer","currentEditedElement","maskElement","menuItem","menu","menuVerticalSeparator","menuHorizontalSeparator","menuDestroy","editSidebarWrapper","customSelect","customSelectButton","toggleContainer","toggleWrapper","toggleSlider","toggleWrapperColored","toggleLabels","labeledToggleWrapper","button","sidebarNavButton","labelText","editSidebarTabBtn","editToolsBtn","editTools","editGridItems","editStandaloneToggle","confirmationPopup","popupButtonContainer","popupContentContainer","popupCancelBtn","popupConfirmBtn","popupCloseButton","editOverlay","editOverlayActive","resizerMenuBtnActive","sidebarCloseButton","editSidebarTabBtnWrapper","editSidebarRight","editSidebarRightShow","viewFullscreen","accordionMenu","accordionContainer","accordionHeader","accordionHeaderBtn","accordionHeaderWrapper","accordionHeaderIcon","accordionContent","accordionNestedWrapper","accordionMenuButtonsContainer","accordionMenuButton","accordionStandaloneWrapper","hiddenElement","collapsableContentHeader","standaloneElement","collapsedElement","dropdown","dropdownContent","dropdownButton","dropdownButtonContent","dropdownIcon","icon","lang","accessibility","editMode","addComponent","cancelButton","caption","chartClassName","chartConfig","chartID","chartOptions","chartType","connectorName","confirmButton","confirmDestroyCell","confirmDestroyRow","confirmDiscardChanges","dataLabels","errorMessage","exitFullscreen","htmlInput","id","off","on","pointFormat","settings","style","title","sidebar","HTML","row","Highcharts","Grid","KPI","addEvent","createElement","uniqueKey","objectEach","error","Layout_GUIElement","getOffsets","guiElement","referenceElement","offset","left","top","right","bottom","container","guiElementClientRect","getBoundingClientRect","referenceClientRect","getDimFromOffsets","offsets","width","height","getElementId","elementType","slice","getPercentageWidth","result","fractionRegEx","test","match","indexOf","value","parseFloat","getElementContainer","options","elem","render","attribs","elementId","div","document","getElementById","removeBindedEventFn","element","HTMLElement","parentContainer","e","stopImmediatePropagation","destroy","parentNode","removeChild","val","getType","type","changeVisibility","setVisible","displayStyle","visibilityChanged","isVisible","display","hide","show","merge","fireEvent","isCell","cell","Layout_Cell","cellElement","guiElementType","parentContainerId","layoutOptions","layout","rowOptions","cellClassName","board","guiEnabled","className","setNestedLayout","Layout","optionsGui","gui","nestedLayout","mountedComponent","unmountCell","destroyRow","cells","length","getOptions","getVisibleCells","setTimeout","getParentCell","level","parentCell","getOverlappingLevels","align","levelMaxGap","levels","cellOffset","parentCellOffset","Math","abs","setSize","flex","cellWidth","convertWidthToValue","hideContextPointer","cellToolbar","showToolbar","setHighlight","remove","cnt","isSet","classList","contains","isHighlighted","add","setActiveState","mountedComponents","forEach","cellActive","component","isActive","setLoadingState","enabled","toggle","cellLoading","CellHTML","isCellHTML","cellHTML","EditRenderer_merge","EditRenderer_createElement","defined","renderContextButton","contextButton","contextMenuOptions","onclick","event","stopPropagation","onContextBtnClick","src","text","textContent","setAttribute","renderCollapseHeader","parentElement","headerBtn","name","showToggle","onchange","isEnabled","isNested","isStandalone","accordion","header","renderToggle","enabledOnOffLabels","headerIcon","addEventListener","content","outerElement","renderSelect","renderText","isLabel","iconsURLPrefix","btn","btnContent","iconURL","find","selectOptions","item","placeholder","dropdownPointer","i","iEnd","renderSelectElement","option","callback","selectOption","selectOptionBtn","langKey","role","ariaChecked","ariaLabel","input","renderCheckbox","callbackFn","checked","slider","preventDefault","textElem","labelFor","htmlFor","renderIcon","iconElem","mousedown","click","onmousedown","apply","arguments","renderInput","toString","replace","target","renderTextarea","textarea","renderButton","MenuItem_createElement","MenuItem_merge","MenuItem","defaultOptions","setContainer","innerElement","setInnerElement","itemsClassName","EditMode_EditRenderer","getValue","events","bind","update","activate","deactivate","Menu_createElement","Menu_merge","Menu","parent","activeItems","items","initItems","itemsSchemas","itemSchema","itemConfig","optionsItems","push","setActiveItems","j","jEnd","deactivateActiveItems","updateActiveItems","fullScreen","fullscreen","Menu_Menu","EditToolbar_defined","EditToolbar_createElement","css","Toolbar_EditToolbar","iconURLPrefix","outline","outlineClassName","setPosition","refreshOutline","x","y","guiElemCnt","toolbar","offsetWidth","offsetHeight","hideOutline","isFirefox","CellEditToolbar_merge","CellEditToolbar_fireEvent","CellEditToolbar_objectEach","CellEditToolbar","getItemsConfig","dragDrop","cellEditToolbar","onDragStart","setEditOverlay","onCellOptions","popup","onCellDestroy","context","closePopup","firstElementChild","toolbars","customHTMLMode","filterOptionsAvailableInCustomHTMLMode","cellCnt","cellOffsets","toolbarItems","highlightCell","cellId","resetEditedCell","hideToolbars","resizer","disableResizer","editedCell","filter","RowEditToolbar_fireEvent","RowEditToolbar_merge","RowEditToolbar_objectEach","RowEditToolbar","getMenuItemsConfig","rowEditToolbar","onRowDestroy","offsetX","rowCnt","rowToolbar","rowOffsets","rowWidth","clientWidth","clientHeight","onRowOptions","rowId","resetEditedRow","editedRow","dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_","dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_default","BaseForm_addEvent","BaseForm_createElement","Shared_BaseForm","parentDiv","iconsURL","createPopupContainer","closeButton","addCloseButton","backgroundImage","eventName","closeButtonEvents","code","showPopup","toolbarClass","popupDiv","innerHTML","emptyHTML","removeAttribute","appendChild","ConfirmationPopup_createElement","EditMode_ConfirmationPopup","close","cancelCallback","contentOptions","renderContent","contentContainer","popupContainer","marginTop","offsetTop","buttonContainer","AccordionMenu_createElement","AccordionMenu_merge","AccordionMenu_error","AccordionMenu_fireEvent","EditMode_AccordionMenu","closeSidebar","changedOptions","chartOptionsJSON","oldOptionsBuffer","waitingForConfirmation","sidebarMainContainer","editableOptions","getEditableOptions","end","renderAccordion","confirmChanges","cancelChanges","updateOptions","propertyPath","currentChartOptionsLevel","currentOldChartOptionsBufferLevel","currentGridOptionsLevel","currentOldGridOptionsBufferLevel","pathLength","currentLevel","parsedValue","JSON","parse","realGridOptions","grid","gridOptions","realChartOptions","chart","lastKey","renderNested","renderFunction","select","collapse","checkbox","getEditableOptionValue","nestedOptions","accordionOptions","collapsedHeader","keys","showCancelConfirmationPopup","oldOptions","discardChanges","dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_","dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_default","Bindings_addEvent","Bindings_fireEvent","getGUIElement","idOrElement","querySelectorAll","console","warn","querySelector","Bindings","optionsStates","states","optionsEvents","renderTo","el","getCell","componentContainer","ComponentClass","types","promise","load","connector","setCell","active","hover","cellHover","pick","Row_defined","Row_merge","Row_objectEach","Row_fireEvent","Row","setContainerHeight","rowContainer","rowElement","rowClassName","setCells","cellsElements","getElementsByClassName","addCell","index","mountCell","setCellEvents","rowCells","unmountRow","rows","getCellIndex","nextCell","prevCell","insertBefore","nextSibling","splice","cellIndex","getVisibleRows","highlightClass","getRowLevels","rowLevels","rowLevelsArray","k","kEnd","getRowLevelInfo","posY","rowLevelInfo","rowLevel","Layout_pick","Layout_defined","Layout_Layout","layoutsWrapper","copyId","layoutClassName","setRows","rowsElements","addRow","mountRow","setRowEvents","layouts","getRowIndex","nextRow","prevRow","rowIndex","SidebarPopup_addEvent","SidebarPopup_createElement","SidebarPopup_fireEvent","SidebarPopup_merge","SidebarPopup","components","componentsList","getComponentsList","detectRightSidebar","layoutWrapper","removeClassNames","addClassNames","isRightSidebar","editCellContext","stopContextDetection","generateContent","renderHeader","sidebarWrapper","renderAddComponentsList","gridElement","gridWrapper","onMouseMove","rect","clientX","clientY","removeEventListener","onMouseUp","dropContext","newCell","onDrop","unbindLayoutChanged","settingsEnabled","isDirtyBox","unbind","setEditCellContext","onDropNewComponent","componentOptions","onCellDragEnd","componentPromise","Actions_Bindings","isEditOverlayActive","showToolbars","setSnapPositions","isContextDetectionActive","headerWrapper","componentTypes","componentList","componentName","getOptionsOnDrop","includes","isCellType","html","EditContextMenu_addEvent","EditContextMenu_merge","EditContextMenu","initEvents","tools","contextButtonElement","tagName","visible","toggleEditMode","setValue","updatePosition","ctxButton","offsetLeft","inputElem","ContextDetection_defined","ContextDetection","isGUIElementOnParentEdge","mouseContext","side","visibleElements","lastElementIndex","getContextLevel","sideOffset","overlappedLevels","divOffset","lastOverlappedLevel","floor","getContext","mouseCellContext","mouseCellContextOffsets","leftSideX","topSideY","DragDrop_addEvent","DragDrop_merge","DragDrop_css","DragDrop_fireEvent","DragDrop_createElement","DragDrop","mockElement","showDropPointer","hideDropPointer","setMockElementPosition","mouseEvent","dashBoundingRect","onDrag","onDragEnd","dragEndCallback","draggedCell","cursor","onCellDrag","onRowDrag","onRowDragEnd","contextDetails","dropPointerSize","rowDropOffset","updateDropPointer","Actions_ContextDetection","dropContextRowOffsets","draggedRow","cellDropOffset","onCellDragCellCtx","mouseRowContext","onCellDragRowCtx","dropContextOffsets","pointerHeight","dashOffsets","levelHeight","pointerWidth","contextCell","newRow","dropContextCell","dropContextCellIndex","Resizer_merge","Resizer_addEvent","Resizer_createElement","Resizer_fireEvent","removeEvent","Resizer","fromJSON","json","resize","currentCell","isX","isY","startX","tempSiblingsWidth","addSnaps","snapWidth","snap","snapHeight","dashboardContainer","snapRight","snapBottom","addResizeEvents","currentDimension","setTempWidthSiblings","cellContainer","rowLevelCells","revertSiblingsAutoWidth","cellResize","mouseDownSnapX","mouseDownSnapY","mouseMoveSnap","mouseUpSnap","runReflow","ResizeObserver","resizeObserver","observe","parentRowWidth","newWidth","min","snaps","unobserve","toJSON","$class","styles","minWidth","minHeight","EditMode_addEvent","EditMode_createElement","EditMode_css","EditMode_merge","EditMode_EditMode","addComponentBtn","boardWrapper","initLayout","isInitialized","contextPointer","createTools","win","Dashboards","Fullscreen","boardContainer","init","setLayoutEvents","elementForEvents","onDetectContext","onContextConfirm","setLayouts","guiOptions","layoutsOptions","dashboardCnt","reflow","potentialCellContext","toolbarTypes","toolbarsToHide","toolbarsToShow","firstChild","standaloneEditToggle","EditMode_EditContextMenu","addIconURL","cellContext","rowContext","cellContextOffsets","showContextPointer","oldEditCellContext","oldContextRow","Fullscreen_addEvent","EditMode_Fullscreen","DashboardClass","isOpen","open","elementToFullscreen","unbindChange","ownerDocument","setButtonText","unbindFullscreenEvent","requestFullscreen","Error","Document","G","EditMode"],"mappings":"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"}