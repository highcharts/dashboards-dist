{"version":3,"sources":["<anon>"],"sourcesContent":["/**\n * @license Highcharts Dashboards Layout 4.0.0-rc.1 (2025-10-27)\n * @module dashboards/modules/layout\n * @requires dashboards\n *\n * (c) 2009-2025 Highsoft AS\n *\n * License: www.highcharts.com/license\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(root[\"_Dashboards\"], root[\"_Dashboards\"][\"AST\"], root[\"_Dashboards\"][\"ComponentRegistry\"]);\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"dashboards/modules/layout\", [\"dashboards/dashboards\"], function (amd1) {return factory(amd1,amd1[\"AST\"],amd1[\"ComponentRegistry\"]);});\n\telse if(typeof exports === 'object')\n\t\texports[\"dashboards/modules/layout\"] = factory(root[\"_Dashboards\"], root[\"_Dashboards\"][\"AST\"], root[\"_Dashboards\"][\"ComponentRegistry\"]);\n\telse\n\t\troot[\"Dashboards\"] = factory(root[\"Dashboards\"], root[\"Dashboards\"][\"AST\"], root[\"Dashboards\"][\"ComponentRegistry\"]);\n})(typeof window === 'undefined' ? this : window, (__WEBPACK_EXTERNAL_MODULE__668__, __WEBPACK_EXTERNAL_MODULE__160__, __WEBPACK_EXTERNAL_MODULE__376__) => {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 160:\n/***/ ((module) => {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__160__;\n\n/***/ }),\n\n/***/ 376:\n/***/ ((module) => {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__376__;\n\n/***/ }),\n\n/***/ 668:\n/***/ ((module) => {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE__668__;\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/compat get default export */\n/******/ \t(() => {\n/******/ \t\t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t\t__webpack_require__.n = (module) => {\n/******/ \t\t\tvar getter = module && module.__esModule ?\n/******/ \t\t\t\t() => (module['default']) :\n/******/ \t\t\t\t() => (module);\n/******/ \t\t\t__webpack_require__.d(getter, { a: getter });\n/******/ \t\t\treturn getter;\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ layout_src)\n});\n\n// EXTERNAL MODULE: external {\"amd\":[\"dashboards/dashboards\"],\"commonjs\":[\"dashboards\"],\"commonjs2\":[\"dashboards\"],\"root\":[\"Dashboards\"]}\nvar dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_ = __webpack_require__(668);\nvar dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default = /*#__PURE__*/__webpack_require__.n(dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_);\n;// ./code/dashboards/es-modules/Dashboards/EditMode/EditGlobals.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\nconst PREFIX = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + 'edit-';\nconst EditGlobals = {\n    classNames: {\n        resizeSnap: PREFIX + 'resize-snap',\n        resizeSnapX: PREFIX + 'resize-snap-x',\n        resizeSnapY: PREFIX + 'resize-snap-y',\n        separator: PREFIX + 'separator',\n        contextMenuBtn: PREFIX + 'context-menu-btn',\n        contextMenuBtnText: PREFIX + 'context-menu-btn-text',\n        contextMenu: PREFIX + 'context-menu',\n        contextMenuItem: PREFIX + 'context-menu-item',\n        editModeEnabled: PREFIX + 'enabled',\n        editToolbar: PREFIX + 'toolbar',\n        editToolbarCellOutline: PREFIX + 'toolbar-cell-outline',\n        editToolbarRowOutline: PREFIX + 'toolbar-row-outline',\n        editToolbarItem: PREFIX + 'toolbar-item',\n        editToolbarRow: PREFIX + 'toolbar-row',\n        editToolbarCell: PREFIX + 'toolbar-cell',\n        editSidebar: PREFIX + 'sidebar',\n        editSidebarShow: PREFIX + 'sidebar-show',\n        editSidebarHide: PREFIX + 'sidebar-hide',\n        editSidebarHeader: PREFIX + 'sidebar-header',\n        editSidebarTitle: PREFIX + 'sidebar-title',\n        editSidebarMenuItem: PREFIX + 'sidebar-item',\n        rowContextHighlight: PREFIX + 'row-context-highlight',\n        cellEditHighlight: PREFIX + 'cell-highlight',\n        dashboardCellEditHighlightActive: PREFIX + 'cell-highlight-active',\n        dragMock: PREFIX + 'drag-mock',\n        dropPointer: PREFIX + 'drop-pointer',\n        contextDetectionPointer: PREFIX + 'ctx-detection-pointer',\n        resizePointer: PREFIX + 'resize-pointer',\n        currentEditedElement: PREFIX + 'unmask',\n        maskElement: PREFIX + 'mask',\n        menuItem: PREFIX + 'menu-item',\n        menu: PREFIX + 'menu',\n        menuVerticalSeparator: PREFIX + 'menu-vertical-separator',\n        menuHorizontalSeparator: PREFIX + 'menu-horizontal-separator',\n        menuDestroy: PREFIX + 'menu-destroy',\n        editSidebarWrapper: PREFIX + 'sidebar-wrapper',\n        customSelect: PREFIX + 'custom-select',\n        customSelectButton: PREFIX + 'custom-option-button',\n        toggleContainer: PREFIX + 'toggle-container',\n        toggleWrapper: PREFIX + 'toggle-wrapper',\n        toggleSlider: PREFIX + 'toggle-slider',\n        toggleWrapperColored: PREFIX + 'toggle-wrapper-colored',\n        toggleLabels: PREFIX + 'toggle-labels',\n        labeledToggleWrapper: PREFIX + 'labeled-toggle-wrapper',\n        button: PREFIX + 'button',\n        sidebarNavButton: PREFIX + 'sidebar-button-nav',\n        labelText: PREFIX + 'label-text',\n        editSidebarTabBtn: PREFIX + 'sidebar-tab-btn',\n        editToolsBtn: PREFIX + 'tools-btn',\n        editTools: PREFIX + 'tools',\n        editGridItems: PREFIX + 'grid-items',\n        editStandaloneToggle: PREFIX + 'standalone-toggle',\n        // Confirmation popup\n        confirmationPopup: PREFIX + 'confirmation-popup',\n        popupButtonContainer: PREFIX + 'confirmation-popup-button-container',\n        popupContentContainer: PREFIX + 'confirmation-popup-content',\n        popupCancelBtn: PREFIX + 'confirmation-popup-cancel-btn',\n        popupConfirmBtn: PREFIX + 'confirmation-popup-confirm-btn',\n        popupCloseButton: PREFIX + 'popup-close',\n        editOverlay: PREFIX + 'overlay',\n        editOverlayActive: PREFIX + 'overlay-active',\n        resizerMenuBtnActive: PREFIX + 'resizer-menu-btn-active',\n        sidebarCloseButton: PREFIX + 'close-btn',\n        editSidebarTabBtnWrapper: PREFIX + 'tabs-buttons-wrapper',\n        editSidebarRight: PREFIX + 'sidebar-right',\n        editSidebarRightShow: PREFIX + 'sidebar-right-show',\n        viewFullscreen: PREFIX + 'view-fullscreen',\n        // Accordion\n        accordionMenu: PREFIX + 'accordion-menu',\n        accordionContainer: PREFIX + 'accordion',\n        accordionHeader: PREFIX + 'accordion-header',\n        accordionHeaderBtn: PREFIX + 'accordion-header-btn',\n        accordionHeaderWrapper: PREFIX + 'accordion-header-wrapper',\n        accordionHeaderIcon: PREFIX + 'accordion-header-icon',\n        accordionContent: PREFIX + 'accordion-content',\n        accordionNestedWrapper: PREFIX + 'accordion-nested',\n        accordionMenuButtonsContainer: PREFIX + 'accordion-menu-buttons-container',\n        accordionMenuButton: PREFIX + 'accordion-menu-button',\n        accordionStandaloneWrapper: PREFIX + 'accordion-standalone-wrapper',\n        hiddenElement: PREFIX + 'hidden-element',\n        collapsableContentHeader: PREFIX + 'collapsable-content-header',\n        standaloneElement: PREFIX + 'standalone-element',\n        // Custom dropdown with icons\n        collapsedElement: PREFIX + 'collapsed-element',\n        dropdown: PREFIX + 'dropdown',\n        dropdownContent: PREFIX + 'dropdown-content',\n        dropdownButton: PREFIX + 'dropdown-button',\n        dropdownButtonContent: PREFIX + 'dropdown-button-content',\n        dropdownIcon: PREFIX + 'pointer',\n        icon: PREFIX + 'icon'\n    },\n    lang: {\n        accessibility: {\n            contextMenu: {\n                button: 'Context menu'\n            },\n            editMode: {\n                editMode: 'Edit mode toggle button'\n            }\n        },\n        addComponent: 'Add component',\n        cancelButton: 'Cancel',\n        caption: 'Caption',\n        chartClassName: 'Chart class name',\n        chartConfig: 'Chart configuration',\n        chartID: 'Chart ID',\n        chartOptions: 'Chart options',\n        chartType: 'Chart type',\n        connectorName: 'Connector name',\n        confirmButton: 'Confirm',\n        confirmDestroyCell: 'Do you really want to destroy the cell?',\n        confirmDestroyRow: 'Do you really want to destroy the row?',\n        confirmDiscardChanges: 'Do you really want to discard the changes?',\n        dataLabels: 'Data labels',\n        editMode: 'Edit mode',\n        errorMessage: 'Something went wrong',\n        exitFullscreen: 'Exit full screen',\n        htmlInput: 'HTML',\n        id: 'Id',\n        off: 'off',\n        on: 'on',\n        pointFormat: 'Point format',\n        settings: 'Settings',\n        style: 'Styles',\n        title: 'Title',\n        viewFullscreen: 'View in full screen',\n        sidebar: {\n            HTML: 'HTML',\n            row: 'Row',\n            Highcharts: 'Highcharts',\n            Grid: 'Grid',\n            KPI: 'KPI'\n        }\n    }\n};\n/* harmony default export */ const EditMode_EditGlobals = (EditGlobals);\n\n;// ./code/dashboards/es-modules/Dashboards/Layout/GUIElement.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\nconst { addEvent, createElement, uniqueKey, objectEach, error } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nclass GUIElement {\n    /* *\n    *\n    *  Static Properties\n    *\n    * */\n    /**\n     * Get offsets of the guiElement relative to the referenceElement or the\n     * Viewport.\n     *\n     * @param guiElement\n     * The element to get the offsets from.\n     *\n     * @param referenceElement\n     * The element to get the offsets relative to.\n     *\n     * @returns\n     * The offsets of the guiElement.\n     */\n    static getOffsets(guiElement, referenceElement) {\n        const offset = { left: 0, top: 0, right: 0, bottom: 0 };\n        if (!guiElement.container) {\n            return offset;\n        }\n        const guiElementClientRect = guiElement.container.getBoundingClientRect();\n        const referenceClientRect = referenceElement ?\n            referenceElement.getBoundingClientRect() : { left: 0, top: 0 };\n        offset.left = guiElementClientRect.left - referenceClientRect.left;\n        offset.top = guiElementClientRect.top - referenceClientRect.top;\n        offset.right =\n            guiElementClientRect.right - referenceClientRect.left;\n        offset.bottom =\n            guiElementClientRect.bottom - referenceClientRect.top;\n        return offset;\n    }\n    /**\n     * Get dimensions of the guiElement container from offsets.\n     *\n     * @param offsets\n     * The offsets of the guiElement container.\n     *\n     * @returns\n     * The dimensions of the guiElement container.\n     */\n    static getDimFromOffsets(offsets) {\n        return {\n            width: offsets.right - offsets.left,\n            height: offsets.bottom - offsets.top\n        };\n    }\n    /**\n     * Based on the element provided, generate an unique id.\n     *\n     * @param elementType\n     * Type of the element.\n     *\n     * @returns\n     * The unique id.\n     */\n    static getElementId(elementType) {\n        return ((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + elementType + '-' +\n            uniqueKey().slice(11));\n    }\n    /**\n     * Get width in percentages (0% - 100%).\n     *\n     * @param width\n     * The width of the element. Supported formats '50%' or '1/2'.\n     *\n     * @returns\n     * The width in percentages.\n     */\n    static getPercentageWidth(width) {\n        const fractionRegEx = /^(\\d{1})[\\-\\/\\.](\\d{1,2})$/;\n        let result;\n        if (fractionRegEx.test(width)) {\n            const match = width.match(fractionRegEx) || [], multiplier = +match[1], divider = +match[2];\n            result = 100 * multiplier / divider;\n            result = (result <= 100 ? result : 100) + '%';\n        }\n        else if (width.indexOf('%') !== -1) {\n            const value = parseFloat(width);\n            result = (value <= 100 ?\n                (value >= 0 ? value : 0) : 100) + '%';\n        }\n        return result;\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Create or get existing HTML element as a GUIElement container.\n     *\n     * @param {GUIElement.ContainerOptions} options\n     * Options.\n     *\n     * @returns\n     * The HTML element for the element container.\n     */\n    getElementContainer(options) {\n        const guiElement = this;\n        let elem;\n        if (options.render) {\n            if (options.attribs && !options.attribs.id) {\n                delete options.attribs.id;\n            }\n        }\n        else if (typeof options.elementId === 'string') {\n            const div = document.getElementById(options.elementId);\n            if (div) {\n                guiElement.container = div;\n            }\n            else {\n                error('Element ' + options.elementId + ' does not exist');\n            }\n        }\n        if (options.element instanceof HTMLElement) {\n            elem = options.element;\n        }\n        else {\n            elem = createElement('div', options.attribs || {}, options.style || {}, options.parentContainer);\n        }\n        // Set bindedGUIElement event on GUIElement container.\n        guiElement.removeBindedEventFn = addEvent(elem, 'bindedGUIElement', function (e) {\n            e.guiElement = guiElement;\n            e.stopImmediatePropagation();\n        });\n        return elem;\n    }\n    /**\n     * Destroy the element, its container, event hooks and all properties.\n     */\n    destroy() {\n        const guiElement = this;\n        // Remove bindedGUIElement event.\n        if (guiElement.removeBindedEventFn) {\n            guiElement.removeBindedEventFn();\n        }\n        // Remove HTML container.\n        if (guiElement.container && guiElement.container.parentNode) {\n            guiElement.container.parentNode.removeChild(guiElement.container);\n        }\n        // Delete all properties.\n        objectEach(guiElement, function (val, key) {\n            delete guiElement[key];\n        });\n    }\n    /**\n     * Return the GUIElement instance type.\n     *\n     * @returns\n     * The GUIElement instance type\n     */\n    getType() {\n        return this.type;\n    }\n    changeVisibility(setVisible = true, displayStyle) {\n        const visibilityChanged = (this.isVisible && !setVisible ||\n            !this.isVisible && setVisible);\n        if (this.container && visibilityChanged) {\n            this.container.style.display = (setVisible ?\n                (displayStyle || 'block') :\n                'none');\n            this.isVisible = setVisible;\n        }\n    }\n    hide() {\n        this.changeVisibility(false);\n    }\n    show() {\n        this.changeVisibility();\n    }\n}\n/* harmony default export */ const Layout_GUIElement = (GUIElement);\n\n;// ./code/dashboards/es-modules/Dashboards/Layout/Cell.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\nconst { merge, fireEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Class\n *\n * */\n/**\n * @internal\n **/\nclass Cell extends Layout_GUIElement {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    /**\n     * Constructs an instance of the Cell class.\n     *\n     * @param {Row} row\n     * Reference to the row instance.\n     *\n     * @param {Cell.Options} options\n     * Options for the cell.\n     *\n     * @param {HTMLElement} cellElement\n     * The container of the cell HTML element.\n     */\n    constructor(row, options, cellElement) {\n        super();\n        /**\n         * The type of GUI element.\n         */\n        this.type = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell;\n        this.id = options.id;\n        this.options = options;\n        this.row = row;\n        this.isVisible = true;\n        // Get parent container\n        const parentContainer = document.getElementById(options.parentContainerId || '') ||\n            row.container;\n        const layoutOptions = row.layout.options || {}, rowOptions = row.options || {}, cellClassName = layoutOptions.cellClassName || '';\n        this.container = this.getElementContainer({\n            render: row.layout.board.guiEnabled,\n            parentContainer: parentContainer,\n            attribs: {\n                id: options.id,\n                className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cell + ' ' +\n                    cellClassName\n            },\n            element: cellElement,\n            elementId: options.id,\n            style: merge(layoutOptions.style, rowOptions.style, options.style, {\n                height: this.height\n            })\n        });\n        // Nested layout\n        if (this.options.layout) {\n            this.setNestedLayout();\n        }\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Create a nested layout in the cell and assign it to the nestedCell\n     * property.\n     * @internal\n     */\n    setNestedLayout() {\n        const board = this.row.layout.board, Layout = this.row.layout.constructor;\n        const optionsGui = board.options.gui;\n        this.nestedLayout = new Layout(board, merge({}, optionsGui && optionsGui.layoutOptions, this.options.layout, {\n            parentContainerId: this.options.id\n        }), this);\n    }\n    /**\n     * Destroy the element, its container, event hooks\n     * and mounted component.\n     */\n    destroy() {\n        const cell = this;\n        const { row } = cell;\n        // Destroy mounted component.\n        cell.mountedComponent?.destroy();\n        // If layout exists in the cell - destroy it\n        cell.nestedLayout?.destroy();\n        row.unmountCell(cell);\n        const destroyRow = row.cells?.length === 0;\n        super.destroy();\n        if (destroyRow) {\n            row.destroy();\n        }\n    }\n    /**\n     * Get the cell's options.\n     * @returns\n     * The JSON of cell's options.\n     *\n     * @internal\n     *\n     */\n    getOptions() {\n        return this.options;\n    }\n    changeVisibility(setVisible = true) {\n        super.changeVisibility(setVisible);\n        const cell = this, row = cell.row;\n        // Change row visibility if needed.\n        if (!cell.row.getVisibleCells().length) {\n            cell.row.hide();\n        }\n        else if (cell.isVisible && !row.isVisible) {\n            cell.row.show();\n        }\n        setTimeout(() => {\n            fireEvent(row, 'cellChange', { row, cell });\n        }, 0);\n    }\n    getParentCell(level) {\n        const cell = this;\n        let parentCell;\n        if (level <= cell.row.layout.level) {\n            if (cell.row.layout.level === level) {\n                return cell;\n            }\n            if (cell.row.layout.level - 1 >= 0) {\n                parentCell = cell.row.layout.parentCell;\n                if (parentCell) {\n                    return parentCell.getParentCell(level);\n                }\n            }\n        }\n    }\n    // Method to get array of overlapping levels.\n    getOverlappingLevels(align, levelMaxGap, // Max distance between levels\n    offset // Analyzed cell offset\n    ) {\n        const cell = this, parentCell = cell.row.layout.parentCell;\n        let levels = [cell.row.layout.level];\n        if (parentCell) {\n            const cellOffset = offset || Layout_GUIElement.getOffsets(cell)[align];\n            const parentCellOffset = Layout_GUIElement.getOffsets(parentCell)[align];\n            if (Math.abs(cellOffset - parentCellOffset) < levelMaxGap) {\n                levels = [\n                    ...levels,\n                    ...parentCell.getOverlappingLevels(align, levelMaxGap, parentCellOffset)\n                ];\n            }\n        }\n        return levels;\n    }\n    /**\n     * Set cell size.\n     *\n     * @param width\n     * % value or 'auto' or px\n     *\n     * @param height\n     * value in px\n     */\n    setSize(width, height) {\n        const cell = this, editMode = cell.row.layout.board.editMode;\n        if (cell.container) {\n            if (width) {\n                if (width === 'auto' &&\n                    cell.container.style.flex !== '1 1 0%') {\n                    cell.container.style.flex = '1 1 0%';\n                }\n                else {\n                    const cellWidth = cell.convertWidthToValue(width);\n                    if (cellWidth &&\n                        cell.container.style.flex !== '0 0 ' + cellWidth) {\n                        cell.container.style.flex = '0 0 ' + cellWidth;\n                    }\n                }\n            }\n            if (height) {\n                cell.height = cell.container.style.height = height + 'px';\n            }\n            if (editMode) {\n                editMode.hideContextPointer();\n                if (editMode.cellToolbar &&\n                    editMode.cellToolbar.isVisible) {\n                    if (editMode.cellToolbar.cell === cell) {\n                        editMode.cellToolbar.showToolbar(cell);\n                    }\n                    else {\n                        editMode.cellToolbar.hide();\n                    }\n                }\n            }\n            // Call cellResize board event.\n            fireEvent(cell.row.layout.board, 'cellResize', { cell: cell });\n            fireEvent(cell.row, 'cellChange', { cell: cell, row: cell.row });\n        }\n    }\n    setHighlight(remove) {\n        const cell = this, editMode = cell.row?.layout.board.editMode;\n        if (cell.container && editMode) {\n            const cnt = cell.container, isSet = cnt.classList.contains(EditMode_EditGlobals.classNames.cellEditHighlight);\n            if (!remove && !isSet) {\n                cnt.classList.add(EditMode_EditGlobals.classNames.cellEditHighlight);\n                cell.row.layout.board.container.classList.add(EditMode_EditGlobals.classNames.dashboardCellEditHighlightActive);\n                cell.isHighlighted = true;\n            }\n            else if (remove && isSet) {\n                cnt.classList.remove(EditMode_EditGlobals.classNames.cellEditHighlight);\n                cell.row.layout.board.container.classList.remove(EditMode_EditGlobals.classNames.dashboardCellEditHighlightActive);\n                cell.isHighlighted = false;\n            }\n        }\n    }\n    /**\n     * Sets the active state of the cell and resets the state of other cells.\n     */\n    setActiveState() {\n        const cell = this;\n        // Reset other boxes\n        cell.row.layout.board.mountedComponents.forEach((mountedComponent) => {\n            if (mountedComponent.cell.container) {\n                mountedComponent.cell.container.classList.remove((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cellActive);\n            }\n            mountedComponent.component.isActive = false;\n        });\n        // Apply class\n        if (cell.container) {\n            cell.container.classList.add((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cellActive);\n        }\n    }\n    /**\n     * Enables or disables the loading indicator in the cell.\n     *\n     * @internal\n     */\n    setLoadingState(enabled = true) {\n        this.container?.classList?.toggle((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cellLoading, enabled);\n    }\n    convertWidthToValue(width) {\n        if (typeof width === 'number') {\n            return width + 'px';\n        }\n        if (/px/.test(width)) {\n            return width;\n        }\n        return Layout_GUIElement.getPercentageWidth(width) || '';\n    }\n}\n/* *\n *\n *  Namespace\n *\n * */\n(function (Cell) {\n    /**\n     * Checks if a valid cell instance.\n     */\n    function isCell(cell) {\n        return cell instanceof Cell;\n    }\n    Cell.isCell = isCell;\n})(Cell || (Cell = {}));\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const Layout_Cell = (Cell);\n\n;// ./code/dashboards/es-modules/Dashboards/Layout/CellHTML.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n/* *\n *\n *  Class\n *\n * */\n/**\n * @internal\n **/\nclass CellHTML extends Layout_GUIElement {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    /**\n     * Constructs an instance of the CellHTML class.\n     *\n     * @param {Cell.Options} options\n     * Options for the cell.\n     */\n    constructor(options) {\n        super();\n        /**\n         * The type of a GUIElement instance.\n         */\n        this.type = 'cell-html';\n        this.options = options;\n        this.id = options.id;\n        this.container = options.container;\n        this.mountedComponent = options.mountedComponent;\n    }\n    /**\n     * Destroy the element, its container, event hooks\n     * and mounted component.\n     */\n    destroy() {\n        const cell = this;\n        // Destroy mounted component.\n        cell.mountedComponent?.destroy();\n        super.destroy();\n    }\n    /**\n     * Highlight the cell.\n     */\n    setHighlight() {\n        const cell = this;\n        cell.container.classList.toggle(EditMode_EditGlobals.classNames.cellEditHighlight);\n        cell.mountedComponent?.board.container.classList.toggle(EditMode_EditGlobals.classNames.dashboardCellEditHighlightActive);\n    }\n    setActiveState() {\n        const cell = this;\n        // Apply class\n        if (cell.container) {\n            cell.container.classList.add((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cellActive);\n        }\n    }\n}\n/* *\n *\n *  Namespace\n *\n * */\n(function (CellHTML) {\n    /**\n     * Checks if a valid cell HTML instance.\n     */\n    function isCellHTML(cellHTML) {\n        return cellHTML instanceof CellHTML;\n    }\n    CellHTML.isCellHTML = isCellHTML;\n})(CellHTML || (CellHTML = {}));\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const Layout_CellHTML = (CellHTML);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/EditRenderer.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\nconst { merge: EditRenderer_merge, createElement: EditRenderer_createElement, defined } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Functions\n *\n * */\n/**\n * Function to create a context button.\n * @internal\n *\n * @param parentElement\n * The element to which the new element should be appended.\n *\n * @param editMode\n * EditMode instance.\n *\n * @returns\n * Context button element.\n */\nfunction renderContextButton(parentNode, editMode) {\n    const contextMenuOptions = editMode.options.contextMenu;\n    let contextButton;\n    if (contextMenuOptions) {\n        contextButton = EditRenderer_createElement('button', {\n            className: EditMode_EditGlobals.classNames.contextMenuBtn,\n            onclick: function (event) {\n                event.stopPropagation();\n                editMode.onContextBtnClick();\n            }\n        }, {}, parentNode);\n        // Add the icon if defined.\n        if (contextMenuOptions.icon) {\n            EditRenderer_createElement('img', {\n                src: contextMenuOptions.icon,\n                className: EditMode_EditGlobals.classNames.icon\n            }, {}, contextButton);\n        }\n        // Add text next to the icon if defined.\n        if (contextMenuOptions.text) {\n            EditRenderer_createElement('span', {\n                className: EditMode_EditGlobals.classNames.contextMenuBtnText,\n                textContent: contextMenuOptions.text\n            }, {}, contextButton);\n        }\n        contextButton.setAttribute('aria-label', editMode.lang.accessibility.contextMenu.button);\n        contextButton.setAttribute('aria-expanded', 'false');\n    }\n    return contextButton;\n}\n/**\n * Creates the collapsable header element.\n * @internal\n *\n * @param parentElement\n * The HTMLElement to which the element should be rendered to.\n *\n * @param options\n * Nested header options.\n *\n * @returns the outer element and content in the collapsable div.\n */\nfunction renderCollapseHeader(parentElement, options) {\n    const { name, showToggle, onchange, isEnabled, isNested, isStandalone, lang } = options;\n    const accordion = EditRenderer_createElement('div', {\n        className: EditMode_EditGlobals.classNames[(isNested ? 'accordionNestedWrapper' : 'accordionContainer')] + ' ' +\n            (isStandalone ?\n                EditMode_EditGlobals.classNames.accordionStandaloneWrapper : '') + ' ' + EditMode_EditGlobals.classNames.collapsableContentHeader\n    }, {}, parentElement);\n    const header = EditRenderer_createElement('div', {\n        className: EditMode_EditGlobals.classNames.accordionHeader\n    }, {}, accordion);\n    let headerBtn;\n    if (!isStandalone || showToggle) {\n        headerBtn = EditRenderer_createElement(isStandalone && showToggle ? 'span' : 'button', {\n            className: EditMode_EditGlobals.classNames[isStandalone ?\n                'accordionHeaderWrapper' : 'accordionHeaderBtn']\n        }, {}, header);\n    }\n    EditRenderer_createElement('span', {\n        textContent: lang[name] || name\n    }, {}, headerBtn);\n    if (showToggle && header) {\n        renderToggle(header, {\n            enabledOnOffLabels: true,\n            id: name,\n            name: '',\n            onchange: onchange,\n            value: isEnabled || false,\n            lang\n        });\n    }\n    if (!isStandalone) {\n        const headerIcon = EditRenderer_createElement('span', {\n            className: EditMode_EditGlobals.classNames.accordionHeaderIcon + ' ' +\n                EditMode_EditGlobals.classNames.collapsedElement\n        }, {}, headerBtn);\n        headerBtn?.addEventListener('click', function () {\n            content.classList.toggle(EditMode_EditGlobals.classNames.hiddenElement);\n            headerIcon?.classList.toggle(EditMode_EditGlobals.classNames.collapsedElement);\n        });\n    }\n    const content = EditRenderer_createElement('div', {\n        className: EditMode_EditGlobals.classNames.accordionContent + ' ' +\n            (isStandalone ?\n                EditMode_EditGlobals.classNames.standaloneElement :\n                EditMode_EditGlobals.classNames.hiddenElement)\n    }, {}, accordion);\n    return { outerElement: accordion, content: content };\n}\n/**\n * Function to create select element.\n *\n * @param parentElement\n * The element to which the new element should be appended.\n *\n * @param options\n * Select form field options.\n *\n * @returns\n * Select element\n */\nfunction renderSelect(parentElement, options) {\n    if (!parentElement) {\n        return;\n    }\n    if (options.name) {\n        renderText(parentElement, { title: options.name, isLabel: true });\n    }\n    const iconsURLPrefix = options.iconsURLPrefix || '';\n    const customSelect = EditRenderer_createElement('div', {\n        className: EditMode_EditGlobals.classNames.dropdown +\n            ' ' +\n            EditMode_EditGlobals.classNames.collapsableContentHeader\n    }, {}, parentElement);\n    const btn = EditRenderer_createElement('button', {\n        className: EditMode_EditGlobals.classNames.dropdownButton\n    }, {}, customSelect);\n    const btnContent = EditRenderer_createElement('div', {\n        className: EditMode_EditGlobals.classNames.dropdownButtonContent\n    }, {}, btn);\n    const iconURL = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default().find(options.selectOptions, (item) => item.name === options.value) || {}).iconURL;\n    let headerIcon;\n    if (iconURL) {\n        headerIcon = EditRenderer_createElement('img', {\n            src: iconsURLPrefix + iconURL,\n            className: EditMode_EditGlobals.classNames.icon\n        }, {}, btnContent);\n    }\n    const placeholder = EditRenderer_createElement('span', {\n        textContent: options.value,\n        id: options.id || ''\n    }, {}, btnContent);\n    const dropdownPointer = EditRenderer_createElement('img', {\n        className: EditMode_EditGlobals.classNames.dropdownIcon +\n            ' ' +\n            EditMode_EditGlobals.classNames.collapsedElement,\n        src: iconsURLPrefix + 'dropdown-pointer.svg'\n    }, {}, btn);\n    const dropdown = EditRenderer_createElement('ul', {\n        className: EditMode_EditGlobals.classNames.dropdownContent +\n            ' ' +\n            EditMode_EditGlobals.classNames.hiddenElement\n    }, {}, customSelect);\n    btn.addEventListener('click', function () {\n        dropdown.classList.toggle(EditMode_EditGlobals.classNames.hiddenElement);\n        dropdownPointer.classList.toggle(EditMode_EditGlobals.classNames.collapsedElement);\n    });\n    for (let i = 0, iEnd = options.selectOptions.length; i < iEnd; ++i) {\n        renderSelectElement(EditRenderer_merge(options.selectOptions[i] || {}, { iconsURLPrefix }), dropdown, placeholder, options.id, dropdownPointer, headerIcon, options.onchange);\n    }\n    return customSelect;\n}\n/**\n * @internal\n */\nfunction renderSelectElement(option, dropdown, placeholder, id, dropdownPointer, headerIcon, callback) {\n    const iconURL = option.iconsURLPrefix + option.iconURL;\n    const selectOption = EditRenderer_createElement('li', {}, {}, dropdown);\n    const selectOptionBtn = EditRenderer_createElement('button', { className: EditMode_EditGlobals.classNames.customSelectButton }, {}, selectOption);\n    if (option.iconURL) {\n        EditRenderer_createElement('img', {\n            src: iconURL\n        }, {}, selectOptionBtn);\n    }\n    EditRenderer_createElement('span', { textContent: option.name || '' }, {}, selectOptionBtn);\n    selectOptionBtn.addEventListener('click', function () {\n        dropdown.classList.add(EditMode_EditGlobals.classNames.hiddenElement);\n        dropdownPointer.classList.toggle(EditMode_EditGlobals.classNames.collapsedElement);\n        placeholder.textContent = option.name || '';\n        if (headerIcon && option.iconURL) {\n            headerIcon.src = iconURL;\n        }\n        if (callback) {\n            return callback(option.name);\n        }\n    });\n}\n/**\n * Function to create toggle element.\n *\n * @param parentElement\n * The element to which the new element should be appended.\n *\n * @param options\n * Form field options.\n *\n * @returns\n * Toggle element.\n */\nfunction renderToggle(parentElement, options) {\n    if (!parentElement) {\n        return;\n    }\n    const lang = options.lang, value = options.value, title = options.title || options.name, langKey = options.langKey;\n    if (options.isNested) {\n        const labeledToggleWrapper = EditRenderer_createElement('div', {\n            className: EditMode_EditGlobals.classNames.labeledToggleWrapper\n        }, {}, parentElement);\n        parentElement = labeledToggleWrapper;\n    }\n    const toggleContainer = EditRenderer_createElement('button', {\n        className: EditMode_EditGlobals.classNames.toggleContainer,\n        type: 'button',\n        role: 'switch',\n        ariaChecked: false,\n        ariaLabel: langKey ? lang.accessibility[langKey][options.name] : ''\n    }, {}, parentElement);\n    if (title) {\n        renderText(options.isNested ? parentElement : toggleContainer, { title });\n    }\n    if (options.enabledOnOffLabels) {\n        renderText(toggleContainer, {\n            title: lang.off,\n            className: EditMode_EditGlobals.classNames.toggleLabels\n        });\n    }\n    const toggle = EditRenderer_createElement('label', {\n        className: EditMode_EditGlobals.classNames.toggleWrapper +\n            ' ' + (options.className || '')\n    }, {}, toggleContainer);\n    const input = renderCheckbox(toggle, value), callbackFn = options.onchange;\n    callbackFn && toggleContainer.addEventListener('click', (e) => {\n        callbackFn(!input.checked);\n        input.checked = !input.checked;\n        toggleContainer.setAttribute('aria-checked', input.checked);\n        e.stopPropagation();\n    });\n    const slider = EditRenderer_createElement('span', {\n        className: EditMode_EditGlobals.classNames.toggleSlider\n    }, {}, toggle);\n    callbackFn && slider.addEventListener('click', (e) => {\n        e.preventDefault();\n    });\n    if (options.enabledOnOffLabels) {\n        renderText(toggleContainer, {\n            title: lang.on,\n            className: EditMode_EditGlobals.classNames.toggleLabels\n        });\n    }\n    return toggleContainer;\n}\n/**\n * Function to create text element.\n *\n * @param parentElement\n * The element to which the new element should be appended\n *\n * @param text\n * Text to be displayed\n *\n * @param callback\n * Callback function to be fired on the click\n *\n * @returns text Element\n */\nfunction renderText(parentElement, options) {\n    let textElem;\n    const { title: text, className, isLabel } = options;\n    if (parentElement) {\n        const labelFor = isLabel ? { htmlFor: text } : {};\n        textElem = EditRenderer_createElement(isLabel ? 'label' : 'div', {\n            className: EditMode_EditGlobals.classNames.labelText + ' ' + (className || ''),\n            textContent: text,\n            ...labelFor\n        }, {}, parentElement);\n    }\n    return textElem;\n}\n/**\n * Function to create Icon element.\n *\n * @param parentElement\n * The element to which the new element should be appended.\n *\n * @param icon\n * Icon URL\n *\n * @param callback\n * Callback function\n *\n * @returns\n * Icon Element\n */\nfunction renderIcon(parentElement, options) {\n    const { icon, callback } = options;\n    if (!parentElement) {\n        return;\n    }\n    const iconElem = EditRenderer_createElement('div', {\n        onclick: callback,\n        className: options.className || ''\n    }, {}, parentElement);\n    iconElem.style['background-image'] = 'url(' + icon + ')';\n    const mousedown = options.mousedown;\n    const click = options.click;\n    if (mousedown) {\n        iconElem.onmousedown = function () {\n            mousedown.apply(this, arguments);\n        };\n    }\n    if (click) {\n        iconElem.addEventListener('click', function () {\n            click.apply(this, arguments);\n        });\n    }\n    return iconElem;\n}\n/**\n * Function to create input element.\n *\n * @param parentElement\n * the element to which the new element should be appended\n *\n * @param options\n * Form field options\n *\n * @returns\n * Input Element\n */\nfunction renderInput(parentElement, options) {\n    if (!parentElement) {\n        return;\n    }\n    if (options.name) {\n        renderText(parentElement, { title: options.name, isLabel: true });\n    }\n    const input = EditRenderer_createElement('input', {\n        type: 'text',\n        onclick: options.callback,\n        id: options.id || '',\n        name: options.name || '',\n        value: ((defined(options.value) &&\n            options.value.toString().replace(/\\\"/g, '')) || '')\n    }, {}, parentElement);\n    const onchange = options.onchange;\n    if (onchange) {\n        input.addEventListener('change', function (e) {\n            onchange(e.target.value);\n        });\n    }\n    return input;\n}\n/**\n * Function to create textarea element.\n *\n * @param parentElement\n * The element to which the new element should be appended\n *\n * @param options\n * Form field options\n *\n * @returns\n * textarea Element\n */\nfunction renderTextarea(parentElement, options) {\n    if (!parentElement) {\n        return;\n    }\n    if (options.name) {\n        renderText(parentElement, { title: options.name, isLabel: true });\n    }\n    const textarea = EditRenderer_createElement('textarea', {\n        id: options.id,\n        name: options.name,\n        value: options.value || ''\n    }, {}, parentElement);\n    const onchange = options.onchange;\n    if (onchange) {\n        textarea.addEventListener('change', function (e) {\n            onchange(e.target.value);\n        });\n    }\n    return textarea;\n}\n/**\n * Function to render the input of type checkbox.\n *\n * @param parentElement\n * An element to which render the checkbox to\n *\n * @param checked\n * Whether the checkbox should be checked or not.\n *\n * @returns\n * The checkbox element\n */\nfunction renderCheckbox(parentElement, checked) {\n    let input;\n    if (parentElement) {\n        input = EditRenderer_createElement('input', {\n            type: 'checkbox',\n            checked: !!checked\n        }, {}, parentElement);\n    }\n    return input;\n}\n/**\n * Function to create button element.\n *\n * @param parentElement\n * the element to which the new element should be appended\n *\n * @param options\n * Button field options\n *\n * @returns\n * Button Element\n */\nfunction renderButton(parentElement, options) {\n    if (!parentElement) {\n        return;\n    }\n    const button = EditRenderer_createElement('button', {\n        className: (EditMode_EditGlobals.classNames.button + ' ' +\n            (options.className || '')),\n        onclick: options.callback,\n        textContent: options.text\n    }, options.style || {}, parentElement);\n    if (options.icon) {\n        button.style['background-image'] =\n            'url(' + options.icon + ')';\n    }\n    return button;\n}\n/**\n * Get the renderer function based on the type of the element to render.\n *\n * @param type\n * Type of the element to render\n *\n * @returns\n * function to render a specific element\n */\nfunction getRendererFunction(type) {\n    return {\n        select: renderSelect,\n        toggle: renderToggle,\n        text: renderText,\n        collapse: renderCollapseHeader,\n        icon: renderIcon,\n        contextButton: renderContextButton,\n        input: renderInput,\n        textarea: renderTextarea,\n        checkbox: renderCheckbox,\n        button: renderButton\n    }[type];\n}\nconst EditRenderer = {\n    renderSelect,\n    renderToggle,\n    renderText,\n    renderCollapseHeader,\n    renderIcon,\n    renderContextButton,\n    renderInput,\n    renderTextarea,\n    renderCheckbox,\n    renderButton,\n    getRendererFunction\n};\n/* harmony default export */ const EditMode_EditRenderer = (EditRenderer);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Menu/MenuItem.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\nconst { createElement: MenuItem_createElement, merge: MenuItem_merge } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nclass MenuItem {\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    constructor(menu, options) {\n        this.menu = menu;\n        this.isActive = false;\n        this.options = MenuItem_merge(MenuItem.defaultOptions, options);\n        this.container = this.setContainer();\n        this.innerElement = this.setInnerElement();\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    setContainer() {\n        const item = this, options = item.options;\n        let className = EditMode_EditGlobals.classNames.menuItem;\n        if (item.menu.options.itemsClassName) {\n            className += ' ' + item.menu.options.itemsClassName;\n        }\n        if (options.className) {\n            className += ' ' + options.className;\n        }\n        return MenuItem_createElement('div', { className: className || '' }, MenuItem_merge(this.options.style || {}, \n        // To remove\n        this.isActive ? { display: 'block' } : {}), this.menu.container);\n    }\n    setInnerElement() {\n        const item = this, options = item.options, container = item.container, langKey = options.langKey;\n        if (options.type === 'toggle') {\n            return EditMode_EditRenderer.renderToggle(container, {\n                id: options.id,\n                name: options.id,\n                title: langKey ?\n                    this.menu.editMode.lang[langKey] :\n                    options.text,\n                value: !!(options.getValue && options.getValue(item)),\n                lang: this.menu.editMode.lang,\n                langKey: langKey,\n                onchange: options.events?.click?.bind(item)\n            });\n        }\n        if (options.type === 'text') {\n            return EditMode_EditRenderer.renderText(container, {\n                title: langKey ?\n                    this.menu.editMode.lang[langKey] :\n                    options.text || '',\n                className: options.className || ''\n            });\n        }\n        if (options.type === 'icon') {\n            return EditMode_EditRenderer.renderIcon(container, {\n                icon: options.icon || '',\n                mousedown: options.events?.onmousedown?.bind(item),\n                click: options.events?.click?.bind(item)\n            });\n        }\n        if (options.type === 'button') {\n            return EditMode_EditRenderer.renderButton(container, {\n                callback: options.events?.click?.bind(item),\n                className: options.className || '',\n                style: options.style || {},\n                text: langKey ?\n                    this.menu.editMode.lang[langKey] :\n                    (options.text || '')\n            });\n        }\n    }\n    update() {\n        const item = this, options = item.options;\n        if (options.events && options.events.update) {\n            options.events.update.apply(item, arguments);\n        }\n    }\n    activate() {\n        const item = this;\n        item.update();\n        // Temp.\n        if (item.container) {\n            item.isActive = true;\n            item.container.style.display = 'block';\n        }\n    }\n    deactivate() {\n        const item = this;\n        // Temp.\n        if (item.container) {\n            item.isActive = false;\n            item.container.style.display = 'none';\n        }\n    }\n}\n/* *\n*\n*  Static Properties\n*\n* */\nMenuItem.defaultOptions = {\n    type: 'text'\n};\n/* harmony default export */ const Menu_MenuItem = (MenuItem);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Menu/MenuItemBindings.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\nconst MenuItemBindings = {\n    /* *\n    *\n    *  Context menu\n    *\n    * */\n    viewFullscreen: {\n        id: 'viewFullscreen',\n        type: 'button',\n        langKey: 'viewFullscreen',\n        events: {\n            click: function () {\n                const fullScreen = this.menu.editMode.board.fullscreen;\n                if (fullScreen) {\n                    fullScreen.toggle();\n                }\n            }\n        }\n    }\n};\n/* harmony default export */ const Menu_MenuItemBindings = (MenuItemBindings);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Menu/Menu.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\nconst { createElement: Menu_createElement, merge: Menu_merge } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nclass Menu {\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    constructor(parentElement, options, editMode, parent) {\n        this.parentElement = parentElement;\n        this.isVisible = false;\n        this.activeItems = [];\n        this.options = options;\n        this.items = {};\n        this.editMode = editMode;\n        if (parent) {\n            this.parent = parent;\n        }\n        this.container = this.setContainer();\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    setContainer() {\n        return Menu_createElement('div', {\n            className: EditMode_EditGlobals.classNames.menu +\n                ' ' + (this.options.className || '')\n        }, {}, this.parentElement);\n    }\n    // ItemsSchemas - default items definitions.\n    initItems(itemsSchemas, activeItems) {\n        const menu = this, optionsItems = menu.options.items || [];\n        let itemSchema, itemConfig, item, options;\n        for (let i = 0, iEnd = optionsItems.length; i < iEnd; ++i) {\n            itemConfig = optionsItems[i];\n            itemSchema =\n                typeof itemConfig === 'string' ? itemsSchemas[itemConfig] :\n                    itemConfig.id ? itemsSchemas[itemConfig.id] :\n                        {};\n            options = typeof itemConfig === 'string' ?\n                Menu_merge(itemSchema, { id: itemConfig }) :\n                Menu_merge(itemSchema, itemConfig);\n            if (options.id) {\n                item = new Menu_MenuItem(menu, options);\n                // Save initialized item.\n                menu.items[item.options.id] = item;\n                if (activeItems) {\n                    item.activate();\n                    menu.activeItems.push(item);\n                }\n            }\n            else {\n                // Error - defined item needs an id.\n            }\n        }\n    }\n    setActiveItems(items) {\n        const menu = this;\n        let item;\n        // Deactivate items.\n        for (let i = 0, iEnd = menu.activeItems.length; i < iEnd; ++i) {\n            if (items.indexOf(menu.activeItems[i].options.id) === -1) {\n                menu.activeItems[i].deactivate();\n            }\n        }\n        menu.activeItems.length = 0;\n        for (let j = 0, jEnd = items.length; j < jEnd; ++j) {\n            item = menu.items[items[j]];\n            if (item) {\n                // Activate item.\n                if (!item.isActive) {\n                    item.activate();\n                }\n                else {\n                    item.update();\n                }\n                menu.activeItems.push(item);\n            }\n        }\n    }\n    deactivateActiveItems() {\n        const menu = this;\n        for (let i = 0, iEnd = menu.activeItems.length; i < iEnd; ++i) {\n            menu.activeItems[i].deactivate();\n        }\n    }\n    updateActiveItems() {\n        const activeItems = this.activeItems;\n        for (let i = 0, iEnd = activeItems.length; i < iEnd; ++i) {\n            activeItems[i].update();\n        }\n    }\n    destroy() {\n        this.activeItems.length = 0;\n        this.container.remove();\n        this.items = {};\n        this.options = {};\n    }\n}\n/* *\n*\n*  Static Properties\n*\n* */\nMenu.items = Menu_MenuItemBindings;\n/* harmony default export */ const Menu_Menu = (Menu);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Toolbar/EditToolbar.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\nconst { defined: EditToolbar_defined, createElement: EditToolbar_createElement, css } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n\n/**\n * Abstract Class of Edit Toolbar.\n * @internal\n */\nclass EditToolbar {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(editMode, options) {\n        this.container = EditToolbar_createElement('div', {\n            className: options.className\n        }, void 0, editMode.board.container);\n        this.editMode = editMode;\n        this.iconURLPrefix = editMode.iconsURLPrefix;\n        this.menu = new Menu_Menu(this.container, options.menu, editMode, this);\n        this.options = options;\n        this.isVisible = false;\n        if (this.options.outline) {\n            this.outline = EditToolbar_createElement('div', {\n                className: options.outlineClassName\n            }, void 0, this.container);\n        }\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    hide() {\n        this.setPosition(void 0, void 0);\n    }\n    refreshOutline(x, y, guiElement, offset = 0) {\n        const toolbar = this, guiElemCnt = (guiElement || {}).container;\n        if (toolbar.outline && guiElemCnt) {\n            css(toolbar.outline, {\n                display: 'block',\n                left: x - offset + 'px',\n                top: y - offset + 'px',\n                width: guiElemCnt.offsetWidth + offset * 2 + 'px',\n                height: guiElemCnt.offsetHeight + offset * 2 + 'px'\n            });\n        }\n    }\n    hideOutline() {\n        if (this.outline) {\n            this.outline.style.display = 'none';\n        }\n    }\n    setPosition(x, y) {\n        const toolbar = this;\n        if (toolbar.container) {\n            css(toolbar.container, {\n                left: (x || '-9999') + 'px',\n                top: (y || '-9999') + 'px'\n            });\n        }\n        toolbar.isVisible = EditToolbar_defined(x) && EditToolbar_defined(y);\n    }\n}\n/* harmony default export */ const Toolbar_EditToolbar = (EditToolbar);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Toolbar/CellEditToolbar.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\nconst { isFirefox } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n\nconst { merge: CellEditToolbar_merge, fireEvent: CellEditToolbar_fireEvent, objectEach: CellEditToolbar_objectEach } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * @internal\n */\nclass CellEditToolbar extends Toolbar_EditToolbar {\n    static getItemsConfig(options, iconURLPrefix) {\n        const items = [];\n        if (options.dragDrop?.enabled) {\n            items.push({\n                id: 'drag',\n                type: 'icon',\n                icon: iconURLPrefix + 'drag.svg',\n                events: {\n                    onmousedown: function (e) {\n                        // #22546, workaround for Firefox, where mouseenter\n                        // event is not fired when triggering it while dragging\n                        // another element.\n                        if (isFirefox) {\n                            e.preventDefault();\n                        }\n                        const cellEditToolbar = this.menu\n                            .parent;\n                        const dragDrop = cellEditToolbar.editMode.dragDrop;\n                        if (dragDrop &&\n                            cellEditToolbar.cell &&\n                            Layout_Cell.isCell(cellEditToolbar.cell)) {\n                            dragDrop.onDragStart(e, cellEditToolbar.cell);\n                        }\n                    }\n                }\n            });\n        }\n        if (options.settings?.enabled) {\n            items.push({\n                id: 'settings',\n                type: 'icon',\n                icon: iconURLPrefix + 'settings.svg',\n                events: {\n                    click: function () {\n                        this.menu.parent.editMode.setEditOverlay();\n                        this.menu.parent.onCellOptions();\n                    }\n                }\n            });\n        }\n        items.push({\n            id: 'destroy',\n            type: 'icon',\n            className: EditMode_EditGlobals.classNames.menuDestroy,\n            icon: iconURLPrefix + 'destroy.svg',\n            events: {\n                click: function () {\n                    const parentNode = this.menu.parent, editMode = this.menu.parent.editMode, popup = editMode.confirmationPopup;\n                    popup.show({\n                        confirmButton: {\n                            value: editMode.lang.confirmButton,\n                            callback: parentNode.onCellDestroy,\n                            context: parentNode\n                        },\n                        cancelButton: {\n                            value: editMode.lang.cancelButton,\n                            callback: () => {\n                                popup.closePopup();\n                            }\n                        },\n                        text: editMode.lang.confirmDestroyCell\n                    });\n                }\n            }\n        });\n        return items;\n    }\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(editMode) {\n        super(editMode, CellEditToolbar_merge(CellEditToolbar.defaultOptions, (editMode.options.toolbars || {}).cell, {\n            menu: {\n                items: CellEditToolbar.getItemsConfig(editMode.options, editMode.iconsURLPrefix)\n            }\n        }));\n        if (editMode.customHTMLMode) {\n            this.filterOptionsAvailableInCustomHTMLMode();\n        }\n        this.menu.initItems({});\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Show toolbar for given cell.\n     *\n     * @param cell\n     * Cell to show toolbar for.\n     */\n    showToolbar(cell) {\n        const toolbar = this;\n        const cellCnt = cell.container;\n        const toolbarWidth = 30;\n        const toolbarMargin = 10;\n        const cellToolbar = toolbar.editMode.cellToolbar;\n        if (!cellToolbar) {\n            return;\n        }\n        if (cellCnt && toolbar.editMode.isActive() &&\n            !(toolbar.editMode.dragDrop || {}).isActive) {\n            const cellOffsets = Layout_GUIElement.getOffsets(cell, toolbar.editMode.board.container);\n            const x = cellOffsets.right - toolbarWidth - toolbarMargin;\n            const y = cellOffsets.top + toolbarMargin;\n            CellEditToolbar_objectEach(toolbar.menu.items, (item) => {\n                if (!cell.options?.editMode?.toolbarItems) {\n                    item.activate();\n                    return;\n                }\n                const toolbarItems = cell.options.editMode.toolbarItems;\n                if (toolbarItems[item.options.id]\n                    ?.enabled === false) {\n                    item.deactivate();\n                    return;\n                }\n                item.activate();\n            });\n            toolbar.setPosition(x, y);\n            toolbar.cell = cell;\n            toolbar.refreshOutline();\n            cellToolbar.isVisible = true;\n        }\n        else if (toolbar.isVisible) {\n            toolbar.hide();\n            cellToolbar.isVisible = false;\n        }\n    }\n    refreshOutline() {\n        const toolbar = this, offsetWidth = -1;\n        if (toolbar.cell && toolbar.cell.container && toolbar.outline) {\n            super.refreshOutline(-toolbar.cell.container.offsetWidth, 0, this.cell, offsetWidth);\n        }\n    }\n    /**\n     * When options icon is clicked, show sidebar with options.\n     */\n    onCellOptions() {\n        const toolbar = this;\n        const editMode = toolbar.editMode;\n        if (!editMode.sidebar) {\n            return;\n        }\n        editMode.sidebar.show(toolbar.cell);\n        toolbar.highlightCell();\n    }\n    onCellDestroy() {\n        const toolbar = this;\n        if (toolbar.cell && Layout_Cell.isCell(toolbar.cell)) {\n            const row = toolbar.cell.row;\n            const cellId = toolbar.cell.id;\n            // Disable row highlight.\n            toolbar.cell.row.setHighlight();\n            toolbar.resetEditedCell();\n            toolbar.cell.destroy();\n            toolbar.cell = void 0;\n            // Hide row and cell toolbars.\n            toolbar.editMode.hideToolbars(['cell', 'row']);\n            // Disable resizer.\n            toolbar.editMode.resizer?.disableResizer();\n            // Call cellResize dashboard event.\n            if (row && row.cells && row.cells.length) {\n                CellEditToolbar_fireEvent(toolbar.editMode.board, 'cellResize', {\n                    cell: row.cells[0]\n                });\n                CellEditToolbar_fireEvent(row, 'cellChange', { cell: row.cells[0], row });\n                CellEditToolbar_fireEvent(toolbar.editMode, 'layoutChanged', {\n                    type: 'cellDestroyed',\n                    target: cellId,\n                    board: toolbar.editMode.board\n                });\n            }\n        }\n    }\n    resetEditedCell() {\n        this.editedCell = void 0;\n    }\n    /**\n     * Filter options available in custom HTML mode, only settings available.\n     */\n    filterOptionsAvailableInCustomHTMLMode() {\n        this.options.menu.items = this.options.menu.items?.filter((item) => {\n            if (typeof item === 'string') {\n                return false;\n            }\n            return item.id === 'settings';\n        });\n    }\n    /**\n     * Highlight cell and gray out the rest of the dashboard.\n     */\n    highlightCell() {\n        const toolbar = this;\n        if (!toolbar.cell) {\n            return;\n        }\n        if (toolbar.cell.setHighlight) {\n            toolbar.cell.setHighlight();\n        }\n        else {\n            toolbar.cell.container.classList.add(EditMode_EditGlobals.classNames.cellEditHighlight);\n            toolbar.editMode.board.container.classList.add(EditMode_EditGlobals.classNames.dashboardCellEditHighlightActive);\n        }\n    }\n}\n/* *\n *\n *  Static Properties\n *\n * */\nCellEditToolbar.defaultOptions = {\n    enabled: true,\n    className: EditMode_EditGlobals.classNames.editToolbar,\n    outline: false,\n    outlineClassName: EditMode_EditGlobals.classNames.editToolbarCellOutline,\n    menu: {\n        className: EditMode_EditGlobals.classNames.editToolbarCell,\n        itemsClassName: EditMode_EditGlobals.classNames.editToolbarItem,\n        items: []\n    }\n};\n/* harmony default export */ const Toolbar_CellEditToolbar = (CellEditToolbar);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Toolbar/RowEditToolbar.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\nconst { fireEvent: RowEditToolbar_fireEvent, merge: RowEditToolbar_merge, objectEach: RowEditToolbar_objectEach } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * @internal\n */\nclass RowEditToolbar extends Toolbar_EditToolbar {\n    static getMenuItemsConfig(options, iconURLPrefix) {\n        const items = [];\n        if (options.dragDrop?.enabled) {\n            items.push({\n                id: 'drag',\n                type: 'icon',\n                icon: iconURLPrefix + 'drag.svg',\n                events: {\n                    onmousedown: function (e) {\n                        const rowEditToolbar = this.menu\n                            .parent, dragDrop = rowEditToolbar.editMode.dragDrop;\n                        e.preventDefault();\n                        if (dragDrop && rowEditToolbar.row) {\n                            dragDrop.onDragStart(e, rowEditToolbar.row);\n                        }\n                    }\n                }\n            });\n        }\n        items.push({\n            id: 'destroy',\n            type: 'icon',\n            className: EditMode_EditGlobals.classNames.menuDestroy,\n            icon: iconURLPrefix + 'destroy.svg',\n            events: {\n                click: function () {\n                    const parentNode = this.menu.parent, editMode = this.menu.parent.editMode, popup = editMode.confirmationPopup;\n                    popup.show({\n                        confirmButton: {\n                            value: editMode.lang.confirmButton,\n                            callback: parentNode.onRowDestroy,\n                            context: parentNode\n                        },\n                        cancelButton: {\n                            value: editMode.lang.cancelButton,\n                            callback: () => {\n                                popup.closePopup();\n                            }\n                        },\n                        text: editMode.lang.confirmDestroyRow\n                    });\n                }\n            }\n        });\n        return items;\n    }\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(editMode) {\n        super(editMode, RowEditToolbar_merge(RowEditToolbar.defaultOptions, (editMode.options.toolbars || {}).row, {\n            menu: {\n                items: RowEditToolbar.getMenuItemsConfig(editMode.options, editMode.iconsURLPrefix)\n            }\n        }));\n        this.menu.initItems({});\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    refreshOutline(x, y) {\n        const toolbar = this, offsetWidth = 2;\n        if (toolbar.row && toolbar.row.container) {\n            super.refreshOutline(x, y, this.row, offsetWidth);\n        }\n    }\n    showToolbar(row) {\n        const toolbar = this;\n        const rowCnt = row.container;\n        const rowToolbar = toolbar.editMode.rowToolbar;\n        let x;\n        let y;\n        let offsetX;\n        if (!rowToolbar) {\n            return;\n        }\n        if (rowCnt &&\n            toolbar.editMode.isActive() &&\n            !(toolbar.editMode.dragDrop || {}).isActive) {\n            const rowOffsets = Layout_GUIElement.getOffsets(row, toolbar.editMode.board.container);\n            const rowWidth = rowOffsets.right - rowOffsets.left;\n            RowEditToolbar_objectEach(toolbar.menu.items, (item) => {\n                if (!row.options?.editMode?.toolbarItems) {\n                    item.activate();\n                    return;\n                }\n                const toolbarItems = row.options.editMode.toolbarItems;\n                if (toolbarItems[item.options.id]\n                    ?.enabled === false) {\n                    item.deactivate();\n                    return;\n                }\n                item.activate();\n            });\n            offsetX = rowWidth / 2 - toolbar.container.clientWidth / 2;\n            x = rowOffsets.left + offsetX;\n            y = rowOffsets.top - toolbar.container.clientHeight;\n            toolbar.setPosition(x, y);\n            toolbar.row = row;\n            toolbar.refreshOutline(-offsetX, toolbar.container.clientHeight);\n            rowToolbar.isVisible = true;\n        }\n        else if (toolbar.isVisible) {\n            toolbar.hide();\n            rowToolbar.isVisible = false;\n        }\n    }\n    onRowOptions() {\n        const toolbar = this;\n        if (toolbar.editMode.sidebar) {\n            toolbar.editMode.sidebar.show(toolbar.row);\n        }\n    }\n    onRowDestroy() {\n        const toolbar = this;\n        if (toolbar.row) {\n            const rowId = toolbar.row.options.id || -1;\n            this.resetEditedRow();\n            toolbar.row.destroy();\n            toolbar.row = void 0;\n            // Hide row and cell toolbars.\n            toolbar.editMode.hideToolbars(['cell', 'row']);\n            toolbar.editMode.resizer?.disableResizer();\n            RowEditToolbar_fireEvent(toolbar.editMode, 'layoutChanged', {\n                type: 'rowDestroyed',\n                target: rowId,\n                board: toolbar.editMode.board\n            });\n        }\n    }\n    resetEditedRow() {\n        /// super.resetCurrentElements(this.row as Row, true);\n        this.editedRow = void 0;\n    }\n}\n/* *\n *\n *  Static Properties\n *\n * */\nRowEditToolbar.defaultOptions = {\n    enabled: true,\n    className: EditMode_EditGlobals.classNames.editToolbar,\n    outline: true,\n    outlineClassName: EditMode_EditGlobals.classNames.editToolbarRowOutline,\n    menu: {\n        className: EditMode_EditGlobals.classNames.editToolbarRow,\n        itemsClassName: EditMode_EditGlobals.classNames.editToolbarItem,\n        items: []\n    }\n};\n/* harmony default export */ const Toolbar_RowEditToolbar = (RowEditToolbar);\n\n// EXTERNAL MODULE: external {\"amd\":[\"dashboards/dashboards\",\"AST\"],\"commonjs\":[\"dashboards\",\"AST\"],\"commonjs2\":[\"dashboards\",\"AST\"],\"root\":[\"Dashboards\",\"AST\"]}\nvar dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_ = __webpack_require__(160);\nvar dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_default = /*#__PURE__*/__webpack_require__.n(dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_);\n;// ./code/dashboards/es-modules/Shared/BaseForm.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n * */\n\n/* *\n *\n *  Imports\n *\n * */\n\n\nconst { addEvent: BaseForm_addEvent, createElement: BaseForm_createElement } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Class\n *\n * */\nclass BaseForm {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(parentDiv, iconsURL) {\n        this.iconsURL = iconsURL;\n        this.container = this.createPopupContainer(parentDiv);\n        this.closeButton = this.addCloseButton();\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Create popup div container.\n     *\n     * @param {HTMLElement} parentDiv\n     * Parent div to attach popup.\n     *\n     * @param  {string} className\n     * Class name of the popup.\n     *\n     * @return {HTMLElement}\n     * Popup div.\n     */\n    createPopupContainer(parentDiv, className = 'highcharts-popup highcharts-no-tooltip') {\n        return BaseForm_createElement('div', { className }, void 0, parentDiv);\n    }\n    /**\n     * Create HTML element and attach click event to close popup.\n     *\n     * @param {string} className\n     * Class name of the close button.\n     *\n     * @return {HTMLElement}\n     * Close button.\n     */\n    addCloseButton(className = 'highcharts-popup-close') {\n        const popup = this, iconsURL = this.iconsURL;\n        // Create close popup button.\n        const closeButton = BaseForm_createElement('button', { className }, void 0, this.container);\n        BaseForm_createElement('span', {\n            className: 'highcharts-icon'\n        }, {\n            backgroundImage: 'url(' + (iconsURL.match(/png|svg|jpeg|jpg|gif/ig) ?\n                iconsURL : iconsURL + 'close.svg') + ')'\n        }, closeButton);\n        ['click', 'touchstart'].forEach((eventName) => {\n            BaseForm_addEvent(closeButton, eventName, popup.closeButtonEvents.bind(popup));\n        });\n        // Close popup when press ESC\n        BaseForm_addEvent(document, 'keydown', function (event) {\n            if (event.code === 'Escape') {\n                popup.closeButtonEvents();\n            }\n        });\n        return closeButton;\n    }\n    /**\n     * Close button events.\n     * @return {void}\n     */\n    closeButtonEvents() {\n        this.closePopup();\n    }\n    /**\n     * Reset content of the current popup and show.\n     *\n     * @param {string} toolbarClass\n     * Class name of the toolbar which styles should be reset.\n     */\n    showPopup(toolbarClass = 'highcharts-annotation-toolbar') {\n        const popupDiv = this.container, popupCloseButton = this.closeButton;\n        this.type = void 0;\n        // Reset content.\n        popupDiv.innerHTML = (dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_default()).emptyHTML;\n        // Reset toolbar styles if exists.\n        if (popupDiv.className.indexOf(toolbarClass) >= 0) {\n            popupDiv.classList.remove(toolbarClass);\n            // Reset toolbar inline styles\n            popupDiv.removeAttribute('style');\n        }\n        // Add close button.\n        popupDiv.appendChild(popupCloseButton);\n        popupDiv.style.display = 'block';\n        popupDiv.style.height = '';\n    }\n    /**\n     * Hide popup.\n     */\n    closePopup() {\n        this.container.style.display = 'none';\n    }\n}\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const Shared_BaseForm = (BaseForm);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/ConfirmationPopup.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\nconst { createElement: ConfirmationPopup_createElement } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * Class to create confirmation popup.\n */\nclass ConfirmationPopup extends Shared_BaseForm {\n    /* *\n    *\n    *  Static Properties\n    *\n    * */\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    /**\n     * Constructs an instance of the ConfirmationPopup.\n     *\n     * @param parentDiv\n     * Parent div where the popup will be added.\n     *\n     * @param iconsURL\n     * URL to the icons.\n     *\n     * @param editMode\n     * The EditMode instance.\n     *\n     * @param options\n     * Options for confirmation popup.\n     */\n    constructor(parentDiv, iconsURL, editMode, options) {\n        iconsURL =\n            options && options.close && options.close.icon ?\n                options.close.icon :\n                iconsURL;\n        super(parentDiv, iconsURL);\n        this.editMode = editMode;\n        this.options = options;\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Returns popup container.\n     *\n     * @param parentDiv\n     * Parent div where the popup will be added.\n     *\n     * @param className\n     * Class name added to the popup container.\n     */\n    createPopupContainer(parentDiv, className = EditMode_EditGlobals.classNames.confirmationPopup) {\n        return super.createPopupContainer(parentDiv, className);\n    }\n    /**\n     * Adds close button to the popup.\n     *\n     * @param className\n     * Class name added to the close button.\n     */\n    addCloseButton(className = EditMode_EditGlobals.classNames.popupCloseButton) {\n        return super.addCloseButton(className);\n    }\n    /**\n     * Adds events to the close button.\n     *\n     * @override BaseForm.closeButtonEvents\n     */\n    closeButtonEvents() {\n        const cancelCallback = this.contentOptions?.cancelButton.callback;\n        if (!cancelCallback) {\n            return;\n        }\n        cancelCallback();\n    }\n    /**\n     * Adds content inside the popup.\n     */\n    renderContent() {\n        const options = this.contentOptions;\n        if (!options) {\n            return;\n        }\n        // Render content wrapper\n        this.contentContainer = ConfirmationPopup_createElement('div', {\n            className: EditMode_EditGlobals.classNames.popupContentContainer\n        }, {}, this.container);\n        const popupContainer = this.contentContainer.parentNode;\n        popupContainer.style.marginTop = '0px';\n        const offsetTop = popupContainer.getBoundingClientRect().top;\n        popupContainer.style.marginTop = (offsetTop < 0 ? Math.abs(offsetTop - 200) : 200) + 'px';\n        // Render text\n        EditMode_EditRenderer.renderText(this.contentContainer, {\n            title: options.text || ''\n        });\n        // Render button wrapper\n        this.buttonContainer = ConfirmationPopup_createElement('div', {\n            className: EditMode_EditGlobals.classNames.popupButtonContainer\n        }, {}, this.container);\n        // Render cancel buttons\n        EditMode_EditRenderer.renderButton(this.buttonContainer, {\n            text: options.cancelButton.value,\n            className: EditMode_EditGlobals.classNames.popupCancelBtn,\n            callback: options.cancelButton.callback\n        });\n        // Confirm\n        EditMode_EditRenderer.renderButton(this.buttonContainer, {\n            text: options.confirmButton.value,\n            className: EditMode_EditGlobals.classNames.popupConfirmBtn,\n            callback: () => {\n                options.confirmButton.callback.call(options.confirmButton.context);\n                this.closePopup();\n            }\n        });\n    }\n    /**\n     * Shows confirmation popup.\n     *\n     * @param options\n     * Options for confirmation popup.\n     */\n    show(options) {\n        this.contentOptions = options;\n        this.showPopup();\n        this.renderContent();\n        this.editMode.setEditOverlay();\n    }\n    /**\n     * Hides confirmation popup.\n     */\n    closePopup() {\n        super.closePopup();\n        this.editMode.setEditOverlay(true);\n    }\n}\n/* harmony default export */ const EditMode_ConfirmationPopup = (ConfirmationPopup);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/AccordionMenu.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Pawel Lysy\n *  - Sebastian Bochan\n *\n * */\n\n\n\n\n\nconst { createElement: AccordionMenu_createElement, merge: AccordionMenu_merge, error: AccordionMenu_error, fireEvent: AccordionMenu_fireEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Class\n *\n * */\n/**\n * Accordion menu class.\n */\nclass AccordionMenu {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(iconsURLPrefix, closeSidebar) {\n        this.changedOptions = {};\n        this.chartOptionsJSON = {};\n        this.oldOptionsBuffer = {};\n        this.waitingForConfirmation = false;\n        this.iconsURLPrefix = iconsURLPrefix;\n        this.closeSidebar = closeSidebar;\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Renders the menu for given component.\n     *\n     * @param container\n     * The HTML Element to render the menu in.\n     *\n     * @param component\n     * The component to render the menu for.\n\n     * @param sidebarMainContainer\n     * The main container of the sidebar.\n     */\n    renderContent(container, component, sidebarMainContainer) {\n        const { editMode } = component.board;\n        const menu = this;\n        const editableOptions = component.editableOptions.getOptions();\n        let options;\n        let content;\n        this.component = component;\n        this.oldOptionsBuffer = component.getEditableOptions();\n        if (editMode) {\n            this.confirmationPopup = new EditMode_ConfirmationPopup(component.board.container, editMode.iconsURLPrefix, editMode, { close: { icon: '' } });\n        }\n        const accordionContainer = AccordionMenu_createElement('div', {\n            className: EditMode_EditGlobals.classNames.accordionMenu\n        }, {}, container);\n        for (let i = 0, end = editableOptions.length; i < end; i++) {\n            options = editableOptions[i];\n            content = EditMode_EditRenderer.renderCollapseHeader(accordionContainer, AccordionMenu_merge({\n                iconsURLPrefix: menu.iconsURLPrefix,\n                lang: (component.board?.editMode || EditMode_EditGlobals).lang\n            }, options)).content;\n            this.renderAccordion(options, content, component);\n        }\n        const buttonContainer = AccordionMenu_createElement('div', {\n            className: EditMode_EditGlobals.classNames.accordionMenuButtonsContainer\n        }, {}, sidebarMainContainer);\n        EditMode_EditRenderer.renderButton(buttonContainer, {\n            text: (component.board?.editMode || EditMode_EditGlobals)\n                .lang.confirmButton,\n            className: EditMode_EditGlobals.classNames.popupConfirmBtn,\n            callback: async () => {\n                await this.confirmChanges();\n                AccordionMenu_fireEvent(editMode, 'confirmEditing');\n            }\n        });\n        EditMode_EditRenderer.renderButton(buttonContainer, {\n            text: (component.board?.editMode || EditMode_EditGlobals)\n                .lang.cancelButton,\n            className: EditMode_EditGlobals.classNames.popupCancelBtn,\n            callback: () => {\n                this.cancelChanges();\n                AccordionMenu_fireEvent(editMode, 'cancelEditing');\n            }\n        });\n        sidebarMainContainer.appendChild(buttonContainer);\n    }\n    /**\n     * Update the options object with new nested value, based on the property\n     * path. If the objects in the path are not defined, the function will\n     * create them.\n     *\n     * @param propertyPath\n     * Path of the property for which the value should be updated.\n     * Example: ```['chartOptions', 'chart', 'type']```\n     *\n     * @param value\n     * New value of the property.\n     */\n    updateOptions(propertyPath, value) {\n        const pathLength = propertyPath.length - 1;\n        let currentLevel = this.changedOptions;\n        let currentChartOptionsLevel;\n        let currentOldChartOptionsBufferLevel;\n        let currentGridOptionsLevel;\n        let currentOldGridOptionsBufferLevel;\n        if (pathLength === 0 && propertyPath[0] === 'chartOptions') {\n            try {\n                const parsedValue = JSON.parse(value);\n                this.chartOptionsJSON = parsedValue;\n            }\n            catch (e) {\n                // TODO: Handle the wrong config passed from the user.\n                AccordionMenu_error(`Dashboards Error: Wrong JSON config structure passed as a chart options. \\n____________\\n${e}`);\n            }\n        }\n        for (let i = 0; i < pathLength; i++) {\n            const key = propertyPath[i];\n            if (!currentLevel[key]) {\n                currentLevel[key] = {};\n            }\n            currentLevel = currentLevel[key];\n            if (key === 'gridOptions') {\n                const realGridOptions = this.component.grid?.options;\n                if (realGridOptions) {\n                    const oldOptionsBuffer = this.oldOptionsBuffer;\n                    if (!oldOptionsBuffer.gridOptions) {\n                        oldOptionsBuffer.gridOptions = {};\n                    }\n                    currentOldGridOptionsBufferLevel =\n                        oldOptionsBuffer.gridOptions;\n                    currentGridOptionsLevel = realGridOptions;\n                }\n            }\n            else if (currentGridOptionsLevel &&\n                currentOldGridOptionsBufferLevel) {\n                currentGridOptionsLevel = currentGridOptionsLevel[key];\n                if (currentOldGridOptionsBufferLevel[key] === void 0) {\n                    currentOldGridOptionsBufferLevel[key] = {};\n                }\n                currentOldGridOptionsBufferLevel =\n                    currentOldGridOptionsBufferLevel[key];\n            }\n            if (key === 'chartOptions') {\n                const realChartOptions = this.component.chart?.options;\n                if (realChartOptions) {\n                    const oldOptionsBuffer = this.oldOptionsBuffer;\n                    if (!oldOptionsBuffer.chartOptions) {\n                        oldOptionsBuffer.chartOptions = {};\n                    }\n                    currentOldChartOptionsBufferLevel =\n                        oldOptionsBuffer.chartOptions;\n                    currentChartOptionsLevel = realChartOptions;\n                }\n            }\n            else if (currentChartOptionsLevel &&\n                currentOldChartOptionsBufferLevel) {\n                currentChartOptionsLevel = currentChartOptionsLevel[key];\n                if (currentOldChartOptionsBufferLevel[key] === void 0) {\n                    currentOldChartOptionsBufferLevel[key] = {};\n                }\n                currentOldChartOptionsBufferLevel =\n                    currentOldChartOptionsBufferLevel[key];\n            }\n        }\n        const lastKey = propertyPath[pathLength];\n        currentLevel[lastKey] = value;\n        if (currentOldChartOptionsBufferLevel && currentChartOptionsLevel) {\n            currentOldChartOptionsBufferLevel[lastKey] = (currentOldChartOptionsBufferLevel[lastKey] ??\n                currentChartOptionsLevel[lastKey]);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        this.component?.update(this.changedOptions);\n    }\n    /**\n     * Renders either a basic or nested element. This function can be\n     * recursively called, if there are multiple nested options.\n     *\n     * @param options\n     * Configuration object of the Component options.\n     *\n     * @param parentNode\n     * A container where the accordion is rendered.\n     *\n     * @param component\n     * the component for which the menu should be rendered.\n     */\n    renderAccordion(options, parentNode, component) {\n        if (options.type === 'nested') {\n            return this.renderNested(parentNode, options, component);\n        }\n        const renderFunction = EditMode_EditRenderer.getRendererFunction(options.type);\n        if (!renderFunction) {\n            return;\n        }\n        renderFunction(parentNode, {\n            ...options,\n            iconsURLPrefix: this.iconsURLPrefix,\n            value: component.getEditableOptionValue(options.propertyPath),\n            enabledOnOffLabels: options.type === 'toggle',\n            onchange: (value) => this.updateOptions(options.propertyPath || [], value)\n        });\n    }\n    /**\n     * Render nested menu for the component.\n     *\n     * @param parentElement\n     * HTML element to which the nested structure should be rendered to\n     *\n     * @param options\n     * configuration object for the options\n     *\n     * @param component\n     * The component instance for the options should be rendered\n     */\n    renderNested(parentElement, options, component) {\n        if (!parentElement || !options.nestedOptions) {\n            return;\n        }\n        const nestedOptions = options.nestedOptions;\n        for (let i = 0, iEnd = nestedOptions.length; i < iEnd; ++i) {\n            const name = nestedOptions[i].name;\n            const accordionOptions = nestedOptions[i].options;\n            const showToggle = !!nestedOptions[i].showToggle;\n            const propertyPath = nestedOptions[i].propertyPath || [];\n            const lang = (component.board?.editMode || EditMode_EditGlobals).lang;\n            const collapsedHeader = EditMode_EditRenderer.renderCollapseHeader(parentElement, {\n                name,\n                isEnabled: !!component.getEditableOptionValue(propertyPath),\n                iconsURLPrefix: this.iconsURLPrefix,\n                showToggle: showToggle,\n                onchange: (value) => this.updateOptions(propertyPath, value),\n                isNested: !!accordionOptions,\n                isStandalone: !accordionOptions,\n                lang\n            });\n            for (let j = 0, jEnd = accordionOptions?.length; j < jEnd; ++j) {\n                this.renderAccordion(AccordionMenu_merge(accordionOptions[j], { lang, isNested: true }), collapsedHeader.content, component);\n            }\n        }\n        return;\n    }\n    /**\n     * Closes the sidebar discarding changes. If there are any changes, it will\n     * show a confirmation popup. If no changes, it will close the sidebar.\n     */\n    cancelChanges() {\n        if (Object.keys(this.changedOptions).length < 1) {\n            this.closeSidebar();\n        }\n        else {\n            this.showCancelConfirmationPopup();\n        }\n    }\n    /**\n     * Confirms changes made in the component.\n     *\n     * @fires EditMode#componentChanged\n     */\n    async confirmChanges() {\n        const component = this.component;\n        if (!component) {\n            return;\n        }\n        if (component.type === 'Highcharts' &&\n            Object.keys(this.chartOptionsJSON).length) {\n            await component.update({\n                chartOptions: this.chartOptionsJSON\n            });\n        }\n        else if (component.type === 'HTML') {\n            const options = this.changedOptions;\n            await component.update(options, true);\n        }\n        AccordionMenu_fireEvent(component.board.editMode, 'componentChanged', {\n            target: component,\n            changedOptions: AccordionMenu_merge({}, this.changedOptions),\n            oldOptions: AccordionMenu_merge({}, this.oldOptionsBuffer)\n        });\n        this.changedOptions = {};\n        this.chartOptionsJSON = {};\n        this.closeSidebar();\n    }\n    /**\n     * Discards changes made in the component.\n     *\n     * @fires EditMode#componentChangesDiscarded\n     */\n    async discardChanges() {\n        const component = this.component;\n        if (!component) {\n            return;\n        }\n        await component.update(this.oldOptionsBuffer);\n        AccordionMenu_fireEvent(component.board.editMode, 'componentChangesDiscarded', {\n            target: component,\n            changedOptions: AccordionMenu_merge({}, this.changedOptions),\n            oldOptions: AccordionMenu_merge({}, this.oldOptionsBuffer)\n        });\n        this.changedOptions = {};\n        this.chartOptionsJSON = {};\n    }\n    /**\n     * Shows a confirmation popup when the user tries to discard changes.\n     */\n    showCancelConfirmationPopup() {\n        const popup = this.confirmationPopup;\n        const editMode = this.component?.board?.editMode;\n        if (!popup || !editMode || this.waitingForConfirmation) {\n            return;\n        }\n        this.waitingForConfirmation = true;\n        popup.show({\n            text: editMode.lang.confirmDiscardChanges,\n            confirmButton: {\n                value: editMode.lang.confirmButton,\n                callback: async () => {\n                    await this.discardChanges();\n                    this.waitingForConfirmation = false;\n                    this.closeSidebar();\n                },\n                context: this\n            },\n            cancelButton: {\n                value: editMode.lang.cancelButton,\n                callback: () => {\n                    popup.closePopup();\n                    editMode.setEditOverlay();\n                    setTimeout(() => {\n                        this.waitingForConfirmation = false;\n                    }, 100);\n                }\n            }\n        });\n    }\n}\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const EditMode_AccordionMenu = (AccordionMenu);\n\n// EXTERNAL MODULE: external {\"amd\":[\"dashboards/dashboards\",\"ComponentRegistry\"],\"commonjs\":[\"dashboards\",\"ComponentRegistry\"],\"commonjs2\":[\"dashboards\",\"ComponentRegistry\"],\"root\":[\"Dashboards\",\"ComponentRegistry\"]}\nvar dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_ = __webpack_require__(376);\nvar dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_default = /*#__PURE__*/__webpack_require__.n(dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_);\n;// ./code/dashboards/es-modules/Dashboards/Actions/Bindings.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\nconst { addEvent: Bindings_addEvent, fireEvent: Bindings_fireEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Namespace\n *\n * */\nvar Bindings;\n(function (Bindings) {\n    /* *\n     *\n     *  Declarations\n     *\n     * */\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    function getGUIElement(idOrElement, parentElement) {\n        let guiElement;\n        if (typeof idOrElement === 'string' &&\n            document.querySelectorAll('#' + idOrElement).length > 1) {\n            // eslint-disable-next-line no-console\n            console.warn(`Multiple cells have identical ID %c${idOrElement}%c, potentially leading to unexpected behavior. \\nEnsure that each cell has a unique ID on the page.`, 'font-weight: bold', '');\n        }\n        const container = parentElement ?\n            parentElement.querySelector('#' + idOrElement) :\n            document.getElementById(idOrElement);\n        if (container !== null) {\n            Bindings_fireEvent(container, 'bindedGUIElement', {}, function (e) {\n                guiElement = e.guiElement;\n            });\n        }\n        return guiElement;\n    }\n    async function addComponent(options, board, cell) {\n        const optionsStates = options.states;\n        const optionsEvents = options.events;\n        const renderTo = options.renderTo;\n        if (!renderTo) {\n            // eslint-disable-next-line no-console\n            console.error('The%c renderTo%c option is required to render the component.', 'font-weight: bold', '');\n            return;\n        }\n        if (board.mountedComponents.filter((el) => el.options.renderTo === renderTo).length > 0) {\n            // eslint-disable-next-line no-console\n            console.error(`A component has already been declared in the cell %c${renderTo}%c use a different cell.`, 'font-weight: bold', '');\n            return;\n        }\n        cell = cell || Bindings.getCell(renderTo, board.container);\n        const componentContainer = cell?.container || document.querySelector('#' + renderTo);\n        if (!componentContainer || !options.type) {\n            // eslint-disable-next-line no-console\n            console.error(`The component is unable to find the HTML cell element %c${renderTo}%c to render the content.`, 'font-weight: bold', '');\n            return;\n        }\n        let ComponentClass = (dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_default()).types[options.type];\n        if (!ComponentClass) {\n            // eslint-disable-next-line no-console\n            console.error(`The component's type %c${options.type}%c does not exist.`, 'font-weight: bold', '');\n            if (cell) {\n                ComponentClass =\n                    (dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_default()).types['HTML'];\n                options.title = {\n                    text: board.editMode?.lang.errorMessage ||\n                        'Something went wrong',\n                    className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + 'component-title-error ' +\n                        (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + 'component-title'\n                };\n            }\n        }\n        const component = new ComponentClass(cell, options, board);\n        const promise = component.load()['catch']((e) => {\n            // eslint-disable-next-line no-console\n            console.error(e);\n            component.update({\n                connector: {\n                    id: ''\n                },\n                title: {\n                    text: board.editMode?.lang.errorMessage ||\n                        'Something went wrong',\n                    className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + 'component-title-error ' +\n                        (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + 'component-title'\n                }\n            });\n        });\n        if (cell) {\n            component.setCell(cell);\n            cell.mountedComponent = component;\n        }\n        board.mountedComponents.push({\n            options: options,\n            component: component,\n            cell: cell || new Layout_CellHTML({\n                id: renderTo,\n                container: componentContainer,\n                mountedComponent: component\n            })\n        });\n        if (cell &&\n            optionsStates?.active?.enabled &&\n            optionsStates?.active?.isActive) {\n            cell.setActiveState();\n            component.isActive = true;\n        }\n        Bindings_fireEvent(component, 'mount');\n        // Events\n        Bindings_addEvent(componentContainer, 'click', () => {\n            // Call the component's click callback\n            if (optionsEvents && optionsEvents.click) {\n                optionsEvents.click.call(component);\n            }\n            // Default behavior\n            if (cell &&\n                component &&\n                componentContainer &&\n                optionsStates?.active?.enabled) {\n                cell.setActiveState();\n                component.isActive = true;\n            }\n        });\n        // States\n        if (optionsStates?.hover?.enabled) {\n            componentContainer.classList.add((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.cellHover);\n        }\n        Bindings_fireEvent(component, 'afterLoad');\n        return promise;\n    }\n    Bindings.addComponent = addComponent;\n    function getCell(idOrElement, parentElement) {\n        const cell = getGUIElement(idOrElement, parentElement);\n        if (!(cell && cell.getType() === 'cell')) {\n            return;\n        }\n        return cell;\n    }\n    Bindings.getCell = getCell;\n    function getRow(idOrElement, parentElement) {\n        const row = getGUIElement(idOrElement, parentElement);\n        if (!(row && row.getType() === 'row')) {\n            return;\n        }\n        return row;\n    }\n    Bindings.getRow = getRow;\n    function getLayout(idOrElement, parentElement) {\n        const layout = getGUIElement(idOrElement, parentElement);\n        if (!(layout && layout.getType() === 'layout')) {\n            return;\n        }\n        return layout;\n    }\n    Bindings.getLayout = getLayout;\n})(Bindings || (Bindings = {}));\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const Actions_Bindings = (Bindings);\n\n;// ./code/dashboards/es-modules/Dashboards/Layout/Row.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\n\nconst { pick, defined: Row_defined, merge: Row_merge, objectEach: Row_objectEach, fireEvent: Row_fireEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * @internal\n **/\nclass Row extends Layout_GUIElement {\n    /* *\n    *\n    *  Static Properties\n    *\n    * */\n    static setContainerHeight(rowContainer, height) {\n        if (height) {\n            rowContainer.style.height = height + 'px';\n        }\n    }\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    /**\n     * Constructs an instance of the Row class.\n     *\n     * @param {Layout} layout\n     * Reference to the layout instance.\n     *\n     * @param {Row.Options} options\n     * Options for the row.\n     *\n     * @param {HTMLElement} rowElement\n     * The container of the row HTML element.\n     */\n    constructor(layout, options, rowElement) {\n        super();\n        /**\n         * The type of GUI element.\n         */\n        this.type = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.row;\n        this.layout = layout;\n        this.cells = [];\n        this.options = options;\n        this.isVisible = true;\n        // Get parent container\n        const parentContainer = document.getElementById(options.parentContainerId || '') ||\n            layout.container;\n        const layoutOptions = (layout.options || {}), rowClassName = layoutOptions.rowClassName || '';\n        this.container = this.getElementContainer({\n            render: layout.board.guiEnabled,\n            parentContainer: parentContainer,\n            attribs: {\n                id: options.id,\n                className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.row + ' ' +\n                    rowClassName\n            },\n            element: rowElement,\n            elementId: options.id,\n            style: Row_merge(layoutOptions.style, options.style)\n        });\n        // Init rows from options.\n        if (this.options.cells) {\n            this.setCells();\n        }\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Set the row cells using cell options or cellClassName.\n     */\n    setCells() {\n        const row = this, cellClassName = (row.layout.options || {}).cellClassName || '', cellsElements = pick(row.options.cells, row.container && row.container.getElementsByClassName(cellClassName)) || [];\n        let cellElement, i, iEnd;\n        for (i = 0, iEnd = cellsElements.length; i < iEnd; ++i) {\n            cellElement = cellsElements[i];\n            row.addCell(row.layout.board.guiEnabled ? cellElement : { id: '' }, cellElement instanceof HTMLElement ? cellElement : void 0);\n        }\n    }\n    /**\n     * Add a new Cell instance to the row cells array.\n     *\n     * @param {Cell.Options} [options]\n     * Options for the row cell.\n     *\n     * @param {HTMLElement} [cellElement]\n     * The container for a new cell HTML element.\n     *\n     * @return {Cell}\n     * Returns the Cell object.\n     */\n    addCell(options, cellElement, index) {\n        const row = this, cell = new Layout_Cell(row, options, cellElement);\n        if (!Row_defined(index)) {\n            row.cells.push(cell);\n        }\n        else {\n            row.mountCell(cell, index);\n        }\n        // Set editMode events.\n        if (row.layout.board.editMode) {\n            row.layout.board.editMode.setCellEvents(cell);\n        }\n        return cell;\n    }\n    /**\n     * Destroy the element, its container, event hooks\n     * and inner cells.\n     */\n    destroy() {\n        const row = this;\n        const { layout } = row;\n        // Copy to avoid problem with index when shifting array of cells during\n        // the destroy.\n        const rowCells = [...row.cells];\n        // Destroy cells.\n        for (let i = 0, iEnd = rowCells?.length; i < iEnd; ++i) {\n            if (rowCells[i]) {\n                rowCells[i].destroy();\n            }\n        }\n        if (row.layout) {\n            row.layout.unmountRow(row);\n            super.destroy();\n            if (layout.rows?.length === 0) {\n                layout.destroy();\n            }\n        }\n    }\n    /**\n     * Get the row's options.\n     * @returns\n     * The JSON of row's options.\n     *\n     * @internal\n     *\n     */\n    getOptions() {\n        const row = this, cells = [];\n        for (let i = 0, iEnd = row.cells.length; i < iEnd; ++i) {\n            cells.push(row.cells[i].getOptions());\n        }\n        return {\n            id: this.options.id,\n            style: this.options.style,\n            cells\n        };\n    }\n    setSize(height) {\n        Row.setContainerHeight(this.container, height);\n    }\n    // Get cell index from the row.cells array.\n    getCellIndex(cell) {\n        for (let i = 0, iEnd = this.cells?.length; i < iEnd; ++i) {\n            if (this.cells[i].id === cell.id) {\n                return i;\n            }\n        }\n    }\n    // Add cell to the row.cells array and move cell container.\n    mountCell(cell, index = 0) {\n        const row = this, nextCell = row.cells[index], prevCell = row.cells[index - 1];\n        if (cell.container) {\n            if (nextCell && nextCell.container) {\n                nextCell.container.parentNode.insertBefore(cell.container, nextCell.container);\n            }\n            else if (prevCell && prevCell.container) {\n                prevCell.container.parentNode.insertBefore(cell.container, prevCell.container.nextSibling);\n            }\n            else if (!prevCell && !nextCell && row.container) {\n                row.container.appendChild(cell.container);\n            }\n            row.cells.splice(index, 0, cell);\n            cell.row = row;\n            setTimeout(() => {\n                Row_fireEvent(row, 'cellChange', { row, cell });\n            }, 0);\n        }\n    }\n    // Remove cell from the row.cells array.\n    unmountCell(cell) {\n        const cellIndex = this.getCellIndex(cell);\n        if (Row_defined(cellIndex)) {\n            this.cells.splice(cellIndex, 1);\n        }\n        setTimeout(() => {\n            Row_fireEvent(this, 'cellChange', { row: this, cell });\n        }, 0);\n    }\n    getVisibleCells() {\n        const cells = [];\n        for (let i = 0, iEnd = this.cells.length; i < iEnd; ++i) {\n            if (this.cells[i].isVisible) {\n                cells.push(this.cells[i]);\n            }\n        }\n        return cells;\n    }\n    changeVisibility(setVisible = true, displayStyle) {\n        const row = this;\n        super.changeVisibility(setVisible, displayStyle);\n        // Change layout visibility if needed.\n        if (!row.layout.getVisibleRows().length) {\n            row.layout.hide();\n        }\n        else if (row.isVisible && !row.layout.isVisible) {\n            row.layout.show();\n        }\n    }\n    show() {\n        this.changeVisibility(true, 'flex');\n    }\n    setHighlight(remove) {\n        const classList = this.container.classList;\n        const highlightClass = EditMode_EditGlobals.classNames.rowContextHighlight;\n        if (remove === true) {\n            classList.remove(highlightClass);\n        }\n        else {\n            classList.toggle(highlightClass, !remove);\n        }\n    }\n    // Row can have cells below each others.\n    // This method returns cells split into levels.\n    getRowLevels() {\n        const row = this, rowLevels = {}, rowLevelsArray = [];\n        let cell, cellOffsets;\n        for (let k = 0, kEnd = row.cells.length; k < kEnd; ++k) {\n            cell = row.cells[k];\n            if (cell.isVisible) {\n                cellOffsets = Layout_GUIElement.getOffsets(cell);\n                if (!rowLevels[cellOffsets.top]) {\n                    rowLevels[cellOffsets.top] = {\n                        top: cellOffsets.top,\n                        bottom: cellOffsets.bottom,\n                        cells: []\n                    };\n                }\n                if (rowLevels[cellOffsets.top].bottom < cellOffsets.bottom) {\n                    rowLevels[cellOffsets.top].bottom = cellOffsets.bottom;\n                }\n                rowLevels[cellOffsets.top].cells.push(cell);\n            }\n        }\n        Row_objectEach(rowLevels, (value) => {\n            rowLevelsArray.push(value);\n        });\n        return rowLevelsArray;\n    }\n    // Get row level with additional info\n    // on a specific Y position.\n    getRowLevelInfo(posY) {\n        const rowLevels = this.getRowLevels();\n        let rowLevelInfo;\n        for (let i = 0, iEnd = rowLevels.length; i < iEnd; ++i) {\n            if (rowLevels[i].top <= posY && rowLevels[i].bottom > posY) {\n                rowLevelInfo = {\n                    index: i,\n                    rowLevels: rowLevels,\n                    rowLevel: rowLevels[i]\n                };\n            }\n        }\n        return rowLevelInfo;\n    }\n}\n/* harmony default export */ const Layout_Row = (Row);\n\n;// ./code/dashboards/es-modules/Dashboards/Layout/Layout.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\nconst { pick: Layout_pick, defined: Layout_defined } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n\n\n\n/**\n * @internal\n **/\nclass Layout extends Layout_GUIElement {\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    /**\n     * Constructs an instance of the Layout class.\n     *\n     * @param {Dashboard} board\n     * Reference to the dashboard instance.\n     *\n     * @param {Layout.Options} options\n     * Options for the layout.\n     */\n    constructor(board, options, parentCell) {\n        super();\n        /**\n         * The type of GUI element.\n         */\n        this.type = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.layout;\n        this.board = board;\n        this.rows = [];\n        this.options = options;\n        this.isVisible = true;\n        // Get parent container\n        const parentContainer = parentCell ? parentCell.container :\n            document.getElementById(options.parentContainerId || '') || board.layoutsWrapper;\n        // Set layout level.\n        if (parentCell) {\n            this.parentCell = parentCell;\n            this.level = parentCell.row.layout.level + 1;\n        }\n        else {\n            this.level = 0;\n        }\n        // GUI structure\n        if (options.copyId) {\n            this.copyId = options.copyId;\n        }\n        const layoutOptions = (this.options || {}), layoutClassName = layoutOptions.rowClassName || '';\n        this.container = this.getElementContainer({\n            render: board.guiEnabled,\n            parentContainer: parentContainer,\n            attribs: {\n                id: (options.id || '') + (this.copyId ? '_' + this.copyId : ''),\n                className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.layout + ' ' +\n                    layoutClassName\n            },\n            elementId: options.id,\n            style: this.options.style\n        });\n        // Init rows from options.\n        if (this.options.rows) {\n            this.setRows();\n        }\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Set the layout rows using rows options or rowClassName.\n     */\n    setRows() {\n        const layout = this, rowsElements = Layout_pick(layout.options.rows, layout.container && layout.container.getElementsByClassName(layout.options.rowClassName || '')) || [];\n        let rowElement, i, iEnd;\n        for (i = 0, iEnd = rowsElements.length; i < iEnd; ++i) {\n            rowElement = rowsElements[i];\n            layout.addRow(layout.board.guiEnabled ? rowElement : {}, rowElement instanceof HTMLElement ? rowElement : void 0);\n        }\n    }\n    /**\n     * Add a new Row instance to the layout rows array.\n     *\n     * @param {Row.Options} options\n     * Options of a row.\n     *\n     * @param {HTMLElement} rowElement\n     * The container for a new row HTML element.\n     *\n     * @return {Row}\n     * Returns the Row object.\n     */\n    addRow(options, rowElement, index) {\n        const layout = this, row = new Layout_Row(layout, options, rowElement);\n        if (!Layout_defined(index)) {\n            layout.rows.push(row);\n        }\n        else {\n            layout.mountRow(row, index);\n        }\n        // Set editMode events.\n        if (layout.board.editMode) {\n            layout.board.editMode.setRowEvents(row);\n        }\n        return row;\n    }\n    /**\n     * Destroy the element, its container, event hooks\n     * and inner rows.\n     */\n    destroy() {\n        const layout = this;\n        for (let i = layout.board.layouts.length - 1; i >= 0; i--) {\n            if (layout.board.layouts[i] === layout) {\n                layout.board.layouts.splice(i, 1);\n            }\n        }\n        if (layout.parentCell) {\n            delete layout.parentCell.nestedLayout;\n        }\n        // Destroy rows.\n        for (let i = layout.rows.length - 1; i >= 0; i--) {\n            layout.rows[i].destroy();\n        }\n        if (layout.parentCell) {\n            layout.parentCell.destroy();\n        }\n        super.destroy();\n    }\n    // Get row index from the layout.rows array.\n    getRowIndex(row) {\n        for (let i = 0, iEnd = this.rows.length; i < iEnd; ++i) {\n            if (this.rows[i] === row) {\n                return i;\n            }\n        }\n    }\n    // Add cell to the layout.rows array and move row container.\n    mountRow(row, index) {\n        const nextRow = this.rows[index], prevRow = this.rows[index - 1];\n        if (row.container) {\n            if (nextRow && nextRow.container) {\n                nextRow.container.parentNode.insertBefore(row.container, nextRow.container);\n            }\n            else if (prevRow && prevRow.container) {\n                prevRow.container.parentNode.insertBefore(row.container, prevRow.container.nextSibling);\n            }\n            this.rows.splice(index, 0, row);\n            row.layout = this;\n        }\n    }\n    // Remove row from the layout.rows array.\n    unmountRow(row) {\n        const rowIndex = this.getRowIndex(row);\n        if (Layout_defined(rowIndex)) {\n            this.rows.splice(rowIndex, 1);\n        }\n    }\n    getVisibleRows() {\n        const rows = [];\n        for (let i = 0, iEnd = this.rows.length; i < iEnd; ++i) {\n            if (this.rows[i].isVisible) {\n                rows.push(this.rows[i]);\n            }\n        }\n        return rows;\n    }\n    changeVisibility(setVisible = true) {\n        const layout = this;\n        super.changeVisibility(setVisible);\n        // Change parentCell visibility.\n        if (layout.parentCell) {\n            if (layout.isVisible && !layout.parentCell.isVisible) {\n                layout.parentCell.show();\n            }\n            else if (!layout.isVisible && layout.parentCell.isVisible) {\n                layout.parentCell.hide();\n            }\n        }\n    }\n    /**\n     * Get the layout's options.\n     * @returns\n     * Layout's options.\n     *\n     * @internal\n     *\n     */\n    getOptions() {\n        const layout = this, rows = [];\n        // Get rows JSON.\n        for (let i = 0, iEnd = layout.rows.length; i < iEnd; ++i) {\n            rows.push(layout.rows[i].getOptions());\n        }\n        return {\n            id: this.options.id,\n            layoutClassName: this.options.layoutClassName,\n            rowClassName: this.options.rowClassName,\n            cellClassName: this.options.cellClassName,\n            style: this.options.style,\n            rows\n        };\n    }\n}\n/* harmony default export */ const Layout_Layout = (Layout);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/SidebarPopup.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  Pawel Lysy\n *\n * */\n\n\n\n\n\n\n\n\n\n\n\n\nconst { addEvent: SidebarPopup_addEvent, createElement: SidebarPopup_createElement, fireEvent: SidebarPopup_fireEvent, merge: SidebarPopup_merge } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Class\n *\n * */\n/**\n * Class which creates the sidebar and handles its behavior.\n *\n * @internal\n */\nclass SidebarPopup extends Shared_BaseForm {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    /**\n     * Constructor of the SidebarPopup class.\n     *\n     * @param parentDiv\n     * Element to which the sidebar will be appended.\n     *\n     * @param iconsURL\n     * URL to the icons.\n     *\n     * @param editMode\n     * Instance of EditMode.\n     */\n    constructor(parentDiv, iconsURL, editMode) {\n        super(parentDiv, iconsURL);\n        /**\n         * Options used in the sidebar.\n         */\n        this.options = {\n            components: ['HTML', 'row', 'Highcharts', 'Grid', 'KPI']\n        };\n        /**\n         * Whether the sidebar is visible.\n         */\n        this.isVisible = false;\n        /**\n         * List of components that can be added to the board.\n         */\n        this.componentsList = [];\n        this.editMode = editMode;\n        this.options = SidebarPopup_merge(this.options, editMode.options.toolbars?.sidebar || {});\n        this.componentsList = this.getComponentsList(this.options.components || []);\n        this.accordionMenu = new EditMode_AccordionMenu(this.iconsURL, this.hide.bind(this));\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Function to detect on which side of the screen should the sidebar be.\n     *\n     * @param context\n     * The cell or row which is the context of the sidebar.\n     *\n     * @returns\n     * Whether the sidebar should be on the right side of the screen.\n     */\n    detectRightSidebar(context) {\n        const editMode = this.editMode;\n        const layoutWrapper = editMode.customHTMLMode ?\n            editMode.board.container : editMode.board.layoutsWrapper;\n        if (!layoutWrapper) {\n            return false;\n        }\n        return Layout_GUIElement.getOffsets(context, layoutWrapper).left < ((layoutWrapper.offsetWidth / 2) - 10); // 10 = snap\n    }\n    /**\n     * Function to remove the class names from the sidebar.\n     */\n    removeClassNames() {\n        const classNames = EditMode_EditGlobals.classNames, classList = this.container.classList;\n        classList.remove(classNames.editSidebarShow);\n        classList.remove(classNames.editSidebarRightShow);\n    }\n    /**\n     * Function to add the class names to the sidebar depending on the position\n     * of the sidebar.\n     *\n     * @param isRightSidebar\n     * Whether the sidebar should be on the right side of the screen.\n     */\n    addClassNames(isRightSidebar) {\n        const classList = this.container.classList;\n        if (isRightSidebar) {\n            classList.add(EditMode_EditGlobals.classNames.editSidebarRight);\n        }\n        else {\n            classList.remove(EditMode_EditGlobals.classNames.editSidebarRight);\n        }\n        setTimeout(() => {\n            classList.add(EditMode_EditGlobals.classNames[isRightSidebar ? 'editSidebarRightShow' : 'editSidebarShow']);\n        });\n    }\n    /**\n     * Function to show the sidebar.\n     *\n     * @param context\n     * The cell or row which is the context of the sidebar.\n     */\n    show(context) {\n        const editMode = this.editMode, isRightSidebar = !!(context && this.detectRightSidebar(context));\n        this.showPopup(EditMode_EditGlobals.classNames.editSidebarShow);\n        this.addClassNames(isRightSidebar);\n        if (editMode.resizer) {\n            editMode.resizer.disableResizer();\n        }\n        // Remove highlight from the row.\n        if (Layout_Cell.isCell(editMode.editCellContext) &&\n            editMode.editCellContext.row) {\n            editMode.editCellContext.row.setHighlight();\n        }\n        editMode.hideToolbars(['cell', 'row']);\n        editMode.stopContextDetection();\n        this.isVisible = true;\n        this.generateContent(context);\n    }\n    generateContent(context) {\n        // Reset\n        this.container.innerHTML = (dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_default()).emptyHTML;\n        // Title\n        this.renderHeader(context ?\n            this.editMode.lang.settings :\n            this.editMode.lang.addComponent, '');\n        // Render content wrapper\n        this.sidebarWrapper = SidebarPopup_createElement('div', {\n            className: EditMode_EditGlobals.classNames.editSidebarWrapper\n        }, void 0, this.container);\n        if (!context) {\n            this.renderAddComponentsList();\n            return;\n        }\n        this.type = context.getType();\n        if (this.type === 'cell-html' || this.type === 'cell') {\n            const component = context.mountedComponent;\n            if (!component) {\n                return;\n            }\n            this.accordionMenu.renderContent(this.sidebarWrapper, component, this.container);\n        }\n    }\n    renderAddComponentsList() {\n        const sidebar = this;\n        const components = this.componentsList;\n        let gridElement;\n        const gridWrapper = SidebarPopup_createElement('div', {\n            className: EditMode_EditGlobals.classNames.editGridItems\n        }, {}, sidebar.sidebarWrapper);\n        for (let i = 0, iEnd = components.length; i < iEnd; ++i) {\n            gridElement = SidebarPopup_createElement('div', {}, {}, gridWrapper);\n            // Drag drop new component.\n            gridElement.addEventListener('mousedown', (e) => {\n                e.preventDefault();\n                const dragDrop = sidebar.editMode.dragDrop;\n                if (dragDrop) {\n                    // Workaround for Firefox, where mouseleave is not triggered\n                    // correctly when dragging.\n                    const onMouseMove = (event) => {\n                        const rect = sidebar.container.getBoundingClientRect();\n                        if (event.clientX < rect.left ||\n                            event.clientX > rect.right ||\n                            event.clientY < rect.top ||\n                            event.clientY > rect.bottom) {\n                            sidebar.hide();\n                            document.removeEventListener('mousemove', onMouseMove);\n                        }\n                    };\n                    // Clean up event listeners\n                    const onMouseUp = () => {\n                        document.removeEventListener('mousemove', onMouseMove);\n                        document.removeEventListener('mouseup', onMouseUp);\n                    };\n                    // Add event listeners\n                    document.addEventListener('mousemove', onMouseMove);\n                    document.addEventListener('mouseup', onMouseUp);\n                    dragDrop.onDragStart(e, void 0, (dropContext) => {\n                        // Add component if there is no layout yet.\n                        if (this.editMode.board.layouts.length === 0) {\n                            const board = this.editMode.board, newLayoutId = Layout_GUIElement.getElementId('layout'), layout = new Layout_Layout(board, {\n                                id: newLayoutId,\n                                copyId: '',\n                                parentContainerId: board.container.id,\n                                rows: [{}],\n                                style: {}\n                            });\n                            if (layout) {\n                                board.layouts.push(layout);\n                            }\n                            dropContext = layout.rows[0];\n                        }\n                        if (!dropContext?.type) {\n                            const layouts = sidebar.editMode.board.layouts;\n                            dragDrop.dropContext = dropContext =\n                                layouts[layouts.length - 1].addRow({}, void 0);\n                        }\n                        const newCell = components[i].onDrop(sidebar, dropContext);\n                        /* eslint-disable max-len */\n                        const unbindLayoutChanged = SidebarPopup_addEvent(this.editMode, 'layoutChanged', (e) => {\n                            if (newCell && e.type === 'newComponent') {\n                                const chart = newCell.mountedComponent?.chart;\n                                const settingsEnabled = this.editMode.options.settings?.enabled;\n                                if (chart?.isDirtyBox) {\n                                    const unbind = SidebarPopup_addEvent(chart, 'render', () => {\n                                        sidebar.editMode.setEditCellContext(newCell);\n                                        if (settingsEnabled) {\n                                            sidebar.show(newCell);\n                                            newCell.setHighlight();\n                                        }\n                                        unbind();\n                                        unbindLayoutChanged();\n                                    });\n                                }\n                                else {\n                                    sidebar.editMode.setEditCellContext(newCell);\n                                    if (settingsEnabled) {\n                                        sidebar.show(newCell);\n                                        newCell.setHighlight();\n                                    }\n                                    unbindLayoutChanged();\n                                }\n                            }\n                        });\n                        /* eslint-enable max-len */\n                        // Clean up event listener after drop is complete\n                        document.removeEventListener('mousemove', onMouseMove);\n                    });\n                }\n            });\n            gridElement.innerHTML = components[i].text;\n        }\n        return;\n    }\n    onDropNewComponent(dropContext, componentOptions) {\n        const sidebar = this, dragDrop = sidebar.editMode.dragDrop;\n        if (!dragDrop) {\n            return;\n        }\n        const row = (dropContext.getType() === 'cell' ?\n            dropContext.row :\n            dropContext), newCell = row.addCell({\n            id: Layout_GUIElement.getElementId('col')\n        });\n        dragDrop.onCellDragEnd(newCell);\n        const options = SidebarPopup_merge(componentOptions, {\n            renderTo: newCell.id\n        });\n        const componentPromise = Actions_Bindings.addComponent(options, sidebar.editMode.board, newCell);\n        sidebar.editMode.setEditOverlay(!this.editMode.options.settings?.enabled);\n        void (async () => {\n            const component = await componentPromise;\n            if (!component) {\n                return;\n            }\n            SidebarPopup_fireEvent(this.editMode, 'layoutChanged', {\n                type: 'newComponent',\n                target: component\n            });\n        })();\n        return newCell;\n    }\n    /**\n     * Function to hide the sidebar.\n     */\n    hide() {\n        const editMode = this.editMode;\n        const editCellContext = editMode.editCellContext;\n        this.removeClassNames();\n        this.container.style.display = 'none';\n        // Remove edit overlay if active.\n        if (editMode.isEditOverlayActive) {\n            editMode.setEditOverlay(true);\n        }\n        if (Layout_Cell.isCell(editCellContext) && editCellContext.row) {\n            editMode.showToolbars(['cell', 'row'], editCellContext);\n            editCellContext.row.setHighlight(true);\n            editCellContext.setHighlight(true);\n            if (editMode.resizer) {\n                editMode.resizer.setSnapPositions(editMode.editCellContext);\n            }\n        }\n        else if (Layout_CellHTML.isCellHTML(editCellContext) && editMode.cellToolbar) {\n            editMode.cellToolbar.showToolbar(editCellContext);\n            editCellContext.setHighlight();\n        }\n        editMode.isContextDetectionActive = true;\n        this.isVisible = false;\n    }\n    /**\n     * Function called when the close button is pressed.\n     *\n     * @override BaseForm.closeButtonEvents\n     */\n    closeButtonEvents() {\n        if (this.type === 'cell' || this.type === 'cell-html') {\n            this.accordionMenu.cancelChanges();\n        }\n        else {\n            this.hide();\n        }\n    }\n    renderHeader(title, iconURL) {\n        if (!this.container) {\n            return;\n        }\n        const headerWrapper = SidebarPopup_createElement('div', {\n            className: EditMode_EditGlobals.classNames.editSidebarHeader\n        }, {}, this.container);\n        this.container.appendChild(headerWrapper);\n        this.headerWrapper = headerWrapper;\n        const icon = EditMode_EditRenderer.renderIcon(this.headerWrapper, {\n            icon: iconURL,\n            className: EditMode_EditGlobals.classNames.editSidebarTitle\n        });\n        if (icon) {\n            icon.textContent = title;\n        }\n        this.headerWrapper?.appendChild(this.closeButton);\n    }\n    /**\n     * Based on the provided components list, it returns the list of components\n     * with its names and functions that are called when the component is\n     * dropped.\n     *\n     * @param components\n     * List of components that can be added to the board.\n     */\n    getComponentsList(components) {\n        const sidebar = this, editMode = sidebar.editMode, componentTypes = editMode.board.componentTypes, componentList = [];\n        components.forEach((componentName) => {\n            const component = componentTypes[componentName];\n            if (component) {\n                componentList.push({\n                    text: editMode.lang?.sidebar[componentName] ||\n                        component.name,\n                    onDrop: function (sidebar, dropContext) {\n                        const options = component.prototype.getOptionsOnDrop(sidebar);\n                        if (options) {\n                            return sidebar.onDropNewComponent(dropContext, options);\n                        }\n                    }\n                });\n            }\n            else if (componentName === 'row') {\n                componentList.push({\n                    ...SidebarPopup.addRow,\n                    text: editMode.lang?.sidebar[componentName] ||\n                        SidebarPopup.addRow.text\n                });\n            }\n        });\n        return componentList;\n    }\n    /**\n     * Function to create and add the close button to the sidebar.\n     *\n     * @param className\n     * Class name of the close button.\n     * @returns Close button element\n     */\n    addCloseButton(className = EditMode_EditGlobals.classNames.popupCloseButton) {\n        // Close popup when click outside the popup\n        SidebarPopup_addEvent(document, 'click', (event) => {\n            event.stopPropagation();\n            if (this.container.style.display === 'block' &&\n                !this.container.contains(event.target) &&\n                this.container.classList.value.includes('show')) {\n                if (this.type === 'cell' || this.type === 'cell-html') {\n                    this.accordionMenu.cancelChanges();\n                }\n                else {\n                    this.hide();\n                }\n            }\n        });\n        return super.addCloseButton.call(this, className);\n    }\n    /**\n     * Function that creates the container of the sidebar.\n     *\n     * @param parentDiv\n     * The parent div to which the sidebar will be appended.\n     * @param className\n     * Class name of the sidebar.\n     * @returns The container of the sidebar.\n     */\n    createPopupContainer(parentDiv, className = EditMode_EditGlobals.classNames.editSidebar) {\n        return super.createPopupContainer.call(this, parentDiv, className);\n    }\n}\nSidebarPopup.addRow = {\n    text: EditMode_EditGlobals.lang.sidebar.row,\n    onDrop: function (sidebar, dropContext) {\n        if (!dropContext) {\n            return;\n        }\n        const isCellType = dropContext.getType() === 'cell', row = isCellType ? dropContext.row :\n            dropContext, board = row.layout.board, cellId = Layout_GUIElement.getElementId('cell');\n        if (isCellType) {\n            const newLayoutId = Layout_GUIElement.getElementId('layout');\n            const layout = new Layout_Layout(board, {\n                id: newLayoutId,\n                copyId: '',\n                parentContainerId: board.container.id,\n                rows: [{\n                        cells: [{\n                                id: cellId\n                            }]\n                    }],\n                style: {}\n            });\n            board.layouts.push(layout);\n            SidebarPopup_fireEvent(board.editMode, 'layoutChanged', {\n                type: 'newLayout',\n                target: layout,\n                board\n            });\n        }\n        else {\n            dropContext.layout.rows[0].addCell({\n                id: cellId\n            });\n        }\n        void Actions_Bindings.addComponent({\n            type: 'HTML',\n            renderTo: cellId,\n            className: 'highcharts-dashboards-component-placeholder',\n            html: `\n                    <h2> Placeholder </h2>\n                    <span> This placeholder can be deleted when you add extra\n                        components to this row.\n                    </span>\n                    `\n        }, board);\n    }\n};\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const EditMode_SidebarPopup = (SidebarPopup);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/EditContextMenu.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\nconst { addEvent: EditContextMenu_addEvent, merge: EditContextMenu_merge } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * Class to create context menu.\n * @internal\n */\nclass EditContextMenu extends Menu_Menu {\n    /* *\n     *\n     *  Constructor\n     *\n     * */\n    constructor(parentElement, options, editMode) {\n        super(editMode.board.container, EditContextMenu_merge(EditContextMenu.defaultOptions, options || {}), editMode);\n        this.editMode = editMode;\n        this.options = EditContextMenu_merge(EditContextMenu.defaultOptions, options || {});\n        // Move it in the DOM after the edit tools so it is better accessible.\n        this.editMode.board.layoutsWrapper?.parentNode.insertBefore(this.container, this.editMode.board.layoutsWrapper);\n        // Set the context menu container width.\n        this.container.style.width = this.options.width + 'px';\n        super.initItems(EditContextMenu.items);\n        if (this.options.items) {\n            const items = [];\n            for (let i = 0, iEnd = this.options.items.length; i < iEnd; ++i) {\n                if (typeof this.options.items[i] === 'string') {\n                    items.push(this.options.items[i]);\n                }\n                else if (this.options.items[i].id) {\n                    items.push(this.options.items[i].id);\n                }\n            }\n            this.setActiveItems(items);\n        }\n        this.initEvents();\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    initEvents() {\n        const contextMenu = this;\n        // Click on document close the context menu\n        // TODO refactor\n        EditContextMenu_addEvent(document, 'click', (event) => {\n            if (event.target !== this.container &&\n                event.target !==\n                    contextMenu.editMode.tools.contextButtonElement &&\n                !event.target.classList\n                    .contains(EditMode_EditGlobals.classNames.toggleSlider) &&\n                event.target.tagName !== 'INPUT' &&\n                this.isVisible) {\n                this.setVisible(false);\n            }\n        });\n    }\n    setVisible(visible) {\n        const contextMenu = this, contextButtonElement = contextMenu.editMode.tools.contextButtonElement;\n        if (contextMenu.container && contextButtonElement) {\n            if (visible) {\n                contextMenu.container.style.display = 'block';\n                contextMenu.isVisible = true;\n                contextButtonElement.setAttribute('aria-expanded', 'true');\n            }\n            else {\n                contextMenu.container.style.display = 'none';\n                contextMenu.isVisible = false;\n                contextButtonElement.setAttribute('aria-expanded', 'false');\n            }\n        }\n        // Set editMode toggle state\n        const toggleEditMode = this.activeItems.find((item) => item.options.langKey === 'editMode');\n        if (toggleEditMode) {\n            toggleEditMode.options.setValue(toggleEditMode, this.editMode.isActive());\n        }\n    }\n    updatePosition(ctxButton, x, y) {\n        const contextMenu = this, width = contextMenu.options.width || 0, left = (ctxButton ?\n            ctxButton.offsetLeft - width + ctxButton.offsetWidth :\n            x), top = ctxButton ? ctxButton.offsetTop + ctxButton.offsetHeight : y;\n        if (left && top) {\n            contextMenu.container.style.left = left + 'px';\n            contextMenu.container.style.top = top + 'px';\n        }\n    }\n}\n/* *\n*\n*  Static Properties\n*\n* */\nEditContextMenu.defaultOptions = {\n    enabled: true,\n    width: 150,\n    className: EditMode_EditGlobals.classNames.contextMenu,\n    itemsClassName: EditMode_EditGlobals.classNames.contextMenuItem,\n    items: ['editMode']\n};\n/**\n * Default Context menu items.\n */\nEditContextMenu.items = EditContextMenu_merge(Menu_Menu.items, {\n    editMode: {\n        id: 'editMode',\n        type: 'toggle',\n        getValue: function (item) {\n            return item.menu.editMode.isActive();\n        },\n        setValue: function (item, value) {\n            const inputElem = item.innerElement?.querySelector('input');\n            if (inputElem) {\n                inputElem.checked = value;\n            }\n        },\n        langKey: 'editMode',\n        events: {\n            click: function () {\n                this.menu.editMode.toggleEditMode();\n            }\n        }\n    }\n});\n/* harmony default export */ const EditMode_EditContextMenu = (EditContextMenu);\n\n;// ./code/dashboards/es-modules/Dashboards/Actions/ContextDetection.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\nconst { defined: ContextDetection_defined } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nclass ContextDetection {\n    static isGUIElementOnParentEdge(mouseContext, side) {\n        const visibleElements = (side === 'top' || side === 'bottom') ?\n            mouseContext.row.layout.getVisibleRows() :\n            (side === 'left' || side === 'right') ?\n                mouseContext.row.getVisibleCells() :\n                [];\n        const lastElementIndex = (visibleElements.length - 1);\n        return ((visibleElements[lastElementIndex] === mouseContext &&\n            side === 'right') ||\n            (visibleElements[lastElementIndex] === mouseContext.row &&\n                side === 'bottom') ||\n            (visibleElements[0] === mouseContext && side === 'left') ||\n            (visibleElements[0] === mouseContext.row && side === 'top'));\n    }\n    static getContextLevel(mouseContext, offset, sideOffset, side) {\n        // Array of overlapped levels.\n        const overlappedLevels = mouseContext.getOverlappingLevels(side, offset / 2);\n        // Divide offset to level sections (eg 3 nested layouts -\n        // cell edge will have 3 sections each 1/3 offset width).\n        const divOffset = offset / overlappedLevels.length;\n        // Overlapped nested layout level.\n        const lastOverlappedLevel = overlappedLevels[overlappedLevels.length - 1];\n        let level = mouseContext.row.layout.level - Math.floor(sideOffset / divOffset);\n        level = level < lastOverlappedLevel ? lastOverlappedLevel : (level > mouseContext.row.layout.level ?\n            mouseContext.row.layout.level : level);\n        return level;\n    }\n    static getContext(mouseCellContext, e, offset) {\n        let sideOffset;\n        // Get cell offsets, width, height\n        const mouseCellContextOffsets = Layout_GUIElement.getOffsets(mouseCellContext);\n        const { width, height } = Layout_GUIElement.getDimFromOffsets(mouseCellContextOffsets);\n        // Correct offset when element to small.\n        if (width < 2 * offset) {\n            offset = width / 2;\n        }\n        // Get mouse position relative to the mouseContext sides.\n        const leftSideX = e.clientX - mouseCellContextOffsets.left;\n        const topSideY = e.clientY - mouseCellContextOffsets.top;\n        // Get cell side - right, left, top, bottom\n        let side = 'bottom';\n        if (leftSideX >= -offset && leftSideX <= offset) {\n            side = 'left';\n        }\n        else if (leftSideX - width >= -offset && leftSideX - width <= offset) {\n            side = 'right';\n        }\n        else if (topSideY >= -offset && topSideY <= offset) {\n            side = 'top';\n        }\n        else if (topSideY - height >= -offset && topSideY - height <= offset) {\n            side = 'bottom';\n        }\n        switch (side) {\n            case 'right':\n                sideOffset = leftSideX - width + offset;\n                break;\n            case 'left':\n                sideOffset = offset - leftSideX;\n                break;\n            case 'top':\n                sideOffset = offset - topSideY;\n                break;\n            case 'bottom':\n                sideOffset = topSideY - height + offset;\n                break;\n        }\n        const context = {\n            cell: mouseCellContext,\n            side: side\n        };\n        // Nested layouts.\n        if (mouseCellContext.row?.layout.level &&\n            side &&\n            ContextDetection.isGUIElementOnParentEdge(mouseCellContext, side) &&\n            ContextDetection_defined(sideOffset)) {\n            const level = ContextDetection.getContextLevel(mouseCellContext, offset, sideOffset, side);\n            const cell = mouseCellContext.getParentCell(level);\n            if (cell) {\n                context.cell = cell;\n            }\n        }\n        return context;\n    }\n}\n/* harmony default export */ const Actions_ContextDetection = (ContextDetection);\n\n;// ./code/dashboards/es-modules/Dashboards/Actions/DragDrop.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\nconst { addEvent: DragDrop_addEvent, merge: DragDrop_merge, css: DragDrop_css, fireEvent: DragDrop_fireEvent, createElement: DragDrop_createElement } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * Class providing a drag and drop functionality.\n * @internal\n */\nclass DragDrop {\n    /* *\n     *\n     *  Constructors\n     *\n     * */\n    /**\n     * Constructor for the DragDrop class.\n     * @internal\n     *\n     * @param {EditMode} editMode\n     * The parent editMode reference.\n     *\n     * @param {DragDrop.Options} options\n     * Options for the DragDrop.\n     */\n    constructor(editMode, options) {\n        this.editMode = editMode;\n        this.options = DragDrop_merge(DragDrop.defaultOptions, options);\n        this.mockElement = DragDrop_createElement('div', { className: EditMode_EditGlobals.classNames.dragMock }, {}, editMode.board.container);\n        this.dropPointer = {\n            isVisible: false,\n            align: '',\n            element: DragDrop_createElement('div', { className: EditMode_EditGlobals.classNames.dropPointer }, {}, editMode.board.container)\n        };\n        this.isActive = false;\n        this.initEvents();\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Method for showing and positioning drop pointer.\n     *\n     * @param {number} left\n     * Drop pointer left position.\n     *\n     * @param {number} top\n     * Drop pointer top position.\n     *\n     * @param {number} width\n     * Drop pointer width.\n     *\n     * @param {number} height\n     * Drop pointer height.\n     */\n    showDropPointer(left, top, width, height) {\n        this.dropPointer.isVisible = true;\n        DragDrop_css(this.dropPointer.element, {\n            display: 'block',\n            left: left + 'px',\n            top: top + 'px',\n            height: height + 'px',\n            width: width + 'px'\n        });\n    }\n    /**\n     * Method for hiding drop pointer.\n     */\n    hideDropPointer() {\n        if (this.dropPointer.isVisible) {\n            this.dropPointer.isVisible = false;\n            this.dropPointer.align = '';\n            this.dropPointer.element.style.display = 'none';\n        }\n    }\n    /**\n     * Method for positioning drag mock element.\n     *\n     * @param {PointerEvent} mouseEvent\n     * Mouse event.\n     */\n    setMockElementPosition(mouseEvent) {\n        const dragDrop = this, dashBoundingRect = dragDrop.editMode.board.container.getBoundingClientRect(), offset = dragDrop.mockElement.clientWidth / 2, x = mouseEvent.clientX - dashBoundingRect.left - offset, y = mouseEvent.clientY - dashBoundingRect.top - offset;\n        DragDrop_css(this.mockElement, { left: x + 'px', top: y + 'px' });\n    }\n    /**\n     * Method for initializing drag drop events.\n     */\n    initEvents() {\n        const dragDrop = this;\n        // DragDrop events.\n        DragDrop_addEvent(document, 'mousemove', dragDrop.onDrag.bind(dragDrop));\n        DragDrop_addEvent(document, 'mouseup', dragDrop.onDragEnd.bind(dragDrop));\n    }\n    /**\n     * General method used on drag start.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     *\n     * @param {Cell|Row} context\n     * Reference to the dragged context.\n     *\n     * @param {Function} dragEndCallback\n     * Callback invoked on drag end.\n     */\n    onDragStart(e, context, dragEndCallback) {\n        this.isActive = true;\n        this.editMode.hideToolbars(['cell', 'row']);\n        if (this.editMode.resizer) {\n            this.editMode.resizer.disableResizer();\n        }\n        this.setMockElementPosition(e);\n        if (context) {\n            this.context = context;\n            context.hide();\n            if (context.getType() === (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell) {\n                const draggedCell = context;\n                // Call cellResize board event.\n                DragDrop_fireEvent(this.editMode.board, 'cellResize', { cell: context });\n                DragDrop_fireEvent(draggedCell.row, 'cellChange', { cell: context, row: draggedCell.row });\n            }\n        }\n        else if (dragEndCallback) {\n            this.dragEndCallback = dragEndCallback;\n        }\n        DragDrop_css(this.mockElement, {\n            cursor: 'grabbing',\n            display: 'block'\n        });\n    }\n    /**\n     * General method used while dragging.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     */\n    onDrag(e) {\n        const dragDrop = this;\n        if (dragDrop.isActive) {\n            e.preventDefault();\n            dragDrop.setMockElementPosition(e);\n            if (dragDrop.context) {\n                if (dragDrop.context.getType() ===\n                    (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell) {\n                    dragDrop.onCellDrag(e);\n                }\n                else if (dragDrop.context.getType() ===\n                    (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.row) {\n                    dragDrop.onRowDrag(e);\n                }\n            }\n            else if (dragDrop.dragEndCallback) {\n                dragDrop.onCellDrag(e);\n            }\n        }\n    }\n    /**\n     * General method used when drag finish.\n     */\n    onDragEnd() {\n        const dragDrop = this;\n        if (dragDrop.isActive) {\n            dragDrop.isActive = false;\n            DragDrop_css(dragDrop.mockElement, {\n                cursor: 'grab',\n                display: 'none'\n            });\n            if (dragDrop.context) {\n                if (dragDrop.context.getType() ===\n                    (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell) {\n                    dragDrop.onCellDragEnd();\n                }\n                else if (dragDrop.context.getType() ===\n                    (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.row) {\n                    dragDrop.onRowDragEnd();\n                }\n                dragDrop.context = void 0;\n                // Show toolbars and snaps.\n                if (dragDrop.editMode.editCellContext) {\n                    dragDrop.editMode.showToolbars(['row', 'cell'], dragDrop.editMode.editCellContext);\n                    if (dragDrop.editMode.resizer) {\n                        dragDrop.editMode.resizer.setSnapPositions(dragDrop.editMode.editCellContext);\n                    }\n                }\n            }\n            else if (dragDrop.dragEndCallback) {\n                dragDrop.dragEndCallback(dragDrop.dropContext);\n                dragDrop.dragEndCallback = void 0;\n                dragDrop.hideDropPointer();\n            }\n        }\n    }\n    /**\n     * Sets appropriate drop context and refresh drop pointer position when\n     * row is dragged or cell is dragged as a row.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     *\n     * @param {ContextDetection.ContextDetails} contextDetails\n     * Context details (cell, side)\n     */\n    onRowDrag(e, contextDetails) {\n        const dragDrop = this, mouseCellContext = dragDrop.mouseCellContext, dropPointerSize = dragDrop.options.dropPointerSize || 0, offset = dragDrop.options.rowDropOffset || 0;\n        let updateDropPointer = false;\n        if (mouseCellContext) {\n            const context = (contextDetails ||\n                Actions_ContextDetection.getContext(mouseCellContext, e, offset));\n            const align = context.side;\n            if (dragDrop.dropPointer.align !== align ||\n                dragDrop.dropContext !== context.cell.row) {\n                updateDropPointer = true;\n                dragDrop.dropPointer.align = align;\n                dragDrop.dropContext = context.cell.row;\n            }\n            if (align) {\n                const dropContextRowOffsets = Layout_GUIElement.getOffsets(dragDrop.dropContext, dragDrop.editMode.board.container);\n                const { width, height } = Layout_GUIElement\n                    .getDimFromOffsets(dropContextRowOffsets);\n                // Update or show drop pointer.\n                if (!dragDrop.dropPointer.isVisible || updateDropPointer) {\n                    dragDrop.showDropPointer(dropContextRowOffsets.left, dropContextRowOffsets.top + (dragDrop.dropPointer.align === 'bottom' ?\n                        height :\n                        0) - dropPointerSize / 2, width, dropPointerSize);\n                }\n            }\n            else {\n                dragDrop.dropContext = void 0;\n                dragDrop.hideDropPointer();\n            }\n        }\n    }\n    /**\n     * Unmounts dropped row and mounts it in a new position.\n     *\n     * @fires DragDrop#layoutChanged\n     */\n    onRowDragEnd() {\n        const dragDrop = this, draggedRow = dragDrop.context, dropContext = dragDrop.dropContext;\n        if (dragDrop.dropPointer.align) {\n            draggedRow.layout.unmountRow(draggedRow);\n            // Destroy layout when empty.\n            if (draggedRow.layout.rows.length === 0) {\n                draggedRow.layout.destroy();\n            }\n            dropContext.layout.mountRow(draggedRow, (dropContext.layout.getRowIndex(dropContext) || 0) +\n                (dragDrop.dropPointer.align === 'bottom' ? 1 : 0));\n            // Call cellResize board event.\n            if (draggedRow.cells[0]) {\n                DragDrop_fireEvent(dragDrop.editMode.board, 'cellResize', { cell: draggedRow.cells[0] });\n                DragDrop_fireEvent(draggedRow, 'cellChange', { cell: draggedRow.cells[0], row: draggedRow });\n            }\n        }\n        dragDrop.hideDropPointer();\n        draggedRow.show();\n        DragDrop_fireEvent(dragDrop.editMode, 'layoutChanged', {\n            type: 'rowDragEnd',\n            target: draggedRow,\n            board: dragDrop.editMode.board\n        });\n    }\n    /**\n     * Method used as middleware when cell is dragged.\n     * Decides where to pass an event depending on the mouse context.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     *\n     * @param {ContextDetection.ContextDetails} contextDetails\n     * Context details (cell, side)\n     */\n    onCellDrag(e, contextDetails) {\n        const dragDrop = this, mouseCellContext = dragDrop.mouseCellContext, offset = dragDrop.options.cellDropOffset || 0;\n        if (mouseCellContext || contextDetails) {\n            dragDrop.onCellDragCellCtx(e, contextDetails ||\n                Actions_ContextDetection.getContext(mouseCellContext, e, offset));\n        }\n        else if (dragDrop.mouseRowContext) {\n            dragDrop.onCellDragRowCtx(e, dragDrop.mouseRowContext);\n        }\n    }\n    /**\n     * Sets appropriate drop context and refreshes the drop pointer\n     * position when a cell is dragged and a cell context is detected.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     *\n     * @param {ContextDetection.ContextDetails} context\n     * Context details (cell, side)\n     */\n    onCellDragCellCtx(e, context) {\n        const dragDrop = this, dropPointerSize = dragDrop.options.dropPointerSize || 0, align = context.side;\n        let updateDropPointer = false;\n        if (dragDrop.dropPointer.align !== align ||\n            dragDrop.dropContext !== context.cell) {\n            updateDropPointer = true;\n            dragDrop.dropPointer.align = align;\n            dragDrop.dropContext = context.cell;\n        }\n        if (align === 'right' || align === 'left') {\n            const dropContextOffsets = Layout_GUIElement.getOffsets(dragDrop.dropContext, dragDrop.editMode.board.container);\n            const { width, height } = Layout_GUIElement.getDimFromOffsets(dropContextOffsets);\n            // Update or show drop pointer.\n            if (!dragDrop.dropPointer.isVisible || updateDropPointer) {\n                const rowLevelInfo = dragDrop.dropContext.row.getRowLevelInfo(e.clientY), pointerHeight = (rowLevelInfo ?\n                    (rowLevelInfo.rowLevel.bottom -\n                        rowLevelInfo.rowLevel.top) :\n                    height);\n                dragDrop.showDropPointer(dropContextOffsets.left + (align === 'right' ? width : 0) -\n                    dropPointerSize / 2, dropContextOffsets.top, dropPointerSize, pointerHeight);\n            }\n        }\n        else if (align === 'top' || align === 'bottom') {\n            const dropContextOffsets = Layout_GUIElement.getOffsets(dragDrop.dropContext), rowLevelInfo = dragDrop.dropContext.row\n                .getRowLevelInfo(dropContextOffsets.top);\n            if (rowLevelInfo &&\n                ((rowLevelInfo.index === 0 && align === 'top') ||\n                    (rowLevelInfo.index ===\n                        rowLevelInfo.rowLevels.length - 1 &&\n                        align === 'bottom'))) {\n                // Checks if a cell is dragged as a row\n                // (only when a cell edge is on a row edge)\n                dragDrop.onRowDrag(e, context);\n            }\n        }\n        else {\n            dragDrop.dropContext = void 0;\n            dragDrop.hideDropPointer();\n        }\n    }\n    /**\n     * Sets appropriate drop context and refreshes the drop pointer\n     * position when a cell is dragged and a row context is detected.\n     *\n     * @param {PointerEvent} e\n     * Mouse event.\n     *\n     * @param {Row} mouseRowContext\n     * Row context.\n     */\n    onCellDragRowCtx(e, mouseRowContext) {\n        const dragDrop = this, dropPointerSize = dragDrop.options.dropPointerSize || 0, rowOffsets = Layout_GUIElement.getOffsets(mouseRowContext), rowLevelInfo = mouseRowContext.getRowLevelInfo(e.clientY);\n        let cell, cellOffsets;\n        if (rowLevelInfo) {\n            for (let i = 0, iEnd = rowLevelInfo.rowLevel.cells.length; i < iEnd; ++i) {\n                cell = rowLevelInfo.rowLevel.cells[i];\n                cellOffsets = Layout_GUIElement.getOffsets(cell);\n                const { width, height } = Layout_GUIElement\n                    .getDimFromOffsets(cellOffsets), dashOffsets = dragDrop.editMode.board.container\n                    .getBoundingClientRect(), levelHeight = (rowLevelInfo.rowLevel.bottom -\n                    rowLevelInfo.rowLevel.top);\n                if (cell.isVisible) {\n                    if (height < 0.8 * levelHeight &&\n                        cellOffsets.left <= e.clientX &&\n                        cellOffsets.right >= e.clientX) {\n                        if (cellOffsets.top > e.clientY) {\n                            // @ToDo - Mouse above the cell.\n                        }\n                        else if (cellOffsets.bottom < e.clientY) {\n                            // Mouse below the cell.\n                            dragDrop.showDropPointer(cellOffsets.left - dashOffsets.left, cellOffsets.top - dashOffsets.top + height, width, levelHeight - height);\n                            dragDrop.dropPointer.align = 'nestedBottom';\n                            dragDrop.dropContext = cell;\n                        }\n                        i = iEnd; // Stop the loop\n                    }\n                    else if ((i === 0 && cellOffsets.left > e.clientX) ||\n                        (i === iEnd - 1 && cellOffsets.right < e.clientX)) {\n                        if (cellOffsets.left > e.clientX) {\n                            // @ToDo - Mouse on the cell left side.\n                        }\n                        else if (cellOffsets.right < e.clientX) {\n                            // Mouse on the cell right side.\n                            const pointerWidth = rowOffsets.right - cellOffsets.right;\n                            dragDrop.showDropPointer(cellOffsets.left + ((i === 0 && cellOffsets.left > e.clientX) ?\n                                0 :\n                                width) - dropPointerSize / 2 - dashOffsets.left, cellOffsets.top - dashOffsets.top, pointerWidth > dropPointerSize ?\n                                pointerWidth :\n                                dropPointerSize, levelHeight || height);\n                            dragDrop.dropPointer.align = 'right';\n                            dragDrop.dropContext = cell;\n                        }\n                        i = iEnd; // Stop the loop\n                    }\n                }\n                else if (!cell.isVisible && cell === dragDrop.context) {\n                    // Element is not visible.\n                    dragDrop.dropContext = void 0;\n                    dragDrop.hideDropPointer();\n                }\n            }\n        }\n    }\n    /**\n     * Unmounts dropped cell and mounts it in a new position.\n     * When cell is dragged as a row also creates a new row\n     * and mounts cell there.\n     *\n     * @param {Cell} contextCell\n     * Cell used as a dragDrop context.\n     *\n     * @fires DragDrop#layoutChanged\n     */\n    onCellDragEnd(contextCell) {\n        const dragDrop = this, draggedCell = contextCell || dragDrop.context;\n        let dropContext = dragDrop.dropContext;\n        if (dragDrop.dropPointer.align && dropContext && draggedCell) {\n            draggedCell.row.unmountCell(draggedCell);\n            // Destroy row when empty.\n            if (draggedCell.row.cells.length === 0) {\n                draggedCell.row.destroy();\n            }\n            if ((dragDrop.dropPointer.align === 'top' ||\n                dragDrop.dropPointer.align === 'bottom') &&\n                dropContext.getType() === (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.row) {\n                dropContext = dropContext;\n                const newRow = dropContext.layout.addRow({}, void 0, (dropContext.layout.getRowIndex(dropContext) || 0) +\n                    (dragDrop.dropPointer.align === 'bottom' ? 1 : 0));\n                newRow.mountCell(draggedCell, 0);\n            }\n            else if (dragDrop.dropPointer.align === 'nestedBottom' &&\n                dropContext.getType() === (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell) {\n                // Create nesting.\n                const dropContextCell = dropContext;\n                const row = dropContextCell.row;\n                const dropContextCellIndex = row.getCellIndex(dropContextCell);\n                row.unmountCell(dropContextCell);\n                const newCell = row.addCell({\n                    id: Layout_GUIElement.getElementId('col-nested'),\n                    layout: {\n                        rows: [{}, {}]\n                    }\n                }, void 0, dropContextCellIndex);\n                if (newCell.nestedLayout) {\n                    newCell.nestedLayout.rows[0].mountCell(dropContextCell);\n                    newCell.nestedLayout.rows[1].mountCell(draggedCell);\n                }\n            }\n            else if (dropContext.getType() === (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).guiElementType.cell) {\n                dropContext = dropContext;\n                dropContext.row.mountCell(draggedCell, (dropContext.row.getCellIndex(dropContext) || 0) +\n                    (dragDrop.dropPointer.align === 'right' ? 1 : 0));\n            }\n        }\n        // Call cellResize board event.\n        DragDrop_fireEvent(dragDrop.editMode.board, 'cellResize', { cell: draggedCell });\n        DragDrop_fireEvent(draggedCell.row, 'cellChange', { cell: draggedCell, row: draggedCell.row });\n        dragDrop.hideDropPointer();\n        draggedCell.show();\n        DragDrop_fireEvent(dragDrop.editMode, 'layoutChanged', {\n            type: 'cellDragEnd',\n            target: draggedCell,\n            board: dragDrop.editMode.board\n        });\n    }\n}\n/* *\n *\n *  Static Properties\n *\n * */\nDragDrop.defaultOptions = {\n    enabled: true,\n    rowDropOffset: 30,\n    cellDropOffset: 30,\n    dropPointerSize: 16\n};\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const Actions_DragDrop = (DragDrop);\n\n;// ./code/dashboards/es-modules/Dashboards/Actions/Resizer.js\n\n\n\nconst { merge: Resizer_merge, addEvent: Resizer_addEvent, createElement: Resizer_createElement, fireEvent: Resizer_fireEvent, removeEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/**\n * Class providing a resizing functionality.\n */\nclass Resizer {\n    /* *\n    *\n    *  Static Properties\n    *\n    * */\n    /**\n     * Creates a new instance of the Resizer class based on JSON.\n     * @internal\n     */\n    static fromJSON(editMode, json) {\n        return new Resizer(editMode, json.options);\n    }\n    /* *\n    *\n    *  Constructors\n    *\n    * */\n    /**\n     * Constructor for the Resizer class.\n     *\n     * @param {EditMode} editMode\n     * The parent editMode reference.\n     *\n     * @param {Resizer.Options} options\n     * Options for the Resizer.\n     */\n    constructor(editMode, options) {\n        this.editMode = editMode;\n        this.options = Resizer_merge({}, Resizer.defaultOptions, editMode.options.resize, options);\n        this.currentCell = void 0;\n        this.isX = this.options.type.indexOf('x') > -1;\n        this.isY = this.options.type.indexOf('y') > -1;\n        this.isActive = false;\n        this.startX = 0;\n        this.tempSiblingsWidth = [];\n        this.addSnaps();\n    }\n    /* *\n     *\n     *  Functions\n     *\n     * */\n    /**\n     * Add Snap - create snaps and add events.\n     *\n     */\n    addSnaps() {\n        const iconsURLPrefix = this.editMode.iconsURLPrefix;\n        const snapWidth = this.options.snap.width || 0;\n        const snapHeight = this.options.snap.height || 0;\n        const dashboardContainer = this.editMode.board.container;\n        // Right snap\n        this.snapRight = Resizer_createElement('img', {\n            className: EditMode_EditGlobals.classNames.resizeSnap + ' ' +\n                EditMode_EditGlobals.classNames.resizeSnapX,\n            src: iconsURLPrefix + 'resize-handle.svg'\n        }, {\n            width: snapWidth + 'px',\n            height: snapHeight + 'px',\n            left: -9999 + 'px'\n        }, dashboardContainer);\n        // Bottom snap\n        this.snapBottom = Resizer_createElement('img', {\n            className: EditMode_EditGlobals.classNames.resizeSnap + ' ' +\n                EditMode_EditGlobals.classNames.resizeSnapY,\n            src: iconsURLPrefix + 'resize-handle.svg'\n        }, {\n            width: snapWidth + 'px',\n            height: snapHeight + 'px',\n            top: -9999 + 'px',\n            left: '0px'\n        }, dashboardContainer);\n        this.addResizeEvents();\n    }\n    /**\n     * Hide snaps\n     *\n     */\n    disableResizer() {\n        this.isActive = false;\n        this.currentDimension = void 0;\n        this.currentCell = void 0;\n        if (this.snapRight) {\n            this.snapRight.style.left = '-9999px';\n        }\n        if (this.snapBottom) {\n            this.snapBottom.style.left = '-9999px';\n        }\n    }\n    /**\n     * Update snap position.\n     *\n     * @param cell\n     * Cell reference\n     */\n    setSnapPositions(cell) {\n        // Set current cell\n        this.currentCell = cell;\n        // Set position of snaps\n        const cellOffsets = Layout_GUIElement.getOffsets(cell, this.editMode.board.container);\n        const left = cellOffsets.left || 0;\n        const top = cellOffsets.top || 0;\n        const { width, height } = Layout_GUIElement.getDimFromOffsets(cellOffsets);\n        const snapWidth = (this.options.snap.width || 0);\n        const snapHeight = (this.options.snap.height || 0);\n        if (this.snapRight) {\n            this.snapRight.style.left = (left + width - snapWidth) + 'px';\n            this.snapRight.style.top = top + (height / 2) - (snapHeight / 2) + 'px';\n        }\n        if (this.snapBottom) {\n            this.snapBottom.style.top = (top + height - snapHeight) + 'px';\n            this.snapBottom.style.left = (left + (width / 2) - (snapWidth / 2)) + 'px';\n        }\n    }\n    /**\n     * Method detects siblings and auto-width applied by flex. The resizer\n     * requires static widths for correct calculations, so we need to apply\n     * temporary width on siblings.\n     */\n    setTempWidthSiblings() {\n        const currentCell = this.currentCell;\n        if (currentCell) {\n            const cellOffsets = Layout_GUIElement.getOffsets(currentCell), rowLevelInfo = currentCell.row.getRowLevelInfo(cellOffsets.top), rowLevelCells = (rowLevelInfo && rowLevelInfo.rowLevel.cells) || [];\n            let cellContainer, cell;\n            for (let i = 0, iEnd = rowLevelCells.length; i < iEnd; ++i) {\n                cell = rowLevelCells[i];\n                cellContainer = cell.container;\n                // Do not convert width on the current cell and next siblings.\n                if (cell === currentCell) {\n                    break;\n                }\n                if (cellContainer) {\n                    cellContainer.style.flex =\n                        '0 0 ' + cellContainer.offsetWidth + 'px';\n                    this.tempSiblingsWidth.push(cell);\n                }\n            }\n        }\n    }\n    /**\n     * Revert widths to auto.\n     */\n    revertSiblingsAutoWidth() {\n        const tempSiblingsWidth = this.tempSiblingsWidth;\n        let cellContainer, cellResize;\n        for (let i = 0, iEnd = tempSiblingsWidth.length; i < iEnd; ++i) {\n            cellContainer = tempSiblingsWidth[i].container;\n            if (cellContainer) {\n                cellContainer.style.flex = '1 1 0%';\n                cellResize = tempSiblingsWidth[i];\n            }\n        }\n        this.tempSiblingsWidth = [];\n        // Call cellResize dashboard event.\n        if (cellResize) {\n            Resizer_fireEvent(this.editMode.board, 'cellResize', {\n                cell: cellResize\n            });\n            Resizer_fireEvent(cellResize.row, 'cellChange', {\n                cell: cellResize,\n                row: cellResize.row\n            });\n        }\n    }\n    /**\n     * Add mouse events to snaps\n     *\n     */\n    addResizeEvents() {\n        const resizer = this;\n        let mouseDownSnapX, mouseDownSnapY, mouseMoveSnap, mouseUpSnap;\n        resizer.mouseDownSnapX = mouseDownSnapX = function (e) {\n            resizer.isActive = true;\n            resizer.currentDimension = 'x';\n            resizer.editMode.hideToolbars(['row', 'cell']);\n            resizer.setTempWidthSiblings();\n            resizer.startX = e.clientX;\n        };\n        resizer.mouseDownSnapY = mouseDownSnapY = function () {\n            resizer.isActive = true;\n            resizer.currentDimension = 'y';\n            resizer.editMode.hideToolbars(['row', 'cell']);\n        };\n        resizer.mouseMoveSnap = mouseMoveSnap = function (e) {\n            if (resizer.isActive) {\n                resizer.onMouseMove(e);\n            }\n        };\n        resizer.mouseUpSnap = mouseUpSnap = function () {\n            if (resizer.isActive) {\n                resizer.isActive = false;\n                resizer.currentDimension = void 0;\n                resizer.revertSiblingsAutoWidth();\n                resizer.editMode.showToolbars(['row', 'cell'], resizer.currentCell);\n                if (resizer.currentCell) {\n                    resizer.setSnapPositions(resizer.currentCell);\n                }\n            }\n        };\n        // Add mouse events\n        Resizer_addEvent(this.snapRight, 'mousedown', mouseDownSnapX);\n        Resizer_addEvent(this.snapBottom, 'mousedown', mouseDownSnapY);\n        Resizer_addEvent(document, 'mousemove', mouseMoveSnap);\n        Resizer_addEvent(document, 'mouseup', mouseUpSnap);\n        // Touch events\n        // addEvent(snapX, 'touchstart', mouseDownSnapX);\n        // addEvent(snapY, 'touchstart', mouseDownSnapY);\n        // if (!rowContainer.hcEvents.mousemove) {\n        //     addEvent(rowContainer, 'touchmove', mouseMoveSnap);\n        //     addEvent(rowContainer, 'touchend', mouseUpSnap);\n        // }\n        const runReflow = () => {\n            if (resizer.currentCell) {\n                resizer.setSnapPositions(resizer.currentCell);\n            }\n        };\n        if (typeof ResizeObserver === 'function') {\n            this.resizeObserver = new ResizeObserver(runReflow);\n            this.resizeObserver.observe(resizer.editMode.board.container);\n        }\n        else {\n            const unbind = Resizer_addEvent(window, 'resize', runReflow);\n            Resizer_addEvent(this, 'destroy', unbind);\n        }\n    }\n    /**\n     * General method used on resizing.\n     *\n     * @param {global.Event} e\n     * A mouse event.\n     *\n     */\n    onMouseMove(e) {\n        const currentCell = this.currentCell;\n        const cellContainer = currentCell && currentCell.container;\n        const currentDimension = this.currentDimension;\n        if (currentCell &&\n            cellContainer &&\n            !((currentCell.row.layout.board.editMode || {}).dragDrop || {})\n                .isActive) {\n            const cellOffsets = Layout_GUIElement.getOffsets(currentCell);\n            const { width: parentRowWidth } = Layout_GUIElement.getDimFromOffsets(Layout_GUIElement.getOffsets(currentCell.row));\n            // Resize width\n            if (currentDimension === 'x') {\n                const newWidth = (Math.min(e.clientX - cellOffsets.left, parentRowWidth) /\n                    parentRowWidth) *\n                    100 +\n                    '%';\n                currentCell.setSize(newWidth);\n                this.startX = e.clientX;\n            }\n            // Resize height\n            if (currentDimension === 'y') {\n                currentCell.setSize(void 0, e.clientY - cellOffsets.top);\n            }\n            // Call cellResize dashboard event.\n            Resizer_fireEvent(this.editMode.board, 'cellResize', {\n                cell: currentCell\n            });\n            Resizer_fireEvent(currentCell.row, 'cellChange', {\n                cell: currentCell,\n                row: currentCell.row\n            });\n            this.setSnapPositions(currentCell);\n        }\n    }\n    /**\n     * Destroy resizer\n     */\n    destroy() {\n        const snaps = ['snapRight', 'snapBottom'];\n        let snap;\n        // Unbind events\n        removeEvent(document, 'mousemove');\n        removeEvent(document, 'mouseup');\n        this.resizeObserver?.unobserve(this.editMode.board.container);\n        for (let i = 0, iEnd = snaps.length; i < iEnd; ++i) {\n            snap = this[snaps[i]];\n            // Unbind event\n            removeEvent(snap, 'mousedown');\n            // Destroy snap\n            snap.remove();\n        }\n    }\n    /**\n     * Converts the class instance to a class JSON.\n     * @internal\n     *\n     * @return {Resizer.JSON}\n     * Class JSON of this Resizer instance.\n     */\n    toJSON() {\n        const options = this.options;\n        return {\n            $class: 'Dashboards.Action.Resizer',\n            options: {\n                enabled: options.enabled,\n                styles: {\n                    minWidth: options.styles.minWidth,\n                    minHeight: options.styles.minHeight\n                },\n                type: options.type,\n                snap: {\n                    width: options.snap.width,\n                    height: options.snap.height\n                }\n            }\n        };\n    }\n}\nResizer.defaultOptions = {\n    enabled: true,\n    styles: {\n        minWidth: 20,\n        minHeight: 50\n    },\n    type: 'xy',\n    snap: {\n        width: 9,\n        height: 17\n    }\n};\n/* harmony default export */ const Actions_Resizer = (Resizer);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/EditMode.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst { addEvent: EditMode_addEvent, createElement: EditMode_createElement, css: EditMode_css, merge: EditMode_merge } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\n/* *\n *\n *  Class\n *\n * */\nclass EditMode {\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    /**\n     * Edit mode constructor.\n     * @internal\n     *\n     * @param board\n     * Board instance\n     *\n     * @param options\n     * Edit mode options\n     */\n    constructor(board, options) {\n        /* *\n        *\n        *  Properties\n        *\n        * */\n        /**\n         * @internal\n         */\n        this.active = false;\n        /**\n         * Whether the board is generated with custom HTML.\n         */\n        this.customHTMLMode = false;\n        /**\n         * URL from which the icons will be fetched.\n         */\n        this.iconsURLPrefix = 'https://code.highcharts.com/dashboards/3.6.0/gfx/dashboards-icons/';\n        this.iconsURLPrefix =\n            (options && options.iconsURLPrefix) || this.iconsURLPrefix;\n        this.options = EditMode_merge(\n        // Default options.\n        {\n            confirmationPopup: {\n                close: {\n                    icon: this.iconsURLPrefix + 'close.svg'\n                }\n            },\n            contextMenu: {\n                icon: this.iconsURLPrefix + 'menu.svg'\n            },\n            dragDrop: {\n                enabled: true\n            },\n            enabled: true,\n            resize: {\n                enabled: true\n            },\n            settings: {\n                enabled: true\n            },\n            toolbars: {\n                cell: {\n                    enabled: true\n                },\n                row: {\n                    enabled: true\n                }\n            },\n            tools: {\n                addComponentBtn: {\n                    enabled: true,\n                    icon: this.iconsURLPrefix + 'add.svg'\n                }\n            }\n        }, options || {});\n        this.board = board;\n        this.lang = EditMode_merge({}, EditMode_EditGlobals.lang, this.options.lang);\n        board.boardWrapper = board.container;\n        if (board.guiEnabled) {\n            this.initLayout();\n        }\n        this.isInitialized = false;\n        this.isContextDetectionActive = false;\n        this.tools = {};\n        if (board.editModeEnabled) {\n            this.customHTMLMode = !this.board.layoutsWrapper;\n            this.contextPointer = {\n                isVisible: false,\n                element: EditMode_createElement('div', {\n                    className: EditMode_EditGlobals.classNames.contextDetectionPointer\n                }, {}, board.container)\n            };\n            this.createTools();\n            this.confirmationPopup = new EditMode_ConfirmationPopup(board.container, this.iconsURLPrefix, this, this.options.confirmationPopup);\n            // Create edit overlay.\n            this.editOverlay = EditMode_createElement('div', {\n                className: EditMode_EditGlobals.classNames.editOverlay\n            }, {}, board.container);\n            this.isEditOverlayActive = false;\n            board.fullscreen = new Dashboards.Fullscreen(board);\n            if (this.customHTMLMode) {\n                board.container.classList.add((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.boardContainer);\n            }\n        }\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Event to fire on click of the context button.\n     * @internal\n     */\n    onContextBtnClick() {\n        const editMode = this;\n        // Toggle context menu visibility.\n        if (editMode.tools.contextMenu) {\n            if (!editMode.tools.contextMenu.isVisible) {\n                editMode.tools.contextMenu\n                    .updatePosition(editMode.tools.contextButtonElement);\n            }\n            editMode.tools.contextMenu.setVisible(!editMode.tools.contextMenu.isVisible);\n        }\n    }\n    /**\n     * Activate or deactivate edit mode.\n     */\n    toggleEditMode() {\n        const editMode = this;\n        if (editMode.active) {\n            editMode.deactivate();\n        }\n        else {\n            editMode.activate();\n        }\n    }\n    /**\n     * Init the instance of edit mode.\n     * @internal\n     */\n    init() {\n        const editMode = this;\n        if (this.options.resize?.enabled && !editMode.customHTMLMode) {\n            editMode.resizer = new Actions_Resizer(editMode, editMode.options.resize);\n        }\n        editMode.dragDrop = new Actions_DragDrop(editMode, editMode.options.dragDrop);\n        // Init rowToolbar.\n        if (editMode.options.toolbars?.row?.enabled &&\n            !editMode.rowToolbar &&\n            !editMode.customHTMLMode) {\n            editMode.rowToolbar = new Toolbar_RowEditToolbar(editMode);\n        }\n        // Init cellToolbar.\n        if (editMode.options.toolbars?.cell?.enabled && !editMode.cellToolbar) {\n            editMode.cellToolbar = new Toolbar_CellEditToolbar(editMode);\n        }\n        // Init Sidebar.\n        if (!editMode.sidebar) {\n            editMode.sidebar = new EditMode_SidebarPopup(this.board.container, this.iconsURLPrefix, editMode);\n        }\n        editMode.isInitialized = true;\n    }\n    /**\n     * Init events for edit mode.\n     * @internal\n     */\n    initEvents() {\n        const editMode = this, board = editMode.board;\n        if (this.customHTMLMode) {\n            const length = board.mountedComponents.length;\n            for (let i = 0, iEnd = length; i < iEnd; ++i) {\n                editMode.setCellEvents(board.mountedComponents[i].cell);\n            }\n        }\n        else {\n            for (let i = 0, iEnd = board.layouts.length; i < iEnd; ++i) {\n                editMode.setLayoutEvents(board.layouts[i]);\n            }\n        }\n        EditMode_addEvent(document, 'keydown', (e) => {\n            if (e.key === 'Escape' && editMode.isActive()) {\n                editMode.hideToolbars(['cell', 'row']);\n                editMode.editCellContext = void 0;\n                editMode.resizer?.disableResizer();\n            }\n        });\n        if (editMode.cellToolbar) {\n            // Stop context detection when mouse on cell toolbar.\n            EditMode_addEvent(editMode.cellToolbar.container, 'mouseenter', function () {\n                editMode.stopContextDetection();\n            });\n            EditMode_addEvent(editMode.cellToolbar.container, 'mouseleave', function () {\n                editMode.isContextDetectionActive = true;\n            });\n        }\n        if (editMode.rowToolbar) {\n            // Stop context detection when mouse on row toolbar.\n            EditMode_addEvent(editMode.rowToolbar.container, 'mouseenter', function () {\n                editMode.stopContextDetection();\n            });\n            EditMode_addEvent(editMode.rowToolbar.container, 'mouseleave', function () {\n                editMode.isContextDetectionActive = true;\n            });\n        }\n        const elementForEvents = this.customHTMLMode ?\n            board.container : board.layoutsWrapper;\n        EditMode_addEvent(elementForEvents, 'mousemove', editMode.onDetectContext.bind(editMode));\n        EditMode_addEvent(elementForEvents, 'click', editMode.onContextConfirm.bind(editMode));\n        EditMode_addEvent(elementForEvents, 'mouseleave', () => {\n            editMode.hideContextPointer();\n        });\n    }\n    /**\n     * Initialize the container for the layouts.\n     * @internal\n     *\n     */\n    initLayout() {\n        const board = this.board;\n        // Clear the container from any content.\n        board.container.innerHTML = '';\n        // Add container for the board.\n        board.container = EditMode_createElement('div', {\n            className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.boardContainer\n        }, {}, board.boardWrapper);\n        // Create layouts wrapper.\n        board.layoutsWrapper = EditMode_createElement('div', {\n            className: (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNames.layoutsWrapper\n        }, {}, board.container);\n        if (board.options.gui) {\n            this.setLayouts(board.options.gui);\n        }\n    }\n    /**\n     * Creates a new layouts and adds it to the dashboard based on the options.\n     * @internal\n     *\n     * @param guiOptions\n     * The GUI options for the layout.\n     *\n     */\n    setLayouts(guiOptions) {\n        const board = this.board, layoutsOptions = guiOptions.layouts;\n        for (let i = 0, iEnd = layoutsOptions.length; i < iEnd; ++i) {\n            board.layouts.push(new Layout_Layout(board, EditMode_merge({}, guiOptions.layoutOptions, layoutsOptions[i])));\n        }\n    }\n    /**\n     * Set events for the layout.\n     * @internal\n     */\n    setLayoutEvents(layout) {\n        const editMode = this;\n        for (let j = 0, jEnd = layout.rows.length; j < jEnd; ++j) {\n            const row = layout.rows[j];\n            editMode.setRowEvents(row);\n            for (let k = 0, kEnd = row.cells.length; k < kEnd; ++k) {\n                editMode.setCellEvents(row.cells[k]);\n            }\n        }\n    }\n    /**\n     * Set events for the row.\n     * @internal\n     */\n    setRowEvents(row) {\n        const editMode = this;\n        // Init dragDrop row events.\n        if (editMode.dragDrop) {\n            const dragDrop = editMode.dragDrop;\n            EditMode_addEvent(row.container, 'mouseenter', function () {\n                if (editMode.isContextDetectionActive) {\n                    editMode.mouseRowContext = row;\n                }\n            });\n            EditMode_addEvent(row.container, 'mousemove', function (e) {\n                if (dragDrop.isActive && e.target === row.container) {\n                    dragDrop.mouseRowContext = row;\n                }\n            });\n            EditMode_addEvent(row.container, 'mouseleave', function () {\n                if (dragDrop.isActive && dragDrop.mouseRowContext === row) {\n                    dragDrop.mouseRowContext = void 0;\n                }\n                if (editMode.isContextDetectionActive) {\n                    editMode.mouseRowContext = void 0;\n                }\n            });\n        }\n    }\n    /**\n     * Set events for the cell.\n     * @internal\n     */\n    setCellEvents(cell) {\n        const editMode = this;\n        if (Layout_CellHTML.isCellHTML(cell)) {\n            EditMode_addEvent(cell.container, 'mouseenter', function () {\n                if (editMode.isContextDetectionActive) {\n                    editMode.mouseCellContext = cell;\n                }\n            });\n        }\n        else {\n            if (cell.nestedLayout) {\n                editMode.setLayoutEvents(cell.nestedLayout);\n            }\n            else if (editMode.cellToolbar && cell.container) {\n                EditMode_addEvent(cell.container, 'mouseenter', function () {\n                    if (editMode.isContextDetectionActive) {\n                        editMode.mouseCellContext = cell;\n                    }\n                });\n                // Init dragDrop cell events only when using layouts.\n                if ((editMode.dragDrop || editMode.resizer)) {\n                    const dragDrop = editMode.dragDrop;\n                    EditMode_addEvent(cell.container, 'mousemove', function (e) {\n                        if (dragDrop &&\n                            dragDrop.isActive &&\n                            e.target === cell.container) {\n                            dragDrop.mouseCellContext = cell;\n                            dragDrop.mouseRowContext = void 0;\n                        }\n                    });\n                    EditMode_addEvent(cell.container, 'mouseleave', function () {\n                        if (dragDrop &&\n                            dragDrop.isActive &&\n                            dragDrop.mouseCellContext === cell) {\n                            dragDrop.mouseCellContext = void 0;\n                        }\n                        if (editMode.isContextDetectionActive) {\n                            editMode.mouseCellContext = void 0;\n                        }\n                    });\n                }\n            }\n        }\n    }\n    /**\n     * Activate the edit mode.\n     * @internal\n     */\n    activate() {\n        const editMode = this;\n        // Init edit mode.\n        if (!editMode.isInitialized) {\n            editMode.init();\n            editMode.initEvents();\n        }\n        // Set edit mode active class to dashboard.\n        editMode.board.container.classList.add(EditMode_EditGlobals.classNames.editModeEnabled);\n        if (this.addComponentBtn) {\n            this.addComponentBtn.style.display = 'block';\n        }\n        editMode.active = true;\n        editMode.isContextDetectionActive = true;\n    }\n    /**\n     * Deactivate the edit mode.\n     * @internal\n     */\n    deactivate() {\n        const editMode = this, dashboardCnt = editMode.board.container;\n        dashboardCnt.classList.remove(EditMode_EditGlobals.classNames.editModeEnabled);\n        // Hide toolbars.\n        editMode.hideToolbars();\n        // Remove highlight from the context row if exists.\n        if (this.editCellContext && Layout_Cell.isCell(this.editCellContext)) {\n            this.editCellContext.row?.setHighlight();\n        }\n        // TODO all buttons should be deactivated.\n        if (this.addComponentBtn) {\n            this.addComponentBtn.style.display = 'none';\n        }\n        if (editMode.resizer) {\n            editMode.resizer.disableResizer();\n        }\n        // Disable responsive width and restore elements to their original\n        // positions and sizes.\n        if (this.board.layoutsWrapper) {\n            this.board.layoutsWrapper.style.width = '100%';\n        }\n        this.board.reflow();\n        editMode.active = false;\n        editMode.stopContextDetection();\n        this.editCellContext = void 0;\n        this.potentialCellContext = void 0;\n    }\n    /**\n     * Function to check whether the edit mode is activated.\n     * @internal\n     *\n     * @returns\n     * Whether the edit mode is activated.\n     */\n    isActive() {\n        return this.active;\n    }\n    /**\n     * Method for hiding edit toolbars.\n     * @internal\n     *\n     * @param toolbarTypes\n     * The array of toolbar names to hide ('cell', 'row', 'sidebar').\n     */\n    hideToolbars(toolbarTypes) {\n        const editMode = this, toolbarsToHide = toolbarTypes || ['cell', 'row', 'sidebar'];\n        for (let i = 0, iEnd = toolbarsToHide.length; i < iEnd; ++i) {\n            switch (toolbarsToHide[i]) {\n                case 'cell': {\n                    if (editMode.cellToolbar &&\n                        editMode.cellToolbar.isVisible) {\n                        editMode.cellToolbar.hide();\n                    }\n                    break;\n                }\n                case 'row': {\n                    if (editMode.rowToolbar && editMode.rowToolbar.isVisible) {\n                        editMode.rowToolbar.hide();\n                    }\n                    break;\n                }\n                case 'sidebar': {\n                    if (editMode.sidebar && editMode.sidebar.isVisible) {\n                        editMode.sidebar.hide();\n                    }\n                    break;\n                }\n                default: {\n                    break;\n                }\n            }\n        }\n    }\n    /**\n     * Method for hiding edit toolbars.\n     * @internal\n     *\n     * @param toolbarTypes\n     * The array of toolbar names to hide ('cell', 'row', 'sidebar').\n     *\n     * @param currentCell\n     * The cell reference for toolbar.\n     *\n     */\n    showToolbars(toolbarTypes, currentCell) {\n        const editMode = this, toolbarsToShow = toolbarTypes || ['cell', 'row', 'sidebar'];\n        for (let i = 0, iEnd = toolbarsToShow.length; i < iEnd; ++i) {\n            switch (toolbarsToShow[i]) {\n                case 'cell': {\n                    if (currentCell && editMode.cellToolbar) {\n                        editMode.cellToolbar.showToolbar(currentCell);\n                    }\n                    break;\n                }\n                case 'row': {\n                    if (currentCell && currentCell.row && editMode.rowToolbar) {\n                        editMode.rowToolbar.showToolbar(currentCell.row);\n                    }\n                    break;\n                }\n                case 'sidebar': {\n                    if (editMode.sidebar && !editMode.sidebar.isVisible) {\n                        editMode.sidebar.show();\n                    }\n                    break;\n                }\n                default: {\n                    break;\n                }\n            }\n        }\n    }\n    /**\n     * Creates the buttons such as `addComponent` button, context menu button\n     * and its container.\n     * @internal\n     */\n    createTools() {\n        const editMode = this;\n        const { board, options, tools } = editMode;\n        // Create tools container\n        tools.container = document.createElement('div');\n        tools.container.classList.add(EditMode_EditGlobals.classNames.editTools);\n        if (board.layoutsWrapper) {\n            // For the generated layout\n            board.layoutsWrapper.parentNode.insertBefore(tools.container, board.layoutsWrapper);\n        }\n        else {\n            // For the custom layout\n            board.container.insertBefore(tools.container, board.container.firstChild);\n        }\n        // Create context a menu button or edit mode toggle\n        if (options.contextMenu && options.contextMenu.enabled) {\n            if (options.contextMenu.items?.length) {\n                tools.contextButtonElement = EditMode_EditRenderer.renderContextButton(tools.container, editMode);\n                // Init contextMenu if doesn't exist.\n                if (!editMode.tools.contextMenu) {\n                    editMode.tools.contextMenu = new EditMode_EditContextMenu(editMode.board.container, editMode.options.contextMenu || {}, editMode);\n                }\n            }\n            else {\n                // Render the edit mode toggle when no items are provided\n                tools.standaloneEditToggle =\n                    EditMode_EditRenderer.renderToggle(tools.container, {\n                        id: EditMode_EditContextMenu.items.editMode.id,\n                        name: EditMode_EditContextMenu.items.editMode.id,\n                        className: EditMode_EditGlobals.classNames.editStandaloneToggle,\n                        title: editMode.lang.editMode,\n                        value: editMode.isActive(),\n                        lang: editMode.lang,\n                        langKey: 'editMode',\n                        onchange() {\n                            editMode.toggleEditMode();\n                        }\n                    });\n            }\n        }\n        // Create add component button\n        if (options.tools?.addComponentBtn?.enabled &&\n            options.toolbars?.cell?.enabled &&\n            !this.customHTMLMode) {\n            const addIconURL = options.tools.addComponentBtn.icon;\n            this.addComponentBtn = EditMode_EditRenderer.renderButton(tools.container, {\n                className: EditMode_EditGlobals.classNames.editToolsBtn,\n                icon: addIconURL,\n                text: this.lang.addComponent,\n                callback: () => {\n                    // Sidebar trigger\n                    if (editMode.sidebar) {\n                        editMode.sidebar.show();\n                        editMode.setEditOverlay();\n                    }\n                },\n                style: {\n                    display: 'none'\n                }\n            });\n        }\n    }\n    /**\n     * Event fired when detecting context on drag&drop.\n     */\n    onDetectContext() {\n        const editMode = this;\n        if (!editMode.isActive() ||\n            !editMode.isContextDetectionActive ||\n            (!editMode.mouseCellContext && !editMode.mouseRowContext) ||\n            (editMode.dragDrop || {}).isActive) {\n            return;\n        }\n        let cellContext;\n        let rowContext;\n        if (editMode.mouseCellContext) {\n            cellContext = editMode.mouseCellContext;\n        }\n        else if (editMode.mouseRowContext) {\n            rowContext = editMode.mouseRowContext;\n            cellContext = rowContext.layout.parentCell;\n        }\n        this.potentialCellContext = cellContext;\n        if (cellContext) {\n            const cellContextOffsets = Layout_GUIElement\n                .getOffsets(cellContext, editMode.board.container);\n            const { width, height } = Layout_GUIElement\n                .getDimFromOffsets(cellContextOffsets);\n            editMode.showContextPointer(cellContextOffsets.left, cellContextOffsets.top, width, height);\n        }\n    }\n    /**\n     * Stops the context detection.\n     */\n    stopContextDetection() {\n        this.isContextDetectionActive = false;\n        if (this.dragDrop) {\n            this.dragDrop.mouseCellContext = void 0;\n        }\n        this.mouseCellContext = void 0;\n        this.hideContextPointer();\n    }\n    /**\n     * Confirms the selected context.\n     */\n    onContextConfirm() {\n        if (this.isContextDetectionActive &&\n            this.potentialCellContext &&\n            this.editCellContext !== this.potentialCellContext) {\n            this.setEditCellContext(this.potentialCellContext, this.editCellContext);\n        }\n    }\n    /**\n     * Sets the edit cell context.\n     * @internal\n     */\n    setEditCellContext(editCellContext, oldEditCellContext) {\n        const editMode = this;\n        const oldContext = oldEditCellContext;\n        if (Layout_CellHTML.isCellHTML(editCellContext) ||\n            Layout_CellHTML.isCellHTML(oldContext)) {\n            editMode.editCellContext = editCellContext;\n            editMode.cellToolbar?.showToolbar(editCellContext);\n        }\n        else {\n            const oldContextRow = oldContext?.row;\n            editMode.editCellContext = editCellContext;\n            editMode.showToolbars(['row', 'cell'], editCellContext);\n            if (!oldContextRow || oldContextRow !== editCellContext.row) {\n                if (oldContextRow) {\n                    // Remove highlight from the previous row.\n                    oldContextRow.setHighlight(true);\n                }\n                // Add highlight to the context row.\n                if (editCellContext.row) {\n                    editCellContext.row.setHighlight();\n                }\n            }\n            if (editMode.resizer) {\n                editMode.resizer.setSnapPositions(editCellContext);\n            }\n        }\n    }\n    /**\n     * Method for showing and positioning context pointer.\n     * @internal\n     */\n    showContextPointer(left, top, width, height) {\n        if (!this.contextPointer) {\n            return;\n        }\n        this.contextPointer.isVisible = true;\n        EditMode_css(this.contextPointer.element, {\n            display: 'block',\n            left: left + 'px',\n            top: top + 'px',\n            height: height + 'px',\n            width: width + 'px'\n        });\n    }\n    /**\n     * Method for hiding context pointer.\n     * @internal\n     */\n    hideContextPointer() {\n        if (this.contextPointer?.isVisible) {\n            this.contextPointer.isVisible = false;\n            this.contextPointer.element.style.display = 'none';\n        }\n    }\n    /**\n     * Adds/Removes the edit mode overlay.\n     * @internal\n     *\n     * @param remove\n     * Whether the edit overlay should be removed.\n     */\n    setEditOverlay(remove) {\n        const editMode = this, cnt = editMode.editOverlay, isSet = cnt?.classList.contains(EditMode_EditGlobals.classNames.editOverlayActive);\n        if (!remove && !isSet) {\n            cnt?.classList.add(EditMode_EditGlobals.classNames.editOverlayActive);\n            editMode.isEditOverlayActive = true;\n        }\n        else if (remove && isSet) {\n            cnt?.classList.remove(EditMode_EditGlobals.classNames.editOverlayActive);\n            editMode.isEditOverlayActive = false;\n        }\n    }\n}\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const EditMode_EditMode = (EditMode);\n\n;// ./code/dashboards/es-modules/Dashboards/EditMode/Fullscreen.js\n/* *\n *\n *  (c) 2009-2025 Highsoft AS\n *\n *  License: www.highcharts.com/license\n *\n *  !!!!!!! SOURCE GETS TRANSPILED BY TYPESCRIPT. EDIT TS FILE ONLY. !!!!!!!\n *\n *  Authors:\n *  - Sebastian Bochan\n *  - Wojciech Chmiel\n *  - Gøran Slettemark\n *  - Sophie Bremer\n *\n * */\n\n\nconst { addEvent: Fullscreen_addEvent } = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nclass Fullscreen {\n    /* *\n    *\n    *  Constructor\n    *\n    * */\n    constructor(DashboardClass) {\n        this.isOpen = false;\n        this.board = DashboardClass;\n        // Add class to allow scroll element\n        this.board.boardWrapper.classList.add((dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default()).classNamePrefix + '-fullscreen');\n    }\n    /* *\n    *\n    *  Functions\n    *\n    * */\n    /**\n     * Toggles displaying the board in fullscreen mode.\n     */\n    toggle() {\n        const fullscreen = this, isOpen = this.isOpen;\n        fullscreen[isOpen ? 'close' : 'open']();\n    }\n    /**\n     * Display board in fullscreen.\n     */\n    open() {\n        if (this.isOpen) {\n            return;\n        }\n        const fullscreen = this, board = fullscreen.board;\n        // Handle exitFullscreen() method when user clicks 'Escape' button.\n        const unbindChange = Fullscreen_addEvent(board.boardWrapper.ownerDocument, // Dashboard's document\n        'fullscreenchange', function () {\n            if (fullscreen.isOpen) {\n                fullscreen.isOpen = false;\n                fullscreen.close();\n            }\n            else {\n                fullscreen.isOpen = true;\n                fullscreen.setButtonText();\n            }\n        });\n        fullscreen.unbindFullscreenEvent = () => {\n            unbindChange();\n        };\n        const promise = board.boardWrapper.requestFullscreen();\n        promise['catch'](() => {\n            throw new Error('Full screen is not supported.');\n        });\n    }\n    /**\n     * Stops displaying the dashboard in fullscreen mode.\n     */\n    close() {\n        const fullscreen = this, board = fullscreen.board;\n        // Don't fire exitFullscreen() when user exited using 'Escape' button.\n        if (fullscreen.isOpen &&\n            board.boardWrapper.ownerDocument instanceof Document) {\n            void board.boardWrapper.ownerDocument.exitFullscreen();\n        }\n        // Unbind event as it's necessary only before exiting from fullscreen.\n        if (fullscreen.unbindFullscreenEvent) {\n            fullscreen.unbindFullscreenEvent =\n                fullscreen.unbindFullscreenEvent();\n        }\n        fullscreen.isOpen = false;\n        this.setButtonText();\n    }\n    /**\n     * Set the correct text depending of the fullscreen is on or of.\n     */\n    setButtonText() {\n        const editMode = this.board.editMode, contextMenu = editMode && editMode.tools.contextMenu, button = contextMenu && contextMenu.items.viewFullscreen;\n        if (button && button.innerElement) {\n            const lang = editMode.lang;\n            button.innerElement.innerHTML =\n                (this.isOpen ? lang.exitFullscreen : lang.viewFullscreen) || '';\n        }\n    }\n}\n/* harmony default export */ const EditMode_Fullscreen = (Fullscreen);\n\n;// ./code/dashboards/es-modules/masters/modules/layout.js\n\n\n/* *\n *\n *  Imports\n *\n * */\n\n// Fill registries\n\n\n\n\n/* *\n *\n *  Namespace\n *\n * */\nconst G = (dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default());\nG.EditMode = EditMode_EditMode;\nG.Fullscreen = EditMode_Fullscreen;\n/* *\n *\n *  Default Export\n *\n * */\n/* harmony default export */ const layout_src = (G);\n\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"names":["root","factory","exports","module","define","amd","amd1","window","__WEBPACK_EXTERNAL_MODULE__668__","__WEBPACK_EXTERNAL_MODULE__160__","__WEBPACK_EXTERNAL_MODULE__376__","Bindings","__webpack_modules__","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","n","getter","__esModule","d","a","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","__webpack_exports__","layout_src","dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_","dashboards_commonjs_dashboards_commonjs2_dashboards_root_Dashboards_default","PREFIX","classNamePrefix","EditMode_EditGlobals","classNames","resizeSnap","resizeSnapX","resizeSnapY","separator","contextMenuBtn","contextMenuBtnText","contextMenu","contextMenuItem","editModeEnabled","editToolbar","editToolbarCellOutline","editToolbarRowOutline","editToolbarItem","editToolbarRow","editToolbarCell","editSidebar","editSidebarShow","editSidebarHide","editSidebarHeader","editSidebarTitle","editSidebarMenuItem","rowContextHighlight","cellEditHighlight","dashboardCellEditHighlightActive","dragMock","dropPointer","contextDetectionPointer","resizePointer","currentEditedElement","maskElement","menuItem","menu","menuVerticalSeparator","menuHorizontalSeparator","menuDestroy","editSidebarWrapper","customSelect","customSelectButton","toggleContainer","toggleWrapper","toggleSlider","toggleWrapperColored","toggleLabels","labeledToggleWrapper","button","sidebarNavButton","labelText","editSidebarTabBtn","editToolsBtn","editTools","editGridItems","editStandaloneToggle","confirmationPopup","popupButtonContainer","popupContentContainer","popupCancelBtn","popupConfirmBtn","popupCloseButton","editOverlay","editOverlayActive","resizerMenuBtnActive","sidebarCloseButton","editSidebarTabBtnWrapper","editSidebarRight","editSidebarRightShow","viewFullscreen","accordionMenu","accordionContainer","accordionHeader","accordionHeaderBtn","accordionHeaderWrapper","accordionHeaderIcon","accordionContent","accordionNestedWrapper","accordionMenuButtonsContainer","accordionMenuButton","accordionStandaloneWrapper","hiddenElement","collapsableContentHeader","standaloneElement","collapsedElement","dropdown","dropdownContent","dropdownButton","dropdownButtonContent","dropdownIcon","icon","lang","accessibility","editMode","addComponent","cancelButton","caption","chartClassName","chartConfig","chartID","chartOptions","chartType","connectorName","confirmButton","confirmDestroyCell","confirmDestroyRow","confirmDiscardChanges","dataLabels","errorMessage","exitFullscreen","htmlInput","id","off","on","pointFormat","settings","style","title","sidebar","HTML","row","Highcharts","Grid","KPI","addEvent","createElement","uniqueKey","objectEach","error","Layout_GUIElement","getOffsets","guiElement","referenceElement","offset","left","top","right","bottom","container","guiElementClientRect","getBoundingClientRect","referenceClientRect","getDimFromOffsets","offsets","width","height","getElementId","elementType","slice","getPercentageWidth","result","fractionRegEx","test","match","indexOf","value","parseFloat","getElementContainer","options","elem","render","attribs","elementId","div","document","getElementById","removeBindedEventFn","element","HTMLElement","parentContainer","e","stopImmediatePropagation","destroy","parentNode","removeChild","val","getType","type","changeVisibility","setVisible","displayStyle","visibilityChanged","isVisible","display","hide","show","merge","fireEvent","Cell","cellElement","guiElementType","cell","parentContainerId","layoutOptions","layout","rowOptions","cellClassName","board","guiEnabled","className","setNestedLayout","Layout","optionsGui","gui","nestedLayout","mountedComponent","unmountCell","destroyRow","cells","length","getOptions","getVisibleCells","setTimeout","getParentCell","level","parentCell","getOverlappingLevels","align","levelMaxGap","levels","cellOffset","parentCellOffset","Math","abs","setSize","flex","cellWidth","convertWidthToValue","hideContextPointer","cellToolbar","showToolbar","setHighlight","remove","cnt","isSet","classList","contains","isHighlighted","add","setActiveState","mountedComponents","forEach","cellActive","component","isActive","setLoadingState","enabled","toggle","cellLoading","isCell","Layout_Cell","CellHTML","isCellHTML","cellHTML","Layout_CellHTML","EditRenderer_merge","EditRenderer_createElement","defined","renderContextButton","contextButton","contextMenuOptions","onclick","event","stopPropagation","onContextBtnClick","src","text","textContent","setAttribute","renderCollapseHeader","parentElement","headerBtn","name","showToggle","onchange","isEnabled","isNested","isStandalone","accordion","header","renderToggle","enabledOnOffLabels","headerIcon","addEventListener","content","outerElement","renderSelect","renderText","isLabel","iconsURLPrefix","btn","btnContent","iconURL","find","selectOptions","item","placeholder","dropdownPointer","i","iEnd","renderSelectElement","option","callback","selectOption","selectOptionBtn","langKey","role","ariaChecked","ariaLabel","input","renderCheckbox","callbackFn","checked","slider","preventDefault","textElem","labelFor","htmlFor","renderIcon","iconElem","mousedown","click","onmousedown","apply","arguments","renderInput","toString","replace","target","renderTextarea","textarea","renderButton","EditMode_EditRenderer","getRendererFunction","select","collapse","checkbox","MenuItem_createElement","MenuItem_merge","MenuItem","defaultOptions","setContainer","innerElement","setInnerElement","itemsClassName","getValue","events","bind","update","activate","deactivate","Menu_createElement","Menu_merge","Menu","parent","activeItems","items","initItems","itemsSchemas","itemSchema","itemConfig","optionsItems","push","setActiveItems","j","jEnd","deactivateActiveItems","updateActiveItems","fullScreen","fullscreen","Menu_Menu","EditToolbar_defined","EditToolbar_createElement","css","Toolbar_EditToolbar","iconURLPrefix","outline","outlineClassName","setPosition","refreshOutline","x","y","guiElemCnt","toolbar","offsetWidth","offsetHeight","hideOutline","isFirefox","CellEditToolbar_merge","CellEditToolbar_fireEvent","CellEditToolbar_objectEach","CellEditToolbar","getItemsConfig","dragDrop","cellEditToolbar","onDragStart","setEditOverlay","onCellOptions","popup","onCellDestroy","context","closePopup","toolbars","customHTMLMode","filterOptionsAvailableInCustomHTMLMode","cellCnt","cellOffsets","toolbarItems","highlightCell","cellId","resetEditedCell","hideToolbars","resizer","disableResizer","editedCell","filter","RowEditToolbar_fireEvent","RowEditToolbar_merge","RowEditToolbar_objectEach","RowEditToolbar","getMenuItemsConfig","rowEditToolbar","onRowDestroy","offsetX","rowCnt","rowToolbar","rowOffsets","rowWidth","clientWidth","clientHeight","onRowOptions","rowId","resetEditedRow","editedRow","dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_","dashboards_AST_commonjs_dashboards_AST_commonjs2_dashboards_AST_root_Dashboards_AST_default","BaseForm_addEvent","BaseForm_createElement","Shared_BaseForm","parentDiv","iconsURL","createPopupContainer","closeButton","addCloseButton","backgroundImage","eventName","closeButtonEvents","code","showPopup","toolbarClass","popupDiv","innerHTML","emptyHTML","removeAttribute","appendChild","ConfirmationPopup_createElement","EditMode_ConfirmationPopup","close","cancelCallback","contentOptions","renderContent","contentContainer","popupContainer","marginTop","offsetTop","buttonContainer","AccordionMenu_createElement","AccordionMenu_merge","AccordionMenu_error","AccordionMenu_fireEvent","EditMode_AccordionMenu","closeSidebar","changedOptions","chartOptionsJSON","oldOptionsBuffer","waitingForConfirmation","sidebarMainContainer","editableOptions","getEditableOptions","end","renderAccordion","confirmChanges","cancelChanges","updateOptions","propertyPath","currentChartOptionsLevel","currentOldChartOptionsBufferLevel","currentGridOptionsLevel","currentOldGridOptionsBufferLevel","pathLength","currentLevel","parsedValue","JSON","parse","realGridOptions","grid","gridOptions","realChartOptions","chart","lastKey","renderNested","renderFunction","getEditableOptionValue","nestedOptions","accordionOptions","collapsedHeader","keys","showCancelConfirmationPopup","oldOptions","discardChanges","dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_","dashboards_ComponentRegistry_commonjs_dashboards_ComponentRegistry_commonjs2_dashboards_ComponentRegistry_root_Dashboards_ComponentRegistry_default","Bindings_addEvent","Bindings_fireEvent","getGUIElement","idOrElement","querySelectorAll","console","warn","querySelector","optionsStates","states","optionsEvents","renderTo","el","getCell","componentContainer","ComponentClass","types","promise","load","connector","setCell","active","hover","cellHover","getRow","getLayout","Actions_Bindings","pick","Row_defined","Row_merge","Row_objectEach","Row_fireEvent","Row","setContainerHeight","rowContainer","rowElement","rowClassName","setCells","cellsElements","getElementsByClassName","addCell","index","mountCell","setCellEvents","rowCells","unmountRow","rows","getCellIndex","nextCell","prevCell","insertBefore","nextSibling","splice","cellIndex","getVisibleRows","highlightClass","getRowLevels","rowLevels","rowLevelsArray","k","kEnd","getRowLevelInfo","posY","rowLevelInfo","rowLevel","Layout_pick","Layout_defined","Layout_Layout","layoutsWrapper","copyId","layoutClassName","setRows","rowsElements","addRow","mountRow","setRowEvents","layouts","getRowIndex","nextRow","prevRow","rowIndex","SidebarPopup_addEvent","SidebarPopup_createElement","SidebarPopup_fireEvent","SidebarPopup_merge","SidebarPopup","components","componentsList","getComponentsList","detectRightSidebar","layoutWrapper","removeClassNames","addClassNames","isRightSidebar","editCellContext","stopContextDetection","generateContent","renderHeader","sidebarWrapper","renderAddComponentsList","gridElement","gridWrapper","onMouseMove","rect","clientX","clientY","removeEventListener","onMouseUp","dropContext","newCell","onDrop","unbindLayoutChanged","settingsEnabled","isDirtyBox","unbind","setEditCellContext","onDropNewComponent","componentOptions","onCellDragEnd","componentPromise","isEditOverlayActive","showToolbars","setSnapPositions","isContextDetectionActive","headerWrapper","componentTypes","componentList","componentName","getOptionsOnDrop","includes","isCellType","html","EditContextMenu_addEvent","EditContextMenu_merge","EditContextMenu","initEvents","tools","contextButtonElement","tagName","visible","toggleEditMode","setValue","updatePosition","ctxButton","offsetLeft","inputElem","ContextDetection_defined","ContextDetection","isGUIElementOnParentEdge","mouseContext","side","visibleElements","lastElementIndex","getContextLevel","sideOffset","overlappedLevels","divOffset","lastOverlappedLevel","floor","getContext","mouseCellContext","mouseCellContextOffsets","leftSideX","topSideY","DragDrop_addEvent","DragDrop_merge","DragDrop_css","DragDrop_fireEvent","DragDrop_createElement","DragDrop","mockElement","showDropPointer","hideDropPointer","setMockElementPosition","mouseEvent","dashBoundingRect","onDrag","onDragEnd","dragEndCallback","draggedCell","cursor","onCellDrag","onRowDrag","onRowDragEnd","contextDetails","dropPointerSize","rowDropOffset","updateDropPointer","Actions_ContextDetection","dropContextRowOffsets","draggedRow","cellDropOffset","onCellDragCellCtx","mouseRowContext","onCellDragRowCtx","dropContextOffsets","pointerHeight","dashOffsets","levelHeight","pointerWidth","contextCell","newRow","dropContextCell","dropContextCellIndex","Resizer_merge","Resizer_addEvent","Resizer_createElement","Resizer_fireEvent","removeEvent","Resizer","fromJSON","json","resize","currentCell","isX","isY","startX","tempSiblingsWidth","addSnaps","snapWidth","snap","snapHeight","dashboardContainer","snapRight","snapBottom","addResizeEvents","currentDimension","setTempWidthSiblings","cellContainer","rowLevelCells","revertSiblingsAutoWidth","cellResize","mouseDownSnapX","mouseDownSnapY","mouseMoveSnap","mouseUpSnap","runReflow","ResizeObserver","resizeObserver","observe","parentRowWidth","newWidth","min","snaps","unobserve","toJSON","$class","styles","minWidth","minHeight","EditMode_addEvent","EditMode_createElement","EditMode_css","EditMode_merge","EditMode_EditMode","addComponentBtn","boardWrapper","initLayout","isInitialized","contextPointer","createTools","Dashboards","Fullscreen","boardContainer","init","setLayoutEvents","elementForEvents","onDetectContext","onContextConfirm","setLayouts","guiOptions","layoutsOptions","dashboardCnt","reflow","potentialCellContext","toolbarTypes","toolbarsToHide","toolbarsToShow","firstChild","standaloneEditToggle","EditMode_EditContextMenu","addIconURL","cellContext","rowContext","cellContextOffsets","showContextPointer","oldEditCellContext","oldContextRow","Fullscreen_addEvent","EditMode_Fullscreen","DashboardClass","isOpen","open","unbindChange","ownerDocument","setButtonText","unbindFullscreenEvent","requestFullscreen","Error","Document","G","EditMode"],"mappings":"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"}